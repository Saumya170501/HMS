function eJ(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(n,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))n(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const s of a.addedNodes)s.tagName==="LINK"&&s.rel==="modulepreload"&&n(s)}).observe(document,{childList:!0,subtree:!0});function r(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(i){if(i.ep)return;i.ep=!0;const a=r(i);fetch(i.href,a)}})();var Vg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Qt(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _w={exports:{}},rh={},Ew={exports:{}},nt={};var Wj;function tJ(){if(Wj)return nt;Wj=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),r=Symbol.for("react.fragment"),n=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),s=Symbol.for("react.context"),o=Symbol.for("react.forward_ref"),c=Symbol.for("react.suspense"),d=Symbol.for("react.memo"),f=Symbol.for("react.lazy"),p=Symbol.iterator;function g(B){return B===null||typeof B!="object"?null:(B=p&&B[p]||B["@@iterator"],typeof B=="function"?B:null)}var b={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},w=Object.assign,_={};function x(B,Z,_e){this.props=B,this.context=Z,this.refs=_,this.updater=_e||b}x.prototype.isReactComponent={},x.prototype.setState=function(B,Z){if(typeof B!="object"&&typeof B!="function"&&B!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,B,Z,"setState")},x.prototype.forceUpdate=function(B){this.updater.enqueueForceUpdate(this,B,"forceUpdate")};function T(){}T.prototype=x.prototype;function I(B,Z,_e){this.props=B,this.context=Z,this.refs=_,this.updater=_e||b}var P=I.prototype=new T;P.constructor=I,w(P,x.prototype),P.isPureReactComponent=!0;var j=Array.isArray,O=Object.prototype.hasOwnProperty,V={current:null},C={key:!0,ref:!0,__self:!0,__source:!0};function N(B,Z,_e){var oe,xe={},Ee=null,Se=null;if(Z!=null)for(oe in Z.ref!==void 0&&(Se=Z.ref),Z.key!==void 0&&(Ee=""+Z.key),Z)O.call(Z,oe)&&!C.hasOwnProperty(oe)&&(xe[oe]=Z[oe]);var De=arguments.length-2;if(De===1)xe.children=_e;else if(1<De){for(var re=Array(De),Ae=0;Ae<De;Ae++)re[Ae]=arguments[Ae+2];xe.children=re}if(B&&B.defaultProps)for(oe in De=B.defaultProps,De)xe[oe]===void 0&&(xe[oe]=De[oe]);return{$$typeof:t,type:B,key:Ee,ref:Se,props:xe,_owner:V.current}}function M(B,Z){return{$$typeof:t,type:B.type,key:Z,ref:B.ref,props:B.props,_owner:B._owner}}function F(B){return typeof B=="object"&&B!==null&&B.$$typeof===t}function D(B){var Z={"=":"=0",":":"=2"};return"$"+B.replace(/[=:]/g,function(_e){return Z[_e]})}var U=/\/+/g;function $(B,Z){return typeof B=="object"&&B!==null&&B.key!=null?D(""+B.key):Z.toString(36)}function G(B,Z,_e,oe,xe){var Ee=typeof B;(Ee==="undefined"||Ee==="boolean")&&(B=null);var Se=!1;if(B===null)Se=!0;else switch(Ee){case"string":case"number":Se=!0;break;case"object":switch(B.$$typeof){case t:case e:Se=!0}}if(Se)return Se=B,xe=xe(Se),B=oe===""?"."+$(Se,0):oe,j(xe)?(_e="",B!=null&&(_e=B.replace(U,"$&/")+"/"),G(xe,Z,_e,"",function(Ae){return Ae})):xe!=null&&(F(xe)&&(xe=M(xe,_e+(!xe.key||Se&&Se.key===xe.key?"":(""+xe.key).replace(U,"$&/")+"/")+B)),Z.push(xe)),1;if(Se=0,oe=oe===""?".":oe+":",j(B))for(var De=0;De<B.length;De++){Ee=B[De];var re=oe+$(Ee,De);Se+=G(Ee,Z,_e,re,xe)}else if(re=g(B),typeof re=="function")for(B=re.call(B),De=0;!(Ee=B.next()).done;)Ee=Ee.value,re=oe+$(Ee,De++),Se+=G(Ee,Z,_e,re,xe);else if(Ee==="object")throw Z=String(B),Error("Objects are not valid as a React child (found: "+(Z==="[object Object]"?"object with keys {"+Object.keys(B).join(", ")+"}":Z)+"). If you meant to render a collection of children, use an array instead.");return Se}function ue(B,Z,_e){if(B==null)return B;var oe=[],xe=0;return G(B,oe,"","",function(Ee){return Z.call(_e,Ee,xe++)}),oe}function ce(B){if(B._status===-1){var Z=B._result;Z=Z(),Z.then(function(_e){(B._status===0||B._status===-1)&&(B._status=1,B._result=_e)},function(_e){(B._status===0||B._status===-1)&&(B._status=2,B._result=_e)}),B._status===-1&&(B._status=0,B._result=Z)}if(B._status===1)return B._result.default;throw B._result}var se={current:null},Q={transition:null},X={ReactCurrentDispatcher:se,ReactCurrentBatchConfig:Q,ReactCurrentOwner:V};function ie(){throw Error("act(...) is not supported in production builds of React.")}return nt.Children={map:ue,forEach:function(B,Z,_e){ue(B,function(){Z.apply(this,arguments)},_e)},count:function(B){var Z=0;return ue(B,function(){Z++}),Z},toArray:function(B){return ue(B,function(Z){return Z})||[]},only:function(B){if(!F(B))throw Error("React.Children.only expected to receive a single React element child.");return B}},nt.Component=x,nt.Fragment=r,nt.Profiler=i,nt.PureComponent=I,nt.StrictMode=n,nt.Suspense=c,nt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=X,nt.act=ie,nt.cloneElement=function(B,Z,_e){if(B==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+B+".");var oe=w({},B.props),xe=B.key,Ee=B.ref,Se=B._owner;if(Z!=null){if(Z.ref!==void 0&&(Ee=Z.ref,Se=V.current),Z.key!==void 0&&(xe=""+Z.key),B.type&&B.type.defaultProps)var De=B.type.defaultProps;for(re in Z)O.call(Z,re)&&!C.hasOwnProperty(re)&&(oe[re]=Z[re]===void 0&&De!==void 0?De[re]:Z[re])}var re=arguments.length-2;if(re===1)oe.children=_e;else if(1<re){De=Array(re);for(var Ae=0;Ae<re;Ae++)De[Ae]=arguments[Ae+2];oe.children=De}return{$$typeof:t,type:B.type,key:xe,ref:Ee,props:oe,_owner:Se}},nt.createContext=function(B){return B={$$typeof:s,_currentValue:B,_currentValue2:B,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},B.Provider={$$typeof:a,_context:B},B.Consumer=B},nt.createElement=N,nt.createFactory=function(B){var Z=N.bind(null,B);return Z.type=B,Z},nt.createRef=function(){return{current:null}},nt.forwardRef=function(B){return{$$typeof:o,render:B}},nt.isValidElement=F,nt.lazy=function(B){return{$$typeof:f,_payload:{_status:-1,_result:B},_init:ce}},nt.memo=function(B,Z){return{$$typeof:d,type:B,compare:Z===void 0?null:Z}},nt.startTransition=function(B){var Z=Q.transition;Q.transition={};try{B()}finally{Q.transition=Z}},nt.unstable_act=ie,nt.useCallback=function(B,Z){return se.current.useCallback(B,Z)},nt.useContext=function(B){return se.current.useContext(B)},nt.useDebugValue=function(){},nt.useDeferredValue=function(B){return se.current.useDeferredValue(B)},nt.useEffect=function(B,Z){return se.current.useEffect(B,Z)},nt.useId=function(){return se.current.useId()},nt.useImperativeHandle=function(B,Z,_e){return se.current.useImperativeHandle(B,Z,_e)},nt.useInsertionEffect=function(B,Z){return se.current.useInsertionEffect(B,Z)},nt.useLayoutEffect=function(B,Z){return se.current.useLayoutEffect(B,Z)},nt.useMemo=function(B,Z){return se.current.useMemo(B,Z)},nt.useReducer=function(B,Z,_e){return se.current.useReducer(B,Z,_e)},nt.useRef=function(B){return se.current.useRef(B)},nt.useState=function(B){return se.current.useState(B)},nt.useSyncExternalStore=function(B,Z,_e){return se.current.useSyncExternalStore(B,Z,_e)},nt.useTransition=function(){return se.current.useTransition()},nt.version="18.3.1",nt}var Hj;function Rd(){return Hj||(Hj=1,Ew.exports=tJ()),Ew.exports}var Gj;function rJ(){if(Gj)return rh;Gj=1;var t=Rd(),e=Symbol.for("react.element"),r=Symbol.for("react.fragment"),n=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function s(o,c,d){var f,p={},g=null,b=null;d!==void 0&&(g=""+d),c.key!==void 0&&(g=""+c.key),c.ref!==void 0&&(b=c.ref);for(f in c)n.call(c,f)&&!a.hasOwnProperty(f)&&(p[f]=c[f]);if(o&&o.defaultProps)for(f in c=o.defaultProps,c)p[f]===void 0&&(p[f]=c[f]);return{$$typeof:e,type:o,key:g,ref:b,props:p,_owner:i.current}}return rh.Fragment=r,rh.jsx=s,rh.jsxs=s,rh}var Kj;function nJ(){return Kj||(Kj=1,_w.exports=rJ()),_w.exports}var h=nJ(),E=Rd();const ai=Qt(E),iJ=eJ({__proto__:null,default:ai},[E]);var Ug={},Sw={exports:{}},Dn={},Tw={exports:{}},Aw={};var Yj;function aJ(){return Yj||(Yj=1,(function(t){function e(Q,X){var ie=Q.length;Q.push(X);e:for(;0<ie;){var B=ie-1>>>1,Z=Q[B];if(0<i(Z,X))Q[B]=X,Q[ie]=Z,ie=B;else break e}}function r(Q){return Q.length===0?null:Q[0]}function n(Q){if(Q.length===0)return null;var X=Q[0],ie=Q.pop();if(ie!==X){Q[0]=ie;e:for(var B=0,Z=Q.length,_e=Z>>>1;B<_e;){var oe=2*(B+1)-1,xe=Q[oe],Ee=oe+1,Se=Q[Ee];if(0>i(xe,ie))Ee<Z&&0>i(Se,xe)?(Q[B]=Se,Q[Ee]=ie,B=Ee):(Q[B]=xe,Q[oe]=ie,B=oe);else if(Ee<Z&&0>i(Se,ie))Q[B]=Se,Q[Ee]=ie,B=Ee;else break e}}return X}function i(Q,X){var ie=Q.sortIndex-X.sortIndex;return ie!==0?ie:Q.id-X.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var s=Date,o=s.now();t.unstable_now=function(){return s.now()-o}}var c=[],d=[],f=1,p=null,g=3,b=!1,w=!1,_=!1,x=typeof setTimeout=="function"?setTimeout:null,T=typeof clearTimeout=="function"?clearTimeout:null,I=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function P(Q){for(var X=r(d);X!==null;){if(X.callback===null)n(d);else if(X.startTime<=Q)n(d),X.sortIndex=X.expirationTime,e(c,X);else break;X=r(d)}}function j(Q){if(_=!1,P(Q),!w)if(r(c)!==null)w=!0,ce(O);else{var X=r(d);X!==null&&se(j,X.startTime-Q)}}function O(Q,X){w=!1,_&&(_=!1,T(N),N=-1),b=!0;var ie=g;try{for(P(X),p=r(c);p!==null&&(!(p.expirationTime>X)||Q&&!D());){var B=p.callback;if(typeof B=="function"){p.callback=null,g=p.priorityLevel;var Z=B(p.expirationTime<=X);X=t.unstable_now(),typeof Z=="function"?p.callback=Z:p===r(c)&&n(c),P(X)}else n(c);p=r(c)}if(p!==null)var _e=!0;else{var oe=r(d);oe!==null&&se(j,oe.startTime-X),_e=!1}return _e}finally{p=null,g=ie,b=!1}}var V=!1,C=null,N=-1,M=5,F=-1;function D(){return!(t.unstable_now()-F<M)}function U(){if(C!==null){var Q=t.unstable_now();F=Q;var X=!0;try{X=C(!0,Q)}finally{X?$():(V=!1,C=null)}}else V=!1}var $;if(typeof I=="function")$=function(){I(U)};else if(typeof MessageChannel<"u"){var G=new MessageChannel,ue=G.port2;G.port1.onmessage=U,$=function(){ue.postMessage(null)}}else $=function(){x(U,0)};function ce(Q){C=Q,V||(V=!0,$())}function se(Q,X){N=x(function(){Q(t.unstable_now())},X)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Q){Q.callback=null},t.unstable_continueExecution=function(){w||b||(w=!0,ce(O))},t.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Q?Math.floor(1e3/Q):5},t.unstable_getCurrentPriorityLevel=function(){return g},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(Q){switch(g){case 1:case 2:case 3:var X=3;break;default:X=g}var ie=g;g=X;try{return Q()}finally{g=ie}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Q,X){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var ie=g;g=Q;try{return X()}finally{g=ie}},t.unstable_scheduleCallback=function(Q,X,ie){var B=t.unstable_now();switch(typeof ie=="object"&&ie!==null?(ie=ie.delay,ie=typeof ie=="number"&&0<ie?B+ie:B):ie=B,Q){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=ie+Z,Q={id:f++,callback:X,priorityLevel:Q,startTime:ie,expirationTime:Z,sortIndex:-1},ie>B?(Q.sortIndex=ie,e(d,Q),r(c)===null&&Q===r(d)&&(_?(T(N),N=-1):_=!0,se(j,ie-B))):(Q.sortIndex=Z,e(c,Q),w||b||(w=!0,ce(O))),Q},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(Q){var X=g;return function(){var ie=g;g=X;try{return Q.apply(this,arguments)}finally{g=ie}}}})(Aw)),Aw}var Xj;function sJ(){return Xj||(Xj=1,Tw.exports=aJ()),Tw.exports}var Qj;function oJ(){if(Qj)return Dn;Qj=1;var t=Rd(),e=sJ();function r(l){for(var u="https://reactjs.org/docs/error-decoder.html?invariant="+l,m=1;m<arguments.length;m++)u+="&args[]="+encodeURIComponent(arguments[m]);return"Minified React error #"+l+"; visit "+u+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n=new Set,i={};function a(l,u){s(l,u),s(l+"Capture",u)}function s(l,u){for(i[l]=u,l=0;l<u.length;l++)n.add(u[l])}var o=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),c=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,f={},p={};function g(l){return c.call(p,l)?!0:c.call(f,l)?!1:d.test(l)?p[l]=!0:(f[l]=!0,!1)}function b(l,u,m,v){if(m!==null&&m.type===0)return!1;switch(typeof u){case"function":case"symbol":return!0;case"boolean":return v?!1:m!==null?!m.acceptsBooleans:(l=l.toLowerCase().slice(0,5),l!=="data-"&&l!=="aria-");default:return!1}}function w(l,u,m,v){if(u===null||typeof u>"u"||b(l,u,m,v))return!0;if(v)return!1;if(m!==null)switch(m.type){case 3:return!u;case 4:return u===!1;case 5:return isNaN(u);case 6:return isNaN(u)||1>u}return!1}function _(l,u,m,v,S,A,L){this.acceptsBooleans=u===2||u===3||u===4,this.attributeName=v,this.attributeNamespace=S,this.mustUseProperty=m,this.propertyName=l,this.type=u,this.sanitizeURL=A,this.removeEmptyString=L}var x={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(l){x[l]=new _(l,0,!1,l,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(l){var u=l[0];x[u]=new _(u,1,!1,l[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(l){x[l]=new _(l,2,!1,l.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(l){x[l]=new _(l,2,!1,l,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(l){x[l]=new _(l,3,!1,l.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(l){x[l]=new _(l,3,!0,l,null,!1,!1)}),["capture","download"].forEach(function(l){x[l]=new _(l,4,!1,l,null,!1,!1)}),["cols","rows","size","span"].forEach(function(l){x[l]=new _(l,6,!1,l,null,!1,!1)}),["rowSpan","start"].forEach(function(l){x[l]=new _(l,5,!1,l.toLowerCase(),null,!1,!1)});var T=/[\-:]([a-z])/g;function I(l){return l[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(l){var u=l.replace(T,I);x[u]=new _(u,1,!1,l,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(l){var u=l.replace(T,I);x[u]=new _(u,1,!1,l,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(l){var u=l.replace(T,I);x[u]=new _(u,1,!1,l,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(l){x[l]=new _(l,1,!1,l.toLowerCase(),null,!1,!1)}),x.xlinkHref=new _("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(l){x[l]=new _(l,1,!1,l.toLowerCase(),null,!0,!0)});function P(l,u,m,v){var S=x.hasOwnProperty(u)?x[u]:null;(S!==null?S.type!==0:v||!(2<u.length)||u[0]!=="o"&&u[0]!=="O"||u[1]!=="n"&&u[1]!=="N")&&(w(u,m,S,v)&&(m=null),v||S===null?g(u)&&(m===null?l.removeAttribute(u):l.setAttribute(u,""+m)):S.mustUseProperty?l[S.propertyName]=m===null?S.type===3?!1:"":m:(u=S.attributeName,v=S.attributeNamespace,m===null?l.removeAttribute(u):(S=S.type,m=S===3||S===4&&m===!0?"":""+m,v?l.setAttributeNS(v,u,m):l.setAttribute(u,m))))}var j=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,O=Symbol.for("react.element"),V=Symbol.for("react.portal"),C=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),F=Symbol.for("react.provider"),D=Symbol.for("react.context"),U=Symbol.for("react.forward_ref"),$=Symbol.for("react.suspense"),G=Symbol.for("react.suspense_list"),ue=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),se=Symbol.for("react.offscreen"),Q=Symbol.iterator;function X(l){return l===null||typeof l!="object"?null:(l=Q&&l[Q]||l["@@iterator"],typeof l=="function"?l:null)}var ie=Object.assign,B;function Z(l){if(B===void 0)try{throw Error()}catch(m){var u=m.stack.trim().match(/\n( *(at )?)/);B=u&&u[1]||""}return`
`+B+l}var _e=!1;function oe(l,u){if(!l||_e)return"";_e=!0;var m=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(u)if(u=function(){throw Error()},Object.defineProperty(u.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(u,[])}catch(ee){var v=ee}Reflect.construct(l,[],u)}else{try{u.call()}catch(ee){v=ee}l.call(u.prototype)}else{try{throw Error()}catch(ee){v=ee}l()}}catch(ee){if(ee&&v&&typeof ee.stack=="string"){for(var S=ee.stack.split(`
`),A=v.stack.split(`
`),L=S.length-1,z=A.length-1;1<=L&&0<=z&&S[L]!==A[z];)z--;for(;1<=L&&0<=z;L--,z--)if(S[L]!==A[z]){if(L!==1||z!==1)do if(L--,z--,0>z||S[L]!==A[z]){var W=`
`+S[L].replace(" at new "," at ");return l.displayName&&W.includes("<anonymous>")&&(W=W.replace("<anonymous>",l.displayName)),W}while(1<=L&&0<=z);break}}}finally{_e=!1,Error.prepareStackTrace=m}return(l=l?l.displayName||l.name:"")?Z(l):""}function xe(l){switch(l.tag){case 5:return Z(l.type);case 16:return Z("Lazy");case 13:return Z("Suspense");case 19:return Z("SuspenseList");case 0:case 2:case 15:return l=oe(l.type,!1),l;case 11:return l=oe(l.type.render,!1),l;case 1:return l=oe(l.type,!0),l;default:return""}}function Ee(l){if(l==null)return null;if(typeof l=="function")return l.displayName||l.name||null;if(typeof l=="string")return l;switch(l){case C:return"Fragment";case V:return"Portal";case M:return"Profiler";case N:return"StrictMode";case $:return"Suspense";case G:return"SuspenseList"}if(typeof l=="object")switch(l.$$typeof){case D:return(l.displayName||"Context")+".Consumer";case F:return(l._context.displayName||"Context")+".Provider";case U:var u=l.render;return l=l.displayName,l||(l=u.displayName||u.name||"",l=l!==""?"ForwardRef("+l+")":"ForwardRef"),l;case ue:return u=l.displayName||null,u!==null?u:Ee(l.type)||"Memo";case ce:u=l._payload,l=l._init;try{return Ee(l(u))}catch{}}return null}function Se(l){var u=l.type;switch(l.tag){case 24:return"Cache";case 9:return(u.displayName||"Context")+".Consumer";case 10:return(u._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return l=u.render,l=l.displayName||l.name||"",u.displayName||(l!==""?"ForwardRef("+l+")":"ForwardRef");case 7:return"Fragment";case 5:return u;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ee(u);case 8:return u===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof u=="function")return u.displayName||u.name||null;if(typeof u=="string")return u}return null}function De(l){switch(typeof l){case"boolean":case"number":case"string":case"undefined":return l;case"object":return l;default:return""}}function re(l){var u=l.type;return(l=l.nodeName)&&l.toLowerCase()==="input"&&(u==="checkbox"||u==="radio")}function Ae(l){var u=re(l)?"checked":"value",m=Object.getOwnPropertyDescriptor(l.constructor.prototype,u),v=""+l[u];if(!l.hasOwnProperty(u)&&typeof m<"u"&&typeof m.get=="function"&&typeof m.set=="function"){var S=m.get,A=m.set;return Object.defineProperty(l,u,{configurable:!0,get:function(){return S.call(this)},set:function(L){v=""+L,A.call(this,L)}}),Object.defineProperty(l,u,{enumerable:m.enumerable}),{getValue:function(){return v},setValue:function(L){v=""+L},stopTracking:function(){l._valueTracker=null,delete l[u]}}}}function He(l){l._valueTracker||(l._valueTracker=Ae(l))}function fe(l){if(!l)return!1;var u=l._valueTracker;if(!u)return!0;var m=u.getValue(),v="";return l&&(v=re(l)?l.checked?"true":"false":l.value),l=v,l!==m?(u.setValue(l),!0):!1}function ft(l){if(l=l||(typeof document<"u"?document:void 0),typeof l>"u")return null;try{return l.activeElement||l.body}catch{return l.body}}function Ye(l,u){var m=u.checked;return ie({},u,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:m??l._wrapperState.initialChecked})}function Me(l,u){var m=u.defaultValue==null?"":u.defaultValue,v=u.checked!=null?u.checked:u.defaultChecked;m=De(u.value!=null?u.value:m),l._wrapperState={initialChecked:v,initialValue:m,controlled:u.type==="checkbox"||u.type==="radio"?u.checked!=null:u.value!=null}}function ht(l,u){u=u.checked,u!=null&&P(l,"checked",u,!1)}function Be(l,u){ht(l,u);var m=De(u.value),v=u.type;if(m!=null)v==="number"?(m===0&&l.value===""||l.value!=m)&&(l.value=""+m):l.value!==""+m&&(l.value=""+m);else if(v==="submit"||v==="reset"){l.removeAttribute("value");return}u.hasOwnProperty("value")?mt(l,u.type,m):u.hasOwnProperty("defaultValue")&&mt(l,u.type,De(u.defaultValue)),u.checked==null&&u.defaultChecked!=null&&(l.defaultChecked=!!u.defaultChecked)}function rr(l,u,m){if(u.hasOwnProperty("value")||u.hasOwnProperty("defaultValue")){var v=u.type;if(!(v!=="submit"&&v!=="reset"||u.value!==void 0&&u.value!==null))return;u=""+l._wrapperState.initialValue,m||u===l.value||(l.value=u),l.defaultValue=u}m=l.name,m!==""&&(l.name=""),l.defaultChecked=!!l._wrapperState.initialChecked,m!==""&&(l.name=m)}function mt(l,u,m){(u!=="number"||ft(l.ownerDocument)!==l)&&(m==null?l.defaultValue=""+l._wrapperState.initialValue:l.defaultValue!==""+m&&(l.defaultValue=""+m))}var _t=Array.isArray;function cr(l,u,m,v){if(l=l.options,u){u={};for(var S=0;S<m.length;S++)u["$"+m[S]]=!0;for(m=0;m<l.length;m++)S=u.hasOwnProperty("$"+l[m].value),l[m].selected!==S&&(l[m].selected=S),S&&v&&(l[m].defaultSelected=!0)}else{for(m=""+De(m),u=null,S=0;S<l.length;S++){if(l[S].value===m){l[S].selected=!0,v&&(l[S].defaultSelected=!0);return}u!==null||l[S].disabled||(u=l[S])}u!==null&&(u.selected=!0)}}function We(l,u){if(u.dangerouslySetInnerHTML!=null)throw Error(r(91));return ie({},u,{value:void 0,defaultValue:void 0,children:""+l._wrapperState.initialValue})}function it(l,u){var m=u.value;if(m==null){if(m=u.children,u=u.defaultValue,m!=null){if(u!=null)throw Error(r(92));if(_t(m)){if(1<m.length)throw Error(r(93));m=m[0]}u=m}u==null&&(u=""),m=u}l._wrapperState={initialValue:De(m)}}function tn(l,u){var m=De(u.value),v=De(u.defaultValue);m!=null&&(m=""+m,m!==l.value&&(l.value=m),u.defaultValue==null&&l.defaultValue!==m&&(l.defaultValue=m)),v!=null&&(l.defaultValue=""+v)}function ur(l){var u=l.textContent;u===l._wrapperState.initialValue&&u!==""&&u!==null&&(l.value=u)}function ct(l){switch(l){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function $r(l,u){return l==null||l==="http://www.w3.org/1999/xhtml"?ct(u):l==="http://www.w3.org/2000/svg"&&u==="foreignObject"?"http://www.w3.org/1999/xhtml":l}var Wt,yn=(function(l){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(u,m,v,S){MSApp.execUnsafeLocalFunction(function(){return l(u,m,v,S)})}:l})(function(l,u){if(l.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in l)l.innerHTML=u;else{for(Wt=Wt||document.createElement("div"),Wt.innerHTML="<svg>"+u.valueOf().toString()+"</svg>",u=Wt.firstChild;l.firstChild;)l.removeChild(l.firstChild);for(;u.firstChild;)l.appendChild(u.firstChild)}});function Vr(l,u){if(u){var m=l.firstChild;if(m&&m===l.lastChild&&m.nodeType===3){m.nodeValue=u;return}}l.textContent=u}var vn={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},mi=["Webkit","ms","Moz","O"];Object.keys(vn).forEach(function(l){mi.forEach(function(u){u=u+l.charAt(0).toUpperCase()+l.substring(1),vn[u]=vn[l]})});function nr(l,u,m){return u==null||typeof u=="boolean"||u===""?"":m||typeof u!="number"||u===0||vn.hasOwnProperty(l)&&vn[l]?(""+u).trim():u+"px"}function dr(l,u){l=l.style;for(var m in u)if(u.hasOwnProperty(m)){var v=m.indexOf("--")===0,S=nr(m,u[m],v);m==="float"&&(m="cssFloat"),v?l.setProperty(m,S):l[m]=S}}var wl=ie({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Hn(l,u){if(u){if(wl[l]&&(u.children!=null||u.dangerouslySetInnerHTML!=null))throw Error(r(137,l));if(u.dangerouslySetInnerHTML!=null){if(u.children!=null)throw Error(r(60));if(typeof u.dangerouslySetInnerHTML!="object"||!("__html"in u.dangerouslySetInnerHTML))throw Error(r(61))}if(u.style!=null&&typeof u.style!="object")throw Error(r(62))}}function po(l,u){if(l.indexOf("-")===-1)return typeof u.is=="string";switch(l){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ma=null;function mo(l){return l=l.target||l.srcElement||window,l.correspondingUseElement&&(l=l.correspondingUseElement),l.nodeType===3?l.parentNode:l}var Gn=null,Kn=null,Ft=null;function _l(l){if(l=Uf(l)){if(typeof Gn!="function")throw Error(r(280));var u=l.stateNode;u&&(u=tg(u),Gn(l.stateNode,l.type,u))}}function gi(l){Kn?Ft?Ft.push(l):Ft=[l]:Kn=l}function ga(){if(Kn){var l=Kn,u=Ft;if(Ft=Kn=null,_l(l),u)for(l=0;l<u.length;l++)_l(u[l])}}function El(l,u){return l(u)}function Cm(){}var ya=!1;function Nm(l,u,m){if(ya)return l(u,m);ya=!0;try{return El(l,u,m)}finally{ya=!1,(Kn!==null||Ft!==null)&&(Cm(),ga())}}function Sl(l,u){var m=l.stateNode;if(m===null)return null;var v=tg(m);if(v===null)return null;m=v[u];e:switch(u){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(v=!v.disabled)||(l=l.type,v=!(l==="button"||l==="input"||l==="select"||l==="textarea")),l=!v;break e;default:l=!1}if(l)return null;if(m&&typeof m!="function")throw Error(r(231,u,typeof m));return m}var go=!1;if(o)try{var yo={};Object.defineProperty(yo,"passive",{get:function(){go=!0}}),window.addEventListener("test",yo,yo),window.removeEventListener("test",yo,yo)}catch{go=!1}function Rm(l,u,m,v,S,A,L,z,W){var ee=Array.prototype.slice.call(arguments,3);try{u.apply(m,ee)}catch(me){this.onError(me)}}var ps=!1,va=null,tu=!1,yi=null,Om={onError:function(l){ps=!0,va=l}};function jm(l,u,m,v,S,A,L,z,W){ps=!1,va=null,Rm.apply(Om,arguments)}function mf(l,u,m,v,S,A,L,z,W){if(jm.apply(this,arguments),ps){if(ps){var ee=va;ps=!1,va=null}else throw Error(r(198));tu||(tu=!0,yi=ee)}}function zi(l){var u=l,m=l;if(l.alternate)for(;u.return;)u=u.return;else{l=u;do u=l,(u.flags&4098)!==0&&(m=u.return),l=u.return;while(l)}return u.tag===3?m:null}function gf(l){if(l.tag===13){var u=l.memoizedState;if(u===null&&(l=l.alternate,l!==null&&(u=l.memoizedState)),u!==null)return u.dehydrated}return null}function Dm(l){if(zi(l)!==l)throw Error(r(188))}function Mm(l){var u=l.alternate;if(!u){if(u=zi(l),u===null)throw Error(r(188));return u!==l?null:l}for(var m=l,v=u;;){var S=m.return;if(S===null)break;var A=S.alternate;if(A===null){if(v=S.return,v!==null){m=v;continue}break}if(S.child===A.child){for(A=S.child;A;){if(A===m)return Dm(S),l;if(A===v)return Dm(S),u;A=A.sibling}throw Error(r(188))}if(m.return!==v.return)m=S,v=A;else{for(var L=!1,z=S.child;z;){if(z===m){L=!0,m=S,v=A;break}if(z===v){L=!0,v=S,m=A;break}z=z.sibling}if(!L){for(z=A.child;z;){if(z===m){L=!0,m=A,v=S;break}if(z===v){L=!0,v=A,m=S;break}z=z.sibling}if(!L)throw Error(r(189))}}if(m.alternate!==v)throw Error(r(190))}if(m.tag!==3)throw Error(r(188));return m.stateNode.current===m?l:u}function Lm(l){return l=Mm(l),l!==null?Tl(l):null}function Tl(l){if(l.tag===5||l.tag===6)return l;for(l=l.child;l!==null;){var u=Tl(l);if(u!==null)return u;l=l.sibling}return null}var yf=e.unstable_scheduleCallback,ru=e.unstable_cancelCallback,Al=e.unstable_shouldYield,ms=e.unstable_requestPaint,Nt=e.unstable_now,Zx=e.unstable_getCurrentPriorityLevel,nu=e.unstable_ImmediatePriority,vf=e.unstable_UserBlockingPriority,kl=e.unstable_NormalPriority,bf=e.unstable_LowPriority,iu=e.unstable_IdlePriority,Il=null,Yn=null;function Fm(l){if(Yn&&typeof Yn.onCommitFiberRoot=="function")try{Yn.onCommitFiberRoot(Il,l,void 0,(l.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:Pl,ba=Math.log,vi=Math.LN2;function Pl(l){return l>>>=0,l===0?32:31-(ba(l)/vi|0)|0}var xa=64,vo=4194304;function vt(l){switch(l&-l){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return l&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return l&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return l}}function gs(l,u){var m=l.pendingLanes;if(m===0)return 0;var v=0,S=l.suspendedLanes,A=l.pingedLanes,L=m&268435455;if(L!==0){var z=L&~S;z!==0?v=vt(z):(A&=L,A!==0&&(v=vt(A)))}else L=m&~S,L!==0?v=vt(L):A!==0&&(v=vt(A));if(v===0)return 0;if(u!==0&&u!==v&&(u&S)===0&&(S=v&-v,A=u&-u,S>=A||S===16&&(A&4194240)!==0))return u;if((v&4)!==0&&(v|=m&16),u=l.entangledLanes,u!==0)for(l=l.entanglements,u&=v;0<u;)m=31-Xn(u),S=1<<m,v|=l[m],u&=~S;return v}function Cl(l,u){switch(l){case 1:case 2:case 4:return u+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return u+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Nl(l,u){for(var m=l.suspendedLanes,v=l.pingedLanes,S=l.expirationTimes,A=l.pendingLanes;0<A;){var L=31-Xn(A),z=1<<L,W=S[L];W===-1?((z&m)===0||(z&v)!==0)&&(S[L]=Cl(z,u)):W<=u&&(l.expiredLanes|=z),A&=~z}}function xf(l){return l=l.pendingLanes&-1073741825,l!==0?l:l&1073741824?1073741824:0}function wf(){var l=xa;return xa<<=1,(xa&4194240)===0&&(xa=64),l}function _f(l){for(var u=[],m=0;31>m;m++)u.push(l);return u}function Rl(l,u,m){l.pendingLanes|=u,u!==536870912&&(l.suspendedLanes=0,l.pingedLanes=0),l=l.eventTimes,u=31-Xn(u),l[u]=m}function e1(l,u){var m=l.pendingLanes&~u;l.pendingLanes=u,l.suspendedLanes=0,l.pingedLanes=0,l.expiredLanes&=u,l.mutableReadLanes&=u,l.entangledLanes&=u,u=l.entanglements;var v=l.eventTimes;for(l=l.expirationTimes;0<m;){var S=31-Xn(m),A=1<<S;u[S]=0,v[S]=-1,l[S]=-1,m&=~A}}function Ef(l,u){var m=l.entangledLanes|=u;for(l=l.entanglements;m;){var v=31-Xn(m),S=1<<v;S&u|l[v]&u&&(l[v]|=u),m&=~S}}var ut=0;function wa(l){return l&=-l,1<l?4<l?(l&268435455)!==0?16:536870912:4:1}var Sf,au,Tf,Af,kf,_a=!1,su=[],Ea=null,Sa=null,Ur=null,Ol=new Map,ys=new Map,Qn=[],$m="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function bo(l,u){switch(l){case"focusin":case"focusout":Ea=null;break;case"dragenter":case"dragleave":Sa=null;break;case"mouseover":case"mouseout":Ur=null;break;case"pointerover":case"pointerout":Ol.delete(u.pointerId);break;case"gotpointercapture":case"lostpointercapture":ys.delete(u.pointerId)}}function Bi(l,u,m,v,S,A){return l===null||l.nativeEvent!==A?(l={blockedOn:u,domEventName:m,eventSystemFlags:v,nativeEvent:A,targetContainers:[S]},u!==null&&(u=Uf(u),u!==null&&au(u)),l):(l.eventSystemFlags|=v,u=l.targetContainers,S!==null&&u.indexOf(S)===-1&&u.push(S),l)}function Vm(l,u,m,v,S){switch(u){case"focusin":return Ea=Bi(Ea,l,u,m,v,S),!0;case"dragenter":return Sa=Bi(Sa,l,u,m,v,S),!0;case"mouseover":return Ur=Bi(Ur,l,u,m,v,S),!0;case"pointerover":var A=S.pointerId;return Ol.set(A,Bi(Ol.get(A)||null,l,u,m,v,S)),!0;case"gotpointercapture":return A=S.pointerId,ys.set(A,Bi(ys.get(A)||null,l,u,m,v,S)),!0}return!1}function ou(l){var u=Ll(l.target);if(u!==null){var m=zi(u);if(m!==null){if(u=m.tag,u===13){if(u=gf(m),u!==null){l.blockedOn=u,kf(l.priority,function(){Tf(m)});return}}else if(u===3&&m.stateNode.current.memoizedState.isDehydrated){l.blockedOn=m.tag===3?m.stateNode.containerInfo:null;return}}}l.blockedOn=null}function Tt(l){if(l.blockedOn!==null)return!1;for(var u=l.targetContainers;0<u.length;){var m=lu(l.domEventName,l.eventSystemFlags,u[0],l.nativeEvent);if(m===null){m=l.nativeEvent;var v=new m.constructor(m.type,m);ma=v,m.target.dispatchEvent(v),ma=null}else return u=Uf(m),u!==null&&au(u),l.blockedOn=m,!1;u.shift()}return!0}function Um(l,u,m){Tt(l)&&m.delete(u)}function t1(){_a=!1,Ea!==null&&Tt(Ea)&&(Ea=null),Sa!==null&&Tt(Sa)&&(Sa=null),Ur!==null&&Tt(Ur)&&(Ur=null),Ol.forEach(Um),ys.forEach(Um)}function xo(l,u){l.blockedOn===u&&(l.blockedOn=null,_a||(_a=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,t1)))}function wo(l){function u(S){return xo(S,l)}if(0<su.length){xo(su[0],l);for(var m=1;m<su.length;m++){var v=su[m];v.blockedOn===l&&(v.blockedOn=null)}}for(Ea!==null&&xo(Ea,l),Sa!==null&&xo(Sa,l),Ur!==null&&xo(Ur,l),Ol.forEach(u),ys.forEach(u),m=0;m<Qn.length;m++)v=Qn[m],v.blockedOn===l&&(v.blockedOn=null);for(;0<Qn.length&&(m=Qn[0],m.blockedOn===null);)ou(m),m.blockedOn===null&&Qn.shift()}var vs=j.ReactCurrentBatchConfig,bs=!0;function Ta(l,u,m,v){var S=ut,A=vs.transition;vs.transition=null;try{ut=1,If(l,u,m,v)}finally{ut=S,vs.transition=A}}function qm(l,u,m,v){var S=ut,A=vs.transition;vs.transition=null;try{ut=4,If(l,u,m,v)}finally{ut=S,vs.transition=A}}function If(l,u,m,v){if(bs){var S=lu(l,u,m,v);if(S===null)f1(l,u,v,Aa,m),bo(l,v);else if(Vm(S,l,u,m,v))v.stopPropagation();else if(bo(l,v),u&4&&-1<$m.indexOf(l)){for(;S!==null;){var A=Uf(S);if(A!==null&&Sf(A),A=lu(l,u,m,v),A===null&&f1(l,u,v,Aa,m),A===S)break;S=A}S!==null&&v.stopPropagation()}else f1(l,u,v,null,m)}}var Aa=null;function lu(l,u,m,v){if(Aa=null,l=mo(v),l=Ll(l),l!==null)if(u=zi(l),u===null)l=null;else if(m=u.tag,m===13){if(l=gf(u),l!==null)return l;l=null}else if(m===3){if(u.stateNode.current.memoizedState.isDehydrated)return u.tag===3?u.stateNode.containerInfo:null;l=null}else u!==l&&(l=null);return Aa=l,null}function cu(l){switch(l){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Zx()){case nu:return 1;case vf:return 4;case kl:case bf:return 16;case iu:return 536870912;default:return 16}default:return 16}}var Jn=null,uu=null,xs=null;function zm(){if(xs)return xs;var l,u=uu,m=u.length,v,S="value"in Jn?Jn.value:Jn.textContent,A=S.length;for(l=0;l<m&&u[l]===S[l];l++);var L=m-l;for(v=1;v<=L&&u[m-v]===S[A-v];v++);return xs=S.slice(l,1<v?1-v:void 0)}function jl(l){var u=l.keyCode;return"charCode"in l?(l=l.charCode,l===0&&u===13&&(l=13)):l=u,l===10&&(l=13),32<=l||l===13?l:0}function ka(){return!0}function Pf(){return!1}function rn(l){function u(m,v,S,A,L){this._reactName=m,this._targetInst=S,this.type=v,this.nativeEvent=A,this.target=L,this.currentTarget=null;for(var z in l)l.hasOwnProperty(z)&&(m=l[z],this[z]=m?m(A):A[z]);return this.isDefaultPrevented=(A.defaultPrevented!=null?A.defaultPrevented:A.returnValue===!1)?ka:Pf,this.isPropagationStopped=Pf,this}return ie(u.prototype,{preventDefault:function(){this.defaultPrevented=!0;var m=this.nativeEvent;m&&(m.preventDefault?m.preventDefault():typeof m.returnValue!="unknown"&&(m.returnValue=!1),this.isDefaultPrevented=ka)},stopPropagation:function(){var m=this.nativeEvent;m&&(m.stopPropagation?m.stopPropagation():typeof m.cancelBubble!="unknown"&&(m.cancelBubble=!0),this.isPropagationStopped=ka)},persist:function(){},isPersistent:ka}),u}var Ia={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(l){return l.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},Dl=rn(Ia),_o=ie({},Ia,{view:0,detail:0}),du=rn(_o),fu,hu,Zn,Ml=ie({},_o,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ze,button:0,buttons:0,relatedTarget:function(l){return l.relatedTarget===void 0?l.fromElement===l.srcElement?l.toElement:l.fromElement:l.relatedTarget},movementX:function(l){return"movementX"in l?l.movementX:(l!==Zn&&(Zn&&l.type==="mousemove"?(fu=l.screenX-Zn.screenX,hu=l.screenY-Zn.screenY):hu=fu=0,Zn=l),fu)},movementY:function(l){return"movementY"in l?l.movementY:hu}}),Cf=rn(Ml),Bm=ie({},Ml,{dataTransfer:0}),Wm=rn(Bm),pu=ie({},_o,{relatedTarget:0}),qr=rn(pu),Hm=ie({},Ia,{animationName:0,elapsedTime:0,pseudoElement:0}),Gm=rn(Hm),Eo=ie({},Ia,{clipboardData:function(l){return"clipboardData"in l?l.clipboardData:window.clipboardData}}),y=rn(Eo),k=ie({},Ia,{data:0}),R=rn(k),q={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Y={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},te={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function we(l){var u=this.nativeEvent;return u.getModifierState?u.getModifierState(l):(l=te[l])?!!u[l]:!1}function Ze(){return we}var ir=ie({},_o,{key:function(l){if(l.key){var u=q[l.key]||l.key;if(u!=="Unidentified")return u}return l.type==="keypress"?(l=jl(l),l===13?"Enter":String.fromCharCode(l)):l.type==="keydown"||l.type==="keyup"?Y[l.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ze,charCode:function(l){return l.type==="keypress"?jl(l):0},keyCode:function(l){return l.type==="keydown"||l.type==="keyup"?l.keyCode:0},which:function(l){return l.type==="keypress"?jl(l):l.type==="keydown"||l.type==="keyup"?l.keyCode:0}}),Et=rn(ir),fr=ie({},Ml,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ei=rn(fr),ws=ie({},_o,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ze}),Pa=rn(ws),Ca=ie({},Ia,{propertyName:0,elapsedTime:0,pseudoElement:0}),mu=rn(Ca),Nf=ie({},Ml,{deltaX:function(l){return"deltaX"in l?l.deltaX:"wheelDeltaX"in l?-l.wheelDeltaX:0},deltaY:function(l){return"deltaY"in l?l.deltaY:"wheelDeltaY"in l?-l.wheelDeltaY:"wheelDelta"in l?-l.wheelDelta:0},deltaZ:0,deltaMode:0}),KX=rn(Nf),YX=[9,13,27,32],r1=o&&"CompositionEvent"in window,Rf=null;o&&"documentMode"in document&&(Rf=document.documentMode);var XX=o&&"TextEvent"in window&&!Rf,LR=o&&(!r1||Rf&&8<Rf&&11>=Rf),FR=" ",$R=!1;function VR(l,u){switch(l){case"keyup":return YX.indexOf(u.keyCode)!==-1;case"keydown":return u.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function UR(l){return l=l.detail,typeof l=="object"&&"data"in l?l.data:null}var gu=!1;function QX(l,u){switch(l){case"compositionend":return UR(u);case"keypress":return u.which!==32?null:($R=!0,FR);case"textInput":return l=u.data,l===FR&&$R?null:l;default:return null}}function JX(l,u){if(gu)return l==="compositionend"||!r1&&VR(l,u)?(l=zm(),xs=uu=Jn=null,gu=!1,l):null;switch(l){case"paste":return null;case"keypress":if(!(u.ctrlKey||u.altKey||u.metaKey)||u.ctrlKey&&u.altKey){if(u.char&&1<u.char.length)return u.char;if(u.which)return String.fromCharCode(u.which)}return null;case"compositionend":return LR&&u.locale!=="ko"?null:u.data;default:return null}}var ZX={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function qR(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u==="input"?!!ZX[l.type]:u==="textarea"}function zR(l,u,m,v){gi(v),u=Jm(u,"onChange"),0<u.length&&(m=new Dl("onChange","change",null,m,v),l.push({event:m,listeners:u}))}var Of=null,jf=null;function eQ(l){oO(l,0)}function Km(l){var u=wu(l);if(fe(u))return l}function tQ(l,u){if(l==="change")return u}var BR=!1;if(o){var n1;if(o){var i1="oninput"in document;if(!i1){var WR=document.createElement("div");WR.setAttribute("oninput","return;"),i1=typeof WR.oninput=="function"}n1=i1}else n1=!1;BR=n1&&(!document.documentMode||9<document.documentMode)}function HR(){Of&&(Of.detachEvent("onpropertychange",GR),jf=Of=null)}function GR(l){if(l.propertyName==="value"&&Km(jf)){var u=[];zR(u,jf,l,mo(l)),Nm(eQ,u)}}function rQ(l,u,m){l==="focusin"?(HR(),Of=u,jf=m,Of.attachEvent("onpropertychange",GR)):l==="focusout"&&HR()}function nQ(l){if(l==="selectionchange"||l==="keyup"||l==="keydown")return Km(jf)}function iQ(l,u){if(l==="click")return Km(u)}function aQ(l,u){if(l==="input"||l==="change")return Km(u)}function sQ(l,u){return l===u&&(l!==0||1/l===1/u)||l!==l&&u!==u}var Wi=typeof Object.is=="function"?Object.is:sQ;function Df(l,u){if(Wi(l,u))return!0;if(typeof l!="object"||l===null||typeof u!="object"||u===null)return!1;var m=Object.keys(l),v=Object.keys(u);if(m.length!==v.length)return!1;for(v=0;v<m.length;v++){var S=m[v];if(!c.call(u,S)||!Wi(l[S],u[S]))return!1}return!0}function KR(l){for(;l&&l.firstChild;)l=l.firstChild;return l}function YR(l,u){var m=KR(l);l=0;for(var v;m;){if(m.nodeType===3){if(v=l+m.textContent.length,l<=u&&v>=u)return{node:m,offset:u-l};l=v}e:{for(;m;){if(m.nextSibling){m=m.nextSibling;break e}m=m.parentNode}m=void 0}m=KR(m)}}function XR(l,u){return l&&u?l===u?!0:l&&l.nodeType===3?!1:u&&u.nodeType===3?XR(l,u.parentNode):"contains"in l?l.contains(u):l.compareDocumentPosition?!!(l.compareDocumentPosition(u)&16):!1:!1}function QR(){for(var l=window,u=ft();u instanceof l.HTMLIFrameElement;){try{var m=typeof u.contentWindow.location.href=="string"}catch{m=!1}if(m)l=u.contentWindow;else break;u=ft(l.document)}return u}function a1(l){var u=l&&l.nodeName&&l.nodeName.toLowerCase();return u&&(u==="input"&&(l.type==="text"||l.type==="search"||l.type==="tel"||l.type==="url"||l.type==="password")||u==="textarea"||l.contentEditable==="true")}function oQ(l){var u=QR(),m=l.focusedElem,v=l.selectionRange;if(u!==m&&m&&m.ownerDocument&&XR(m.ownerDocument.documentElement,m)){if(v!==null&&a1(m)){if(u=v.start,l=v.end,l===void 0&&(l=u),"selectionStart"in m)m.selectionStart=u,m.selectionEnd=Math.min(l,m.value.length);else if(l=(u=m.ownerDocument||document)&&u.defaultView||window,l.getSelection){l=l.getSelection();var S=m.textContent.length,A=Math.min(v.start,S);v=v.end===void 0?A:Math.min(v.end,S),!l.extend&&A>v&&(S=v,v=A,A=S),S=YR(m,A);var L=YR(m,v);S&&L&&(l.rangeCount!==1||l.anchorNode!==S.node||l.anchorOffset!==S.offset||l.focusNode!==L.node||l.focusOffset!==L.offset)&&(u=u.createRange(),u.setStart(S.node,S.offset),l.removeAllRanges(),A>v?(l.addRange(u),l.extend(L.node,L.offset)):(u.setEnd(L.node,L.offset),l.addRange(u)))}}for(u=[],l=m;l=l.parentNode;)l.nodeType===1&&u.push({element:l,left:l.scrollLeft,top:l.scrollTop});for(typeof m.focus=="function"&&m.focus(),m=0;m<u.length;m++)l=u[m],l.element.scrollLeft=l.left,l.element.scrollTop=l.top}}var lQ=o&&"documentMode"in document&&11>=document.documentMode,yu=null,s1=null,Mf=null,o1=!1;function JR(l,u,m){var v=m.window===m?m.document:m.nodeType===9?m:m.ownerDocument;o1||yu==null||yu!==ft(v)||(v=yu,"selectionStart"in v&&a1(v)?v={start:v.selectionStart,end:v.selectionEnd}:(v=(v.ownerDocument&&v.ownerDocument.defaultView||window).getSelection(),v={anchorNode:v.anchorNode,anchorOffset:v.anchorOffset,focusNode:v.focusNode,focusOffset:v.focusOffset}),Mf&&Df(Mf,v)||(Mf=v,v=Jm(s1,"onSelect"),0<v.length&&(u=new Dl("onSelect","select",null,u,m),l.push({event:u,listeners:v}),u.target=yu)))}function Ym(l,u){var m={};return m[l.toLowerCase()]=u.toLowerCase(),m["Webkit"+l]="webkit"+u,m["Moz"+l]="moz"+u,m}var vu={animationend:Ym("Animation","AnimationEnd"),animationiteration:Ym("Animation","AnimationIteration"),animationstart:Ym("Animation","AnimationStart"),transitionend:Ym("Transition","TransitionEnd")},l1={},ZR={};o&&(ZR=document.createElement("div").style,"AnimationEvent"in window||(delete vu.animationend.animation,delete vu.animationiteration.animation,delete vu.animationstart.animation),"TransitionEvent"in window||delete vu.transitionend.transition);function Xm(l){if(l1[l])return l1[l];if(!vu[l])return l;var u=vu[l],m;for(m in u)if(u.hasOwnProperty(m)&&m in ZR)return l1[l]=u[m];return l}var eO=Xm("animationend"),tO=Xm("animationiteration"),rO=Xm("animationstart"),nO=Xm("transitionend"),iO=new Map,aO="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function So(l,u){iO.set(l,u),a(u,[l])}for(var c1=0;c1<aO.length;c1++){var u1=aO[c1],cQ=u1.toLowerCase(),uQ=u1[0].toUpperCase()+u1.slice(1);So(cQ,"on"+uQ)}So(eO,"onAnimationEnd"),So(tO,"onAnimationIteration"),So(rO,"onAnimationStart"),So("dblclick","onDoubleClick"),So("focusin","onFocus"),So("focusout","onBlur"),So(nO,"onTransitionEnd"),s("onMouseEnter",["mouseout","mouseover"]),s("onMouseLeave",["mouseout","mouseover"]),s("onPointerEnter",["pointerout","pointerover"]),s("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Lf="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),dQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Lf));function sO(l,u,m){var v=l.type||"unknown-event";l.currentTarget=m,mf(v,u,void 0,l),l.currentTarget=null}function oO(l,u){u=(u&4)!==0;for(var m=0;m<l.length;m++){var v=l[m],S=v.event;v=v.listeners;e:{var A=void 0;if(u)for(var L=v.length-1;0<=L;L--){var z=v[L],W=z.instance,ee=z.currentTarget;if(z=z.listener,W!==A&&S.isPropagationStopped())break e;sO(S,z,ee),A=W}else for(L=0;L<v.length;L++){if(z=v[L],W=z.instance,ee=z.currentTarget,z=z.listener,W!==A&&S.isPropagationStopped())break e;sO(S,z,ee),A=W}}}if(tu)throw l=yi,tu=!1,yi=null,l}function Rt(l,u){var m=u[v1];m===void 0&&(m=u[v1]=new Set);var v=l+"__bubble";m.has(v)||(lO(u,l,2,!1),m.add(v))}function d1(l,u,m){var v=0;u&&(v|=4),lO(m,l,v,u)}var Qm="_reactListening"+Math.random().toString(36).slice(2);function Ff(l){if(!l[Qm]){l[Qm]=!0,n.forEach(function(m){m!=="selectionchange"&&(dQ.has(m)||d1(m,!1,l),d1(m,!0,l))});var u=l.nodeType===9?l:l.ownerDocument;u===null||u[Qm]||(u[Qm]=!0,d1("selectionchange",!1,u))}}function lO(l,u,m,v){switch(cu(u)){case 1:var S=Ta;break;case 4:S=qm;break;default:S=If}m=S.bind(null,u,m,l),S=void 0,!go||u!=="touchstart"&&u!=="touchmove"&&u!=="wheel"||(S=!0),v?S!==void 0?l.addEventListener(u,m,{capture:!0,passive:S}):l.addEventListener(u,m,!0):S!==void 0?l.addEventListener(u,m,{passive:S}):l.addEventListener(u,m,!1)}function f1(l,u,m,v,S){var A=v;if((u&1)===0&&(u&2)===0&&v!==null)e:for(;;){if(v===null)return;var L=v.tag;if(L===3||L===4){var z=v.stateNode.containerInfo;if(z===S||z.nodeType===8&&z.parentNode===S)break;if(L===4)for(L=v.return;L!==null;){var W=L.tag;if((W===3||W===4)&&(W=L.stateNode.containerInfo,W===S||W.nodeType===8&&W.parentNode===S))return;L=L.return}for(;z!==null;){if(L=Ll(z),L===null)return;if(W=L.tag,W===5||W===6){v=A=L;continue e}z=z.parentNode}}v=v.return}Nm(function(){var ee=A,me=mo(m),ge=[];e:{var he=iO.get(l);if(he!==void 0){var Te=Dl,Ce=l;switch(l){case"keypress":if(jl(m)===0)break e;case"keydown":case"keyup":Te=Et;break;case"focusin":Ce="focus",Te=qr;break;case"focusout":Ce="blur",Te=qr;break;case"beforeblur":case"afterblur":Te=qr;break;case"click":if(m.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":Te=Cf;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":Te=Wm;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":Te=Pa;break;case eO:case tO:case rO:Te=Gm;break;case nO:Te=mu;break;case"scroll":Te=du;break;case"wheel":Te=KX;break;case"copy":case"cut":case"paste":Te=y;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":Te=ei}var Re=(u&4)!==0,ar=!Re&&l==="scroll",K=Re?he!==null?he+"Capture":null:he;Re=[];for(var H=ee,J;H!==null;){J=H;var be=J.stateNode;if(J.tag===5&&be!==null&&(J=be,K!==null&&(be=Sl(H,K),be!=null&&Re.push($f(H,be,J)))),ar)break;H=H.return}0<Re.length&&(he=new Te(he,Ce,null,m,me),ge.push({event:he,listeners:Re}))}}if((u&7)===0){e:{if(he=l==="mouseover"||l==="pointerover",Te=l==="mouseout"||l==="pointerout",he&&m!==ma&&(Ce=m.relatedTarget||m.fromElement)&&(Ll(Ce)||Ce[_s]))break e;if((Te||he)&&(he=me.window===me?me:(he=me.ownerDocument)?he.defaultView||he.parentWindow:window,Te?(Ce=m.relatedTarget||m.toElement,Te=ee,Ce=Ce?Ll(Ce):null,Ce!==null&&(ar=zi(Ce),Ce!==ar||Ce.tag!==5&&Ce.tag!==6)&&(Ce=null)):(Te=null,Ce=ee),Te!==Ce)){if(Re=Cf,be="onMouseLeave",K="onMouseEnter",H="mouse",(l==="pointerout"||l==="pointerover")&&(Re=ei,be="onPointerLeave",K="onPointerEnter",H="pointer"),ar=Te==null?he:wu(Te),J=Ce==null?he:wu(Ce),he=new Re(be,H+"leave",Te,m,me),he.target=ar,he.relatedTarget=J,be=null,Ll(me)===ee&&(Re=new Re(K,H+"enter",Ce,m,me),Re.target=J,Re.relatedTarget=ar,be=Re),ar=be,Te&&Ce)t:{for(Re=Te,K=Ce,H=0,J=Re;J;J=bu(J))H++;for(J=0,be=K;be;be=bu(be))J++;for(;0<H-J;)Re=bu(Re),H--;for(;0<J-H;)K=bu(K),J--;for(;H--;){if(Re===K||K!==null&&Re===K.alternate)break t;Re=bu(Re),K=bu(K)}Re=null}else Re=null;Te!==null&&cO(ge,he,Te,Re,!1),Ce!==null&&ar!==null&&cO(ge,ar,Ce,Re,!0)}}e:{if(he=ee?wu(ee):window,Te=he.nodeName&&he.nodeName.toLowerCase(),Te==="select"||Te==="input"&&he.type==="file")var Oe=tQ;else if(qR(he))if(BR)Oe=aQ;else{Oe=nQ;var Ve=rQ}else(Te=he.nodeName)&&Te.toLowerCase()==="input"&&(he.type==="checkbox"||he.type==="radio")&&(Oe=iQ);if(Oe&&(Oe=Oe(l,ee))){zR(ge,Oe,m,me);break e}Ve&&Ve(l,he,ee),l==="focusout"&&(Ve=he._wrapperState)&&Ve.controlled&&he.type==="number"&&mt(he,"number",he.value)}switch(Ve=ee?wu(ee):window,l){case"focusin":(qR(Ve)||Ve.contentEditable==="true")&&(yu=Ve,s1=ee,Mf=null);break;case"focusout":Mf=s1=yu=null;break;case"mousedown":o1=!0;break;case"contextmenu":case"mouseup":case"dragend":o1=!1,JR(ge,m,me);break;case"selectionchange":if(lQ)break;case"keydown":case"keyup":JR(ge,m,me)}var Ue;if(r1)e:{switch(l){case"compositionstart":var Xe="onCompositionStart";break e;case"compositionend":Xe="onCompositionEnd";break e;case"compositionupdate":Xe="onCompositionUpdate";break e}Xe=void 0}else gu?VR(l,m)&&(Xe="onCompositionEnd"):l==="keydown"&&m.keyCode===229&&(Xe="onCompositionStart");Xe&&(LR&&m.locale!=="ko"&&(gu||Xe!=="onCompositionStart"?Xe==="onCompositionEnd"&&gu&&(Ue=zm()):(Jn=me,uu="value"in Jn?Jn.value:Jn.textContent,gu=!0)),Ve=Jm(ee,Xe),0<Ve.length&&(Xe=new R(Xe,l,null,m,me),ge.push({event:Xe,listeners:Ve}),Ue?Xe.data=Ue:(Ue=UR(m),Ue!==null&&(Xe.data=Ue)))),(Ue=XX?QX(l,m):JX(l,m))&&(ee=Jm(ee,"onBeforeInput"),0<ee.length&&(me=new R("onBeforeInput","beforeinput",null,m,me),ge.push({event:me,listeners:ee}),me.data=Ue))}oO(ge,u)})}function $f(l,u,m){return{instance:l,listener:u,currentTarget:m}}function Jm(l,u){for(var m=u+"Capture",v=[];l!==null;){var S=l,A=S.stateNode;S.tag===5&&A!==null&&(S=A,A=Sl(l,m),A!=null&&v.unshift($f(l,A,S)),A=Sl(l,u),A!=null&&v.push($f(l,A,S))),l=l.return}return v}function bu(l){if(l===null)return null;do l=l.return;while(l&&l.tag!==5);return l||null}function cO(l,u,m,v,S){for(var A=u._reactName,L=[];m!==null&&m!==v;){var z=m,W=z.alternate,ee=z.stateNode;if(W!==null&&W===v)break;z.tag===5&&ee!==null&&(z=ee,S?(W=Sl(m,A),W!=null&&L.unshift($f(m,W,z))):S||(W=Sl(m,A),W!=null&&L.push($f(m,W,z)))),m=m.return}L.length!==0&&l.push({event:u,listeners:L})}var fQ=/\r\n?/g,hQ=/\u0000|\uFFFD/g;function uO(l){return(typeof l=="string"?l:""+l).replace(fQ,`
`).replace(hQ,"")}function Zm(l,u,m){if(u=uO(u),uO(l)!==u&&m)throw Error(r(425))}function eg(){}var h1=null,p1=null;function m1(l,u){return l==="textarea"||l==="noscript"||typeof u.children=="string"||typeof u.children=="number"||typeof u.dangerouslySetInnerHTML=="object"&&u.dangerouslySetInnerHTML!==null&&u.dangerouslySetInnerHTML.__html!=null}var g1=typeof setTimeout=="function"?setTimeout:void 0,pQ=typeof clearTimeout=="function"?clearTimeout:void 0,dO=typeof Promise=="function"?Promise:void 0,mQ=typeof queueMicrotask=="function"?queueMicrotask:typeof dO<"u"?function(l){return dO.resolve(null).then(l).catch(gQ)}:g1;function gQ(l){setTimeout(function(){throw l})}function y1(l,u){var m=u,v=0;do{var S=m.nextSibling;if(l.removeChild(m),S&&S.nodeType===8)if(m=S.data,m==="/$"){if(v===0){l.removeChild(S),wo(u);return}v--}else m!=="$"&&m!=="$?"&&m!=="$!"||v++;m=S}while(m);wo(u)}function To(l){for(;l!=null;l=l.nextSibling){var u=l.nodeType;if(u===1||u===3)break;if(u===8){if(u=l.data,u==="$"||u==="$!"||u==="$?")break;if(u==="/$")return null}}return l}function fO(l){l=l.previousSibling;for(var u=0;l;){if(l.nodeType===8){var m=l.data;if(m==="$"||m==="$!"||m==="$?"){if(u===0)return l;u--}else m==="/$"&&u++}l=l.previousSibling}return null}var xu=Math.random().toString(36).slice(2),Na="__reactFiber$"+xu,Vf="__reactProps$"+xu,_s="__reactContainer$"+xu,v1="__reactEvents$"+xu,yQ="__reactListeners$"+xu,vQ="__reactHandles$"+xu;function Ll(l){var u=l[Na];if(u)return u;for(var m=l.parentNode;m;){if(u=m[_s]||m[Na]){if(m=u.alternate,u.child!==null||m!==null&&m.child!==null)for(l=fO(l);l!==null;){if(m=l[Na])return m;l=fO(l)}return u}l=m,m=l.parentNode}return null}function Uf(l){return l=l[Na]||l[_s],!l||l.tag!==5&&l.tag!==6&&l.tag!==13&&l.tag!==3?null:l}function wu(l){if(l.tag===5||l.tag===6)return l.stateNode;throw Error(r(33))}function tg(l){return l[Vf]||null}var b1=[],_u=-1;function Ao(l){return{current:l}}function Ot(l){0>_u||(l.current=b1[_u],b1[_u]=null,_u--)}function Pt(l,u){_u++,b1[_u]=l.current,l.current=u}var ko={},nn=Ao(ko),Cn=Ao(!1),Fl=ko;function Eu(l,u){var m=l.type.contextTypes;if(!m)return ko;var v=l.stateNode;if(v&&v.__reactInternalMemoizedUnmaskedChildContext===u)return v.__reactInternalMemoizedMaskedChildContext;var S={},A;for(A in m)S[A]=u[A];return v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=u,l.__reactInternalMemoizedMaskedChildContext=S),S}function Nn(l){return l=l.childContextTypes,l!=null}function rg(){Ot(Cn),Ot(nn)}function hO(l,u,m){if(nn.current!==ko)throw Error(r(168));Pt(nn,u),Pt(Cn,m)}function pO(l,u,m){var v=l.stateNode;if(u=u.childContextTypes,typeof v.getChildContext!="function")return m;v=v.getChildContext();for(var S in v)if(!(S in u))throw Error(r(108,Se(l)||"Unknown",S));return ie({},m,v)}function ng(l){return l=(l=l.stateNode)&&l.__reactInternalMemoizedMergedChildContext||ko,Fl=nn.current,Pt(nn,l),Pt(Cn,Cn.current),!0}function mO(l,u,m){var v=l.stateNode;if(!v)throw Error(r(169));m?(l=pO(l,u,Fl),v.__reactInternalMemoizedMergedChildContext=l,Ot(Cn),Ot(nn),Pt(nn,l)):Ot(Cn),Pt(Cn,m)}var Es=null,ig=!1,x1=!1;function gO(l){Es===null?Es=[l]:Es.push(l)}function bQ(l){ig=!0,gO(l)}function Io(){if(!x1&&Es!==null){x1=!0;var l=0,u=ut;try{var m=Es;for(ut=1;l<m.length;l++){var v=m[l];do v=v(!0);while(v!==null)}Es=null,ig=!1}catch(S){throw Es!==null&&(Es=Es.slice(l+1)),yf(nu,Io),S}finally{ut=u,x1=!1}}return null}var Su=[],Tu=0,ag=null,sg=0,bi=[],xi=0,$l=null,Ss=1,Ts="";function Vl(l,u){Su[Tu++]=sg,Su[Tu++]=ag,ag=l,sg=u}function yO(l,u,m){bi[xi++]=Ss,bi[xi++]=Ts,bi[xi++]=$l,$l=l;var v=Ss;l=Ts;var S=32-Xn(v)-1;v&=~(1<<S),m+=1;var A=32-Xn(u)+S;if(30<A){var L=S-S%5;A=(v&(1<<L)-1).toString(32),v>>=L,S-=L,Ss=1<<32-Xn(u)+S|m<<S|v,Ts=A+l}else Ss=1<<A|m<<S|v,Ts=l}function w1(l){l.return!==null&&(Vl(l,1),yO(l,1,0))}function _1(l){for(;l===ag;)ag=Su[--Tu],Su[Tu]=null,sg=Su[--Tu],Su[Tu]=null;for(;l===$l;)$l=bi[--xi],bi[xi]=null,Ts=bi[--xi],bi[xi]=null,Ss=bi[--xi],bi[xi]=null}var ti=null,ri=null,$t=!1,Hi=null;function vO(l,u){var m=Si(5,null,null,0);m.elementType="DELETED",m.stateNode=u,m.return=l,u=l.deletions,u===null?(l.deletions=[m],l.flags|=16):u.push(m)}function bO(l,u){switch(l.tag){case 5:var m=l.type;return u=u.nodeType!==1||m.toLowerCase()!==u.nodeName.toLowerCase()?null:u,u!==null?(l.stateNode=u,ti=l,ri=To(u.firstChild),!0):!1;case 6:return u=l.pendingProps===""||u.nodeType!==3?null:u,u!==null?(l.stateNode=u,ti=l,ri=null,!0):!1;case 13:return u=u.nodeType!==8?null:u,u!==null?(m=$l!==null?{id:Ss,overflow:Ts}:null,l.memoizedState={dehydrated:u,treeContext:m,retryLane:1073741824},m=Si(18,null,null,0),m.stateNode=u,m.return=l,l.child=m,ti=l,ri=null,!0):!1;default:return!1}}function E1(l){return(l.mode&1)!==0&&(l.flags&128)===0}function S1(l){if($t){var u=ri;if(u){var m=u;if(!bO(l,u)){if(E1(l))throw Error(r(418));u=To(m.nextSibling);var v=ti;u&&bO(l,u)?vO(v,m):(l.flags=l.flags&-4097|2,$t=!1,ti=l)}}else{if(E1(l))throw Error(r(418));l.flags=l.flags&-4097|2,$t=!1,ti=l}}}function xO(l){for(l=l.return;l!==null&&l.tag!==5&&l.tag!==3&&l.tag!==13;)l=l.return;ti=l}function og(l){if(l!==ti)return!1;if(!$t)return xO(l),$t=!0,!1;var u;if((u=l.tag!==3)&&!(u=l.tag!==5)&&(u=l.type,u=u!=="head"&&u!=="body"&&!m1(l.type,l.memoizedProps)),u&&(u=ri)){if(E1(l))throw wO(),Error(r(418));for(;u;)vO(l,u),u=To(u.nextSibling)}if(xO(l),l.tag===13){if(l=l.memoizedState,l=l!==null?l.dehydrated:null,!l)throw Error(r(317));e:{for(l=l.nextSibling,u=0;l;){if(l.nodeType===8){var m=l.data;if(m==="/$"){if(u===0){ri=To(l.nextSibling);break e}u--}else m!=="$"&&m!=="$!"&&m!=="$?"||u++}l=l.nextSibling}ri=null}}else ri=ti?To(l.stateNode.nextSibling):null;return!0}function wO(){for(var l=ri;l;)l=To(l.nextSibling)}function Au(){ri=ti=null,$t=!1}function T1(l){Hi===null?Hi=[l]:Hi.push(l)}var xQ=j.ReactCurrentBatchConfig;function qf(l,u,m){if(l=m.ref,l!==null&&typeof l!="function"&&typeof l!="object"){if(m._owner){if(m=m._owner,m){if(m.tag!==1)throw Error(r(309));var v=m.stateNode}if(!v)throw Error(r(147,l));var S=v,A=""+l;return u!==null&&u.ref!==null&&typeof u.ref=="function"&&u.ref._stringRef===A?u.ref:(u=function(L){var z=S.refs;L===null?delete z[A]:z[A]=L},u._stringRef=A,u)}if(typeof l!="string")throw Error(r(284));if(!m._owner)throw Error(r(290,l))}return l}function lg(l,u){throw l=Object.prototype.toString.call(u),Error(r(31,l==="[object Object]"?"object with keys {"+Object.keys(u).join(", ")+"}":l))}function _O(l){var u=l._init;return u(l._payload)}function EO(l){function u(K,H){if(l){var J=K.deletions;J===null?(K.deletions=[H],K.flags|=16):J.push(H)}}function m(K,H){if(!l)return null;for(;H!==null;)u(K,H),H=H.sibling;return null}function v(K,H){for(K=new Map;H!==null;)H.key!==null?K.set(H.key,H):K.set(H.index,H),H=H.sibling;return K}function S(K,H){return K=Mo(K,H),K.index=0,K.sibling=null,K}function A(K,H,J){return K.index=J,l?(J=K.alternate,J!==null?(J=J.index,J<H?(K.flags|=2,H):J):(K.flags|=2,H)):(K.flags|=1048576,H)}function L(K){return l&&K.alternate===null&&(K.flags|=2),K}function z(K,H,J,be){return H===null||H.tag!==6?(H=gw(J,K.mode,be),H.return=K,H):(H=S(H,J),H.return=K,H)}function W(K,H,J,be){var Oe=J.type;return Oe===C?me(K,H,J.props.children,be,J.key):H!==null&&(H.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===ce&&_O(Oe)===H.type)?(be=S(H,J.props),be.ref=qf(K,H,J),be.return=K,be):(be=Rg(J.type,J.key,J.props,null,K.mode,be),be.ref=qf(K,H,J),be.return=K,be)}function ee(K,H,J,be){return H===null||H.tag!==4||H.stateNode.containerInfo!==J.containerInfo||H.stateNode.implementation!==J.implementation?(H=yw(J,K.mode,be),H.return=K,H):(H=S(H,J.children||[]),H.return=K,H)}function me(K,H,J,be,Oe){return H===null||H.tag!==7?(H=Kl(J,K.mode,be,Oe),H.return=K,H):(H=S(H,J),H.return=K,H)}function ge(K,H,J){if(typeof H=="string"&&H!==""||typeof H=="number")return H=gw(""+H,K.mode,J),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case O:return J=Rg(H.type,H.key,H.props,null,K.mode,J),J.ref=qf(K,null,H),J.return=K,J;case V:return H=yw(H,K.mode,J),H.return=K,H;case ce:var be=H._init;return ge(K,be(H._payload),J)}if(_t(H)||X(H))return H=Kl(H,K.mode,J,null),H.return=K,H;lg(K,H)}return null}function he(K,H,J,be){var Oe=H!==null?H.key:null;if(typeof J=="string"&&J!==""||typeof J=="number")return Oe!==null?null:z(K,H,""+J,be);if(typeof J=="object"&&J!==null){switch(J.$$typeof){case O:return J.key===Oe?W(K,H,J,be):null;case V:return J.key===Oe?ee(K,H,J,be):null;case ce:return Oe=J._init,he(K,H,Oe(J._payload),be)}if(_t(J)||X(J))return Oe!==null?null:me(K,H,J,be,null);lg(K,J)}return null}function Te(K,H,J,be,Oe){if(typeof be=="string"&&be!==""||typeof be=="number")return K=K.get(J)||null,z(H,K,""+be,Oe);if(typeof be=="object"&&be!==null){switch(be.$$typeof){case O:return K=K.get(be.key===null?J:be.key)||null,W(H,K,be,Oe);case V:return K=K.get(be.key===null?J:be.key)||null,ee(H,K,be,Oe);case ce:var Ve=be._init;return Te(K,H,J,Ve(be._payload),Oe)}if(_t(be)||X(be))return K=K.get(J)||null,me(H,K,be,Oe,null);lg(H,be)}return null}function Ce(K,H,J,be){for(var Oe=null,Ve=null,Ue=H,Xe=H=0,Pr=null;Ue!==null&&Xe<J.length;Xe++){Ue.index>Xe?(Pr=Ue,Ue=null):Pr=Ue.sibling;var gt=he(K,Ue,J[Xe],be);if(gt===null){Ue===null&&(Ue=Pr);break}l&&Ue&&gt.alternate===null&&u(K,Ue),H=A(gt,H,Xe),Ve===null?Oe=gt:Ve.sibling=gt,Ve=gt,Ue=Pr}if(Xe===J.length)return m(K,Ue),$t&&Vl(K,Xe),Oe;if(Ue===null){for(;Xe<J.length;Xe++)Ue=ge(K,J[Xe],be),Ue!==null&&(H=A(Ue,H,Xe),Ve===null?Oe=Ue:Ve.sibling=Ue,Ve=Ue);return $t&&Vl(K,Xe),Oe}for(Ue=v(K,Ue);Xe<J.length;Xe++)Pr=Te(Ue,K,Xe,J[Xe],be),Pr!==null&&(l&&Pr.alternate!==null&&Ue.delete(Pr.key===null?Xe:Pr.key),H=A(Pr,H,Xe),Ve===null?Oe=Pr:Ve.sibling=Pr,Ve=Pr);return l&&Ue.forEach(function(Lo){return u(K,Lo)}),$t&&Vl(K,Xe),Oe}function Re(K,H,J,be){var Oe=X(J);if(typeof Oe!="function")throw Error(r(150));if(J=Oe.call(J),J==null)throw Error(r(151));for(var Ve=Oe=null,Ue=H,Xe=H=0,Pr=null,gt=J.next();Ue!==null&&!gt.done;Xe++,gt=J.next()){Ue.index>Xe?(Pr=Ue,Ue=null):Pr=Ue.sibling;var Lo=he(K,Ue,gt.value,be);if(Lo===null){Ue===null&&(Ue=Pr);break}l&&Ue&&Lo.alternate===null&&u(K,Ue),H=A(Lo,H,Xe),Ve===null?Oe=Lo:Ve.sibling=Lo,Ve=Lo,Ue=Pr}if(gt.done)return m(K,Ue),$t&&Vl(K,Xe),Oe;if(Ue===null){for(;!gt.done;Xe++,gt=J.next())gt=ge(K,gt.value,be),gt!==null&&(H=A(gt,H,Xe),Ve===null?Oe=gt:Ve.sibling=gt,Ve=gt);return $t&&Vl(K,Xe),Oe}for(Ue=v(K,Ue);!gt.done;Xe++,gt=J.next())gt=Te(Ue,K,Xe,gt.value,be),gt!==null&&(l&&gt.alternate!==null&&Ue.delete(gt.key===null?Xe:gt.key),H=A(gt,H,Xe),Ve===null?Oe=gt:Ve.sibling=gt,Ve=gt);return l&&Ue.forEach(function(ZQ){return u(K,ZQ)}),$t&&Vl(K,Xe),Oe}function ar(K,H,J,be){if(typeof J=="object"&&J!==null&&J.type===C&&J.key===null&&(J=J.props.children),typeof J=="object"&&J!==null){switch(J.$$typeof){case O:e:{for(var Oe=J.key,Ve=H;Ve!==null;){if(Ve.key===Oe){if(Oe=J.type,Oe===C){if(Ve.tag===7){m(K,Ve.sibling),H=S(Ve,J.props.children),H.return=K,K=H;break e}}else if(Ve.elementType===Oe||typeof Oe=="object"&&Oe!==null&&Oe.$$typeof===ce&&_O(Oe)===Ve.type){m(K,Ve.sibling),H=S(Ve,J.props),H.ref=qf(K,Ve,J),H.return=K,K=H;break e}m(K,Ve);break}else u(K,Ve);Ve=Ve.sibling}J.type===C?(H=Kl(J.props.children,K.mode,be,J.key),H.return=K,K=H):(be=Rg(J.type,J.key,J.props,null,K.mode,be),be.ref=qf(K,H,J),be.return=K,K=be)}return L(K);case V:e:{for(Ve=J.key;H!==null;){if(H.key===Ve)if(H.tag===4&&H.stateNode.containerInfo===J.containerInfo&&H.stateNode.implementation===J.implementation){m(K,H.sibling),H=S(H,J.children||[]),H.return=K,K=H;break e}else{m(K,H);break}else u(K,H);H=H.sibling}H=yw(J,K.mode,be),H.return=K,K=H}return L(K);case ce:return Ve=J._init,ar(K,H,Ve(J._payload),be)}if(_t(J))return Ce(K,H,J,be);if(X(J))return Re(K,H,J,be);lg(K,J)}return typeof J=="string"&&J!==""||typeof J=="number"?(J=""+J,H!==null&&H.tag===6?(m(K,H.sibling),H=S(H,J),H.return=K,K=H):(m(K,H),H=gw(J,K.mode,be),H.return=K,K=H),L(K)):m(K,H)}return ar}var ku=EO(!0),SO=EO(!1),cg=Ao(null),ug=null,Iu=null,A1=null;function k1(){A1=Iu=ug=null}function I1(l){var u=cg.current;Ot(cg),l._currentValue=u}function P1(l,u,m){for(;l!==null;){var v=l.alternate;if((l.childLanes&u)!==u?(l.childLanes|=u,v!==null&&(v.childLanes|=u)):v!==null&&(v.childLanes&u)!==u&&(v.childLanes|=u),l===m)break;l=l.return}}function Pu(l,u){ug=l,A1=Iu=null,l=l.dependencies,l!==null&&l.firstContext!==null&&((l.lanes&u)!==0&&(Rn=!0),l.firstContext=null)}function wi(l){var u=l._currentValue;if(A1!==l)if(l={context:l,memoizedValue:u,next:null},Iu===null){if(ug===null)throw Error(r(308));Iu=l,ug.dependencies={lanes:0,firstContext:l}}else Iu=Iu.next=l;return u}var Ul=null;function C1(l){Ul===null?Ul=[l]:Ul.push(l)}function TO(l,u,m,v){var S=u.interleaved;return S===null?(m.next=m,C1(u)):(m.next=S.next,S.next=m),u.interleaved=m,As(l,v)}function As(l,u){l.lanes|=u;var m=l.alternate;for(m!==null&&(m.lanes|=u),m=l,l=l.return;l!==null;)l.childLanes|=u,m=l.alternate,m!==null&&(m.childLanes|=u),m=l,l=l.return;return m.tag===3?m.stateNode:null}var Po=!1;function N1(l){l.updateQueue={baseState:l.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function AO(l,u){l=l.updateQueue,u.updateQueue===l&&(u.updateQueue={baseState:l.baseState,firstBaseUpdate:l.firstBaseUpdate,lastBaseUpdate:l.lastBaseUpdate,shared:l.shared,effects:l.effects})}function ks(l,u){return{eventTime:l,lane:u,tag:0,payload:null,callback:null,next:null}}function Co(l,u,m){var v=l.updateQueue;if(v===null)return null;if(v=v.shared,(pt&2)!==0){var S=v.pending;return S===null?u.next=u:(u.next=S.next,S.next=u),v.pending=u,As(l,m)}return S=v.interleaved,S===null?(u.next=u,C1(v)):(u.next=S.next,S.next=u),v.interleaved=u,As(l,m)}function dg(l,u,m){if(u=u.updateQueue,u!==null&&(u=u.shared,(m&4194240)!==0)){var v=u.lanes;v&=l.pendingLanes,m|=v,u.lanes=m,Ef(l,m)}}function kO(l,u){var m=l.updateQueue,v=l.alternate;if(v!==null&&(v=v.updateQueue,m===v)){var S=null,A=null;if(m=m.firstBaseUpdate,m!==null){do{var L={eventTime:m.eventTime,lane:m.lane,tag:m.tag,payload:m.payload,callback:m.callback,next:null};A===null?S=A=L:A=A.next=L,m=m.next}while(m!==null);A===null?S=A=u:A=A.next=u}else S=A=u;m={baseState:v.baseState,firstBaseUpdate:S,lastBaseUpdate:A,shared:v.shared,effects:v.effects},l.updateQueue=m;return}l=m.lastBaseUpdate,l===null?m.firstBaseUpdate=u:l.next=u,m.lastBaseUpdate=u}function fg(l,u,m,v){var S=l.updateQueue;Po=!1;var A=S.firstBaseUpdate,L=S.lastBaseUpdate,z=S.shared.pending;if(z!==null){S.shared.pending=null;var W=z,ee=W.next;W.next=null,L===null?A=ee:L.next=ee,L=W;var me=l.alternate;me!==null&&(me=me.updateQueue,z=me.lastBaseUpdate,z!==L&&(z===null?me.firstBaseUpdate=ee:z.next=ee,me.lastBaseUpdate=W))}if(A!==null){var ge=S.baseState;L=0,me=ee=W=null,z=A;do{var he=z.lane,Te=z.eventTime;if((v&he)===he){me!==null&&(me=me.next={eventTime:Te,lane:0,tag:z.tag,payload:z.payload,callback:z.callback,next:null});e:{var Ce=l,Re=z;switch(he=u,Te=m,Re.tag){case 1:if(Ce=Re.payload,typeof Ce=="function"){ge=Ce.call(Te,ge,he);break e}ge=Ce;break e;case 3:Ce.flags=Ce.flags&-65537|128;case 0:if(Ce=Re.payload,he=typeof Ce=="function"?Ce.call(Te,ge,he):Ce,he==null)break e;ge=ie({},ge,he);break e;case 2:Po=!0}}z.callback!==null&&z.lane!==0&&(l.flags|=64,he=S.effects,he===null?S.effects=[z]:he.push(z))}else Te={eventTime:Te,lane:he,tag:z.tag,payload:z.payload,callback:z.callback,next:null},me===null?(ee=me=Te,W=ge):me=me.next=Te,L|=he;if(z=z.next,z===null){if(z=S.shared.pending,z===null)break;he=z,z=he.next,he.next=null,S.lastBaseUpdate=he,S.shared.pending=null}}while(!0);if(me===null&&(W=ge),S.baseState=W,S.firstBaseUpdate=ee,S.lastBaseUpdate=me,u=S.shared.interleaved,u!==null){S=u;do L|=S.lane,S=S.next;while(S!==u)}else A===null&&(S.shared.lanes=0);Bl|=L,l.lanes=L,l.memoizedState=ge}}function IO(l,u,m){if(l=u.effects,u.effects=null,l!==null)for(u=0;u<l.length;u++){var v=l[u],S=v.callback;if(S!==null){if(v.callback=null,v=m,typeof S!="function")throw Error(r(191,S));S.call(v)}}}var zf={},Ra=Ao(zf),Bf=Ao(zf),Wf=Ao(zf);function ql(l){if(l===zf)throw Error(r(174));return l}function R1(l,u){switch(Pt(Wf,u),Pt(Bf,l),Pt(Ra,zf),l=u.nodeType,l){case 9:case 11:u=(u=u.documentElement)?u.namespaceURI:$r(null,"");break;default:l=l===8?u.parentNode:u,u=l.namespaceURI||null,l=l.tagName,u=$r(u,l)}Ot(Ra),Pt(Ra,u)}function Cu(){Ot(Ra),Ot(Bf),Ot(Wf)}function PO(l){ql(Wf.current);var u=ql(Ra.current),m=$r(u,l.type);u!==m&&(Pt(Bf,l),Pt(Ra,m))}function O1(l){Bf.current===l&&(Ot(Ra),Ot(Bf))}var Ht=Ao(0);function hg(l){for(var u=l;u!==null;){if(u.tag===13){var m=u.memoizedState;if(m!==null&&(m=m.dehydrated,m===null||m.data==="$?"||m.data==="$!"))return u}else if(u.tag===19&&u.memoizedProps.revealOrder!==void 0){if((u.flags&128)!==0)return u}else if(u.child!==null){u.child.return=u,u=u.child;continue}if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return null;u=u.return}u.sibling.return=u.return,u=u.sibling}return null}var j1=[];function D1(){for(var l=0;l<j1.length;l++)j1[l]._workInProgressVersionPrimary=null;j1.length=0}var pg=j.ReactCurrentDispatcher,M1=j.ReactCurrentBatchConfig,zl=0,Gt=null,xr=null,kr=null,mg=!1,Hf=!1,Gf=0,wQ=0;function an(){throw Error(r(321))}function L1(l,u){if(u===null)return!1;for(var m=0;m<u.length&&m<l.length;m++)if(!Wi(l[m],u[m]))return!1;return!0}function F1(l,u,m,v,S,A){if(zl=A,Gt=u,u.memoizedState=null,u.updateQueue=null,u.lanes=0,pg.current=l===null||l.memoizedState===null?TQ:AQ,l=m(v,S),Hf){A=0;do{if(Hf=!1,Gf=0,25<=A)throw Error(r(301));A+=1,kr=xr=null,u.updateQueue=null,pg.current=kQ,l=m(v,S)}while(Hf)}if(pg.current=vg,u=xr!==null&&xr.next!==null,zl=0,kr=xr=Gt=null,mg=!1,u)throw Error(r(300));return l}function $1(){var l=Gf!==0;return Gf=0,l}function Oa(){var l={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return kr===null?Gt.memoizedState=kr=l:kr=kr.next=l,kr}function _i(){if(xr===null){var l=Gt.alternate;l=l!==null?l.memoizedState:null}else l=xr.next;var u=kr===null?Gt.memoizedState:kr.next;if(u!==null)kr=u,xr=l;else{if(l===null)throw Error(r(310));xr=l,l={memoizedState:xr.memoizedState,baseState:xr.baseState,baseQueue:xr.baseQueue,queue:xr.queue,next:null},kr===null?Gt.memoizedState=kr=l:kr=kr.next=l}return kr}function Kf(l,u){return typeof u=="function"?u(l):u}function V1(l){var u=_i(),m=u.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var v=xr,S=v.baseQueue,A=m.pending;if(A!==null){if(S!==null){var L=S.next;S.next=A.next,A.next=L}v.baseQueue=S=A,m.pending=null}if(S!==null){A=S.next,v=v.baseState;var z=L=null,W=null,ee=A;do{var me=ee.lane;if((zl&me)===me)W!==null&&(W=W.next={lane:0,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null}),v=ee.hasEagerState?ee.eagerState:l(v,ee.action);else{var ge={lane:me,action:ee.action,hasEagerState:ee.hasEagerState,eagerState:ee.eagerState,next:null};W===null?(z=W=ge,L=v):W=W.next=ge,Gt.lanes|=me,Bl|=me}ee=ee.next}while(ee!==null&&ee!==A);W===null?L=v:W.next=z,Wi(v,u.memoizedState)||(Rn=!0),u.memoizedState=v,u.baseState=L,u.baseQueue=W,m.lastRenderedState=v}if(l=m.interleaved,l!==null){S=l;do A=S.lane,Gt.lanes|=A,Bl|=A,S=S.next;while(S!==l)}else S===null&&(m.lanes=0);return[u.memoizedState,m.dispatch]}function U1(l){var u=_i(),m=u.queue;if(m===null)throw Error(r(311));m.lastRenderedReducer=l;var v=m.dispatch,S=m.pending,A=u.memoizedState;if(S!==null){m.pending=null;var L=S=S.next;do A=l(A,L.action),L=L.next;while(L!==S);Wi(A,u.memoizedState)||(Rn=!0),u.memoizedState=A,u.baseQueue===null&&(u.baseState=A),m.lastRenderedState=A}return[A,v]}function CO(){}function NO(l,u){var m=Gt,v=_i(),S=u(),A=!Wi(v.memoizedState,S);if(A&&(v.memoizedState=S,Rn=!0),v=v.queue,q1(jO.bind(null,m,v,l),[l]),v.getSnapshot!==u||A||kr!==null&&kr.memoizedState.tag&1){if(m.flags|=2048,Yf(9,OO.bind(null,m,v,S,u),void 0,null),Ir===null)throw Error(r(349));(zl&30)!==0||RO(m,u,S)}return S}function RO(l,u,m){l.flags|=16384,l={getSnapshot:u,value:m},u=Gt.updateQueue,u===null?(u={lastEffect:null,stores:null},Gt.updateQueue=u,u.stores=[l]):(m=u.stores,m===null?u.stores=[l]:m.push(l))}function OO(l,u,m,v){u.value=m,u.getSnapshot=v,DO(u)&&MO(l)}function jO(l,u,m){return m(function(){DO(u)&&MO(l)})}function DO(l){var u=l.getSnapshot;l=l.value;try{var m=u();return!Wi(l,m)}catch{return!0}}function MO(l){var u=As(l,1);u!==null&&Xi(u,l,1,-1)}function LO(l){var u=Oa();return typeof l=="function"&&(l=l()),u.memoizedState=u.baseState=l,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Kf,lastRenderedState:l},u.queue=l,l=l.dispatch=SQ.bind(null,Gt,l),[u.memoizedState,l]}function Yf(l,u,m,v){return l={tag:l,create:u,destroy:m,deps:v,next:null},u=Gt.updateQueue,u===null?(u={lastEffect:null,stores:null},Gt.updateQueue=u,u.lastEffect=l.next=l):(m=u.lastEffect,m===null?u.lastEffect=l.next=l:(v=m.next,m.next=l,l.next=v,u.lastEffect=l)),l}function FO(){return _i().memoizedState}function gg(l,u,m,v){var S=Oa();Gt.flags|=l,S.memoizedState=Yf(1|u,m,void 0,v===void 0?null:v)}function yg(l,u,m,v){var S=_i();v=v===void 0?null:v;var A=void 0;if(xr!==null){var L=xr.memoizedState;if(A=L.destroy,v!==null&&L1(v,L.deps)){S.memoizedState=Yf(u,m,A,v);return}}Gt.flags|=l,S.memoizedState=Yf(1|u,m,A,v)}function $O(l,u){return gg(8390656,8,l,u)}function q1(l,u){return yg(2048,8,l,u)}function VO(l,u){return yg(4,2,l,u)}function UO(l,u){return yg(4,4,l,u)}function qO(l,u){if(typeof u=="function")return l=l(),u(l),function(){u(null)};if(u!=null)return l=l(),u.current=l,function(){u.current=null}}function zO(l,u,m){return m=m!=null?m.concat([l]):null,yg(4,4,qO.bind(null,u,l),m)}function z1(){}function BO(l,u){var m=_i();u=u===void 0?null:u;var v=m.memoizedState;return v!==null&&u!==null&&L1(u,v[1])?v[0]:(m.memoizedState=[l,u],l)}function WO(l,u){var m=_i();u=u===void 0?null:u;var v=m.memoizedState;return v!==null&&u!==null&&L1(u,v[1])?v[0]:(l=l(),m.memoizedState=[l,u],l)}function HO(l,u,m){return(zl&21)===0?(l.baseState&&(l.baseState=!1,Rn=!0),l.memoizedState=m):(Wi(m,u)||(m=wf(),Gt.lanes|=m,Bl|=m,l.baseState=!0),u)}function _Q(l,u){var m=ut;ut=m!==0&&4>m?m:4,l(!0);var v=M1.transition;M1.transition={};try{l(!1),u()}finally{ut=m,M1.transition=v}}function GO(){return _i().memoizedState}function EQ(l,u,m){var v=jo(l);if(m={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null},KO(l))YO(u,m);else if(m=TO(l,u,m,v),m!==null){var S=xn();Xi(m,l,v,S),XO(m,u,v)}}function SQ(l,u,m){var v=jo(l),S={lane:v,action:m,hasEagerState:!1,eagerState:null,next:null};if(KO(l))YO(u,S);else{var A=l.alternate;if(l.lanes===0&&(A===null||A.lanes===0)&&(A=u.lastRenderedReducer,A!==null))try{var L=u.lastRenderedState,z=A(L,m);if(S.hasEagerState=!0,S.eagerState=z,Wi(z,L)){var W=u.interleaved;W===null?(S.next=S,C1(u)):(S.next=W.next,W.next=S),u.interleaved=S;return}}catch{}m=TO(l,u,S,v),m!==null&&(S=xn(),Xi(m,l,v,S),XO(m,u,v))}}function KO(l){var u=l.alternate;return l===Gt||u!==null&&u===Gt}function YO(l,u){Hf=mg=!0;var m=l.pending;m===null?u.next=u:(u.next=m.next,m.next=u),l.pending=u}function XO(l,u,m){if((m&4194240)!==0){var v=u.lanes;v&=l.pendingLanes,m|=v,u.lanes=m,Ef(l,m)}}var vg={readContext:wi,useCallback:an,useContext:an,useEffect:an,useImperativeHandle:an,useInsertionEffect:an,useLayoutEffect:an,useMemo:an,useReducer:an,useRef:an,useState:an,useDebugValue:an,useDeferredValue:an,useTransition:an,useMutableSource:an,useSyncExternalStore:an,useId:an,unstable_isNewReconciler:!1},TQ={readContext:wi,useCallback:function(l,u){return Oa().memoizedState=[l,u===void 0?null:u],l},useContext:wi,useEffect:$O,useImperativeHandle:function(l,u,m){return m=m!=null?m.concat([l]):null,gg(4194308,4,qO.bind(null,u,l),m)},useLayoutEffect:function(l,u){return gg(4194308,4,l,u)},useInsertionEffect:function(l,u){return gg(4,2,l,u)},useMemo:function(l,u){var m=Oa();return u=u===void 0?null:u,l=l(),m.memoizedState=[l,u],l},useReducer:function(l,u,m){var v=Oa();return u=m!==void 0?m(u):u,v.memoizedState=v.baseState=u,l={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:l,lastRenderedState:u},v.queue=l,l=l.dispatch=EQ.bind(null,Gt,l),[v.memoizedState,l]},useRef:function(l){var u=Oa();return l={current:l},u.memoizedState=l},useState:LO,useDebugValue:z1,useDeferredValue:function(l){return Oa().memoizedState=l},useTransition:function(){var l=LO(!1),u=l[0];return l=_Q.bind(null,l[1]),Oa().memoizedState=l,[u,l]},useMutableSource:function(){},useSyncExternalStore:function(l,u,m){var v=Gt,S=Oa();if($t){if(m===void 0)throw Error(r(407));m=m()}else{if(m=u(),Ir===null)throw Error(r(349));(zl&30)!==0||RO(v,u,m)}S.memoizedState=m;var A={value:m,getSnapshot:u};return S.queue=A,$O(jO.bind(null,v,A,l),[l]),v.flags|=2048,Yf(9,OO.bind(null,v,A,m,u),void 0,null),m},useId:function(){var l=Oa(),u=Ir.identifierPrefix;if($t){var m=Ts,v=Ss;m=(v&~(1<<32-Xn(v)-1)).toString(32)+m,u=":"+u+"R"+m,m=Gf++,0<m&&(u+="H"+m.toString(32)),u+=":"}else m=wQ++,u=":"+u+"r"+m.toString(32)+":";return l.memoizedState=u},unstable_isNewReconciler:!1},AQ={readContext:wi,useCallback:BO,useContext:wi,useEffect:q1,useImperativeHandle:zO,useInsertionEffect:VO,useLayoutEffect:UO,useMemo:WO,useReducer:V1,useRef:FO,useState:function(){return V1(Kf)},useDebugValue:z1,useDeferredValue:function(l){var u=_i();return HO(u,xr.memoizedState,l)},useTransition:function(){var l=V1(Kf)[0],u=_i().memoizedState;return[l,u]},useMutableSource:CO,useSyncExternalStore:NO,useId:GO,unstable_isNewReconciler:!1},kQ={readContext:wi,useCallback:BO,useContext:wi,useEffect:q1,useImperativeHandle:zO,useInsertionEffect:VO,useLayoutEffect:UO,useMemo:WO,useReducer:U1,useRef:FO,useState:function(){return U1(Kf)},useDebugValue:z1,useDeferredValue:function(l){var u=_i();return xr===null?u.memoizedState=l:HO(u,xr.memoizedState,l)},useTransition:function(){var l=U1(Kf)[0],u=_i().memoizedState;return[l,u]},useMutableSource:CO,useSyncExternalStore:NO,useId:GO,unstable_isNewReconciler:!1};function Gi(l,u){if(l&&l.defaultProps){u=ie({},u),l=l.defaultProps;for(var m in l)u[m]===void 0&&(u[m]=l[m]);return u}return u}function B1(l,u,m,v){u=l.memoizedState,m=m(v,u),m=m==null?u:ie({},u,m),l.memoizedState=m,l.lanes===0&&(l.updateQueue.baseState=m)}var bg={isMounted:function(l){return(l=l._reactInternals)?zi(l)===l:!1},enqueueSetState:function(l,u,m){l=l._reactInternals;var v=xn(),S=jo(l),A=ks(v,S);A.payload=u,m!=null&&(A.callback=m),u=Co(l,A,S),u!==null&&(Xi(u,l,S,v),dg(u,l,S))},enqueueReplaceState:function(l,u,m){l=l._reactInternals;var v=xn(),S=jo(l),A=ks(v,S);A.tag=1,A.payload=u,m!=null&&(A.callback=m),u=Co(l,A,S),u!==null&&(Xi(u,l,S,v),dg(u,l,S))},enqueueForceUpdate:function(l,u){l=l._reactInternals;var m=xn(),v=jo(l),S=ks(m,v);S.tag=2,u!=null&&(S.callback=u),u=Co(l,S,v),u!==null&&(Xi(u,l,v,m),dg(u,l,v))}};function QO(l,u,m,v,S,A,L){return l=l.stateNode,typeof l.shouldComponentUpdate=="function"?l.shouldComponentUpdate(v,A,L):u.prototype&&u.prototype.isPureReactComponent?!Df(m,v)||!Df(S,A):!0}function JO(l,u,m){var v=!1,S=ko,A=u.contextType;return typeof A=="object"&&A!==null?A=wi(A):(S=Nn(u)?Fl:nn.current,v=u.contextTypes,A=(v=v!=null)?Eu(l,S):ko),u=new u(m,A),l.memoizedState=u.state!==null&&u.state!==void 0?u.state:null,u.updater=bg,l.stateNode=u,u._reactInternals=l,v&&(l=l.stateNode,l.__reactInternalMemoizedUnmaskedChildContext=S,l.__reactInternalMemoizedMaskedChildContext=A),u}function ZO(l,u,m,v){l=u.state,typeof u.componentWillReceiveProps=="function"&&u.componentWillReceiveProps(m,v),typeof u.UNSAFE_componentWillReceiveProps=="function"&&u.UNSAFE_componentWillReceiveProps(m,v),u.state!==l&&bg.enqueueReplaceState(u,u.state,null)}function W1(l,u,m,v){var S=l.stateNode;S.props=m,S.state=l.memoizedState,S.refs={},N1(l);var A=u.contextType;typeof A=="object"&&A!==null?S.context=wi(A):(A=Nn(u)?Fl:nn.current,S.context=Eu(l,A)),S.state=l.memoizedState,A=u.getDerivedStateFromProps,typeof A=="function"&&(B1(l,u,A,m),S.state=l.memoizedState),typeof u.getDerivedStateFromProps=="function"||typeof S.getSnapshotBeforeUpdate=="function"||typeof S.UNSAFE_componentWillMount!="function"&&typeof S.componentWillMount!="function"||(u=S.state,typeof S.componentWillMount=="function"&&S.componentWillMount(),typeof S.UNSAFE_componentWillMount=="function"&&S.UNSAFE_componentWillMount(),u!==S.state&&bg.enqueueReplaceState(S,S.state,null),fg(l,m,S,v),S.state=l.memoizedState),typeof S.componentDidMount=="function"&&(l.flags|=4194308)}function Nu(l,u){try{var m="",v=u;do m+=xe(v),v=v.return;while(v);var S=m}catch(A){S=`
Error generating stack: `+A.message+`
`+A.stack}return{value:l,source:u,stack:S,digest:null}}function H1(l,u,m){return{value:l,source:null,stack:m??null,digest:u??null}}function G1(l,u){try{console.error(u.value)}catch(m){setTimeout(function(){throw m})}}var IQ=typeof WeakMap=="function"?WeakMap:Map;function ej(l,u,m){m=ks(-1,m),m.tag=3,m.payload={element:null};var v=u.value;return m.callback=function(){Ag||(Ag=!0,lw=v),G1(l,u)},m}function tj(l,u,m){m=ks(-1,m),m.tag=3;var v=l.type.getDerivedStateFromError;if(typeof v=="function"){var S=u.value;m.payload=function(){return v(S)},m.callback=function(){G1(l,u)}}var A=l.stateNode;return A!==null&&typeof A.componentDidCatch=="function"&&(m.callback=function(){G1(l,u),typeof v!="function"&&(Ro===null?Ro=new Set([this]):Ro.add(this));var L=u.stack;this.componentDidCatch(u.value,{componentStack:L!==null?L:""})}),m}function rj(l,u,m){var v=l.pingCache;if(v===null){v=l.pingCache=new IQ;var S=new Set;v.set(u,S)}else S=v.get(u),S===void 0&&(S=new Set,v.set(u,S));S.has(m)||(S.add(m),l=qQ.bind(null,l,u,m),u.then(l,l))}function nj(l){do{var u;if((u=l.tag===13)&&(u=l.memoizedState,u=u!==null?u.dehydrated!==null:!0),u)return l;l=l.return}while(l!==null);return null}function ij(l,u,m,v,S){return(l.mode&1)===0?(l===u?l.flags|=65536:(l.flags|=128,m.flags|=131072,m.flags&=-52805,m.tag===1&&(m.alternate===null?m.tag=17:(u=ks(-1,1),u.tag=2,Co(m,u,1))),m.lanes|=1),l):(l.flags|=65536,l.lanes=S,l)}var PQ=j.ReactCurrentOwner,Rn=!1;function bn(l,u,m,v){u.child=l===null?SO(u,null,m,v):ku(u,l.child,m,v)}function aj(l,u,m,v,S){m=m.render;var A=u.ref;return Pu(u,S),v=F1(l,u,m,v,A,S),m=$1(),l!==null&&!Rn?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~S,Is(l,u,S)):($t&&m&&w1(u),u.flags|=1,bn(l,u,v,S),u.child)}function sj(l,u,m,v,S){if(l===null){var A=m.type;return typeof A=="function"&&!mw(A)&&A.defaultProps===void 0&&m.compare===null&&m.defaultProps===void 0?(u.tag=15,u.type=A,oj(l,u,A,v,S)):(l=Rg(m.type,null,v,u,u.mode,S),l.ref=u.ref,l.return=u,u.child=l)}if(A=l.child,(l.lanes&S)===0){var L=A.memoizedProps;if(m=m.compare,m=m!==null?m:Df,m(L,v)&&l.ref===u.ref)return Is(l,u,S)}return u.flags|=1,l=Mo(A,v),l.ref=u.ref,l.return=u,u.child=l}function oj(l,u,m,v,S){if(l!==null){var A=l.memoizedProps;if(Df(A,v)&&l.ref===u.ref)if(Rn=!1,u.pendingProps=v=A,(l.lanes&S)!==0)(l.flags&131072)!==0&&(Rn=!0);else return u.lanes=l.lanes,Is(l,u,S)}return K1(l,u,m,v,S)}function lj(l,u,m){var v=u.pendingProps,S=v.children,A=l!==null?l.memoizedState:null;if(v.mode==="hidden")if((u.mode&1)===0)u.memoizedState={baseLanes:0,cachePool:null,transitions:null},Pt(Ou,ni),ni|=m;else{if((m&1073741824)===0)return l=A!==null?A.baseLanes|m:m,u.lanes=u.childLanes=1073741824,u.memoizedState={baseLanes:l,cachePool:null,transitions:null},u.updateQueue=null,Pt(Ou,ni),ni|=l,null;u.memoizedState={baseLanes:0,cachePool:null,transitions:null},v=A!==null?A.baseLanes:m,Pt(Ou,ni),ni|=v}else A!==null?(v=A.baseLanes|m,u.memoizedState=null):v=m,Pt(Ou,ni),ni|=v;return bn(l,u,S,m),u.child}function cj(l,u){var m=u.ref;(l===null&&m!==null||l!==null&&l.ref!==m)&&(u.flags|=512,u.flags|=2097152)}function K1(l,u,m,v,S){var A=Nn(m)?Fl:nn.current;return A=Eu(u,A),Pu(u,S),m=F1(l,u,m,v,A,S),v=$1(),l!==null&&!Rn?(u.updateQueue=l.updateQueue,u.flags&=-2053,l.lanes&=~S,Is(l,u,S)):($t&&v&&w1(u),u.flags|=1,bn(l,u,m,S),u.child)}function uj(l,u,m,v,S){if(Nn(m)){var A=!0;ng(u)}else A=!1;if(Pu(u,S),u.stateNode===null)wg(l,u),JO(u,m,v),W1(u,m,v,S),v=!0;else if(l===null){var L=u.stateNode,z=u.memoizedProps;L.props=z;var W=L.context,ee=m.contextType;typeof ee=="object"&&ee!==null?ee=wi(ee):(ee=Nn(m)?Fl:nn.current,ee=Eu(u,ee));var me=m.getDerivedStateFromProps,ge=typeof me=="function"||typeof L.getSnapshotBeforeUpdate=="function";ge||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(z!==v||W!==ee)&&ZO(u,L,v,ee),Po=!1;var he=u.memoizedState;L.state=he,fg(u,v,L,S),W=u.memoizedState,z!==v||he!==W||Cn.current||Po?(typeof me=="function"&&(B1(u,m,me,v),W=u.memoizedState),(z=Po||QO(u,m,z,v,he,W,ee))?(ge||typeof L.UNSAFE_componentWillMount!="function"&&typeof L.componentWillMount!="function"||(typeof L.componentWillMount=="function"&&L.componentWillMount(),typeof L.UNSAFE_componentWillMount=="function"&&L.UNSAFE_componentWillMount()),typeof L.componentDidMount=="function"&&(u.flags|=4194308)):(typeof L.componentDidMount=="function"&&(u.flags|=4194308),u.memoizedProps=v,u.memoizedState=W),L.props=v,L.state=W,L.context=ee,v=z):(typeof L.componentDidMount=="function"&&(u.flags|=4194308),v=!1)}else{L=u.stateNode,AO(l,u),z=u.memoizedProps,ee=u.type===u.elementType?z:Gi(u.type,z),L.props=ee,ge=u.pendingProps,he=L.context,W=m.contextType,typeof W=="object"&&W!==null?W=wi(W):(W=Nn(m)?Fl:nn.current,W=Eu(u,W));var Te=m.getDerivedStateFromProps;(me=typeof Te=="function"||typeof L.getSnapshotBeforeUpdate=="function")||typeof L.UNSAFE_componentWillReceiveProps!="function"&&typeof L.componentWillReceiveProps!="function"||(z!==ge||he!==W)&&ZO(u,L,v,W),Po=!1,he=u.memoizedState,L.state=he,fg(u,v,L,S);var Ce=u.memoizedState;z!==ge||he!==Ce||Cn.current||Po?(typeof Te=="function"&&(B1(u,m,Te,v),Ce=u.memoizedState),(ee=Po||QO(u,m,ee,v,he,Ce,W)||!1)?(me||typeof L.UNSAFE_componentWillUpdate!="function"&&typeof L.componentWillUpdate!="function"||(typeof L.componentWillUpdate=="function"&&L.componentWillUpdate(v,Ce,W),typeof L.UNSAFE_componentWillUpdate=="function"&&L.UNSAFE_componentWillUpdate(v,Ce,W)),typeof L.componentDidUpdate=="function"&&(u.flags|=4),typeof L.getSnapshotBeforeUpdate=="function"&&(u.flags|=1024)):(typeof L.componentDidUpdate!="function"||z===l.memoizedProps&&he===l.memoizedState||(u.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||z===l.memoizedProps&&he===l.memoizedState||(u.flags|=1024),u.memoizedProps=v,u.memoizedState=Ce),L.props=v,L.state=Ce,L.context=W,v=ee):(typeof L.componentDidUpdate!="function"||z===l.memoizedProps&&he===l.memoizedState||(u.flags|=4),typeof L.getSnapshotBeforeUpdate!="function"||z===l.memoizedProps&&he===l.memoizedState||(u.flags|=1024),v=!1)}return Y1(l,u,m,v,A,S)}function Y1(l,u,m,v,S,A){cj(l,u);var L=(u.flags&128)!==0;if(!v&&!L)return S&&mO(u,m,!1),Is(l,u,A);v=u.stateNode,PQ.current=u;var z=L&&typeof m.getDerivedStateFromError!="function"?null:v.render();return u.flags|=1,l!==null&&L?(u.child=ku(u,l.child,null,A),u.child=ku(u,null,z,A)):bn(l,u,z,A),u.memoizedState=v.state,S&&mO(u,m,!0),u.child}function dj(l){var u=l.stateNode;u.pendingContext?hO(l,u.pendingContext,u.pendingContext!==u.context):u.context&&hO(l,u.context,!1),R1(l,u.containerInfo)}function fj(l,u,m,v,S){return Au(),T1(S),u.flags|=256,bn(l,u,m,v),u.child}var X1={dehydrated:null,treeContext:null,retryLane:0};function Q1(l){return{baseLanes:l,cachePool:null,transitions:null}}function hj(l,u,m){var v=u.pendingProps,S=Ht.current,A=!1,L=(u.flags&128)!==0,z;if((z=L)||(z=l!==null&&l.memoizedState===null?!1:(S&2)!==0),z?(A=!0,u.flags&=-129):(l===null||l.memoizedState!==null)&&(S|=1),Pt(Ht,S&1),l===null)return S1(u),l=u.memoizedState,l!==null&&(l=l.dehydrated,l!==null)?((u.mode&1)===0?u.lanes=1:l.data==="$!"?u.lanes=8:u.lanes=1073741824,null):(L=v.children,l=v.fallback,A?(v=u.mode,A=u.child,L={mode:"hidden",children:L},(v&1)===0&&A!==null?(A.childLanes=0,A.pendingProps=L):A=Og(L,v,0,null),l=Kl(l,v,m,null),A.return=u,l.return=u,A.sibling=l,u.child=A,u.child.memoizedState=Q1(m),u.memoizedState=X1,l):J1(u,L));if(S=l.memoizedState,S!==null&&(z=S.dehydrated,z!==null))return CQ(l,u,L,v,z,S,m);if(A){A=v.fallback,L=u.mode,S=l.child,z=S.sibling;var W={mode:"hidden",children:v.children};return(L&1)===0&&u.child!==S?(v=u.child,v.childLanes=0,v.pendingProps=W,u.deletions=null):(v=Mo(S,W),v.subtreeFlags=S.subtreeFlags&14680064),z!==null?A=Mo(z,A):(A=Kl(A,L,m,null),A.flags|=2),A.return=u,v.return=u,v.sibling=A,u.child=v,v=A,A=u.child,L=l.child.memoizedState,L=L===null?Q1(m):{baseLanes:L.baseLanes|m,cachePool:null,transitions:L.transitions},A.memoizedState=L,A.childLanes=l.childLanes&~m,u.memoizedState=X1,v}return A=l.child,l=A.sibling,v=Mo(A,{mode:"visible",children:v.children}),(u.mode&1)===0&&(v.lanes=m),v.return=u,v.sibling=null,l!==null&&(m=u.deletions,m===null?(u.deletions=[l],u.flags|=16):m.push(l)),u.child=v,u.memoizedState=null,v}function J1(l,u){return u=Og({mode:"visible",children:u},l.mode,0,null),u.return=l,l.child=u}function xg(l,u,m,v){return v!==null&&T1(v),ku(u,l.child,null,m),l=J1(u,u.pendingProps.children),l.flags|=2,u.memoizedState=null,l}function CQ(l,u,m,v,S,A,L){if(m)return u.flags&256?(u.flags&=-257,v=H1(Error(r(422))),xg(l,u,L,v)):u.memoizedState!==null?(u.child=l.child,u.flags|=128,null):(A=v.fallback,S=u.mode,v=Og({mode:"visible",children:v.children},S,0,null),A=Kl(A,S,L,null),A.flags|=2,v.return=u,A.return=u,v.sibling=A,u.child=v,(u.mode&1)!==0&&ku(u,l.child,null,L),u.child.memoizedState=Q1(L),u.memoizedState=X1,A);if((u.mode&1)===0)return xg(l,u,L,null);if(S.data==="$!"){if(v=S.nextSibling&&S.nextSibling.dataset,v)var z=v.dgst;return v=z,A=Error(r(419)),v=H1(A,v,void 0),xg(l,u,L,v)}if(z=(L&l.childLanes)!==0,Rn||z){if(v=Ir,v!==null){switch(L&-L){case 4:S=2;break;case 16:S=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:S=32;break;case 536870912:S=268435456;break;default:S=0}S=(S&(v.suspendedLanes|L))!==0?0:S,S!==0&&S!==A.retryLane&&(A.retryLane=S,As(l,S),Xi(v,l,S,-1))}return pw(),v=H1(Error(r(421))),xg(l,u,L,v)}return S.data==="$?"?(u.flags|=128,u.child=l.child,u=zQ.bind(null,l),S._reactRetry=u,null):(l=A.treeContext,ri=To(S.nextSibling),ti=u,$t=!0,Hi=null,l!==null&&(bi[xi++]=Ss,bi[xi++]=Ts,bi[xi++]=$l,Ss=l.id,Ts=l.overflow,$l=u),u=J1(u,v.children),u.flags|=4096,u)}function pj(l,u,m){l.lanes|=u;var v=l.alternate;v!==null&&(v.lanes|=u),P1(l.return,u,m)}function Z1(l,u,m,v,S){var A=l.memoizedState;A===null?l.memoizedState={isBackwards:u,rendering:null,renderingStartTime:0,last:v,tail:m,tailMode:S}:(A.isBackwards=u,A.rendering=null,A.renderingStartTime=0,A.last=v,A.tail=m,A.tailMode=S)}function mj(l,u,m){var v=u.pendingProps,S=v.revealOrder,A=v.tail;if(bn(l,u,v.children,m),v=Ht.current,(v&2)!==0)v=v&1|2,u.flags|=128;else{if(l!==null&&(l.flags&128)!==0)e:for(l=u.child;l!==null;){if(l.tag===13)l.memoizedState!==null&&pj(l,m,u);else if(l.tag===19)pj(l,m,u);else if(l.child!==null){l.child.return=l,l=l.child;continue}if(l===u)break e;for(;l.sibling===null;){if(l.return===null||l.return===u)break e;l=l.return}l.sibling.return=l.return,l=l.sibling}v&=1}if(Pt(Ht,v),(u.mode&1)===0)u.memoizedState=null;else switch(S){case"forwards":for(m=u.child,S=null;m!==null;)l=m.alternate,l!==null&&hg(l)===null&&(S=m),m=m.sibling;m=S,m===null?(S=u.child,u.child=null):(S=m.sibling,m.sibling=null),Z1(u,!1,S,m,A);break;case"backwards":for(m=null,S=u.child,u.child=null;S!==null;){if(l=S.alternate,l!==null&&hg(l)===null){u.child=S;break}l=S.sibling,S.sibling=m,m=S,S=l}Z1(u,!0,m,null,A);break;case"together":Z1(u,!1,null,null,void 0);break;default:u.memoizedState=null}return u.child}function wg(l,u){(u.mode&1)===0&&l!==null&&(l.alternate=null,u.alternate=null,u.flags|=2)}function Is(l,u,m){if(l!==null&&(u.dependencies=l.dependencies),Bl|=u.lanes,(m&u.childLanes)===0)return null;if(l!==null&&u.child!==l.child)throw Error(r(153));if(u.child!==null){for(l=u.child,m=Mo(l,l.pendingProps),u.child=m,m.return=u;l.sibling!==null;)l=l.sibling,m=m.sibling=Mo(l,l.pendingProps),m.return=u;m.sibling=null}return u.child}function NQ(l,u,m){switch(u.tag){case 3:dj(u),Au();break;case 5:PO(u);break;case 1:Nn(u.type)&&ng(u);break;case 4:R1(u,u.stateNode.containerInfo);break;case 10:var v=u.type._context,S=u.memoizedProps.value;Pt(cg,v._currentValue),v._currentValue=S;break;case 13:if(v=u.memoizedState,v!==null)return v.dehydrated!==null?(Pt(Ht,Ht.current&1),u.flags|=128,null):(m&u.child.childLanes)!==0?hj(l,u,m):(Pt(Ht,Ht.current&1),l=Is(l,u,m),l!==null?l.sibling:null);Pt(Ht,Ht.current&1);break;case 19:if(v=(m&u.childLanes)!==0,(l.flags&128)!==0){if(v)return mj(l,u,m);u.flags|=128}if(S=u.memoizedState,S!==null&&(S.rendering=null,S.tail=null,S.lastEffect=null),Pt(Ht,Ht.current),v)break;return null;case 22:case 23:return u.lanes=0,lj(l,u,m)}return Is(l,u,m)}var gj,ew,yj,vj;gj=function(l,u){for(var m=u.child;m!==null;){if(m.tag===5||m.tag===6)l.appendChild(m.stateNode);else if(m.tag!==4&&m.child!==null){m.child.return=m,m=m.child;continue}if(m===u)break;for(;m.sibling===null;){if(m.return===null||m.return===u)return;m=m.return}m.sibling.return=m.return,m=m.sibling}},ew=function(){},yj=function(l,u,m,v){var S=l.memoizedProps;if(S!==v){l=u.stateNode,ql(Ra.current);var A=null;switch(m){case"input":S=Ye(l,S),v=Ye(l,v),A=[];break;case"select":S=ie({},S,{value:void 0}),v=ie({},v,{value:void 0}),A=[];break;case"textarea":S=We(l,S),v=We(l,v),A=[];break;default:typeof S.onClick!="function"&&typeof v.onClick=="function"&&(l.onclick=eg)}Hn(m,v);var L;m=null;for(ee in S)if(!v.hasOwnProperty(ee)&&S.hasOwnProperty(ee)&&S[ee]!=null)if(ee==="style"){var z=S[ee];for(L in z)z.hasOwnProperty(L)&&(m||(m={}),m[L]="")}else ee!=="dangerouslySetInnerHTML"&&ee!=="children"&&ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&ee!=="autoFocus"&&(i.hasOwnProperty(ee)?A||(A=[]):(A=A||[]).push(ee,null));for(ee in v){var W=v[ee];if(z=S?.[ee],v.hasOwnProperty(ee)&&W!==z&&(W!=null||z!=null))if(ee==="style")if(z){for(L in z)!z.hasOwnProperty(L)||W&&W.hasOwnProperty(L)||(m||(m={}),m[L]="");for(L in W)W.hasOwnProperty(L)&&z[L]!==W[L]&&(m||(m={}),m[L]=W[L])}else m||(A||(A=[]),A.push(ee,m)),m=W;else ee==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,z=z?z.__html:void 0,W!=null&&z!==W&&(A=A||[]).push(ee,W)):ee==="children"?typeof W!="string"&&typeof W!="number"||(A=A||[]).push(ee,""+W):ee!=="suppressContentEditableWarning"&&ee!=="suppressHydrationWarning"&&(i.hasOwnProperty(ee)?(W!=null&&ee==="onScroll"&&Rt("scroll",l),A||z===W||(A=[])):(A=A||[]).push(ee,W))}m&&(A=A||[]).push("style",m);var ee=A;(u.updateQueue=ee)&&(u.flags|=4)}},vj=function(l,u,m,v){m!==v&&(u.flags|=4)};function Xf(l,u){if(!$t)switch(l.tailMode){case"hidden":u=l.tail;for(var m=null;u!==null;)u.alternate!==null&&(m=u),u=u.sibling;m===null?l.tail=null:m.sibling=null;break;case"collapsed":m=l.tail;for(var v=null;m!==null;)m.alternate!==null&&(v=m),m=m.sibling;v===null?u||l.tail===null?l.tail=null:l.tail.sibling=null:v.sibling=null}}function sn(l){var u=l.alternate!==null&&l.alternate.child===l.child,m=0,v=0;if(u)for(var S=l.child;S!==null;)m|=S.lanes|S.childLanes,v|=S.subtreeFlags&14680064,v|=S.flags&14680064,S.return=l,S=S.sibling;else for(S=l.child;S!==null;)m|=S.lanes|S.childLanes,v|=S.subtreeFlags,v|=S.flags,S.return=l,S=S.sibling;return l.subtreeFlags|=v,l.childLanes=m,u}function RQ(l,u,m){var v=u.pendingProps;switch(_1(u),u.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return sn(u),null;case 1:return Nn(u.type)&&rg(),sn(u),null;case 3:return v=u.stateNode,Cu(),Ot(Cn),Ot(nn),D1(),v.pendingContext&&(v.context=v.pendingContext,v.pendingContext=null),(l===null||l.child===null)&&(og(u)?u.flags|=4:l===null||l.memoizedState.isDehydrated&&(u.flags&256)===0||(u.flags|=1024,Hi!==null&&(dw(Hi),Hi=null))),ew(l,u),sn(u),null;case 5:O1(u);var S=ql(Wf.current);if(m=u.type,l!==null&&u.stateNode!=null)yj(l,u,m,v,S),l.ref!==u.ref&&(u.flags|=512,u.flags|=2097152);else{if(!v){if(u.stateNode===null)throw Error(r(166));return sn(u),null}if(l=ql(Ra.current),og(u)){v=u.stateNode,m=u.type;var A=u.memoizedProps;switch(v[Na]=u,v[Vf]=A,l=(u.mode&1)!==0,m){case"dialog":Rt("cancel",v),Rt("close",v);break;case"iframe":case"object":case"embed":Rt("load",v);break;case"video":case"audio":for(S=0;S<Lf.length;S++)Rt(Lf[S],v);break;case"source":Rt("error",v);break;case"img":case"image":case"link":Rt("error",v),Rt("load",v);break;case"details":Rt("toggle",v);break;case"input":Me(v,A),Rt("invalid",v);break;case"select":v._wrapperState={wasMultiple:!!A.multiple},Rt("invalid",v);break;case"textarea":it(v,A),Rt("invalid",v)}Hn(m,A),S=null;for(var L in A)if(A.hasOwnProperty(L)){var z=A[L];L==="children"?typeof z=="string"?v.textContent!==z&&(A.suppressHydrationWarning!==!0&&Zm(v.textContent,z,l),S=["children",z]):typeof z=="number"&&v.textContent!==""+z&&(A.suppressHydrationWarning!==!0&&Zm(v.textContent,z,l),S=["children",""+z]):i.hasOwnProperty(L)&&z!=null&&L==="onScroll"&&Rt("scroll",v)}switch(m){case"input":He(v),rr(v,A,!0);break;case"textarea":He(v),ur(v);break;case"select":case"option":break;default:typeof A.onClick=="function"&&(v.onclick=eg)}v=S,u.updateQueue=v,v!==null&&(u.flags|=4)}else{L=S.nodeType===9?S:S.ownerDocument,l==="http://www.w3.org/1999/xhtml"&&(l=ct(m)),l==="http://www.w3.org/1999/xhtml"?m==="script"?(l=L.createElement("div"),l.innerHTML="<script><\/script>",l=l.removeChild(l.firstChild)):typeof v.is=="string"?l=L.createElement(m,{is:v.is}):(l=L.createElement(m),m==="select"&&(L=l,v.multiple?L.multiple=!0:v.size&&(L.size=v.size))):l=L.createElementNS(l,m),l[Na]=u,l[Vf]=v,gj(l,u,!1,!1),u.stateNode=l;e:{switch(L=po(m,v),m){case"dialog":Rt("cancel",l),Rt("close",l),S=v;break;case"iframe":case"object":case"embed":Rt("load",l),S=v;break;case"video":case"audio":for(S=0;S<Lf.length;S++)Rt(Lf[S],l);S=v;break;case"source":Rt("error",l),S=v;break;case"img":case"image":case"link":Rt("error",l),Rt("load",l),S=v;break;case"details":Rt("toggle",l),S=v;break;case"input":Me(l,v),S=Ye(l,v),Rt("invalid",l);break;case"option":S=v;break;case"select":l._wrapperState={wasMultiple:!!v.multiple},S=ie({},v,{value:void 0}),Rt("invalid",l);break;case"textarea":it(l,v),S=We(l,v),Rt("invalid",l);break;default:S=v}Hn(m,S),z=S;for(A in z)if(z.hasOwnProperty(A)){var W=z[A];A==="style"?dr(l,W):A==="dangerouslySetInnerHTML"?(W=W?W.__html:void 0,W!=null&&yn(l,W)):A==="children"?typeof W=="string"?(m!=="textarea"||W!=="")&&Vr(l,W):typeof W=="number"&&Vr(l,""+W):A!=="suppressContentEditableWarning"&&A!=="suppressHydrationWarning"&&A!=="autoFocus"&&(i.hasOwnProperty(A)?W!=null&&A==="onScroll"&&Rt("scroll",l):W!=null&&P(l,A,W,L))}switch(m){case"input":He(l),rr(l,v,!1);break;case"textarea":He(l),ur(l);break;case"option":v.value!=null&&l.setAttribute("value",""+De(v.value));break;case"select":l.multiple=!!v.multiple,A=v.value,A!=null?cr(l,!!v.multiple,A,!1):v.defaultValue!=null&&cr(l,!!v.multiple,v.defaultValue,!0);break;default:typeof S.onClick=="function"&&(l.onclick=eg)}switch(m){case"button":case"input":case"select":case"textarea":v=!!v.autoFocus;break e;case"img":v=!0;break e;default:v=!1}}v&&(u.flags|=4)}u.ref!==null&&(u.flags|=512,u.flags|=2097152)}return sn(u),null;case 6:if(l&&u.stateNode!=null)vj(l,u,l.memoizedProps,v);else{if(typeof v!="string"&&u.stateNode===null)throw Error(r(166));if(m=ql(Wf.current),ql(Ra.current),og(u)){if(v=u.stateNode,m=u.memoizedProps,v[Na]=u,(A=v.nodeValue!==m)&&(l=ti,l!==null))switch(l.tag){case 3:Zm(v.nodeValue,m,(l.mode&1)!==0);break;case 5:l.memoizedProps.suppressHydrationWarning!==!0&&Zm(v.nodeValue,m,(l.mode&1)!==0)}A&&(u.flags|=4)}else v=(m.nodeType===9?m:m.ownerDocument).createTextNode(v),v[Na]=u,u.stateNode=v}return sn(u),null;case 13:if(Ot(Ht),v=u.memoizedState,l===null||l.memoizedState!==null&&l.memoizedState.dehydrated!==null){if($t&&ri!==null&&(u.mode&1)!==0&&(u.flags&128)===0)wO(),Au(),u.flags|=98560,A=!1;else if(A=og(u),v!==null&&v.dehydrated!==null){if(l===null){if(!A)throw Error(r(318));if(A=u.memoizedState,A=A!==null?A.dehydrated:null,!A)throw Error(r(317));A[Na]=u}else Au(),(u.flags&128)===0&&(u.memoizedState=null),u.flags|=4;sn(u),A=!1}else Hi!==null&&(dw(Hi),Hi=null),A=!0;if(!A)return u.flags&65536?u:null}return(u.flags&128)!==0?(u.lanes=m,u):(v=v!==null,v!==(l!==null&&l.memoizedState!==null)&&v&&(u.child.flags|=8192,(u.mode&1)!==0&&(l===null||(Ht.current&1)!==0?wr===0&&(wr=3):pw())),u.updateQueue!==null&&(u.flags|=4),sn(u),null);case 4:return Cu(),ew(l,u),l===null&&Ff(u.stateNode.containerInfo),sn(u),null;case 10:return I1(u.type._context),sn(u),null;case 17:return Nn(u.type)&&rg(),sn(u),null;case 19:if(Ot(Ht),A=u.memoizedState,A===null)return sn(u),null;if(v=(u.flags&128)!==0,L=A.rendering,L===null)if(v)Xf(A,!1);else{if(wr!==0||l!==null&&(l.flags&128)!==0)for(l=u.child;l!==null;){if(L=hg(l),L!==null){for(u.flags|=128,Xf(A,!1),v=L.updateQueue,v!==null&&(u.updateQueue=v,u.flags|=4),u.subtreeFlags=0,v=m,m=u.child;m!==null;)A=m,l=v,A.flags&=14680066,L=A.alternate,L===null?(A.childLanes=0,A.lanes=l,A.child=null,A.subtreeFlags=0,A.memoizedProps=null,A.memoizedState=null,A.updateQueue=null,A.dependencies=null,A.stateNode=null):(A.childLanes=L.childLanes,A.lanes=L.lanes,A.child=L.child,A.subtreeFlags=0,A.deletions=null,A.memoizedProps=L.memoizedProps,A.memoizedState=L.memoizedState,A.updateQueue=L.updateQueue,A.type=L.type,l=L.dependencies,A.dependencies=l===null?null:{lanes:l.lanes,firstContext:l.firstContext}),m=m.sibling;return Pt(Ht,Ht.current&1|2),u.child}l=l.sibling}A.tail!==null&&Nt()>ju&&(u.flags|=128,v=!0,Xf(A,!1),u.lanes=4194304)}else{if(!v)if(l=hg(L),l!==null){if(u.flags|=128,v=!0,m=l.updateQueue,m!==null&&(u.updateQueue=m,u.flags|=4),Xf(A,!0),A.tail===null&&A.tailMode==="hidden"&&!L.alternate&&!$t)return sn(u),null}else 2*Nt()-A.renderingStartTime>ju&&m!==1073741824&&(u.flags|=128,v=!0,Xf(A,!1),u.lanes=4194304);A.isBackwards?(L.sibling=u.child,u.child=L):(m=A.last,m!==null?m.sibling=L:u.child=L,A.last=L)}return A.tail!==null?(u=A.tail,A.rendering=u,A.tail=u.sibling,A.renderingStartTime=Nt(),u.sibling=null,m=Ht.current,Pt(Ht,v?m&1|2:m&1),u):(sn(u),null);case 22:case 23:return hw(),v=u.memoizedState!==null,l!==null&&l.memoizedState!==null!==v&&(u.flags|=8192),v&&(u.mode&1)!==0?(ni&1073741824)!==0&&(sn(u),u.subtreeFlags&6&&(u.flags|=8192)):sn(u),null;case 24:return null;case 25:return null}throw Error(r(156,u.tag))}function OQ(l,u){switch(_1(u),u.tag){case 1:return Nn(u.type)&&rg(),l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 3:return Cu(),Ot(Cn),Ot(nn),D1(),l=u.flags,(l&65536)!==0&&(l&128)===0?(u.flags=l&-65537|128,u):null;case 5:return O1(u),null;case 13:if(Ot(Ht),l=u.memoizedState,l!==null&&l.dehydrated!==null){if(u.alternate===null)throw Error(r(340));Au()}return l=u.flags,l&65536?(u.flags=l&-65537|128,u):null;case 19:return Ot(Ht),null;case 4:return Cu(),null;case 10:return I1(u.type._context),null;case 22:case 23:return hw(),null;case 24:return null;default:return null}}var _g=!1,on=!1,jQ=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Ru(l,u){var m=l.ref;if(m!==null)if(typeof m=="function")try{m(null)}catch(v){Jt(l,u,v)}else m.current=null}function tw(l,u,m){try{m()}catch(v){Jt(l,u,v)}}var bj=!1;function DQ(l,u){if(h1=bs,l=QR(),a1(l)){if("selectionStart"in l)var m={start:l.selectionStart,end:l.selectionEnd};else e:{m=(m=l.ownerDocument)&&m.defaultView||window;var v=m.getSelection&&m.getSelection();if(v&&v.rangeCount!==0){m=v.anchorNode;var S=v.anchorOffset,A=v.focusNode;v=v.focusOffset;try{m.nodeType,A.nodeType}catch{m=null;break e}var L=0,z=-1,W=-1,ee=0,me=0,ge=l,he=null;t:for(;;){for(var Te;ge!==m||S!==0&&ge.nodeType!==3||(z=L+S),ge!==A||v!==0&&ge.nodeType!==3||(W=L+v),ge.nodeType===3&&(L+=ge.nodeValue.length),(Te=ge.firstChild)!==null;)he=ge,ge=Te;for(;;){if(ge===l)break t;if(he===m&&++ee===S&&(z=L),he===A&&++me===v&&(W=L),(Te=ge.nextSibling)!==null)break;ge=he,he=ge.parentNode}ge=Te}m=z===-1||W===-1?null:{start:z,end:W}}else m=null}m=m||{start:0,end:0}}else m=null;for(p1={focusedElem:l,selectionRange:m},bs=!1,Ie=u;Ie!==null;)if(u=Ie,l=u.child,(u.subtreeFlags&1028)!==0&&l!==null)l.return=u,Ie=l;else for(;Ie!==null;){u=Ie;try{var Ce=u.alternate;if((u.flags&1024)!==0)switch(u.tag){case 0:case 11:case 15:break;case 1:if(Ce!==null){var Re=Ce.memoizedProps,ar=Ce.memoizedState,K=u.stateNode,H=K.getSnapshotBeforeUpdate(u.elementType===u.type?Re:Gi(u.type,Re),ar);K.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var J=u.stateNode.containerInfo;J.nodeType===1?J.textContent="":J.nodeType===9&&J.documentElement&&J.removeChild(J.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(r(163))}}catch(be){Jt(u,u.return,be)}if(l=u.sibling,l!==null){l.return=u.return,Ie=l;break}Ie=u.return}return Ce=bj,bj=!1,Ce}function Qf(l,u,m){var v=u.updateQueue;if(v=v!==null?v.lastEffect:null,v!==null){var S=v=v.next;do{if((S.tag&l)===l){var A=S.destroy;S.destroy=void 0,A!==void 0&&tw(u,m,A)}S=S.next}while(S!==v)}}function Eg(l,u){if(u=u.updateQueue,u=u!==null?u.lastEffect:null,u!==null){var m=u=u.next;do{if((m.tag&l)===l){var v=m.create;m.destroy=v()}m=m.next}while(m!==u)}}function rw(l){var u=l.ref;if(u!==null){var m=l.stateNode;l.tag,l=m,typeof u=="function"?u(l):u.current=l}}function xj(l){var u=l.alternate;u!==null&&(l.alternate=null,xj(u)),l.child=null,l.deletions=null,l.sibling=null,l.tag===5&&(u=l.stateNode,u!==null&&(delete u[Na],delete u[Vf],delete u[v1],delete u[yQ],delete u[vQ])),l.stateNode=null,l.return=null,l.dependencies=null,l.memoizedProps=null,l.memoizedState=null,l.pendingProps=null,l.stateNode=null,l.updateQueue=null}function wj(l){return l.tag===5||l.tag===3||l.tag===4}function _j(l){e:for(;;){for(;l.sibling===null;){if(l.return===null||wj(l.return))return null;l=l.return}for(l.sibling.return=l.return,l=l.sibling;l.tag!==5&&l.tag!==6&&l.tag!==18;){if(l.flags&2||l.child===null||l.tag===4)continue e;l.child.return=l,l=l.child}if(!(l.flags&2))return l.stateNode}}function nw(l,u,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?m.nodeType===8?m.parentNode.insertBefore(l,u):m.insertBefore(l,u):(m.nodeType===8?(u=m.parentNode,u.insertBefore(l,m)):(u=m,u.appendChild(l)),m=m._reactRootContainer,m!=null||u.onclick!==null||(u.onclick=eg));else if(v!==4&&(l=l.child,l!==null))for(nw(l,u,m),l=l.sibling;l!==null;)nw(l,u,m),l=l.sibling}function iw(l,u,m){var v=l.tag;if(v===5||v===6)l=l.stateNode,u?m.insertBefore(l,u):m.appendChild(l);else if(v!==4&&(l=l.child,l!==null))for(iw(l,u,m),l=l.sibling;l!==null;)iw(l,u,m),l=l.sibling}var zr=null,Ki=!1;function No(l,u,m){for(m=m.child;m!==null;)Ej(l,u,m),m=m.sibling}function Ej(l,u,m){if(Yn&&typeof Yn.onCommitFiberUnmount=="function")try{Yn.onCommitFiberUnmount(Il,m)}catch{}switch(m.tag){case 5:on||Ru(m,u);case 6:var v=zr,S=Ki;zr=null,No(l,u,m),zr=v,Ki=S,zr!==null&&(Ki?(l=zr,m=m.stateNode,l.nodeType===8?l.parentNode.removeChild(m):l.removeChild(m)):zr.removeChild(m.stateNode));break;case 18:zr!==null&&(Ki?(l=zr,m=m.stateNode,l.nodeType===8?y1(l.parentNode,m):l.nodeType===1&&y1(l,m),wo(l)):y1(zr,m.stateNode));break;case 4:v=zr,S=Ki,zr=m.stateNode.containerInfo,Ki=!0,No(l,u,m),zr=v,Ki=S;break;case 0:case 11:case 14:case 15:if(!on&&(v=m.updateQueue,v!==null&&(v=v.lastEffect,v!==null))){S=v=v.next;do{var A=S,L=A.destroy;A=A.tag,L!==void 0&&((A&2)!==0||(A&4)!==0)&&tw(m,u,L),S=S.next}while(S!==v)}No(l,u,m);break;case 1:if(!on&&(Ru(m,u),v=m.stateNode,typeof v.componentWillUnmount=="function"))try{v.props=m.memoizedProps,v.state=m.memoizedState,v.componentWillUnmount()}catch(z){Jt(m,u,z)}No(l,u,m);break;case 21:No(l,u,m);break;case 22:m.mode&1?(on=(v=on)||m.memoizedState!==null,No(l,u,m),on=v):No(l,u,m);break;default:No(l,u,m)}}function Sj(l){var u=l.updateQueue;if(u!==null){l.updateQueue=null;var m=l.stateNode;m===null&&(m=l.stateNode=new jQ),u.forEach(function(v){var S=BQ.bind(null,l,v);m.has(v)||(m.add(v),v.then(S,S))})}}function Yi(l,u){var m=u.deletions;if(m!==null)for(var v=0;v<m.length;v++){var S=m[v];try{var A=l,L=u,z=L;e:for(;z!==null;){switch(z.tag){case 5:zr=z.stateNode,Ki=!1;break e;case 3:zr=z.stateNode.containerInfo,Ki=!0;break e;case 4:zr=z.stateNode.containerInfo,Ki=!0;break e}z=z.return}if(zr===null)throw Error(r(160));Ej(A,L,S),zr=null,Ki=!1;var W=S.alternate;W!==null&&(W.return=null),S.return=null}catch(ee){Jt(S,u,ee)}}if(u.subtreeFlags&12854)for(u=u.child;u!==null;)Tj(u,l),u=u.sibling}function Tj(l,u){var m=l.alternate,v=l.flags;switch(l.tag){case 0:case 11:case 14:case 15:if(Yi(u,l),ja(l),v&4){try{Qf(3,l,l.return),Eg(3,l)}catch(Re){Jt(l,l.return,Re)}try{Qf(5,l,l.return)}catch(Re){Jt(l,l.return,Re)}}break;case 1:Yi(u,l),ja(l),v&512&&m!==null&&Ru(m,m.return);break;case 5:if(Yi(u,l),ja(l),v&512&&m!==null&&Ru(m,m.return),l.flags&32){var S=l.stateNode;try{Vr(S,"")}catch(Re){Jt(l,l.return,Re)}}if(v&4&&(S=l.stateNode,S!=null)){var A=l.memoizedProps,L=m!==null?m.memoizedProps:A,z=l.type,W=l.updateQueue;if(l.updateQueue=null,W!==null)try{z==="input"&&A.type==="radio"&&A.name!=null&&ht(S,A),po(z,L);var ee=po(z,A);for(L=0;L<W.length;L+=2){var me=W[L],ge=W[L+1];me==="style"?dr(S,ge):me==="dangerouslySetInnerHTML"?yn(S,ge):me==="children"?Vr(S,ge):P(S,me,ge,ee)}switch(z){case"input":Be(S,A);break;case"textarea":tn(S,A);break;case"select":var he=S._wrapperState.wasMultiple;S._wrapperState.wasMultiple=!!A.multiple;var Te=A.value;Te!=null?cr(S,!!A.multiple,Te,!1):he!==!!A.multiple&&(A.defaultValue!=null?cr(S,!!A.multiple,A.defaultValue,!0):cr(S,!!A.multiple,A.multiple?[]:"",!1))}S[Vf]=A}catch(Re){Jt(l,l.return,Re)}}break;case 6:if(Yi(u,l),ja(l),v&4){if(l.stateNode===null)throw Error(r(162));S=l.stateNode,A=l.memoizedProps;try{S.nodeValue=A}catch(Re){Jt(l,l.return,Re)}}break;case 3:if(Yi(u,l),ja(l),v&4&&m!==null&&m.memoizedState.isDehydrated)try{wo(u.containerInfo)}catch(Re){Jt(l,l.return,Re)}break;case 4:Yi(u,l),ja(l);break;case 13:Yi(u,l),ja(l),S=l.child,S.flags&8192&&(A=S.memoizedState!==null,S.stateNode.isHidden=A,!A||S.alternate!==null&&S.alternate.memoizedState!==null||(ow=Nt())),v&4&&Sj(l);break;case 22:if(me=m!==null&&m.memoizedState!==null,l.mode&1?(on=(ee=on)||me,Yi(u,l),on=ee):Yi(u,l),ja(l),v&8192){if(ee=l.memoizedState!==null,(l.stateNode.isHidden=ee)&&!me&&(l.mode&1)!==0)for(Ie=l,me=l.child;me!==null;){for(ge=Ie=me;Ie!==null;){switch(he=Ie,Te=he.child,he.tag){case 0:case 11:case 14:case 15:Qf(4,he,he.return);break;case 1:Ru(he,he.return);var Ce=he.stateNode;if(typeof Ce.componentWillUnmount=="function"){v=he,m=he.return;try{u=v,Ce.props=u.memoizedProps,Ce.state=u.memoizedState,Ce.componentWillUnmount()}catch(Re){Jt(v,m,Re)}}break;case 5:Ru(he,he.return);break;case 22:if(he.memoizedState!==null){Ij(ge);continue}}Te!==null?(Te.return=he,Ie=Te):Ij(ge)}me=me.sibling}e:for(me=null,ge=l;;){if(ge.tag===5){if(me===null){me=ge;try{S=ge.stateNode,ee?(A=S.style,typeof A.setProperty=="function"?A.setProperty("display","none","important"):A.display="none"):(z=ge.stateNode,W=ge.memoizedProps.style,L=W!=null&&W.hasOwnProperty("display")?W.display:null,z.style.display=nr("display",L))}catch(Re){Jt(l,l.return,Re)}}}else if(ge.tag===6){if(me===null)try{ge.stateNode.nodeValue=ee?"":ge.memoizedProps}catch(Re){Jt(l,l.return,Re)}}else if((ge.tag!==22&&ge.tag!==23||ge.memoizedState===null||ge===l)&&ge.child!==null){ge.child.return=ge,ge=ge.child;continue}if(ge===l)break e;for(;ge.sibling===null;){if(ge.return===null||ge.return===l)break e;me===ge&&(me=null),ge=ge.return}me===ge&&(me=null),ge.sibling.return=ge.return,ge=ge.sibling}}break;case 19:Yi(u,l),ja(l),v&4&&Sj(l);break;case 21:break;default:Yi(u,l),ja(l)}}function ja(l){var u=l.flags;if(u&2){try{e:{for(var m=l.return;m!==null;){if(wj(m)){var v=m;break e}m=m.return}throw Error(r(160))}switch(v.tag){case 5:var S=v.stateNode;v.flags&32&&(Vr(S,""),v.flags&=-33);var A=_j(l);iw(l,A,S);break;case 3:case 4:var L=v.stateNode.containerInfo,z=_j(l);nw(l,z,L);break;default:throw Error(r(161))}}catch(W){Jt(l,l.return,W)}l.flags&=-3}u&4096&&(l.flags&=-4097)}function MQ(l,u,m){Ie=l,Aj(l)}function Aj(l,u,m){for(var v=(l.mode&1)!==0;Ie!==null;){var S=Ie,A=S.child;if(S.tag===22&&v){var L=S.memoizedState!==null||_g;if(!L){var z=S.alternate,W=z!==null&&z.memoizedState!==null||on;z=_g;var ee=on;if(_g=L,(on=W)&&!ee)for(Ie=S;Ie!==null;)L=Ie,W=L.child,L.tag===22&&L.memoizedState!==null?Pj(S):W!==null?(W.return=L,Ie=W):Pj(S);for(;A!==null;)Ie=A,Aj(A),A=A.sibling;Ie=S,_g=z,on=ee}kj(l)}else(S.subtreeFlags&8772)!==0&&A!==null?(A.return=S,Ie=A):kj(l)}}function kj(l){for(;Ie!==null;){var u=Ie;if((u.flags&8772)!==0){var m=u.alternate;try{if((u.flags&8772)!==0)switch(u.tag){case 0:case 11:case 15:on||Eg(5,u);break;case 1:var v=u.stateNode;if(u.flags&4&&!on)if(m===null)v.componentDidMount();else{var S=u.elementType===u.type?m.memoizedProps:Gi(u.type,m.memoizedProps);v.componentDidUpdate(S,m.memoizedState,v.__reactInternalSnapshotBeforeUpdate)}var A=u.updateQueue;A!==null&&IO(u,A,v);break;case 3:var L=u.updateQueue;if(L!==null){if(m=null,u.child!==null)switch(u.child.tag){case 5:m=u.child.stateNode;break;case 1:m=u.child.stateNode}IO(u,L,m)}break;case 5:var z=u.stateNode;if(m===null&&u.flags&4){m=z;var W=u.memoizedProps;switch(u.type){case"button":case"input":case"select":case"textarea":W.autoFocus&&m.focus();break;case"img":W.src&&(m.src=W.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(u.memoizedState===null){var ee=u.alternate;if(ee!==null){var me=ee.memoizedState;if(me!==null){var ge=me.dehydrated;ge!==null&&wo(ge)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(r(163))}on||u.flags&512&&rw(u)}catch(he){Jt(u,u.return,he)}}if(u===l){Ie=null;break}if(m=u.sibling,m!==null){m.return=u.return,Ie=m;break}Ie=u.return}}function Ij(l){for(;Ie!==null;){var u=Ie;if(u===l){Ie=null;break}var m=u.sibling;if(m!==null){m.return=u.return,Ie=m;break}Ie=u.return}}function Pj(l){for(;Ie!==null;){var u=Ie;try{switch(u.tag){case 0:case 11:case 15:var m=u.return;try{Eg(4,u)}catch(W){Jt(u,m,W)}break;case 1:var v=u.stateNode;if(typeof v.componentDidMount=="function"){var S=u.return;try{v.componentDidMount()}catch(W){Jt(u,S,W)}}var A=u.return;try{rw(u)}catch(W){Jt(u,A,W)}break;case 5:var L=u.return;try{rw(u)}catch(W){Jt(u,L,W)}}}catch(W){Jt(u,u.return,W)}if(u===l){Ie=null;break}var z=u.sibling;if(z!==null){z.return=u.return,Ie=z;break}Ie=u.return}}var LQ=Math.ceil,Sg=j.ReactCurrentDispatcher,aw=j.ReactCurrentOwner,Ei=j.ReactCurrentBatchConfig,pt=0,Ir=null,hr=null,Br=0,ni=0,Ou=Ao(0),wr=0,Jf=null,Bl=0,Tg=0,sw=0,Zf=null,On=null,ow=0,ju=1/0,Ps=null,Ag=!1,lw=null,Ro=null,kg=!1,Oo=null,Ig=0,eh=0,cw=null,Pg=-1,Cg=0;function xn(){return(pt&6)!==0?Nt():Pg!==-1?Pg:Pg=Nt()}function jo(l){return(l.mode&1)===0?1:(pt&2)!==0&&Br!==0?Br&-Br:xQ.transition!==null?(Cg===0&&(Cg=wf()),Cg):(l=ut,l!==0||(l=window.event,l=l===void 0?16:cu(l.type)),l)}function Xi(l,u,m,v){if(50<eh)throw eh=0,cw=null,Error(r(185));Rl(l,m,v),((pt&2)===0||l!==Ir)&&(l===Ir&&((pt&2)===0&&(Tg|=m),wr===4&&Do(l,Br)),jn(l,v),m===1&&pt===0&&(u.mode&1)===0&&(ju=Nt()+500,ig&&Io()))}function jn(l,u){var m=l.callbackNode;Nl(l,u);var v=gs(l,l===Ir?Br:0);if(v===0)m!==null&&ru(m),l.callbackNode=null,l.callbackPriority=0;else if(u=v&-v,l.callbackPriority!==u){if(m!=null&&ru(m),u===1)l.tag===0?bQ(Nj.bind(null,l)):gO(Nj.bind(null,l)),mQ(function(){(pt&6)===0&&Io()}),m=null;else{switch(wa(v)){case 1:m=nu;break;case 4:m=vf;break;case 16:m=kl;break;case 536870912:m=iu;break;default:m=kl}m=$j(m,Cj.bind(null,l))}l.callbackPriority=u,l.callbackNode=m}}function Cj(l,u){if(Pg=-1,Cg=0,(pt&6)!==0)throw Error(r(327));var m=l.callbackNode;if(Du()&&l.callbackNode!==m)return null;var v=gs(l,l===Ir?Br:0);if(v===0)return null;if((v&30)!==0||(v&l.expiredLanes)!==0||u)u=Ng(l,v);else{u=v;var S=pt;pt|=2;var A=Oj();(Ir!==l||Br!==u)&&(Ps=null,ju=Nt()+500,Hl(l,u));do try{VQ();break}catch(z){Rj(l,z)}while(!0);k1(),Sg.current=A,pt=S,hr!==null?u=0:(Ir=null,Br=0,u=wr)}if(u!==0){if(u===2&&(S=xf(l),S!==0&&(v=S,u=uw(l,S))),u===1)throw m=Jf,Hl(l,0),Do(l,v),jn(l,Nt()),m;if(u===6)Do(l,v);else{if(S=l.current.alternate,(v&30)===0&&!FQ(S)&&(u=Ng(l,v),u===2&&(A=xf(l),A!==0&&(v=A,u=uw(l,A))),u===1))throw m=Jf,Hl(l,0),Do(l,v),jn(l,Nt()),m;switch(l.finishedWork=S,l.finishedLanes=v,u){case 0:case 1:throw Error(r(345));case 2:Gl(l,On,Ps);break;case 3:if(Do(l,v),(v&130023424)===v&&(u=ow+500-Nt(),10<u)){if(gs(l,0)!==0)break;if(S=l.suspendedLanes,(S&v)!==v){xn(),l.pingedLanes|=l.suspendedLanes&S;break}l.timeoutHandle=g1(Gl.bind(null,l,On,Ps),u);break}Gl(l,On,Ps);break;case 4:if(Do(l,v),(v&4194240)===v)break;for(u=l.eventTimes,S=-1;0<v;){var L=31-Xn(v);A=1<<L,L=u[L],L>S&&(S=L),v&=~A}if(v=S,v=Nt()-v,v=(120>v?120:480>v?480:1080>v?1080:1920>v?1920:3e3>v?3e3:4320>v?4320:1960*LQ(v/1960))-v,10<v){l.timeoutHandle=g1(Gl.bind(null,l,On,Ps),v);break}Gl(l,On,Ps);break;case 5:Gl(l,On,Ps);break;default:throw Error(r(329))}}}return jn(l,Nt()),l.callbackNode===m?Cj.bind(null,l):null}function uw(l,u){var m=Zf;return l.current.memoizedState.isDehydrated&&(Hl(l,u).flags|=256),l=Ng(l,u),l!==2&&(u=On,On=m,u!==null&&dw(u)),l}function dw(l){On===null?On=l:On.push.apply(On,l)}function FQ(l){for(var u=l;;){if(u.flags&16384){var m=u.updateQueue;if(m!==null&&(m=m.stores,m!==null))for(var v=0;v<m.length;v++){var S=m[v],A=S.getSnapshot;S=S.value;try{if(!Wi(A(),S))return!1}catch{return!1}}}if(m=u.child,u.subtreeFlags&16384&&m!==null)m.return=u,u=m;else{if(u===l)break;for(;u.sibling===null;){if(u.return===null||u.return===l)return!0;u=u.return}u.sibling.return=u.return,u=u.sibling}}return!0}function Do(l,u){for(u&=~sw,u&=~Tg,l.suspendedLanes|=u,l.pingedLanes&=~u,l=l.expirationTimes;0<u;){var m=31-Xn(u),v=1<<m;l[m]=-1,u&=~v}}function Nj(l){if((pt&6)!==0)throw Error(r(327));Du();var u=gs(l,0);if((u&1)===0)return jn(l,Nt()),null;var m=Ng(l,u);if(l.tag!==0&&m===2){var v=xf(l);v!==0&&(u=v,m=uw(l,v))}if(m===1)throw m=Jf,Hl(l,0),Do(l,u),jn(l,Nt()),m;if(m===6)throw Error(r(345));return l.finishedWork=l.current.alternate,l.finishedLanes=u,Gl(l,On,Ps),jn(l,Nt()),null}function fw(l,u){var m=pt;pt|=1;try{return l(u)}finally{pt=m,pt===0&&(ju=Nt()+500,ig&&Io())}}function Wl(l){Oo!==null&&Oo.tag===0&&(pt&6)===0&&Du();var u=pt;pt|=1;var m=Ei.transition,v=ut;try{if(Ei.transition=null,ut=1,l)return l()}finally{ut=v,Ei.transition=m,pt=u,(pt&6)===0&&Io()}}function hw(){ni=Ou.current,Ot(Ou)}function Hl(l,u){l.finishedWork=null,l.finishedLanes=0;var m=l.timeoutHandle;if(m!==-1&&(l.timeoutHandle=-1,pQ(m)),hr!==null)for(m=hr.return;m!==null;){var v=m;switch(_1(v),v.tag){case 1:v=v.type.childContextTypes,v!=null&&rg();break;case 3:Cu(),Ot(Cn),Ot(nn),D1();break;case 5:O1(v);break;case 4:Cu();break;case 13:Ot(Ht);break;case 19:Ot(Ht);break;case 10:I1(v.type._context);break;case 22:case 23:hw()}m=m.return}if(Ir=l,hr=l=Mo(l.current,null),Br=ni=u,wr=0,Jf=null,sw=Tg=Bl=0,On=Zf=null,Ul!==null){for(u=0;u<Ul.length;u++)if(m=Ul[u],v=m.interleaved,v!==null){m.interleaved=null;var S=v.next,A=m.pending;if(A!==null){var L=A.next;A.next=S,v.next=L}m.pending=v}Ul=null}return l}function Rj(l,u){do{var m=hr;try{if(k1(),pg.current=vg,mg){for(var v=Gt.memoizedState;v!==null;){var S=v.queue;S!==null&&(S.pending=null),v=v.next}mg=!1}if(zl=0,kr=xr=Gt=null,Hf=!1,Gf=0,aw.current=null,m===null||m.return===null){wr=1,Jf=u,hr=null;break}e:{var A=l,L=m.return,z=m,W=u;if(u=Br,z.flags|=32768,W!==null&&typeof W=="object"&&typeof W.then=="function"){var ee=W,me=z,ge=me.tag;if((me.mode&1)===0&&(ge===0||ge===11||ge===15)){var he=me.alternate;he?(me.updateQueue=he.updateQueue,me.memoizedState=he.memoizedState,me.lanes=he.lanes):(me.updateQueue=null,me.memoizedState=null)}var Te=nj(L);if(Te!==null){Te.flags&=-257,ij(Te,L,z,A,u),Te.mode&1&&rj(A,ee,u),u=Te,W=ee;var Ce=u.updateQueue;if(Ce===null){var Re=new Set;Re.add(W),u.updateQueue=Re}else Ce.add(W);break e}else{if((u&1)===0){rj(A,ee,u),pw();break e}W=Error(r(426))}}else if($t&&z.mode&1){var ar=nj(L);if(ar!==null){(ar.flags&65536)===0&&(ar.flags|=256),ij(ar,L,z,A,u),T1(Nu(W,z));break e}}A=W=Nu(W,z),wr!==4&&(wr=2),Zf===null?Zf=[A]:Zf.push(A),A=L;do{switch(A.tag){case 3:A.flags|=65536,u&=-u,A.lanes|=u;var K=ej(A,W,u);kO(A,K);break e;case 1:z=W;var H=A.type,J=A.stateNode;if((A.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||J!==null&&typeof J.componentDidCatch=="function"&&(Ro===null||!Ro.has(J)))){A.flags|=65536,u&=-u,A.lanes|=u;var be=tj(A,z,u);kO(A,be);break e}}A=A.return}while(A!==null)}Dj(m)}catch(Oe){u=Oe,hr===m&&m!==null&&(hr=m=m.return);continue}break}while(!0)}function Oj(){var l=Sg.current;return Sg.current=vg,l===null?vg:l}function pw(){(wr===0||wr===3||wr===2)&&(wr=4),Ir===null||(Bl&268435455)===0&&(Tg&268435455)===0||Do(Ir,Br)}function Ng(l,u){var m=pt;pt|=2;var v=Oj();(Ir!==l||Br!==u)&&(Ps=null,Hl(l,u));do try{$Q();break}catch(S){Rj(l,S)}while(!0);if(k1(),pt=m,Sg.current=v,hr!==null)throw Error(r(261));return Ir=null,Br=0,wr}function $Q(){for(;hr!==null;)jj(hr)}function VQ(){for(;hr!==null&&!Al();)jj(hr)}function jj(l){var u=Fj(l.alternate,l,ni);l.memoizedProps=l.pendingProps,u===null?Dj(l):hr=u,aw.current=null}function Dj(l){var u=l;do{var m=u.alternate;if(l=u.return,(u.flags&32768)===0){if(m=RQ(m,u,ni),m!==null){hr=m;return}}else{if(m=OQ(m,u),m!==null){m.flags&=32767,hr=m;return}if(l!==null)l.flags|=32768,l.subtreeFlags=0,l.deletions=null;else{wr=6,hr=null;return}}if(u=u.sibling,u!==null){hr=u;return}hr=u=l}while(u!==null);wr===0&&(wr=5)}function Gl(l,u,m){var v=ut,S=Ei.transition;try{Ei.transition=null,ut=1,UQ(l,u,m,v)}finally{Ei.transition=S,ut=v}return null}function UQ(l,u,m,v){do Du();while(Oo!==null);if((pt&6)!==0)throw Error(r(327));m=l.finishedWork;var S=l.finishedLanes;if(m===null)return null;if(l.finishedWork=null,l.finishedLanes=0,m===l.current)throw Error(r(177));l.callbackNode=null,l.callbackPriority=0;var A=m.lanes|m.childLanes;if(e1(l,A),l===Ir&&(hr=Ir=null,Br=0),(m.subtreeFlags&2064)===0&&(m.flags&2064)===0||kg||(kg=!0,$j(kl,function(){return Du(),null})),A=(m.flags&15990)!==0,(m.subtreeFlags&15990)!==0||A){A=Ei.transition,Ei.transition=null;var L=ut;ut=1;var z=pt;pt|=4,aw.current=null,DQ(l,m),Tj(m,l),oQ(p1),bs=!!h1,p1=h1=null,l.current=m,MQ(m),ms(),pt=z,ut=L,Ei.transition=A}else l.current=m;if(kg&&(kg=!1,Oo=l,Ig=S),A=l.pendingLanes,A===0&&(Ro=null),Fm(m.stateNode),jn(l,Nt()),u!==null)for(v=l.onRecoverableError,m=0;m<u.length;m++)S=u[m],v(S.value,{componentStack:S.stack,digest:S.digest});if(Ag)throw Ag=!1,l=lw,lw=null,l;return(Ig&1)!==0&&l.tag!==0&&Du(),A=l.pendingLanes,(A&1)!==0?l===cw?eh++:(eh=0,cw=l):eh=0,Io(),null}function Du(){if(Oo!==null){var l=wa(Ig),u=Ei.transition,m=ut;try{if(Ei.transition=null,ut=16>l?16:l,Oo===null)var v=!1;else{if(l=Oo,Oo=null,Ig=0,(pt&6)!==0)throw Error(r(331));var S=pt;for(pt|=4,Ie=l.current;Ie!==null;){var A=Ie,L=A.child;if((Ie.flags&16)!==0){var z=A.deletions;if(z!==null){for(var W=0;W<z.length;W++){var ee=z[W];for(Ie=ee;Ie!==null;){var me=Ie;switch(me.tag){case 0:case 11:case 15:Qf(8,me,A)}var ge=me.child;if(ge!==null)ge.return=me,Ie=ge;else for(;Ie!==null;){me=Ie;var he=me.sibling,Te=me.return;if(xj(me),me===ee){Ie=null;break}if(he!==null){he.return=Te,Ie=he;break}Ie=Te}}}var Ce=A.alternate;if(Ce!==null){var Re=Ce.child;if(Re!==null){Ce.child=null;do{var ar=Re.sibling;Re.sibling=null,Re=ar}while(Re!==null)}}Ie=A}}if((A.subtreeFlags&2064)!==0&&L!==null)L.return=A,Ie=L;else e:for(;Ie!==null;){if(A=Ie,(A.flags&2048)!==0)switch(A.tag){case 0:case 11:case 15:Qf(9,A,A.return)}var K=A.sibling;if(K!==null){K.return=A.return,Ie=K;break e}Ie=A.return}}var H=l.current;for(Ie=H;Ie!==null;){L=Ie;var J=L.child;if((L.subtreeFlags&2064)!==0&&J!==null)J.return=L,Ie=J;else e:for(L=H;Ie!==null;){if(z=Ie,(z.flags&2048)!==0)try{switch(z.tag){case 0:case 11:case 15:Eg(9,z)}}catch(Oe){Jt(z,z.return,Oe)}if(z===L){Ie=null;break e}var be=z.sibling;if(be!==null){be.return=z.return,Ie=be;break e}Ie=z.return}}if(pt=S,Io(),Yn&&typeof Yn.onPostCommitFiberRoot=="function")try{Yn.onPostCommitFiberRoot(Il,l)}catch{}v=!0}return v}finally{ut=m,Ei.transition=u}}return!1}function Mj(l,u,m){u=Nu(m,u),u=ej(l,u,1),l=Co(l,u,1),u=xn(),l!==null&&(Rl(l,1,u),jn(l,u))}function Jt(l,u,m){if(l.tag===3)Mj(l,l,m);else for(;u!==null;){if(u.tag===3){Mj(u,l,m);break}else if(u.tag===1){var v=u.stateNode;if(typeof u.type.getDerivedStateFromError=="function"||typeof v.componentDidCatch=="function"&&(Ro===null||!Ro.has(v))){l=Nu(m,l),l=tj(u,l,1),u=Co(u,l,1),l=xn(),u!==null&&(Rl(u,1,l),jn(u,l));break}}u=u.return}}function qQ(l,u,m){var v=l.pingCache;v!==null&&v.delete(u),u=xn(),l.pingedLanes|=l.suspendedLanes&m,Ir===l&&(Br&m)===m&&(wr===4||wr===3&&(Br&130023424)===Br&&500>Nt()-ow?Hl(l,0):sw|=m),jn(l,u)}function Lj(l,u){u===0&&((l.mode&1)===0?u=1:(u=vo,vo<<=1,(vo&130023424)===0&&(vo=4194304)));var m=xn();l=As(l,u),l!==null&&(Rl(l,u,m),jn(l,m))}function zQ(l){var u=l.memoizedState,m=0;u!==null&&(m=u.retryLane),Lj(l,m)}function BQ(l,u){var m=0;switch(l.tag){case 13:var v=l.stateNode,S=l.memoizedState;S!==null&&(m=S.retryLane);break;case 19:v=l.stateNode;break;default:throw Error(r(314))}v!==null&&v.delete(u),Lj(l,m)}var Fj;Fj=function(l,u,m){if(l!==null)if(l.memoizedProps!==u.pendingProps||Cn.current)Rn=!0;else{if((l.lanes&m)===0&&(u.flags&128)===0)return Rn=!1,NQ(l,u,m);Rn=(l.flags&131072)!==0}else Rn=!1,$t&&(u.flags&1048576)!==0&&yO(u,sg,u.index);switch(u.lanes=0,u.tag){case 2:var v=u.type;wg(l,u),l=u.pendingProps;var S=Eu(u,nn.current);Pu(u,m),S=F1(null,u,v,l,S,m);var A=$1();return u.flags|=1,typeof S=="object"&&S!==null&&typeof S.render=="function"&&S.$$typeof===void 0?(u.tag=1,u.memoizedState=null,u.updateQueue=null,Nn(v)?(A=!0,ng(u)):A=!1,u.memoizedState=S.state!==null&&S.state!==void 0?S.state:null,N1(u),S.updater=bg,u.stateNode=S,S._reactInternals=u,W1(u,v,l,m),u=Y1(null,u,v,!0,A,m)):(u.tag=0,$t&&A&&w1(u),bn(null,u,S,m),u=u.child),u;case 16:v=u.elementType;e:{switch(wg(l,u),l=u.pendingProps,S=v._init,v=S(v._payload),u.type=v,S=u.tag=HQ(v),l=Gi(v,l),S){case 0:u=K1(null,u,v,l,m);break e;case 1:u=uj(null,u,v,l,m);break e;case 11:u=aj(null,u,v,l,m);break e;case 14:u=sj(null,u,v,Gi(v.type,l),m);break e}throw Error(r(306,v,""))}return u;case 0:return v=u.type,S=u.pendingProps,S=u.elementType===v?S:Gi(v,S),K1(l,u,v,S,m);case 1:return v=u.type,S=u.pendingProps,S=u.elementType===v?S:Gi(v,S),uj(l,u,v,S,m);case 3:e:{if(dj(u),l===null)throw Error(r(387));v=u.pendingProps,A=u.memoizedState,S=A.element,AO(l,u),fg(u,v,null,m);var L=u.memoizedState;if(v=L.element,A.isDehydrated)if(A={element:v,isDehydrated:!1,cache:L.cache,pendingSuspenseBoundaries:L.pendingSuspenseBoundaries,transitions:L.transitions},u.updateQueue.baseState=A,u.memoizedState=A,u.flags&256){S=Nu(Error(r(423)),u),u=fj(l,u,v,m,S);break e}else if(v!==S){S=Nu(Error(r(424)),u),u=fj(l,u,v,m,S);break e}else for(ri=To(u.stateNode.containerInfo.firstChild),ti=u,$t=!0,Hi=null,m=SO(u,null,v,m),u.child=m;m;)m.flags=m.flags&-3|4096,m=m.sibling;else{if(Au(),v===S){u=Is(l,u,m);break e}bn(l,u,v,m)}u=u.child}return u;case 5:return PO(u),l===null&&S1(u),v=u.type,S=u.pendingProps,A=l!==null?l.memoizedProps:null,L=S.children,m1(v,S)?L=null:A!==null&&m1(v,A)&&(u.flags|=32),cj(l,u),bn(l,u,L,m),u.child;case 6:return l===null&&S1(u),null;case 13:return hj(l,u,m);case 4:return R1(u,u.stateNode.containerInfo),v=u.pendingProps,l===null?u.child=ku(u,null,v,m):bn(l,u,v,m),u.child;case 11:return v=u.type,S=u.pendingProps,S=u.elementType===v?S:Gi(v,S),aj(l,u,v,S,m);case 7:return bn(l,u,u.pendingProps,m),u.child;case 8:return bn(l,u,u.pendingProps.children,m),u.child;case 12:return bn(l,u,u.pendingProps.children,m),u.child;case 10:e:{if(v=u.type._context,S=u.pendingProps,A=u.memoizedProps,L=S.value,Pt(cg,v._currentValue),v._currentValue=L,A!==null)if(Wi(A.value,L)){if(A.children===S.children&&!Cn.current){u=Is(l,u,m);break e}}else for(A=u.child,A!==null&&(A.return=u);A!==null;){var z=A.dependencies;if(z!==null){L=A.child;for(var W=z.firstContext;W!==null;){if(W.context===v){if(A.tag===1){W=ks(-1,m&-m),W.tag=2;var ee=A.updateQueue;if(ee!==null){ee=ee.shared;var me=ee.pending;me===null?W.next=W:(W.next=me.next,me.next=W),ee.pending=W}}A.lanes|=m,W=A.alternate,W!==null&&(W.lanes|=m),P1(A.return,m,u),z.lanes|=m;break}W=W.next}}else if(A.tag===10)L=A.type===u.type?null:A.child;else if(A.tag===18){if(L=A.return,L===null)throw Error(r(341));L.lanes|=m,z=L.alternate,z!==null&&(z.lanes|=m),P1(L,m,u),L=A.sibling}else L=A.child;if(L!==null)L.return=A;else for(L=A;L!==null;){if(L===u){L=null;break}if(A=L.sibling,A!==null){A.return=L.return,L=A;break}L=L.return}A=L}bn(l,u,S.children,m),u=u.child}return u;case 9:return S=u.type,v=u.pendingProps.children,Pu(u,m),S=wi(S),v=v(S),u.flags|=1,bn(l,u,v,m),u.child;case 14:return v=u.type,S=Gi(v,u.pendingProps),S=Gi(v.type,S),sj(l,u,v,S,m);case 15:return oj(l,u,u.type,u.pendingProps,m);case 17:return v=u.type,S=u.pendingProps,S=u.elementType===v?S:Gi(v,S),wg(l,u),u.tag=1,Nn(v)?(l=!0,ng(u)):l=!1,Pu(u,m),JO(u,v,S),W1(u,v,S,m),Y1(null,u,v,!0,l,m);case 19:return mj(l,u,m);case 22:return lj(l,u,m)}throw Error(r(156,u.tag))};function $j(l,u){return yf(l,u)}function WQ(l,u,m,v){this.tag=l,this.key=m,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=u,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=v,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Si(l,u,m,v){return new WQ(l,u,m,v)}function mw(l){return l=l.prototype,!(!l||!l.isReactComponent)}function HQ(l){if(typeof l=="function")return mw(l)?1:0;if(l!=null){if(l=l.$$typeof,l===U)return 11;if(l===ue)return 14}return 2}function Mo(l,u){var m=l.alternate;return m===null?(m=Si(l.tag,u,l.key,l.mode),m.elementType=l.elementType,m.type=l.type,m.stateNode=l.stateNode,m.alternate=l,l.alternate=m):(m.pendingProps=u,m.type=l.type,m.flags=0,m.subtreeFlags=0,m.deletions=null),m.flags=l.flags&14680064,m.childLanes=l.childLanes,m.lanes=l.lanes,m.child=l.child,m.memoizedProps=l.memoizedProps,m.memoizedState=l.memoizedState,m.updateQueue=l.updateQueue,u=l.dependencies,m.dependencies=u===null?null:{lanes:u.lanes,firstContext:u.firstContext},m.sibling=l.sibling,m.index=l.index,m.ref=l.ref,m}function Rg(l,u,m,v,S,A){var L=2;if(v=l,typeof l=="function")mw(l)&&(L=1);else if(typeof l=="string")L=5;else e:switch(l){case C:return Kl(m.children,S,A,u);case N:L=8,S|=8;break;case M:return l=Si(12,m,u,S|2),l.elementType=M,l.lanes=A,l;case $:return l=Si(13,m,u,S),l.elementType=$,l.lanes=A,l;case G:return l=Si(19,m,u,S),l.elementType=G,l.lanes=A,l;case se:return Og(m,S,A,u);default:if(typeof l=="object"&&l!==null)switch(l.$$typeof){case F:L=10;break e;case D:L=9;break e;case U:L=11;break e;case ue:L=14;break e;case ce:L=16,v=null;break e}throw Error(r(130,l==null?l:typeof l,""))}return u=Si(L,m,u,S),u.elementType=l,u.type=v,u.lanes=A,u}function Kl(l,u,m,v){return l=Si(7,l,v,u),l.lanes=m,l}function Og(l,u,m,v){return l=Si(22,l,v,u),l.elementType=se,l.lanes=m,l.stateNode={isHidden:!1},l}function gw(l,u,m){return l=Si(6,l,null,u),l.lanes=m,l}function yw(l,u,m){return u=Si(4,l.children!==null?l.children:[],l.key,u),u.lanes=m,u.stateNode={containerInfo:l.containerInfo,pendingChildren:null,implementation:l.implementation},u}function GQ(l,u,m,v,S){this.tag=u,this.containerInfo=l,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=_f(0),this.expirationTimes=_f(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=_f(0),this.identifierPrefix=v,this.onRecoverableError=S,this.mutableSourceEagerHydrationData=null}function vw(l,u,m,v,S,A,L,z,W){return l=new GQ(l,u,m,z,W),u===1?(u=1,A===!0&&(u|=8)):u=0,A=Si(3,null,null,u),l.current=A,A.stateNode=l,A.memoizedState={element:v,isDehydrated:m,cache:null,transitions:null,pendingSuspenseBoundaries:null},N1(A),l}function KQ(l,u,m){var v=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:V,key:v==null?null:""+v,children:l,containerInfo:u,implementation:m}}function Vj(l){if(!l)return ko;l=l._reactInternals;e:{if(zi(l)!==l||l.tag!==1)throw Error(r(170));var u=l;do{switch(u.tag){case 3:u=u.stateNode.context;break e;case 1:if(Nn(u.type)){u=u.stateNode.__reactInternalMemoizedMergedChildContext;break e}}u=u.return}while(u!==null);throw Error(r(171))}if(l.tag===1){var m=l.type;if(Nn(m))return pO(l,m,u)}return u}function Uj(l,u,m,v,S,A,L,z,W){return l=vw(m,v,!0,l,S,A,L,z,W),l.context=Vj(null),m=l.current,v=xn(),S=jo(m),A=ks(v,S),A.callback=u??null,Co(m,A,S),l.current.lanes=S,Rl(l,S,v),jn(l,v),l}function jg(l,u,m,v){var S=u.current,A=xn(),L=jo(S);return m=Vj(m),u.context===null?u.context=m:u.pendingContext=m,u=ks(A,L),u.payload={element:l},v=v===void 0?null:v,v!==null&&(u.callback=v),l=Co(S,u,L),l!==null&&(Xi(l,S,L,A),dg(l,S,L)),L}function Dg(l){return l=l.current,l.child?(l.child.tag===5,l.child.stateNode):null}function qj(l,u){if(l=l.memoizedState,l!==null&&l.dehydrated!==null){var m=l.retryLane;l.retryLane=m!==0&&m<u?m:u}}function bw(l,u){qj(l,u),(l=l.alternate)&&qj(l,u)}function YQ(){return null}var zj=typeof reportError=="function"?reportError:function(l){console.error(l)};function xw(l){this._internalRoot=l}Mg.prototype.render=xw.prototype.render=function(l){var u=this._internalRoot;if(u===null)throw Error(r(409));jg(l,u,null,null)},Mg.prototype.unmount=xw.prototype.unmount=function(){var l=this._internalRoot;if(l!==null){this._internalRoot=null;var u=l.containerInfo;Wl(function(){jg(null,l,null,null)}),u[_s]=null}};function Mg(l){this._internalRoot=l}Mg.prototype.unstable_scheduleHydration=function(l){if(l){var u=Af();l={blockedOn:null,target:l,priority:u};for(var m=0;m<Qn.length&&u!==0&&u<Qn[m].priority;m++);Qn.splice(m,0,l),m===0&&ou(l)}};function ww(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11)}function Lg(l){return!(!l||l.nodeType!==1&&l.nodeType!==9&&l.nodeType!==11&&(l.nodeType!==8||l.nodeValue!==" react-mount-point-unstable "))}function Bj(){}function XQ(l,u,m,v,S){if(S){if(typeof v=="function"){var A=v;v=function(){var ee=Dg(L);A.call(ee)}}var L=Uj(u,v,l,0,null,!1,!1,"",Bj);return l._reactRootContainer=L,l[_s]=L.current,Ff(l.nodeType===8?l.parentNode:l),Wl(),L}for(;S=l.lastChild;)l.removeChild(S);if(typeof v=="function"){var z=v;v=function(){var ee=Dg(W);z.call(ee)}}var W=vw(l,0,!1,null,null,!1,!1,"",Bj);return l._reactRootContainer=W,l[_s]=W.current,Ff(l.nodeType===8?l.parentNode:l),Wl(function(){jg(u,W,m,v)}),W}function Fg(l,u,m,v,S){var A=m._reactRootContainer;if(A){var L=A;if(typeof S=="function"){var z=S;S=function(){var W=Dg(L);z.call(W)}}jg(u,L,l,S)}else L=XQ(m,u,l,S,v);return Dg(L)}Sf=function(l){switch(l.tag){case 3:var u=l.stateNode;if(u.current.memoizedState.isDehydrated){var m=vt(u.pendingLanes);m!==0&&(Ef(u,m|1),jn(u,Nt()),(pt&6)===0&&(ju=Nt()+500,Io()))}break;case 13:Wl(function(){var v=As(l,1);if(v!==null){var S=xn();Xi(v,l,1,S)}}),bw(l,1)}},au=function(l){if(l.tag===13){var u=As(l,134217728);if(u!==null){var m=xn();Xi(u,l,134217728,m)}bw(l,134217728)}},Tf=function(l){if(l.tag===13){var u=jo(l),m=As(l,u);if(m!==null){var v=xn();Xi(m,l,u,v)}bw(l,u)}},Af=function(){return ut},kf=function(l,u){var m=ut;try{return ut=l,u()}finally{ut=m}},Gn=function(l,u,m){switch(u){case"input":if(Be(l,m),u=m.name,m.type==="radio"&&u!=null){for(m=l;m.parentNode;)m=m.parentNode;for(m=m.querySelectorAll("input[name="+JSON.stringify(""+u)+'][type="radio"]'),u=0;u<m.length;u++){var v=m[u];if(v!==l&&v.form===l.form){var S=tg(v);if(!S)throw Error(r(90));fe(v),Be(v,S)}}}break;case"textarea":tn(l,m);break;case"select":u=m.value,u!=null&&cr(l,!!m.multiple,u,!1)}},El=fw,Cm=Wl;var QQ={usingClientEntryPoint:!1,Events:[Uf,wu,tg,gi,ga,fw]},th={findFiberByHostInstance:Ll,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},JQ={bundleType:th.bundleType,version:th.version,rendererPackageName:th.rendererPackageName,rendererConfig:th.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:j.ReactCurrentDispatcher,findHostInstanceByFiber:function(l){return l=Lm(l),l===null?null:l.stateNode},findFiberByHostInstance:th.findFiberByHostInstance||YQ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var $g=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!$g.isDisabled&&$g.supportsFiber)try{Il=$g.inject(JQ),Yn=$g}catch{}}return Dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=QQ,Dn.createPortal=function(l,u){var m=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ww(u))throw Error(r(200));return KQ(l,u,null,m)},Dn.createRoot=function(l,u){if(!ww(l))throw Error(r(299));var m=!1,v="",S=zj;return u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(v=u.identifierPrefix),u.onRecoverableError!==void 0&&(S=u.onRecoverableError)),u=vw(l,1,!1,null,null,m,!1,v,S),l[_s]=u.current,Ff(l.nodeType===8?l.parentNode:l),new xw(u)},Dn.findDOMNode=function(l){if(l==null)return null;if(l.nodeType===1)return l;var u=l._reactInternals;if(u===void 0)throw typeof l.render=="function"?Error(r(188)):(l=Object.keys(l).join(","),Error(r(268,l)));return l=Lm(u),l=l===null?null:l.stateNode,l},Dn.flushSync=function(l){return Wl(l)},Dn.hydrate=function(l,u,m){if(!Lg(u))throw Error(r(200));return Fg(null,l,u,!0,m)},Dn.hydrateRoot=function(l,u,m){if(!ww(l))throw Error(r(405));var v=m!=null&&m.hydratedSources||null,S=!1,A="",L=zj;if(m!=null&&(m.unstable_strictMode===!0&&(S=!0),m.identifierPrefix!==void 0&&(A=m.identifierPrefix),m.onRecoverableError!==void 0&&(L=m.onRecoverableError)),u=Uj(u,null,l,1,m??null,S,!1,A,L),l[_s]=u.current,Ff(l),v)for(l=0;l<v.length;l++)m=v[l],S=m._getVersion,S=S(m._source),u.mutableSourceEagerHydrationData==null?u.mutableSourceEagerHydrationData=[m,S]:u.mutableSourceEagerHydrationData.push(m,S);return new Mg(u)},Dn.render=function(l,u,m){if(!Lg(u))throw Error(r(200));return Fg(null,l,u,!1,m)},Dn.unmountComponentAtNode=function(l){if(!Lg(l))throw Error(r(40));return l._reactRootContainer?(Wl(function(){Fg(null,null,l,!1,function(){l._reactRootContainer=null,l[_s]=null})}),!0):!1},Dn.unstable_batchedUpdates=fw,Dn.unstable_renderSubtreeIntoContainer=function(l,u,m,v){if(!Lg(m))throw Error(r(200));if(l==null||l._reactInternals===void 0)throw Error(r(38));return Fg(l,u,m,!1,v)},Dn.version="18.3.1-next-f1338f8080-20240426",Dn}var Jj;function h$(){if(Jj)return Sw.exports;Jj=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Sw.exports=oJ(),Sw.exports}var Zj;function lJ(){if(Zj)return Ug;Zj=1;var t=h$();return Ug.createRoot=t.createRoot,Ug.hydrateRoot=t.hydrateRoot,Ug}var cJ=lJ();const uJ=Qt(cJ);var e4="popstate";function dJ(t={}){function e(n,i){let{pathname:a,search:s,hash:o}=n.location;return DA("",{pathname:a,search:s,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Zh(i)}return hJ(e,r,null,t)}function qt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function oa(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function fJ(){return Math.random().toString(36).substring(2,10)}function t4(t,e){return{usr:t.state,key:t.key,idx:e}}function DA(t,e,r=null,n){return{pathname:typeof t=="string"?t:t.pathname,search:"",hash:"",...typeof e=="string"?Od(e):e,state:r,key:e&&e.key||n||fJ()}}function Zh({pathname:t="/",search:e="",hash:r=""}){return e&&e!=="?"&&(t+=e.charAt(0)==="?"?e:"?"+e),r&&r!=="#"&&(t+=r.charAt(0)==="#"?r:"#"+r),t}function Od(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substring(r),t=t.substring(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substring(n),t=t.substring(0,n)),t&&(e.pathname=t)}return e}function hJ(t,e,r,n={}){let{window:i=document.defaultView,v5Compat:a=!1}=n,s=i.history,o="POP",c=null,d=f();d==null&&(d=0,s.replaceState({...s.state,idx:d},""));function f(){return(s.state||{idx:null}).idx}function p(){o="POP";let x=f(),T=x==null?null:x-d;d=x,c&&c({action:o,location:_.location,delta:T})}function g(x,T){o="PUSH";let I=DA(_.location,x,T);d=f()+1;let P=t4(I,d),j=_.createHref(I);try{s.pushState(P,"",j)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;i.location.assign(j)}a&&c&&c({action:o,location:_.location,delta:1})}function b(x,T){o="REPLACE";let I=DA(_.location,x,T);d=f();let P=t4(I,d),j=_.createHref(I);s.replaceState(P,"",j),a&&c&&c({action:o,location:_.location,delta:0})}function w(x){return pJ(x)}let _={get action(){return o},get location(){return t(i,s)},listen(x){if(c)throw new Error("A history only accepts one active listener");return i.addEventListener(e4,p),c=x,()=>{i.removeEventListener(e4,p),c=null}},createHref(x){return e(i,x)},createURL:w,encodeLocation(x){let T=w(x);return{pathname:T.pathname,search:T.search,hash:T.hash}},push:g,replace:b,go(x){return s.go(x)}};return _}function pJ(t,e=!1){let r="http://localhost";typeof window<"u"&&(r=window.location.origin!=="null"?window.location.origin:window.location.href),qt(r,"No window.location.(origin|href) available to create URL");let n=typeof t=="string"?t:Zh(t);return n=n.replace(/ $/,"%20"),!e&&n.startsWith("//")&&(n=r+n),new URL(n,r)}function p$(t,e,r="/"){return mJ(t,e,r,!1)}function mJ(t,e,r,n){let i=typeof e=="string"?Od(e):e,a=Bs(i.pathname||"/",r);if(a==null)return null;let s=m$(t);gJ(s);let o=null;for(let c=0;o==null&&c<s.length;++c){let d=kJ(a);o=TJ(s[c],d,n)}return o}function m$(t,e=[],r=[],n="",i=!1){let a=(s,o,c=i,d)=>{let f={relativePath:d===void 0?s.path||"":d,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};if(f.relativePath.startsWith("/")){if(!f.relativePath.startsWith(n)&&c)return;qt(f.relativePath.startsWith(n),`Absolute route path "${f.relativePath}" nested under path "${n}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(n.length)}let p=Vs([n,f.relativePath]),g=r.concat(f);s.children&&s.children.length>0&&(qt(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${p}".`),m$(s.children,e,g,p,c)),!(s.path==null&&!s.index)&&e.push({path:p,score:EJ(p,s.index),routesMeta:g})};return t.forEach((s,o)=>{if(s.path===""||!s.path?.includes("?"))a(s,o);else for(let c of g$(s.path))a(s,o,!0,c)}),e}function g$(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),a=r.replace(/\?$/,"");if(n.length===0)return i?[a,""]:[a];let s=g$(n.join("/")),o=[];return o.push(...s.map(c=>c===""?a:[a,c].join("/"))),i&&o.push(...s),o.map(c=>t.startsWith("/")&&c===""?"/":c)}function gJ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:SJ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}var yJ=/^:[\w-]+$/,vJ=3,bJ=2,xJ=1,wJ=10,_J=-2,r4=t=>t==="*";function EJ(t,e){let r=t.split("/"),n=r.length;return r.some(r4)&&(n+=_J),e&&(n+=bJ),r.filter(i=>!r4(i)).reduce((i,a)=>i+(yJ.test(a)?vJ:a===""?xJ:wJ),n)}function SJ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function TJ(t,e,r=!1){let{routesMeta:n}=t,i={},a="/",s=[];for(let o=0;o<n.length;++o){let c=n[o],d=o===n.length-1,f=a==="/"?e:e.slice(a.length)||"/",p=Y0({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},f),g=c.route;if(!p&&d&&r&&!n[n.length-1].route.index&&(p=Y0({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},f)),!p)return null;Object.assign(i,p.params),s.push({params:i,pathname:Vs([a,p.pathname]),pathnameBase:NJ(Vs([a,p.pathnameBase])),route:g}),p.pathnameBase!=="/"&&(a=Vs([a,p.pathnameBase]))}return s}function Y0(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=AJ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let a=i[0],s=a.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((d,{paramName:f,isOptional:p},g)=>{if(f==="*"){let w=o[g]||"";s=a.slice(0,a.length-w.length).replace(/(.)\/+$/,"$1")}const b=o[g];return p&&!b?d[f]=void 0:d[f]=(b||"").replace(/%2F/g,"/"),d},{}),pathname:a,pathnameBase:s,pattern:t}}function AJ(t,e=!1,r=!0){oa(t==="*"||!t.endsWith("*")||t.endsWith("/*"),`Route path "${t}" will be treated as if it were "${t.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${t.replace(/\*$/,"/*")}".`);let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(s,o,c)=>(n.push({paramName:o,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)")).replace(/\/([\w-]+)\?(\/|$)/g,"(/$1)?$2");return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function kJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return oa(!1,`The URL path "${t}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),t}}function Bs(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}var IJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i;function PJ(t,e="/"){let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Od(t):t,a;return r?(r=r.replace(/\/\/+/g,"/"),r.startsWith("/")?a=n4(r.substring(1),"/"):a=n4(r,e)):a=e,{pathname:a,search:RJ(n),hash:OJ(i)}}function n4(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function kw(t,e,r,n){return`Cannot include a '${t}' character in a manually specified \`to.${e}\` field [${JSON.stringify(n)}].  Please separate it out to the \`to.${r}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function CJ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function DI(t){let e=CJ(t);return e.map((r,n)=>n===e.length-1?r.pathname:r.pathnameBase)}function MI(t,e,r,n=!1){let i;typeof t=="string"?i=Od(t):(i={...t},qt(!i.pathname||!i.pathname.includes("?"),kw("?","pathname","search",i)),qt(!i.pathname||!i.pathname.includes("#"),kw("#","pathname","hash",i)),qt(!i.search||!i.search.includes("#"),kw("#","search","hash",i)));let a=t===""||i.pathname==="",s=a?"/":i.pathname,o;if(s==null)o=r;else{let p=e.length-1;if(!n&&s.startsWith("..")){let g=s.split("/");for(;g[0]==="..";)g.shift(),p-=1;i.pathname=g.join("/")}o=p>=0?e[p]:"/"}let c=PJ(i,o),d=s&&s!=="/"&&s.endsWith("/"),f=(a||s===".")&&r.endsWith("/");return!c.pathname.endsWith("/")&&(d||f)&&(c.pathname+="/"),c}var Vs=t=>t.join("/").replace(/\/\/+/g,"/"),NJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),RJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,OJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t,jJ=class{constructor(t,e,r,n=!1){this.status=t,this.statusText=e||"",this.internal=n,r instanceof Error?(this.data=r.toString(),this.error=r):this.data=r}};function DJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}function MJ(t){return t.map(e=>e.route.path).filter(Boolean).join("/").replace(/\/\/*/g,"/")||"/"}var y$=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";function v$(t,e){let r=t;if(typeof r!="string"||!IJ.test(r))return{absoluteURL:void 0,isExternal:!1,to:r};let n=r,i=!1;if(y$)try{let a=new URL(window.location.href),s=r.startsWith("//")?new URL(a.protocol+r):new URL(r),o=Bs(s.pathname,e);s.origin===a.origin&&o!=null?r=o+s.search+s.hash:i=!0}catch{oa(!1,`<Link to="${r}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}return{absoluteURL:n,isExternal:i,to:r}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var b$=["POST","PUT","PATCH","DELETE"];new Set(b$);var LJ=["GET",...b$];new Set(LJ);var jd=E.createContext(null);jd.displayName="DataRouter";var xv=E.createContext(null);xv.displayName="DataRouterState";var FJ=E.createContext(!1),x$=E.createContext({isTransitioning:!1});x$.displayName="ViewTransition";var $J=E.createContext(new Map);$J.displayName="Fetchers";var VJ=E.createContext(null);VJ.displayName="Await";var pi=E.createContext(null);pi.displayName="Navigation";var $p=E.createContext(null);$p.displayName="Location";var $i=E.createContext({outlet:null,matches:[],isDataRoute:!1});$i.displayName="Route";var LI=E.createContext(null);LI.displayName="RouteError";var w$="REACT_ROUTER_ERROR",UJ="REDIRECT",qJ="ROUTE_ERROR_RESPONSE";function zJ(t){if(t.startsWith(`${w$}:${UJ}:{`))try{let e=JSON.parse(t.slice(28));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string"&&typeof e.location=="string"&&typeof e.reloadDocument=="boolean"&&typeof e.replace=="boolean")return e}catch{}}function BJ(t){if(t.startsWith(`${w$}:${qJ}:{`))try{let e=JSON.parse(t.slice(40));if(typeof e=="object"&&e&&typeof e.status=="number"&&typeof e.statusText=="string")return new jJ(e.status,e.statusText,e.data)}catch{}}function WJ(t,{relative:e}={}){qt(Dd(),"useHref() may be used only in the context of a <Router> component.");let{basename:r,navigator:n}=E.useContext(pi),{hash:i,pathname:a,search:s}=Vp(t,{relative:e}),o=a;return r!=="/"&&(o=a==="/"?r:Vs([r,a])),n.createHref({pathname:o,search:s,hash:i})}function Dd(){return E.useContext($p)!=null}function hl(){return qt(Dd(),"useLocation() may be used only in the context of a <Router> component."),E.useContext($p).location}var _$="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function E$(t){E.useContext(pi).static||E.useLayoutEffect(t)}function pl(){let{isDataRoute:t}=E.useContext($i);return t?oZ():HJ()}function HJ(){qt(Dd(),"useNavigate() may be used only in the context of a <Router> component.");let t=E.useContext(jd),{basename:e,navigator:r}=E.useContext(pi),{matches:n}=E.useContext($i),{pathname:i}=hl(),a=JSON.stringify(DI(n)),s=E.useRef(!1);return E$(()=>{s.current=!0}),E.useCallback((c,d={})=>{if(oa(s.current,_$),!s.current)return;if(typeof c=="number"){r.go(c);return}let f=MI(c,JSON.parse(a),i,d.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:Vs([e,f.pathname])),(d.replace?r.replace:r.push)(f,d.state,d)},[e,r,a,i,t])}var GJ=E.createContext(null);function KJ(t){let e=E.useContext($i).outlet;return E.useMemo(()=>e&&E.createElement(GJ.Provider,{value:t},e),[e,t])}function YJ(){let{matches:t}=E.useContext($i),e=t[t.length-1];return e?e.params:{}}function Vp(t,{relative:e}={}){let{matches:r}=E.useContext($i),{pathname:n}=hl(),i=JSON.stringify(DI(r));return E.useMemo(()=>MI(t,JSON.parse(i),n,e==="path"),[t,i,n,e])}function XJ(t,e){return S$(t,e)}function S$(t,e,r,n,i){qt(Dd(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=E.useContext(pi),{matches:s}=E.useContext($i),o=s[s.length-1],c=o?o.params:{},d=o?o.pathname:"/",f=o?o.pathnameBase:"/",p=o&&o.route;{let I=p&&p.path||"";A$(d,!p||I.endsWith("*")||I.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${d}" (under <Route path="${I}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${I}"> to <Route path="${I==="/"?"*":`${I}/*`}">.`)}let g=hl(),b;if(e){let I=typeof e=="string"?Od(e):e;qt(f==="/"||I.pathname?.startsWith(f),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${I.pathname}" was given in the \`location\` prop.`),b=I}else b=g;let w=b.pathname||"/",_=w;if(f!=="/"){let I=f.replace(/^\//,"").split("/");_="/"+w.replace(/^\//,"").split("/").slice(I.length).join("/")}let x=p$(t,{pathname:_});oa(p||x!=null,`No routes matched location "${b.pathname}${b.search}${b.hash}" `),oa(x==null||x[x.length-1].route.element!==void 0||x[x.length-1].route.Component!==void 0||x[x.length-1].route.lazy!==void 0,`Matched leaf route at location "${b.pathname}${b.search}${b.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let T=tZ(x&&x.map(I=>Object.assign({},I,{params:Object.assign({},c,I.params),pathname:Vs([f,a.encodeLocation?a.encodeLocation(I.pathname.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathname]),pathnameBase:I.pathnameBase==="/"?f:Vs([f,a.encodeLocation?a.encodeLocation(I.pathnameBase.replace(/\?/g,"%3F").replace(/#/g,"%23")).pathname:I.pathnameBase])})),s,r,n,i);return e&&T?E.createElement($p.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...b},navigationType:"POP"}},T):T}function QJ(){let t=sZ(),e=DJ(t)?`${t.status} ${t.statusText}`:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,n="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:n},a={padding:"2px 4px",backgroundColor:n},s=null;return console.error("Error handled by React Router default ErrorBoundary:",t),s=E.createElement(E.Fragment,null,E.createElement("p",null," Hey developer "),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:a},"ErrorBoundary")," or"," ",E.createElement("code",{style:a},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),r?E.createElement("pre",{style:i},r):null,s)}var JJ=E.createElement(QJ,null),T$=class extends E.Component{constructor(t){super(t),this.state={location:t.location,revalidation:t.revalidation,error:t.error}}static getDerivedStateFromError(t){return{error:t}}static getDerivedStateFromProps(t,e){return e.location!==t.location||e.revalidation!=="idle"&&t.revalidation==="idle"?{error:t.error,location:t.location,revalidation:t.revalidation}:{error:t.error!==void 0?t.error:e.error,location:e.location,revalidation:t.revalidation||e.revalidation}}componentDidCatch(t,e){this.props.onError?this.props.onError(t,e):console.error("React Router caught the following error during render",t)}render(){let t=this.state.error;if(this.context&&typeof t=="object"&&t&&"digest"in t&&typeof t.digest=="string"){const r=BJ(t.digest);r&&(t=r)}let e=t!==void 0?E.createElement($i.Provider,{value:this.props.routeContext},E.createElement(LI.Provider,{value:t,children:this.props.component})):this.props.children;return this.context?E.createElement(ZJ,{error:t},e):e}};T$.contextType=FJ;var Iw=new WeakMap;function ZJ({children:t,error:e}){let{basename:r}=E.useContext(pi);if(typeof e=="object"&&e&&"digest"in e&&typeof e.digest=="string"){let n=zJ(e.digest);if(n){let i=Iw.get(e);if(i)throw i;let a=v$(n.location,r);if(y$&&!Iw.get(e))if(a.isExternal||n.reloadDocument)window.location.href=a.absoluteURL||a.to;else{const s=Promise.resolve().then(()=>window.__reactRouterDataRouter.navigate(a.to,{replace:n.replace}));throw Iw.set(e,s),s}return E.createElement("meta",{httpEquiv:"refresh",content:`0;url=${a.absoluteURL||a.to}`})}}return t}function eZ({routeContext:t,match:e,children:r}){let n=E.useContext(jd);return n&&n.static&&n.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(n.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement($i.Provider,{value:t},r)}function tZ(t,e=[],r=null,n=null,i=null){if(t==null){if(!r)return null;if(r.errors)t=r.matches;else if(e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,s=r?.errors;if(s!=null){let f=a.findIndex(p=>p.route.id&&s?.[p.route.id]!==void 0);qt(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),a=a.slice(0,Math.min(a.length,f+1))}let o=!1,c=-1;if(r)for(let f=0;f<a.length;f++){let p=a[f];if((p.route.HydrateFallback||p.route.hydrateFallbackElement)&&(c=f),p.route.id){let{loaderData:g,errors:b}=r,w=p.route.loader&&!g.hasOwnProperty(p.route.id)&&(!b||b[p.route.id]===void 0);if(p.route.lazy||w){o=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}let d=r&&n?(f,p)=>{n(f,{location:r.location,params:r.matches?.[0]?.params??{},unstable_pattern:MJ(r.matches),errorInfo:p})}:void 0;return a.reduceRight((f,p,g)=>{let b,w=!1,_=null,x=null;r&&(b=s&&p.route.id?s[p.route.id]:void 0,_=p.route.errorElement||JJ,o&&(c<0&&g===0?(A$("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,x=null):c===g&&(w=!0,x=p.route.hydrateFallbackElement||null)));let T=e.concat(a.slice(0,g+1)),I=()=>{let P;return b?P=_:w?P=x:p.route.Component?P=E.createElement(p.route.Component,null):p.route.element?P=p.route.element:P=f,E.createElement(eZ,{match:p,routeContext:{outlet:f,matches:T,isDataRoute:r!=null},children:P})};return r&&(p.route.ErrorBoundary||p.route.errorElement||g===0)?E.createElement(T$,{location:r.location,revalidation:r.revalidation,component:_,error:b,children:I(),routeContext:{outlet:null,matches:T,isDataRoute:!0},onError:d}):I()},null)}function FI(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function rZ(t){let e=E.useContext(jd);return qt(e,FI(t)),e}function nZ(t){let e=E.useContext(xv);return qt(e,FI(t)),e}function iZ(t){let e=E.useContext($i);return qt(e,FI(t)),e}function $I(t){let e=iZ(t),r=e.matches[e.matches.length-1];return qt(r.route.id,`${t} can only be used on routes that contain a unique "id"`),r.route.id}function aZ(){return $I("useRouteId")}function sZ(){let t=E.useContext(LI),e=nZ("useRouteError"),r=$I("useRouteError");return t!==void 0?t:e.errors?.[r]}function oZ(){let{router:t}=rZ("useNavigate"),e=$I("useNavigate"),r=E.useRef(!1);return E$(()=>{r.current=!0}),E.useCallback(async(i,a={})=>{oa(r.current,_$),r.current&&(typeof i=="number"?await t.navigate(i):await t.navigate(i,{fromRouteId:e,...a}))},[t,e])}var i4={};function A$(t,e,r){!e&&!i4[t]&&(i4[t]=!0,oa(!1,r))}E.memo(lZ);function lZ({routes:t,future:e,state:r,onError:n}){return S$(t,void 0,r,n,e)}function MA({to:t,replace:e,state:r,relative:n}){qt(Dd(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=E.useContext(pi);oa(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=E.useContext($i),{pathname:s}=hl(),o=pl(),c=MI(t,DI(a),s,n==="path"),d=JSON.stringify(c);return E.useEffect(()=>{o(JSON.parse(d),{replace:e,state:r,relative:n})},[o,d,n,e,r]),null}function k$(t){return KJ(t.context)}function Cr(t){qt(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function cZ({basename:t="/",children:e=null,location:r,navigationType:n="POP",navigator:i,static:a=!1,unstable_useTransitions:s}){qt(!Dd(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let o=t.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:o,navigator:i,static:a,unstable_useTransitions:s,future:{}}),[o,i,a,s]);typeof r=="string"&&(r=Od(r));let{pathname:d="/",search:f="",hash:p="",state:g=null,key:b="default"}=r,w=E.useMemo(()=>{let _=Bs(d,o);return _==null?null:{location:{pathname:_,search:f,hash:p,state:g,key:b},navigationType:n}},[o,d,f,p,g,b,n]);return oa(w!=null,`<Router basename="${o}"> is not able to match the URL "${d}${f}${p}" because it does not start with the basename, so the <Router> won't render anything.`),w==null?null:E.createElement(pi.Provider,{value:c},E.createElement($p.Provider,{children:e,value:w}))}function uZ({children:t,location:e}){return XJ(LA(t),e)}function LA(t,e=[]){let r=[];return E.Children.forEach(t,(n,i)=>{if(!E.isValidElement(n))return;let a=[...e,i];if(n.type===E.Fragment){r.push.apply(r,LA(n.props.children,a));return}qt(n.type===Cr,`[${typeof n.type=="string"?n.type:n.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),qt(!n.props.index||!n.props.children,"An index route cannot have child routes.");let s={id:n.props.id||a.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,middleware:n.props.middleware,loader:n.props.loader,action:n.props.action,hydrateFallbackElement:n.props.hydrateFallbackElement,HydrateFallback:n.props.HydrateFallback,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.hasErrorBoundary===!0||n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(s.children=LA(n.props.children,a)),r.push(s)}),r}var E0="get",S0="application/x-www-form-urlencoded";function wv(t){return typeof HTMLElement<"u"&&t instanceof HTMLElement}function dZ(t){return wv(t)&&t.tagName.toLowerCase()==="button"}function fZ(t){return wv(t)&&t.tagName.toLowerCase()==="form"}function hZ(t){return wv(t)&&t.tagName.toLowerCase()==="input"}function pZ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mZ(t,e){return t.button===0&&(!e||e==="_self")&&!pZ(t)}var qg=null;function gZ(){if(qg===null)try{new FormData(document.createElement("form"),0),qg=!1}catch{qg=!0}return qg}var yZ=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Pw(t){return t!=null&&!yZ.has(t)?(oa(!1,`"${t}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${S0}"`),null):t}function vZ(t,e){let r,n,i,a,s;if(fZ(t)){let o=t.getAttribute("action");n=o?Bs(o,e):null,r=t.getAttribute("method")||E0,i=Pw(t.getAttribute("enctype"))||S0,a=new FormData(t)}else if(dZ(t)||hZ(t)&&(t.type==="submit"||t.type==="image")){let o=t.form;if(o==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let c=t.getAttribute("formaction")||o.getAttribute("action");if(n=c?Bs(c,e):null,r=t.getAttribute("formmethod")||o.getAttribute("method")||E0,i=Pw(t.getAttribute("formenctype"))||Pw(o.getAttribute("enctype"))||S0,a=new FormData(o,t),!gZ()){let{name:d,type:f,value:p}=t;if(f==="image"){let g=d?`${d}.`:"";a.append(`${g}x`,"0"),a.append(`${g}y`,"0")}else d&&a.append(d,p)}}else{if(wv(t))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');r=E0,n=null,i=S0,s=t}return a&&i==="text/plain"&&(s=a,a=void 0),{action:n,method:r.toLowerCase(),encType:i,formData:a,body:s}}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");function VI(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function bZ(t,e,r,n){let i=typeof t=="string"?new URL(t,typeof window>"u"?"server://singlefetch/":window.location.origin):t;return r?i.pathname.endsWith("/")?i.pathname=`${i.pathname}_.${n}`:i.pathname=`${i.pathname}.${n}`:i.pathname==="/"?i.pathname=`_root.${n}`:e&&Bs(i.pathname,e)==="/"?i.pathname=`${e.replace(/\/$/,"")}/_root.${n}`:i.pathname=`${i.pathname.replace(/\/$/,"")}.${n}`,i}async function xZ(t,e){if(t.id in e)return e[t.id];try{let r=await import(t.module);return e[t.id]=r,r}catch(r){return console.error(`Error loading route module \`${t.module}\`, reloading page...`),console.error(r),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function wZ(t){return t==null?!1:t.href==null?t.rel==="preload"&&typeof t.imageSrcSet=="string"&&typeof t.imageSizes=="string":typeof t.rel=="string"&&typeof t.href=="string"}async function _Z(t,e,r){let n=await Promise.all(t.map(async i=>{let a=e.routes[i.route.id];if(a){let s=await xZ(a,r);return s.links?s.links():[]}return[]}));return AZ(n.flat(1).filter(wZ).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function a4(t,e,r,n,i,a){let s=(c,d)=>r[d]?c.route.id!==r[d].route.id:!0,o=(c,d)=>r[d].pathname!==c.pathname||r[d].route.path?.endsWith("*")&&r[d].params["*"]!==c.params["*"];return a==="assets"?e.filter((c,d)=>s(c,d)||o(c,d)):a==="data"?e.filter((c,d)=>{let f=n.routes[c.route.id];if(!f||!f.hasLoader)return!1;if(s(c,d)||o(c,d))return!0;if(c.route.shouldRevalidate){let p=c.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:r[0]?.params||{},nextUrl:new URL(t,window.origin),nextParams:c.params,defaultShouldRevalidate:!0});if(typeof p=="boolean")return p}return!0}):[]}function EZ(t,e,{includeHydrateFallback:r}={}){return SZ(t.map(n=>{let i=e.routes[n.route.id];if(!i)return[];let a=[i.module];return i.clientActionModule&&(a=a.concat(i.clientActionModule)),i.clientLoaderModule&&(a=a.concat(i.clientLoaderModule)),r&&i.hydrateFallbackModule&&(a=a.concat(i.hydrateFallbackModule)),i.imports&&(a=a.concat(i.imports)),a}).flat(1))}function SZ(t){return[...new Set(t)]}function TZ(t){let e={},r=Object.keys(t).sort();for(let n of r)e[n]=t[n];return e}function AZ(t,e){let r=new Set;return new Set(e),t.reduce((n,i)=>{let a=JSON.stringify(TZ(i));return r.has(a)||(r.add(a),n.push({key:a,link:i})),n},[])}function I$(){let t=E.useContext(jd);return VI(t,"You must render this element inside a <DataRouterContext.Provider> element"),t}function kZ(){let t=E.useContext(xv);return VI(t,"You must render this element inside a <DataRouterStateContext.Provider> element"),t}var UI=E.createContext(void 0);UI.displayName="FrameworkContext";function P$(){let t=E.useContext(UI);return VI(t,"You must render this element inside a <HydratedRouter> element"),t}function IZ(t,e){let r=E.useContext(UI),[n,i]=E.useState(!1),[a,s]=E.useState(!1),{onFocus:o,onBlur:c,onMouseEnter:d,onMouseLeave:f,onTouchStart:p}=e,g=E.useRef(null);E.useEffect(()=>{if(t==="render"&&s(!0),t==="viewport"){let _=T=>{T.forEach(I=>{s(I.isIntersecting)})},x=new IntersectionObserver(_,{threshold:.5});return g.current&&x.observe(g.current),()=>{x.disconnect()}}},[t]),E.useEffect(()=>{if(n){let _=setTimeout(()=>{s(!0)},100);return()=>{clearTimeout(_)}}},[n]);let b=()=>{i(!0)},w=()=>{i(!1),s(!1)};return r?t!=="intent"?[a,g,{}]:[a,g,{onFocus:nh(o,b),onBlur:nh(c,w),onMouseEnter:nh(d,b),onMouseLeave:nh(f,w),onTouchStart:nh(p,b)}]:[!1,g,{}]}function nh(t,e){return r=>{t&&t(r),r.defaultPrevented||e(r)}}function PZ({page:t,...e}){let{router:r}=I$(),n=E.useMemo(()=>p$(r.routes,t,r.basename),[r.routes,t,r.basename]);return n?E.createElement(NZ,{page:t,matches:n,...e}):null}function CZ(t){let{manifest:e,routeModules:r}=P$(),[n,i]=E.useState([]);return E.useEffect(()=>{let a=!1;return _Z(t,e,r).then(s=>{a||i(s)}),()=>{a=!0}},[t,e,r]),n}function NZ({page:t,matches:e,...r}){let n=hl(),{future:i,manifest:a,routeModules:s}=P$(),{basename:o}=I$(),{loaderData:c,matches:d}=kZ(),f=E.useMemo(()=>a4(t,e,d,a,n,"data"),[t,e,d,a,n]),p=E.useMemo(()=>a4(t,e,d,a,n,"assets"),[t,e,d,a,n]),g=E.useMemo(()=>{if(t===n.pathname+n.search+n.hash)return[];let _=new Set,x=!1;if(e.forEach(I=>{let P=a.routes[I.route.id];!P||!P.hasLoader||(!f.some(j=>j.route.id===I.route.id)&&I.route.id in c&&s[I.route.id]?.shouldRevalidate||P.hasClientLoader?x=!0:_.add(I.route.id))}),_.size===0)return[];let T=bZ(t,o,i.unstable_trailingSlashAwareDataRequests,"data");return x&&_.size>0&&T.searchParams.set("_routes",e.filter(I=>_.has(I.route.id)).map(I=>I.route.id).join(",")),[T.pathname+T.search]},[o,i.unstable_trailingSlashAwareDataRequests,c,n,a,f,e,t,s]),b=E.useMemo(()=>EZ(p,a),[p,a]),w=CZ(p);return E.createElement(E.Fragment,null,g.map(_=>E.createElement("link",{key:_,rel:"prefetch",as:"fetch",href:_,...r})),b.map(_=>E.createElement("link",{key:_,rel:"modulepreload",href:_,...r})),w.map(({key:_,link:x})=>E.createElement("link",{key:_,nonce:r.nonce,...x,crossOrigin:x.crossOrigin??r.crossOrigin})))}function RZ(...t){return e=>{t.forEach(r=>{typeof r=="function"?r(e):r!=null&&(r.current=e)})}}var OZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{OZ&&(window.__reactRouterVersion="7.13.0")}catch{}function jZ({basename:t,children:e,unstable_useTransitions:r,window:n}){let i=E.useRef();i.current==null&&(i.current=dJ({window:n,v5Compat:!0}));let a=i.current,[s,o]=E.useState({action:a.action,location:a.location}),c=E.useCallback(d=>{r===!1?o(d):E.startTransition(()=>o(d))},[r]);return E.useLayoutEffect(()=>a.listen(c),[a,c]),E.createElement(cZ,{basename:t,children:e,location:s.location,navigationType:s.action,navigator:a,unstable_useTransitions:r})}var C$=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,or=E.forwardRef(function({onClick:e,discover:r="render",prefetch:n="none",relative:i,reloadDocument:a,replace:s,state:o,target:c,to:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g,...b},w){let{basename:_,unstable_useTransitions:x}=E.useContext(pi),T=typeof d=="string"&&C$.test(d),I=v$(d,_);d=I.to;let P=WJ(d,{relative:i}),[j,O,V]=IZ(n,b),C=LZ(d,{replace:s,state:o,target:c,preventScrollReset:f,relative:i,viewTransition:p,unstable_defaultShouldRevalidate:g,unstable_useTransitions:x});function N(F){e&&e(F),F.defaultPrevented||C(F)}let M=E.createElement("a",{...b,...V,href:I.absoluteURL||P,onClick:I.isExternal||a?e:N,ref:RZ(w,O),target:c,"data-discover":!T&&r==="render"?"true":void 0});return j&&!T?E.createElement(E.Fragment,null,M,E.createElement(PZ,{page:P})):M});or.displayName="Link";var N$=E.forwardRef(function({"aria-current":e="page",caseSensitive:r=!1,className:n="",end:i=!1,style:a,to:s,viewTransition:o,children:c,...d},f){let p=Vp(s,{relative:d.relative}),g=hl(),b=E.useContext(xv),{navigator:w,basename:_}=E.useContext(pi),x=b!=null&&qZ(p)&&o===!0,T=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,I=g.pathname,P=b&&b.navigation&&b.navigation.location?b.navigation.location.pathname:null;r||(I=I.toLowerCase(),P=P?P.toLowerCase():null,T=T.toLowerCase()),P&&_&&(P=Bs(P,_)||P);const j=T!=="/"&&T.endsWith("/")?T.length-1:T.length;let O=I===T||!i&&I.startsWith(T)&&I.charAt(j)==="/",V=P!=null&&(P===T||!i&&P.startsWith(T)&&P.charAt(T.length)==="/"),C={isActive:O,isPending:V,isTransitioning:x},N=O?e:void 0,M;typeof n=="function"?M=n(C):M=[n,O?"active":null,V?"pending":null,x?"transitioning":null].filter(Boolean).join(" ");let F=typeof a=="function"?a(C):a;return E.createElement(or,{...d,"aria-current":N,className:M,ref:f,style:F,to:s,viewTransition:o},typeof c=="function"?c(C):c)});N$.displayName="NavLink";var DZ=E.forwardRef(({discover:t="render",fetcherKey:e,navigate:r,reloadDocument:n,replace:i,state:a,method:s=E0,action:o,onSubmit:c,relative:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g,...b},w)=>{let{unstable_useTransitions:_}=E.useContext(pi),x=VZ(),T=UZ(o,{relative:d}),I=s.toLowerCase()==="get"?"get":"post",P=typeof o=="string"&&C$.test(o),j=O=>{if(c&&c(O),O.defaultPrevented)return;O.preventDefault();let V=O.nativeEvent.submitter,C=V?.getAttribute("formmethod")||s,N=()=>x(V||O.currentTarget,{fetcherKey:e,method:C,navigate:r,replace:i,state:a,relative:d,preventScrollReset:f,viewTransition:p,unstable_defaultShouldRevalidate:g});_&&r!==!1?E.startTransition(()=>N()):N()};return E.createElement("form",{ref:w,method:I,action:T,onSubmit:n?c:j,...b,"data-discover":!P&&t==="render"?"true":void 0})});DZ.displayName="Form";function MZ(t){return`${t} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function R$(t){let e=E.useContext(jd);return qt(e,MZ(t)),e}function LZ(t,{target:e,replace:r,state:n,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o,unstable_useTransitions:c}={}){let d=pl(),f=hl(),p=Vp(t,{relative:a});return E.useCallback(g=>{if(mZ(g,e)){g.preventDefault();let b=r!==void 0?r:Zh(f)===Zh(p),w=()=>d(t,{replace:b,state:n,preventScrollReset:i,relative:a,viewTransition:s,unstable_defaultShouldRevalidate:o});c?E.startTransition(()=>w()):w()}},[f,d,p,r,n,e,t,i,a,s,o,c])}var FZ=0,$Z=()=>`__${String(++FZ)}__`;function VZ(){let{router:t}=R$("useSubmit"),{basename:e}=E.useContext(pi),r=aZ(),n=t.fetch,i=t.navigate;return E.useCallback(async(a,s={})=>{let{action:o,method:c,encType:d,formData:f,body:p}=vZ(a,e);if(s.navigate===!1){let g=s.fetcherKey||$Z();await n(g,r,s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||c,formEncType:s.encType||d,flushSync:s.flushSync})}else await i(s.action||o,{unstable_defaultShouldRevalidate:s.unstable_defaultShouldRevalidate,preventScrollReset:s.preventScrollReset,formData:f,body:p,formMethod:s.method||c,formEncType:s.encType||d,replace:s.replace,state:s.state,fromRouteId:r,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,i,e,r])}function UZ(t,{relative:e}={}){let{basename:r}=E.useContext(pi),n=E.useContext($i);qt(n,"useFormAction must be used inside a RouteContext");let[i]=n.matches.slice(-1),a={...Vp(t||".",{relative:e})},s=hl();if(t==null){a.search=s.search;let o=new URLSearchParams(a.search),c=o.getAll("index");if(c.some(f=>f==="")){o.delete("index"),c.filter(p=>p).forEach(p=>o.append("index",p));let f=o.toString();a.search=f?`?${f}`:""}}return(!t||t===".")&&i.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),r!=="/"&&(a.pathname=a.pathname==="/"?r:Vs([r,a.pathname])),Zh(a)}function qZ(t,{relative:e}={}){let r=E.useContext(x$);qt(r!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:n}=R$("useViewTransitionState"),i=Vp(t,{relative:e});if(!r.isTransitioning)return!1;let a=Bs(r.currentLocation.pathname,n)||r.currentLocation.pathname,s=Bs(r.nextLocation.pathname,n)||r.nextLocation.pathname;return Y0(i.pathname,s)!=null||Y0(i.pathname,a)!=null}var Md=h$();const O$=(...t)=>t.filter((e,r,n)=>!!e&&e.trim()!==""&&n.indexOf(e)===r).join(" ").trim();const zZ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();const BZ=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,r,n)=>n?n.toUpperCase():r.toLowerCase());const s4=t=>{const e=BZ(t);return e.charAt(0).toUpperCase()+e.slice(1)};var WZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const HZ=t=>{for(const e in t)if(e.startsWith("aria-")||e==="role"||e==="title")return!0;return!1};const GZ=E.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:r=2,absoluteStrokeWidth:n,className:i="",children:a,iconNode:s,...o},c)=>E.createElement("svg",{ref:c,...WZ,width:e,height:e,stroke:t,strokeWidth:n?Number(r)*24/Number(e):r,className:O$("lucide",i),...!a&&!HZ(o)&&{"aria-hidden":"true"},...o},[...s.map(([d,f])=>E.createElement(d,f)),...Array.isArray(a)?a:[a]]));const Le=(t,e)=>{const r=E.forwardRef(({className:n,...i},a)=>E.createElement(GZ,{ref:a,iconNode:e,className:O$(`lucide-${zZ(s4(t))}`,`lucide-${t}`,n),...i}));return r.displayName=s4(t),r};const KZ=[["path",{d:"M22 12h-2.48a2 2 0 0 0-1.93 1.46l-2.35 8.36a.25.25 0 0 1-.48 0L9.24 2.18a.25.25 0 0 0-.48 0l-2.35 8.36A2 2 0 0 1 4.49 12H2",key:"169zse"}]],j$=Le("activity",KZ);const YZ=[["path",{d:"m7 7 10 10",key:"1fmybs"}],["path",{d:"M17 7v10H7",key:"6fjiku"}]],FA=Le("arrow-down-right",YZ);const XZ=[["path",{d:"m16 3 4 4-4 4",key:"1x1c3m"}],["path",{d:"M20 7H4",key:"zbl0bi"}],["path",{d:"m8 21-4-4 4-4",key:"h9nckh"}],["path",{d:"M4 17h16",key:"g4d7ey"}]],D$=Le("arrow-right-left",XZ);const QZ=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],JZ=Le("arrow-right",QZ);const ZZ=[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]],X0=Le("arrow-up-right",ZZ);const eee=[["path",{d:"M10.268 21a2 2 0 0 0 3.464 0",key:"vwvbt9"}],["path",{d:"M3.262 15.326A1 1 0 0 0 4 17h16a1 1 0 0 0 .74-1.673C19.41 13.956 18 12.499 18 8A6 6 0 0 0 6 8c0 4.499-1.411 5.956-2.738 7.326",key:"11g9vi"}]],ud=Le("bell",eee);const tee=[["path",{d:"M16 20V4a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"jecpp"}],["rect",{width:"20",height:"14",x:"2",y:"6",rx:"2",key:"i6l2r4"}]],ep=Le("briefcase",tee);const ree=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"M18 17V9",key:"2bz60n"}],["path",{d:"M13 17V5",key:"1frdt8"}],["path",{d:"M8 17v-3",key:"17ska0"}]],dd=Le("chart-column",ree);const nee=[["path",{d:"M3 3v16a2 2 0 0 0 2 2h16",key:"c24i48"}],["path",{d:"m19 9-5 5-4-4-3 3",key:"2osh9i"}]],iee=Le("chart-line",nee);const aee=[["path",{d:"M21 12c.552 0 1.005-.449.95-.998a10 10 0 0 0-8.953-8.951c-.55-.055-.998.398-.998.95v8a1 1 0 0 0 1 1z",key:"pzmjnu"}],["path",{d:"M21.21 15.89A10 10 0 1 1 8 2.83",key:"k2fpak"}]],M$=Le("chart-pie",aee);const see=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],L$=Le("check",see);const oee=[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]],lee=Le("chevron-down",oee);const cee=[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]],zg=Le("chevron-right",cee);const uee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]],Up=Le("circle-alert",uee);const dee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],F$=Le("circle-check",dee);const fee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M9.09 9a3 3 0 0 1 5.83 1c0 2-3 3-3 3",key:"1u773s"}],["path",{d:"M12 17h.01",key:"p32p05"}]],hee=Le("circle-question-mark",fee);const pee=[["path",{d:"M12 6v6l4 2",key:"mmk7yg"}],["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],mee=Le("clock",pee);const gee=[["circle",{cx:"8",cy:"8",r:"6",key:"3yglwk"}],["path",{d:"M18.09 10.37A6 6 0 1 1 10.34 18",key:"t5s6rm"}],["path",{d:"M7 6h1v4",key:"1obek4"}],["path",{d:"m16.71 13.88.7.71-2.82 2.82",key:"1rbuyh"}]],qp=Le("coins",gee);const yee=[["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M17 20v2",key:"1rnc9c"}],["path",{d:"M17 2v2",key:"11trls"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M2 17h2",key:"7oei6x"}],["path",{d:"M2 7h2",key:"asdhe0"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"M20 17h2",key:"1fpfkl"}],["path",{d:"M20 7h2",key:"1o8tra"}],["path",{d:"M7 20v2",key:"4gnj0m"}],["path",{d:"M7 2v2",key:"1i4yhu"}],["rect",{x:"4",y:"4",width:"16",height:"16",rx:"2",key:"1vbyd7"}],["rect",{x:"8",y:"8",width:"8",height:"8",rx:"1",key:"z9xiuo"}]],vee=Le("cpu",yee);const bee=[["line",{x1:"12",x2:"12",y1:"2",y2:"22",key:"7eqyqh"}],["path",{d:"M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6",key:"1b0p4s"}]],Q0=Le("dollar-sign",bee);const xee=[["path",{d:"M12 15V3",key:"m9g1x1"}],["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["path",{d:"m7 10 5 5 5-5",key:"brsn70"}]],$$=Le("download",xee);const wee=[["path",{d:"M12 22a7 7 0 0 0 7-7c0-2-1-3.9-3-5.5s-3.5-4-4-6.5c-.5 2.5-2 4.9-4 6.5C6 11.1 5 13 5 15a7 7 0 0 0 7 7z",key:"c7niix"}]],_ee=Le("droplet",wee);const Eee=[["path",{d:"M15 21v-8a1 1 0 0 0-1-1h-4a1 1 0 0 0-1 1v8",key:"5wwlr5"}],["path",{d:"M3 10a2 2 0 0 1 .709-1.528l7-6a2 2 0 0 1 2.582 0l7 6A2 2 0 0 1 21 10v9a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"r6nss1"}]],See=Le("house",Eee);const Tee=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 16v-4",key:"1dtifu"}],["path",{d:"M12 8h.01",key:"e9boi3"}]],Aee=Le("info",Tee);const kee=[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]],Iee=Le("key",kee);const Pee=[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]],Cee=Le("layout-dashboard",Pee);const Nee=[["rect",{width:"7",height:"7",x:"3",y:"3",rx:"1",key:"1g98yp"}],["rect",{width:"7",height:"7",x:"14",y:"3",rx:"1",key:"6d4xhi"}],["rect",{width:"7",height:"7",x:"14",y:"14",rx:"1",key:"nxv5o0"}],["rect",{width:"7",height:"7",x:"3",y:"14",rx:"1",key:"1bb6yr"}]],V$=Le("layout-grid",Nee);const Ree=[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]],Oee=Le("lightbulb",Ree);const jee=[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]],qI=Le("link",jee);const Dee=[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]],zI=Le("loader-circle",Dee);const Mee=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],T0=Le("lock",Mee);const Lee=[["path",{d:"m16 17 5-5-5-5",key:"1bji2h"}],["path",{d:"M21 12H9",key:"dn1m92"}],["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}]],U$=Le("log-out",Lee);const Fee=[["path",{d:"m22 7-8.991 5.727a2 2 0 0 1-2.009 0L2 7",key:"132q7q"}],["rect",{x:"2",y:"4",width:"20",height:"16",rx:"2",key:"izxlao"}]],J0=Le("mail",Fee);const $ee=[["path",{d:"M14.106 5.553a2 2 0 0 0 1.788 0l3.659-1.83A1 1 0 0 1 21 4.619v12.764a1 1 0 0 1-.553.894l-4.553 2.277a2 2 0 0 1-1.788 0l-4.212-2.106a2 2 0 0 0-1.788 0l-3.659 1.83A1 1 0 0 1 3 19.381V6.618a1 1 0 0 1 .553-.894l4.553-2.277a2 2 0 0 1 1.788 0z",key:"169xi5"}],["path",{d:"M15 5.764v15",key:"1pn4in"}],["path",{d:"M9 3.236v15",key:"1uimfh"}]],Vee=Le("map",$ee);const Uee=[["rect",{width:"20",height:"14",x:"2",y:"3",rx:"2",key:"48i651"}],["line",{x1:"8",x2:"16",y1:"21",y2:"21",key:"1svkeh"}],["line",{x1:"12",x2:"12",y1:"17",y2:"21",key:"vw1qmm"}]],qee=Le("monitor",Uee);const zee=[["path",{d:"M20.985 12.486a9 9 0 1 1-9.473-9.472c.405-.022.617.46.402.803a6 6 0 0 0 8.268 8.268c.344-.215.825-.004.803.401",key:"kfwtm"}]],q$=Le("moon",zee);const Bee=[["path",{d:"M12 22a1 1 0 0 1 0-20 10 9 0 0 1 10 9 5 5 0 0 1-5 5h-2.25a1.75 1.75 0 0 0-1.4 2.8l.3.4a1.75 1.75 0 0 1-1.4 2.8z",key:"e79jfc"}],["circle",{cx:"13.5",cy:"6.5",r:".5",fill:"currentColor",key:"1okk4w"}],["circle",{cx:"17.5",cy:"10.5",r:".5",fill:"currentColor",key:"f64h9f"}],["circle",{cx:"6.5",cy:"12.5",r:".5",fill:"currentColor",key:"qy21gx"}],["circle",{cx:"8.5",cy:"7.5",r:".5",fill:"currentColor",key:"fotxhn"}]],Wee=Le("palette",Bee);const Hee=[["line",{x1:"19",x2:"5",y1:"5",y2:"19",key:"1x9vlm"}],["circle",{cx:"6.5",cy:"6.5",r:"2.5",key:"4mh3h7"}],["circle",{cx:"17.5",cy:"17.5",r:"2.5",key:"1mdrzq"}]],Gee=Le("percent",Hee);const Kee=[["path",{d:"m14 13-8.381 8.38a1 1 0 0 1-3.001-3L11 9.999",key:"1lw9ds"}],["path",{d:"M15.973 4.027A13 13 0 0 0 5.902 2.373c-1.398.342-1.092 2.158.277 2.601a19.9 19.9 0 0 1 5.822 3.024",key:"ffj4ej"}],["path",{d:"M16.001 11.999a19.9 19.9 0 0 1 3.024 5.824c.444 1.369 2.26 1.676 2.603.278A13 13 0 0 0 20 8.069",key:"8tj4zw"}],["path",{d:"M18.352 3.352a1.205 1.205 0 0 0-1.704 0l-5.296 5.296a1.205 1.205 0 0 0 0 1.704l2.296 2.296a1.205 1.205 0 0 0 1.704 0l5.296-5.296a1.205 1.205 0 0 0 0-1.704z",key:"hh6h97"}]],_v=Le("pickaxe",Kee);const Yee=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]],$A=Le("plus",Yee);const Xee=[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]],tp=Le("refresh-cw",Xee);const Qee=[["path",{d:"M12 3v18",key:"108xh3"}],["path",{d:"m19 8 3 8a5 5 0 0 1-6 0zV7",key:"zcdpyk"}],["path",{d:"M3 7h1a17 17 0 0 0 8-2 17 17 0 0 0 8 2h1",key:"1yorad"}],["path",{d:"m5 8 3 8a5 5 0 0 1-6 0zV7",key:"eua70x"}],["path",{d:"M7 21h10",key:"1b0cd5"}]],BI=Le("scale",Qee);const Jee=[["path",{d:"m21 21-4.34-4.34",key:"14j7rj"}],["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}]],Zee=Le("search",Jee);const ete=[["path",{d:"M9.671 4.136a2.34 2.34 0 0 1 4.659 0 2.34 2.34 0 0 0 3.319 1.915 2.34 2.34 0 0 1 2.33 4.033 2.34 2.34 0 0 0 0 3.831 2.34 2.34 0 0 1-2.33 4.033 2.34 2.34 0 0 0-3.319 1.915 2.34 2.34 0 0 1-4.659 0 2.34 2.34 0 0 0-3.32-1.915 2.34 2.34 0 0 1-2.33-4.033 2.34 2.34 0 0 0 0-3.831A2.34 2.34 0 0 1 6.35 6.051a2.34 2.34 0 0 0 3.319-1.915",key:"1i5ecw"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]],z$=Le("settings",ete);const tte=[["path",{d:"M20 13c0 5-3.5 7.5-7.66 8.95a1 1 0 0 1-.67-.01C7.5 20.5 4 18 4 13V6a1 1 0 0 1 1-1c2 0 4.5-1.2 6.24-2.72a1.17 1.17 0 0 1 1.52 0C14.51 3.81 17 5 19 5a1 1 0 0 1 1 1z",key:"oel41y"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]],o4=Le("shield-check",tte);const rte=[["path",{d:"M11.017 2.814a1 1 0 0 1 1.966 0l1.051 5.558a2 2 0 0 0 1.594 1.594l5.558 1.051a1 1 0 0 1 0 1.966l-5.558 1.051a2 2 0 0 0-1.594 1.594l-1.051 5.558a1 1 0 0 1-1.966 0l-1.051-5.558a2 2 0 0 0-1.594-1.594l-5.558-1.051a1 1 0 0 1 0-1.966l5.558-1.051a2 2 0 0 0 1.594-1.594z",key:"1s2grr"}],["path",{d:"M20 2v4",key:"1rf3ol"}],["path",{d:"M22 4h-4",key:"gwowj6"}],["circle",{cx:"4",cy:"20",r:"2",key:"6kqj1y"}]],nte=Le("sparkles",rte);const ite=[["path",{d:"M11.525 2.295a.53.53 0 0 1 .95 0l2.31 4.679a2.123 2.123 0 0 0 1.595 1.16l5.166.756a.53.53 0 0 1 .294.904l-3.736 3.638a2.123 2.123 0 0 0-.611 1.878l.882 5.14a.53.53 0 0 1-.771.56l-4.618-2.428a2.122 2.122 0 0 0-1.973 0L6.396 21.01a.53.53 0 0 1-.77-.56l.881-5.139a2.122 2.122 0 0 0-.611-1.879L2.16 9.795a.53.53 0 0 1 .294-.906l5.165-.755a2.122 2.122 0 0 0 1.597-1.16z",key:"r04s7s"}]],Ev=Le("star",ite);const ate=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],B$=Le("sun",ate);const ste=[["path",{d:"M10 11v6",key:"nco0om"}],["path",{d:"M14 11v6",key:"outv1u"}],["path",{d:"M19 6v14a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2V6",key:"miytrc"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M8 6V4a2 2 0 0 1 2-2h4a2 2 0 0 1 2 2v2",key:"e791ji"}]],VA=Le("trash-2",ste);const ote=[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]],wc=Le("trending-down",ote);const lte=[["path",{d:"M16 7h6v6",key:"box55l"}],["path",{d:"m22 7-8.5 8.5-5-5L2 17",key:"1t1m79"}]],lr=Le("trending-up",lte);const cte=[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3",key:"wmoenq"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]],ml=Le("triangle-alert",cte);const ute=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],W$=Le("user",ute);const dte=[["path",{d:"M19 7V4a1 1 0 0 0-1-1H5a2 2 0 0 0 0 4h15a1 1 0 0 1 1 1v4h-3a2 2 0 0 0 0 4h3a1 1 0 0 0 1-1v-2a1 1 0 0 0-1-1",key:"18etb6"}],["path",{d:"M3 5v14a2 2 0 0 0 2 2h15a1 1 0 0 0 1-1v-4",key:"xoc0q4"}]],Cw=Le("wallet",dte);const fte=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],WI=Le("x",fte);const hte=[["path",{d:"M4 14a1 1 0 0 1-.78-1.63l9.9-10.2a.5.5 0 0 1 .86.46l-1.92 6.02A1 1 0 0 0 13 10h7a1 1 0 0 1 .78 1.63l-9.9 10.2a.5.5 0 0 1-.86-.46l1.92-6.02A1 1 0 0 0 11 14z",key:"1xq2db"}]],ji=Le("zap",hte),pte=[{path:"/",label:"Dashboard",icon:Cee},{path:"/heatmap",label:"Heatmap",icon:Vee},{path:"/volatility",label:"Volatility Alerts",icon:ji},{path:"/compare",label:"Compare",icon:BI},{path:"/historical",label:"Historical Data",icon:lr},{path:"/watchlist",label:"Watchlist",icon:Ev},{path:"/portfolio",label:"Portfolio",icon:ep},{path:"/alerts",label:"Price Alerts",icon:ji},{path:"/analytics",label:"Analytics",icon:M$},{path:"/settings",label:"Settings",icon:z$}],l4=()=>{const t=new Date,e=new Date(t.toLocaleString("en-US",{timeZone:"America/New_York"})),r=e.getDay(),n=e.getHours(),i=e.getMinutes(),a=n*60+i;return r===0||r===6?!1:a>=570&&a<960};function mte(){const[t,e]=E.useState(l4());return E.useEffect(()=>{const r=setInterval(()=>{e(l4())},6e4);return()=>clearInterval(r)},[]),h.jsxs("aside",{className:"w-64 bg-surface border-r border-border flex flex-col h-screen sticky top-0 transition-colors duration-300",children:[h.jsx("div",{className:"p-4 border-b border-border",children:h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-br from-blue-500 to-purple-600 rounded-lg flex items-center justify-center shadow-lg shadow-blue-500/20",children:h.jsx(iee,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-lg font-bold bg-gradient-to-r from-blue-500 to-purple-500 bg-clip-text text-transparent font-sans tracking-tight",children:"MarketVue"}),h.jsx("p",{className:"text-[10px] text-secondary font-medium uppercase tracking-wider",children:"Pro Dashboard"})]})]})}),h.jsx("nav",{className:"flex-1 p-4",children:h.jsx("ul",{className:"space-y-1",children:pte.map(r=>h.jsx("li",{children:h.jsxs(N$,{to:r.path,className:({isActive:n})=>`flex items-center gap-3 px-3 py-2.5 rounded-lg transition-all duration-200 group ${n?"bg-blue-600/10 text-blue-600 dark:text-blue-400 border border-blue-500/20 shadow-sm":"text-secondary hover:bg-slate-100 dark:hover:bg-slate-800/50 hover:text-primary"}`,children:[h.jsx(r.icon,{className:"w-5 h-5 transition-transform group-hover:scale-105"}),h.jsx("span",{className:"font-medium text-sm",children:r.label})]})},r.path))})}),h.jsx("div",{className:"p-4 border-t border-border",children:h.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800/30 rounded-lg p-3 border border-border",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("span",{className:"text-[10px] text-secondary uppercase tracking-wider font-semibold",children:"Market Status"}),h.jsx(j$,{className:"w-3 h-3 text-secondary"})]}),h.jsxs("div",{className:"space-y-2",children:[h.jsxs("div",{className:"flex items-center justify-between text-xs",children:[h.jsx("span",{className:"text-secondary font-medium",children:"US Stocks"}),h.jsxs("span",{className:"flex items-center gap-1.5",children:[h.jsx("span",{className:`w-1.5 h-1.5 rounded-full ${t?"bg-green-500 live-pulse":"bg-red-500"}`}),h.jsx("span",{className:t?"text-emerald-600 dark:text-emerald-400 font-medium":"text-secondary",children:t?"Open":"Closed"})]})]}),h.jsxs("div",{className:"flex items-center justify-between text-xs",children:[h.jsx("span",{className:"text-secondary font-medium",children:"Crypto"}),h.jsxs("span",{className:"flex items-center gap-1.5",children:[h.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-green-500 live-pulse"}),h.jsx("span",{className:"text-emerald-600 dark:text-emerald-400 font-medium",children:"24/7"})]})]})]})]})}),h.jsx("div",{className:"p-4 border-t border-border",children:h.jsx("div",{className:"text-[10px] text-secondary text-center font-medium",children:"15-min delayed data"})})]})}function H$(t,e){return function(){return t.apply(e,arguments)}}const{toString:gte}=Object.prototype,{getPrototypeOf:HI}=Object,{iterator:Sv,toStringTag:G$}=Symbol,Tv=(t=>e=>{const r=gte.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),fa=t=>(t=t.toLowerCase(),e=>Tv(e)===t),Av=t=>e=>typeof e===t,{isArray:Ld}=Array,fd=Av("undefined");function zp(t){return t!==null&&!fd(t)&&t.constructor!==null&&!fd(t.constructor)&&Un(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const K$=fa("ArrayBuffer");function yte(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&K$(t.buffer),e}const vte=Av("string"),Un=Av("function"),Y$=Av("number"),Bp=t=>t!==null&&typeof t=="object",bte=t=>t===!0||t===!1,A0=t=>{if(Tv(t)!=="object")return!1;const e=HI(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(G$ in t)&&!(Sv in t)},xte=t=>{if(!Bp(t)||zp(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},wte=fa("Date"),_te=fa("File"),Ete=fa("Blob"),Ste=fa("FileList"),Tte=t=>Bp(t)&&Un(t.pipe),Ate=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Un(t.append)&&((e=Tv(t))==="formdata"||e==="object"&&Un(t.toString)&&t.toString()==="[object FormData]"))},kte=fa("URLSearchParams"),[Ite,Pte,Cte,Nte]=["ReadableStream","Request","Response","Headers"].map(fa),Rte=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Wp(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Ld(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(zp(t))return;const a=r?Object.getOwnPropertyNames(t):Object.keys(t),s=a.length;let o;for(n=0;n<s;n++)o=a[n],e.call(null,t[o],o,t)}}function X$(t,e){if(zp(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const tc=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,Q$=t=>!fd(t)&&t!==tc;function UA(){const{caseless:t,skipUndefined:e}=Q$(this)&&this||{},r={},n=(i,a)=>{const s=t&&X$(r,a)||a;A0(r[s])&&A0(i)?r[s]=UA(r[s],i):A0(i)?r[s]=UA({},i):Ld(i)?r[s]=i.slice():(!e||!fd(i))&&(r[s]=i)};for(let i=0,a=arguments.length;i<a;i++)arguments[i]&&Wp(arguments[i],n);return r}const Ote=(t,e,r,{allOwnKeys:n}={})=>(Wp(e,(i,a)=>{r&&Un(i)?Object.defineProperty(t,a,{value:H$(i,r),writable:!0,enumerable:!0,configurable:!0}):Object.defineProperty(t,a,{value:i,writable:!0,enumerable:!0,configurable:!0})},{allOwnKeys:n}),t),jte=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Dte=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),Object.defineProperty(t.prototype,"constructor",{value:t,writable:!0,enumerable:!1,configurable:!0}),Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},Mte=(t,e,r,n)=>{let i,a,s;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),a=i.length;a-- >0;)s=i[a],(!n||n(s,t,e))&&!o[s]&&(e[s]=t[s],o[s]=!0);t=r!==!1&&HI(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Lte=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Fte=t=>{if(!t)return null;if(Ld(t))return t;let e=t.length;if(!Y$(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},$te=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&HI(Uint8Array)),Vte=(t,e)=>{const n=(t&&t[Sv]).call(t);let i;for(;(i=n.next())&&!i.done;){const a=i.value;e.call(t,a[0],a[1])}},Ute=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},qte=fa("HTMLFormElement"),zte=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),c4=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Bte=fa("RegExp"),J$=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Wp(r,(i,a)=>{let s;(s=e(i,a,t))!==!1&&(n[a]=s||i)}),Object.defineProperties(t,n)},Wte=t=>{J$(t,(e,r)=>{if(Un(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Un(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Hte=(t,e)=>{const r={},n=i=>{i.forEach(a=>{r[a]=!0})};return Ld(t)?n(t):n(String(t).split(e)),r},Gte=()=>{},Kte=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Yte(t){return!!(t&&Un(t.append)&&t[G$]==="FormData"&&t[Sv])}const Xte=t=>{const e=new Array(10),r=(n,i)=>{if(Bp(n)){if(e.indexOf(n)>=0)return;if(zp(n))return n;if(!("toJSON"in n)){e[i]=n;const a=Ld(n)?[]:{};return Wp(n,(s,o)=>{const c=r(s,i+1);!fd(c)&&(a[o]=c)}),e[i]=void 0,a}}return n};return r(t,0)},Qte=fa("AsyncFunction"),Jte=t=>t&&(Bp(t)||Un(t))&&Un(t.then)&&Un(t.catch),Z$=((t,e)=>t?setImmediate:e?((r,n)=>(tc.addEventListener("message",({source:i,data:a})=>{i===tc&&a===r&&n.length&&n.shift()()},!1),i=>{n.push(i),tc.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Un(tc.postMessage)),Zte=typeof queueMicrotask<"u"?queueMicrotask.bind(tc):typeof process<"u"&&process.nextTick||Z$,ere=t=>t!=null&&Un(t[Sv]),ae={isArray:Ld,isArrayBuffer:K$,isBuffer:zp,isFormData:Ate,isArrayBufferView:yte,isString:vte,isNumber:Y$,isBoolean:bte,isObject:Bp,isPlainObject:A0,isEmptyObject:xte,isReadableStream:Ite,isRequest:Pte,isResponse:Cte,isHeaders:Nte,isUndefined:fd,isDate:wte,isFile:_te,isBlob:Ete,isRegExp:Bte,isFunction:Un,isStream:Tte,isURLSearchParams:kte,isTypedArray:$te,isFileList:Ste,forEach:Wp,merge:UA,extend:Ote,trim:Rte,stripBOM:jte,inherits:Dte,toFlatObject:Mte,kindOf:Tv,kindOfTest:fa,endsWith:Lte,toArray:Fte,forEachEntry:Vte,matchAll:Ute,isHTMLForm:qte,hasOwnProperty:c4,hasOwnProp:c4,reduceDescriptors:J$,freezeMethods:Wte,toObjectSet:Hte,toCamelCase:zte,noop:Gte,toFiniteNumber:Kte,findKey:X$,global:tc,isContextDefined:Q$,isSpecCompliantForm:Yte,toJSONObject:Xte,isAsyncFn:Qte,isThenable:Jte,setImmediate:Z$,asap:Zte,isIterable:ere};let Ke=class eV extends Error{static from(e,r,n,i,a,s){const o=new eV(e.message,r||e.code,n,i,a);return o.cause=e,o.name=e.name,s&&Object.assign(o,s),o}constructor(e,r,n,i,a){super(e),this.name="AxiosError",this.isAxiosError=!0,r&&(this.code=r),n&&(this.config=n),i&&(this.request=i),a&&(this.response=a,this.status=a.status)}toJSON(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:ae.toJSONObject(this.config),code:this.code,status:this.status}}};Ke.ERR_BAD_OPTION_VALUE="ERR_BAD_OPTION_VALUE";Ke.ERR_BAD_OPTION="ERR_BAD_OPTION";Ke.ECONNABORTED="ECONNABORTED";Ke.ETIMEDOUT="ETIMEDOUT";Ke.ERR_NETWORK="ERR_NETWORK";Ke.ERR_FR_TOO_MANY_REDIRECTS="ERR_FR_TOO_MANY_REDIRECTS";Ke.ERR_DEPRECATED="ERR_DEPRECATED";Ke.ERR_BAD_RESPONSE="ERR_BAD_RESPONSE";Ke.ERR_BAD_REQUEST="ERR_BAD_REQUEST";Ke.ERR_CANCELED="ERR_CANCELED";Ke.ERR_NOT_SUPPORT="ERR_NOT_SUPPORT";Ke.ERR_INVALID_URL="ERR_INVALID_URL";const tre=null;function qA(t){return ae.isPlainObject(t)||ae.isArray(t)}function tV(t){return ae.endsWith(t,"[]")?t.slice(0,-2):t}function u4(t,e,r){return t?t.concat(e).map(function(i,a){return i=tV(i),!r&&a?"["+i+"]":i}).join(r?".":""):e}function rre(t){return ae.isArray(t)&&!t.some(qA)}const nre=ae.toFlatObject(ae,{},null,function(e){return/^is[A-Z]/.test(e)});function kv(t,e,r){if(!ae.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=ae.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(_,x){return!ae.isUndefined(x[_])});const n=r.metaTokens,i=r.visitor||f,a=r.dots,s=r.indexes,c=(r.Blob||typeof Blob<"u"&&Blob)&&ae.isSpecCompliantForm(e);if(!ae.isFunction(i))throw new TypeError("visitor must be a function");function d(w){if(w===null)return"";if(ae.isDate(w))return w.toISOString();if(ae.isBoolean(w))return w.toString();if(!c&&ae.isBlob(w))throw new Ke("Blob is not supported. Use a Buffer instead.");return ae.isArrayBuffer(w)||ae.isTypedArray(w)?c&&typeof Blob=="function"?new Blob([w]):Buffer.from(w):w}function f(w,_,x){let T=w;if(w&&!x&&typeof w=="object"){if(ae.endsWith(_,"{}"))_=n?_:_.slice(0,-2),w=JSON.stringify(w);else if(ae.isArray(w)&&rre(w)||(ae.isFileList(w)||ae.endsWith(_,"[]"))&&(T=ae.toArray(w)))return _=tV(_),T.forEach(function(P,j){!(ae.isUndefined(P)||P===null)&&e.append(s===!0?u4([_],j,a):s===null?_:_+"[]",d(P))}),!1}return qA(w)?!0:(e.append(u4(x,_,a),d(w)),!1)}const p=[],g=Object.assign(nre,{defaultVisitor:f,convertValue:d,isVisitable:qA});function b(w,_){if(!ae.isUndefined(w)){if(p.indexOf(w)!==-1)throw Error("Circular reference detected in "+_.join("."));p.push(w),ae.forEach(w,function(T,I){(!(ae.isUndefined(T)||T===null)&&i.call(e,T,ae.isString(I)?I.trim():I,_,g))===!0&&b(T,_?_.concat(I):[I])}),p.pop()}}if(!ae.isObject(t))throw new TypeError("data must be an object");return b(t),e}function d4(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function GI(t,e){this._pairs=[],t&&kv(t,this,e)}const rV=GI.prototype;rV.append=function(e,r){this._pairs.push([e,r])};rV.toString=function(e){const r=e?function(n){return e.call(this,n,d4)}:d4;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function ire(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function nV(t,e,r){if(!e)return t;const n=r&&r.encode||ire,i=ae.isFunction(r)?{serialize:r}:r,a=i&&i.serialize;let s;if(a?s=a(e,i):s=ae.isURLSearchParams(e)?e.toString():new GI(e,i).toString(n),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class f4{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){ae.forEach(this.handlers,function(n){n!==null&&e(n)})}}const iV={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},are=typeof URLSearchParams<"u"?URLSearchParams:GI,sre=typeof FormData<"u"?FormData:null,ore=typeof Blob<"u"?Blob:null,lre={isBrowser:!0,classes:{URLSearchParams:are,FormData:sre,Blob:ore},protocols:["http","https","file","blob","url","data"]},KI=typeof window<"u"&&typeof document<"u",zA=typeof navigator=="object"&&navigator||void 0,cre=KI&&(!zA||["ReactNative","NativeScript","NS"].indexOf(zA.product)<0),ure=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",dre=KI&&window.location.href||"http://localhost",fre=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:KI,hasStandardBrowserEnv:cre,hasStandardBrowserWebWorkerEnv:ure,navigator:zA,origin:dre},Symbol.toStringTag,{value:"Module"})),hn={...fre,...lre};function hre(t,e){return kv(t,new hn.classes.URLSearchParams,{visitor:function(r,n,i,a){return hn.isNode&&ae.isBuffer(r)?(this.append(n,r.toString("base64")),!1):a.defaultVisitor.apply(this,arguments)},...e})}function pre(t){return ae.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function mre(t){const e={},r=Object.keys(t);let n;const i=r.length;let a;for(n=0;n<i;n++)a=r[n],e[a]=t[a];return e}function aV(t){function e(r,n,i,a){let s=r[a++];if(s==="__proto__")return!0;const o=Number.isFinite(+s),c=a>=r.length;return s=!s&&ae.isArray(i)?i.length:s,c?(ae.hasOwnProp(i,s)?i[s]=[i[s],n]:i[s]=n,!o):((!i[s]||!ae.isObject(i[s]))&&(i[s]=[]),e(r,n,i[s],a)&&ae.isArray(i[s])&&(i[s]=mre(i[s])),!o)}if(ae.isFormData(t)&&ae.isFunction(t.entries)){const r={};return ae.forEachEntry(t,(n,i)=>{e(pre(n),i,r,0)}),r}return null}function gre(t,e,r){if(ae.isString(t))try{return(e||JSON.parse)(t),ae.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Hp={transitional:iV,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,a=ae.isObject(e);if(a&&ae.isHTMLForm(e)&&(e=new FormData(e)),ae.isFormData(e))return i?JSON.stringify(aV(e)):e;if(ae.isArrayBuffer(e)||ae.isBuffer(e)||ae.isStream(e)||ae.isFile(e)||ae.isBlob(e)||ae.isReadableStream(e))return e;if(ae.isArrayBufferView(e))return e.buffer;if(ae.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(a){if(n.indexOf("application/x-www-form-urlencoded")>-1)return hre(e,this.formSerializer).toString();if((o=ae.isFileList(e))||n.indexOf("multipart/form-data")>-1){const c=this.env&&this.env.FormData;return kv(o?{"files[]":e}:e,c&&new c,this.formSerializer)}}return a||i?(r.setContentType("application/json",!1),gre(e)):e}],transformResponse:[function(e){const r=this.transitional||Hp.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(ae.isResponse(e)||ae.isReadableStream(e))return e;if(e&&ae.isString(e)&&(n&&!this.responseType||i)){const s=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(s)throw o.name==="SyntaxError"?Ke.from(o,Ke.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:hn.classes.FormData,Blob:hn.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};ae.forEach(["delete","get","head","post","put","patch"],t=>{Hp.headers[t]={}});const yre=ae.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),vre=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(s){i=s.indexOf(":"),r=s.substring(0,i).trim().toLowerCase(),n=s.substring(i+1).trim(),!(!r||e[r]&&yre[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},h4=Symbol("internals");function ih(t){return t&&String(t).trim().toLowerCase()}function k0(t){return t===!1||t==null?t:ae.isArray(t)?t.map(k0):String(t)}function bre(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const xre=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Nw(t,e,r,n,i){if(ae.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!ae.isString(e)){if(ae.isString(n))return e.indexOf(n)!==-1;if(ae.isRegExp(n))return n.test(e)}}function wre(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function _re(t,e){const r=ae.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,a,s){return this[n].call(this,e,i,a,s)},configurable:!0})})}let qn=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function a(o,c,d){const f=ih(c);if(!f)throw new Error("header name must be a non-empty string");const p=ae.findKey(i,f);(!p||i[p]===void 0||d===!0||d===void 0&&i[p]!==!1)&&(i[p||c]=k0(o))}const s=(o,c)=>ae.forEach(o,(d,f)=>a(d,f,c));if(ae.isPlainObject(e)||e instanceof this.constructor)s(e,r);else if(ae.isString(e)&&(e=e.trim())&&!xre(e))s(vre(e),r);else if(ae.isObject(e)&&ae.isIterable(e)){let o={},c,d;for(const f of e){if(!ae.isArray(f))throw TypeError("Object iterator must return a key-value pair");o[d=f[0]]=(c=o[d])?ae.isArray(c)?[...c,f[1]]:[c,f[1]]:f[1]}s(o,r)}else e!=null&&a(r,e,n);return this}get(e,r){if(e=ih(e),e){const n=ae.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return bre(i);if(ae.isFunction(r))return r.call(this,i,n);if(ae.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=ih(e),e){const n=ae.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Nw(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function a(s){if(s=ih(s),s){const o=ae.findKey(n,s);o&&(!r||Nw(n,n[o],o,r))&&(delete n[o],i=!0)}}return ae.isArray(e)?e.forEach(a):a(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const a=r[n];(!e||Nw(this,this[a],a,e,!0))&&(delete this[a],i=!0)}return i}normalize(e){const r=this,n={};return ae.forEach(this,(i,a)=>{const s=ae.findKey(n,a);if(s){r[s]=k0(i),delete r[a];return}const o=e?wre(a):String(a).trim();o!==a&&delete r[a],r[o]=k0(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return ae.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&ae.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[h4]=this[h4]={accessors:{}}).accessors,i=this.prototype;function a(s){const o=ih(s);n[o]||(_re(i,s),n[o]=!0)}return ae.isArray(e)?e.forEach(a):a(e),this}};qn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);ae.reduceDescriptors(qn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});ae.freezeMethods(qn);function Rw(t,e){const r=this||Hp,n=e||r,i=qn.from(n.headers);let a=n.data;return ae.forEach(t,function(o){a=o.call(r,a,i.normalize(),e?e.status:void 0)}),i.normalize(),a}function sV(t){return!!(t&&t.__CANCEL__)}let Gp=class extends Ke{constructor(e,r,n){super(e??"canceled",Ke.ERR_CANCELED,r,n),this.name="CanceledError",this.__CANCEL__=!0}};function oV(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ke("Request failed with status code "+r.status,[Ke.ERR_BAD_REQUEST,Ke.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Ere(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Sre(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,a=0,s;return e=e!==void 0?e:1e3,function(c){const d=Date.now(),f=n[a];s||(s=d),r[i]=c,n[i]=d;let p=a,g=0;for(;p!==i;)g+=r[p++],p=p%t;if(i=(i+1)%t,i===a&&(a=(a+1)%t),d-s<e)return;const b=f&&d-f;return b?Math.round(g*1e3/b):void 0}}function Tre(t,e){let r=0,n=1e3/e,i,a;const s=(d,f=Date.now())=>{r=f,i=null,a&&(clearTimeout(a),a=null),t(...d)};return[(...d)=>{const f=Date.now(),p=f-r;p>=n?s(d,f):(i=d,a||(a=setTimeout(()=>{a=null,s(i)},n-p)))},()=>i&&s(i)]}const Z0=(t,e,r=3)=>{let n=0;const i=Sre(50,250);return Tre(a=>{const s=a.loaded,o=a.lengthComputable?a.total:void 0,c=s-n,d=i(c),f=s<=o;n=s;const p={loaded:s,total:o,progress:o?s/o:void 0,bytes:c,rate:d||void 0,estimated:d&&o&&f?(o-s)/d:void 0,event:a,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(p)},r)},p4=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},m4=t=>(...e)=>ae.asap(()=>t(...e)),Are=hn.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,hn.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(hn.origin),hn.navigator&&/(msie|trident)/i.test(hn.navigator.userAgent)):()=>!0,kre=hn.hasStandardBrowserEnv?{write(t,e,r,n,i,a,s){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];ae.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),ae.isString(n)&&o.push(`path=${n}`),ae.isString(i)&&o.push(`domain=${i}`),a===!0&&o.push("secure"),ae.isString(s)&&o.push(`SameSite=${s}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Ire(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Pre(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function lV(t,e,r){let n=!Ire(e);return t&&(n||r==!1)?Pre(t,e):e}const g4=t=>t instanceof qn?{...t}:t;function _c(t,e){e=e||{};const r={};function n(d,f,p,g){return ae.isPlainObject(d)&&ae.isPlainObject(f)?ae.merge.call({caseless:g},d,f):ae.isPlainObject(f)?ae.merge({},f):ae.isArray(f)?f.slice():f}function i(d,f,p,g){if(ae.isUndefined(f)){if(!ae.isUndefined(d))return n(void 0,d,p,g)}else return n(d,f,p,g)}function a(d,f){if(!ae.isUndefined(f))return n(void 0,f)}function s(d,f){if(ae.isUndefined(f)){if(!ae.isUndefined(d))return n(void 0,d)}else return n(void 0,f)}function o(d,f,p){if(p in e)return n(d,f);if(p in t)return n(void 0,d)}const c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,withXSRFToken:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:o,headers:(d,f,p)=>i(g4(d),g4(f),p,!0)};return ae.forEach(Object.keys({...t,...e}),function(f){const p=c[f]||i,g=p(t[f],e[f],f);ae.isUndefined(g)&&p!==o||(r[f]=g)}),r}const cV=t=>{const e=_c({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:a,headers:s,auth:o}=e;if(e.headers=s=qn.from(s),e.url=nV(lV(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&s.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),ae.isFormData(r)){if(hn.hasStandardBrowserEnv||hn.hasStandardBrowserWebWorkerEnv)s.setContentType(void 0);else if(ae.isFunction(r.getHeaders)){const c=r.getHeaders(),d=["content-type","content-length"];Object.entries(c).forEach(([f,p])=>{d.includes(f.toLowerCase())&&s.set(f,p)})}}if(hn.hasStandardBrowserEnv&&(n&&ae.isFunction(n)&&(n=n(e)),n||n!==!1&&Are(e.url))){const c=i&&a&&kre.read(a);c&&s.set(i,c)}return e},Cre=typeof XMLHttpRequest<"u",Nre=Cre&&function(t){return new Promise(function(r,n){const i=cV(t);let a=i.data;const s=qn.from(i.headers).normalize();let{responseType:o,onUploadProgress:c,onDownloadProgress:d}=i,f,p,g,b,w;function _(){b&&b(),w&&w(),i.cancelToken&&i.cancelToken.unsubscribe(f),i.signal&&i.signal.removeEventListener("abort",f)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function T(){if(!x)return;const P=qn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),O={data:!o||o==="text"||o==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:P,config:t,request:x};oV(function(C){r(C),_()},function(C){n(C),_()},O),x=null}"onloadend"in x?x.onloadend=T:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(T)},x.onabort=function(){x&&(n(new Ke("Request aborted",Ke.ECONNABORTED,t,x)),x=null)},x.onerror=function(j){const O=j&&j.message?j.message:"Network Error",V=new Ke(O,Ke.ERR_NETWORK,t,x);V.event=j||null,n(V),x=null},x.ontimeout=function(){let j=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const O=i.transitional||iV;i.timeoutErrorMessage&&(j=i.timeoutErrorMessage),n(new Ke(j,O.clarifyTimeoutError?Ke.ETIMEDOUT:Ke.ECONNABORTED,t,x)),x=null},a===void 0&&s.setContentType(null),"setRequestHeader"in x&&ae.forEach(s.toJSON(),function(j,O){x.setRequestHeader(O,j)}),ae.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),o&&o!=="json"&&(x.responseType=i.responseType),d&&([g,w]=Z0(d,!0),x.addEventListener("progress",g)),c&&x.upload&&([p,b]=Z0(c),x.upload.addEventListener("progress",p),x.upload.addEventListener("loadend",b)),(i.cancelToken||i.signal)&&(f=P=>{x&&(n(!P||P.type?new Gp(null,t,x):P),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(f),i.signal&&(i.signal.aborted?f():i.signal.addEventListener("abort",f)));const I=Ere(i.url);if(I&&hn.protocols.indexOf(I)===-1){n(new Ke("Unsupported protocol "+I+":",Ke.ERR_BAD_REQUEST,t));return}x.send(a||null)})},Rre=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const a=function(d){if(!i){i=!0,o();const f=d instanceof Error?d:this.reason;n.abort(f instanceof Ke?f:new Gp(f instanceof Error?f.message:f))}};let s=e&&setTimeout(()=>{s=null,a(new Ke(`timeout of ${e}ms exceeded`,Ke.ETIMEDOUT))},e);const o=()=>{t&&(s&&clearTimeout(s),s=null,t.forEach(d=>{d.unsubscribe?d.unsubscribe(a):d.removeEventListener("abort",a)}),t=null)};t.forEach(d=>d.addEventListener("abort",a));const{signal:c}=n;return c.unsubscribe=()=>ae.asap(o),c}},Ore=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},jre=async function*(t,e){for await(const r of Dre(t))yield*Ore(r,e)},Dre=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},y4=(t,e,r,n)=>{const i=jre(t,e);let a=0,s,o=c=>{s||(s=!0,n&&n(c))};return new ReadableStream({async pull(c){try{const{done:d,value:f}=await i.next();if(d){o(),c.close();return}let p=f.byteLength;if(r){let g=a+=p;r(g)}c.enqueue(new Uint8Array(f))}catch(d){throw o(d),d}},cancel(c){return o(c),i.return()}},{highWaterMark:2})},v4=64*1024,{isFunction:Bg}=ae,Mre=(({Request:t,Response:e})=>({Request:t,Response:e}))(ae.global),{ReadableStream:b4,TextEncoder:x4}=ae.global,w4=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Lre=t=>{t=ae.merge.call({skipUndefined:!0},Mre,t);const{fetch:e,Request:r,Response:n}=t,i=e?Bg(e):typeof fetch=="function",a=Bg(r),s=Bg(n);if(!i)return!1;const o=i&&Bg(b4),c=i&&(typeof x4=="function"?(w=>_=>w.encode(_))(new x4):async w=>new Uint8Array(await new r(w).arrayBuffer())),d=a&&o&&w4(()=>{let w=!1;const _=new r(hn.origin,{body:new b4,method:"POST",get duplex(){return w=!0,"half"}}).headers.has("Content-Type");return w&&!_}),f=s&&o&&w4(()=>ae.isReadableStream(new n("").body)),p={stream:f&&(w=>w.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(w=>{!p[w]&&(p[w]=(_,x)=>{let T=_&&_[w];if(T)return T.call(_);throw new Ke(`Response type '${w}' is not supported`,Ke.ERR_NOT_SUPPORT,x)})});const g=async w=>{if(w==null)return 0;if(ae.isBlob(w))return w.size;if(ae.isSpecCompliantForm(w))return(await new r(hn.origin,{method:"POST",body:w}).arrayBuffer()).byteLength;if(ae.isArrayBufferView(w)||ae.isArrayBuffer(w))return w.byteLength;if(ae.isURLSearchParams(w)&&(w=w+""),ae.isString(w))return(await c(w)).byteLength},b=async(w,_)=>{const x=ae.toFiniteNumber(w.getContentLength());return x??g(_)};return async w=>{let{url:_,method:x,data:T,signal:I,cancelToken:P,timeout:j,onDownloadProgress:O,onUploadProgress:V,responseType:C,headers:N,withCredentials:M="same-origin",fetchOptions:F}=cV(w),D=e||fetch;C=C?(C+"").toLowerCase():"text";let U=Rre([I,P&&P.toAbortSignal()],j),$=null;const G=U&&U.unsubscribe&&(()=>{U.unsubscribe()});let ue;try{if(V&&d&&x!=="get"&&x!=="head"&&(ue=await b(N,T))!==0){let B=new r(_,{method:"POST",body:T,duplex:"half"}),Z;if(ae.isFormData(T)&&(Z=B.headers.get("content-type"))&&N.setContentType(Z),B.body){const[_e,oe]=p4(ue,Z0(m4(V)));T=y4(B.body,v4,_e,oe)}}ae.isString(M)||(M=M?"include":"omit");const ce=a&&"credentials"in r.prototype,se={...F,signal:U,method:x.toUpperCase(),headers:N.normalize().toJSON(),body:T,duplex:"half",credentials:ce?M:void 0};$=a&&new r(_,se);let Q=await(a?D($,F):D(_,se));const X=f&&(C==="stream"||C==="response");if(f&&(O||X&&G)){const B={};["status","statusText","headers"].forEach(xe=>{B[xe]=Q[xe]});const Z=ae.toFiniteNumber(Q.headers.get("content-length")),[_e,oe]=O&&p4(Z,Z0(m4(O),!0))||[];Q=new n(y4(Q.body,v4,_e,()=>{oe&&oe(),G&&G()}),B)}C=C||"text";let ie=await p[ae.findKey(p,C)||"text"](Q,w);return!X&&G&&G(),await new Promise((B,Z)=>{oV(B,Z,{data:ie,headers:qn.from(Q.headers),status:Q.status,statusText:Q.statusText,config:w,request:$})})}catch(ce){throw G&&G(),ce&&ce.name==="TypeError"&&/Load failed|fetch/i.test(ce.message)?Object.assign(new Ke("Network Error",Ke.ERR_NETWORK,w,$),{cause:ce.cause||ce}):Ke.from(ce,ce&&ce.code,w,$)}}},Fre=new Map,uV=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,a=[n,i,r];let s=a.length,o=s,c,d,f=Fre;for(;o--;)c=a[o],d=f.get(c),d===void 0&&f.set(c,d=o?new Map:Lre(e)),f=d;return d};uV();const YI={http:tre,xhr:Nre,fetch:{get:uV}};ae.forEach(YI,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const _4=t=>`- ${t}`,$re=t=>ae.isFunction(t)||t===null||t===!1;function Vre(t,e){t=ae.isArray(t)?t:[t];const{length:r}=t;let n,i;const a={};for(let s=0;s<r;s++){n=t[s];let o;if(i=n,!$re(n)&&(i=YI[(o=String(n)).toLowerCase()],i===void 0))throw new Ke(`Unknown adapter '${o}'`);if(i&&(ae.isFunction(i)||(i=i.get(e))))break;a[o||"#"+s]=i}if(!i){const s=Object.entries(a).map(([c,d])=>`adapter ${c} `+(d===!1?"is not supported by the environment":"is not available in the build"));let o=r?s.length>1?`since :
`+s.map(_4).join(`
`):" "+_4(s[0]):"as no adapter specified";throw new Ke("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const dV={getAdapter:Vre,adapters:YI};function Ow(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Gp(null,t)}function E4(t){return Ow(t),t.headers=qn.from(t.headers),t.data=Rw.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),dV.getAdapter(t.adapter||Hp.adapter,t)(t).then(function(n){return Ow(t),n.data=Rw.call(t,t.transformResponse,n),n.headers=qn.from(n.headers),n},function(n){return sV(n)||(Ow(t),n&&n.response&&(n.response.data=Rw.call(t,t.transformResponse,n.response),n.response.headers=qn.from(n.response.headers))),Promise.reject(n)})}const fV="1.13.4",Iv={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Iv[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const S4={};Iv.transitional=function(e,r,n){function i(a,s){return"[Axios v"+fV+"] Transitional option '"+a+"'"+s+(n?". "+n:"")}return(a,s,o)=>{if(e===!1)throw new Ke(i(s," has been removed"+(r?" in "+r:"")),Ke.ERR_DEPRECATED);return r&&!S4[s]&&(S4[s]=!0,console.warn(i(s," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(a,s,o):!0}};Iv.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Ure(t,e,r){if(typeof t!="object")throw new Ke("options must be an object",Ke.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const a=n[i],s=e[a];if(s){const o=t[a],c=o===void 0||s(o,a,t);if(c!==!0)throw new Ke("option "+a+" must be "+c,Ke.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ke("Unknown option "+a,Ke.ERR_BAD_OPTION)}}const I0={assertOptions:Ure,validators:Iv},Da=I0.validators;let fc=class{constructor(e){this.defaults=e||{},this.interceptors={request:new f4,response:new f4}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const a=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?a&&!String(n.stack).endsWith(a.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+a):n.stack=a}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=_c(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:a}=r;n!==void 0&&I0.assertOptions(n,{silentJSONParsing:Da.transitional(Da.boolean),forcedJSONParsing:Da.transitional(Da.boolean),clarifyTimeoutError:Da.transitional(Da.boolean)},!1),i!=null&&(ae.isFunction(i)?r.paramsSerializer={serialize:i}:I0.assertOptions(i,{encode:Da.function,serialize:Da.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),I0.assertOptions(r,{baseUrl:Da.spelling("baseURL"),withXsrfToken:Da.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let s=a&&ae.merge(a.common,a[r.method]);a&&ae.forEach(["delete","get","head","post","put","patch","common"],w=>{delete a[w]}),r.headers=qn.concat(s,a);const o=[];let c=!0;this.interceptors.request.forEach(function(_){typeof _.runWhen=="function"&&_.runWhen(r)===!1||(c=c&&_.synchronous,o.unshift(_.fulfilled,_.rejected))});const d=[];this.interceptors.response.forEach(function(_){d.push(_.fulfilled,_.rejected)});let f,p=0,g;if(!c){const w=[E4.bind(this),void 0];for(w.unshift(...o),w.push(...d),g=w.length,f=Promise.resolve(r);p<g;)f=f.then(w[p++],w[p++]);return f}g=o.length;let b=r;for(;p<g;){const w=o[p++],_=o[p++];try{b=w(b)}catch(x){_.call(this,x);break}}try{f=E4.call(this,b)}catch(w){return Promise.reject(w)}for(p=0,g=d.length;p<g;)f=f.then(d[p++],d[p++]);return f}getUri(e){e=_c(this.defaults,e);const r=lV(e.baseURL,e.url,e.allowAbsoluteUrls);return nV(r,e.params,e.paramsSerializer)}};ae.forEach(["delete","get","head","options"],function(e){fc.prototype[e]=function(r,n){return this.request(_c(n||{},{method:e,url:r,data:(n||{}).data}))}});ae.forEach(["post","put","patch"],function(e){function r(n){return function(a,s,o){return this.request(_c(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:a,data:s}))}}fc.prototype[e]=r(),fc.prototype[e+"Form"]=r(!0)});let qre=class hV{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(a){r=a});const n=this;this.promise.then(i=>{if(!n._listeners)return;let a=n._listeners.length;for(;a-- >0;)n._listeners[a](i);n._listeners=null}),this.promise.then=i=>{let a;const s=new Promise(o=>{n.subscribe(o),a=o}).then(i);return s.cancel=function(){n.unsubscribe(a)},s},e(function(a,s,o){n.reason||(n.reason=new Gp(a,s,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new hV(function(i){e=i}),cancel:e}}};function zre(t){return function(r){return t.apply(null,r)}}function Bre(t){return ae.isObject(t)&&t.isAxiosError===!0}const BA={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(BA).forEach(([t,e])=>{BA[e]=t});function pV(t){const e=new fc(t),r=H$(fc.prototype.request,e);return ae.extend(r,fc.prototype,e,{allOwnKeys:!0}),ae.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return pV(_c(t,i))},r}const zt=pV(Hp);zt.Axios=fc;zt.CanceledError=Gp;zt.CancelToken=qre;zt.isCancel=sV;zt.VERSION=fV;zt.toFormData=kv;zt.AxiosError=Ke;zt.Cancel=zt.CanceledError;zt.all=function(e){return Promise.all(e)};zt.spread=zre;zt.isAxiosError=Bre;zt.mergeConfig=_c;zt.AxiosHeaders=qn;zt.formToJSON=t=>aV(ae.isHTMLForm(t)?new FormData(t):t);zt.getAdapter=dV.getAdapter;zt.HttpStatusCode=BA;zt.default=zt;const{Axios:E5e,AxiosError:S5e,CanceledError:T5e,isCancel:A5e,CancelToken:k5e,VERSION:I5e,all:P5e,Cancel:C5e,isAxiosError:N5e,spread:R5e,toFormData:O5e,AxiosHeaders:j5e,HttpStatusCode:D5e,formToJSON:M5e,getAdapter:L5e,mergeConfig:F5e}=zt,WA={ALPHA_VANTAGE:"F7PBBII9P5SH1GSJ",NDAX_API:"a45c87307e96b560ae24e3b63bec7980",NDAX_SECRET:"56bce7d5abd64ec2ac92b5fa7a1cc8aa"},Wre={ALPHA_VANTAGE:"https://www.alphavantage.co/query"},Hre=900*1e3,T4=new Map;class Gre{constructor(){this.apiKey=WA.ALPHA_VANTAGE,this.baseUrl=Wre.ALPHA_VANTAGE,this.callCount=0,this.lastResetTime=Date.now()}canMakeCall(){const e=Date.now();return e-this.lastResetTime>=6e4&&(this.callCount=0,this.lastResetTime=e),this.callCount<5}getCached(e){const r=T4.get(e);return r&&Date.now()-r.timestamp<Hre?r.data:null}setCache(e,r){T4.set(e,{data:r,timestamp:Date.now()})}async makeRequest(e){if(!this.canMakeCall())return console.warn("Alpha Vantage rate limit reached, using cached data"),null;try{this.callCount++;const r=await zt.get(this.baseUrl,{params:{...e,apikey:this.apiKey}});return r.data["Error Message"]||r.data.Note?(console.error("Alpha Vantage API error:",r.data),null):r.data}catch(r){return console.error("Alpha Vantage request failed:",r),null}}async getQuote(e){const r=`quote_${e}`,n=this.getCached(r);if(n)return n;const i=await this.makeRequest({function:"GLOBAL_QUOTE",symbol:e});if(i&&i["Global Quote"]){const a=i["Global Quote"],s={symbol:a["01. symbol"],price:parseFloat(a["05. price"]),change:parseFloat(a["09. change"]),changePercent:parseFloat(a["10. change percent"]?.replace("%","")),volume:parseInt(a["06. volume"]),high:parseFloat(a["03. high"]),low:parseFloat(a["04. low"]),previousClose:parseFloat(a["08. previous close"]),lastUpdated:a["07. latest trading day"]};return this.setCache(r,s),s}return null}async getIntraday(e,r="15min"){const n=`intraday_${e}_${r}`,i=this.getCached(n);if(i)return i;const a=await this.makeRequest({function:"TIME_SERIES_INTRADAY",symbol:e,interval:r,outputsize:"compact"}),s=`Time Series (${r})`;if(a&&a[s]){const o=a[s],c=Object.entries(o).map(([d,f])=>({time:d,open:parseFloat(f["1. open"]),high:parseFloat(f["2. high"]),low:parseFloat(f["3. low"]),close:parseFloat(f["4. close"]),volume:parseInt(f["5. volume"])}));return this.setCache(n,c),c}return null}async getDaily(e){const r=`daily_${e}`,n=this.getCached(r);if(n)return n;const i=await this.makeRequest({function:"TIME_SERIES_DAILY",symbol:e,outputsize:"compact"});if(i&&i["Time Series (Daily)"]){const a=i["Time Series (Daily)"],s=Object.entries(a).map(([o,c])=>({date:o,open:parseFloat(c["1. open"]),high:parseFloat(c["2. high"]),low:parseFloat(c["3. low"]),close:parseFloat(c["4. close"]),volume:parseInt(c["5. volume"])}));return this.setCache(r,s),s}return null}async search(e){const r=`search_${e}`,n=this.getCached(r);if(n)return n;const i=await this.makeRequest({function:"SYMBOL_SEARCH",keywords:e});if(i&&i.bestMatches){const a=i.bestMatches.map(s=>({symbol:s["1. symbol"],name:s["2. name"],type:s["3. type"],region:s["4. region"],currency:s["8. currency"]}));return this.setCache(r,a),a}return[]}async getCompanyOverview(e){const r=`overview_${e}`,n=this.getCached(r);if(n)return n;const i=await this.makeRequest({function:"OVERVIEW",symbol:e});if(i&&i.Symbol){const a={symbol:i.Symbol,name:i.Name,description:i.Description,sector:i.Sector,industry:i.Industry,marketCap:parseInt(i.MarketCapitalization),peRatio:parseFloat(i.PERatio),eps:parseFloat(i.EPS),dividendYield:parseFloat(i.DividendYield),weekHigh52:parseFloat(i["52WeekHigh"]),weekLow52:parseFloat(i["52WeekLow"]),beta:parseFloat(i.Beta)};return this.setCache(r,a),a}return null}async getMultipleQuotes(e){const r=[];for(const n of e){const i=this.getCached(`quote_${n}`);if(i){r.push(i);continue}if(!this.canMakeCall()){console.warn(`Rate limit reached, skipping ${n}`);continue}const a=await this.getQuote(n);a&&r.push(a),await new Promise(s=>setTimeout(s,200))}return r}}const Kre=new Gre,jw=900*1e3,Yre=3600*1e3,Xre=50,Wg=new Map;class Qre{constructor(){this.apiKey="d61qfo1r01qgcobqhjpgd61qfo1r01qgcobqhjq0",this.baseUrl="https://finnhub.io/api/v1",this.callTimestamps=[]}canMakeCall(){const r=Date.now()-6e4;return this.callTimestamps=this.callTimestamps.filter(n=>n>r),this.callTimestamps.length<Xre}recordCall(){this.callTimestamps.push(Date.now())}getCached(e){const r=Wg.get(e);return r&&Date.now()-r.timestamp<r.duration?r.data:(Wg.delete(e),null)}setCache(e,r,n=jw){Wg.set(e,{data:r,timestamp:Date.now(),duration:n})}async makeRequest(e,r={}){if(!this.apiKey)return console.warn("Finnhub API key not configured"),null;if(!this.canMakeCall())return console.warn("Finnhub rate limit reached, using cached data"),null;try{this.recordCall();const n=await zt.get(`${this.baseUrl}${e}`,{params:{...r,token:this.apiKey},timeout:1e4});return n.data.error?(console.error("Finnhub API error:",n.data.error),null):n.data}catch(n){return n.response?.status===429?console.error("Finnhub rate limit exceeded"):console.error("Finnhub request failed:",n.message),null}}async getQuote(e){const r=`quote_${e}`,n=this.getCached(r);if(n)return n;const i=await this.makeRequest("/quote",{symbol:e.toUpperCase()});if(i&&i.c!==0){const a={symbol:e.toUpperCase(),price:i.c,change:i.d,changePercent:i.dp,high:i.h,low:i.l,open:i.o,previousClose:i.pc,timestamp:i.t};return this.setCache(r,a),a}return null}async getBatchQuotes(e){const r=[],n=[];for(const i of e){const a=this.getCached(`quote_${i}`);a?r.push(a):n.push(i)}for(const i of n){if(!this.canMakeCall()){console.warn(`Rate limit reached, skipping ${i}`);continue}const a=await this.getQuote(i);a&&r.push(a),n.indexOf(i)<n.length-1&&await new Promise(s=>setTimeout(s,100))}return r}async getCompanyProfile(e){const r=`profile_${e}`,n=this.getCached(r);if(n)return n;const i=await this.makeRequest("/stock/profile2",{symbol:e.toUpperCase()});if(i&&i.ticker){const a={symbol:i.ticker,name:i.name,country:i.country,currency:i.currency,exchange:i.exchange,industry:i.finnhubIndustry,marketCap:i.marketCapitalization,logo:i.logo,weburl:i.weburl,phone:i.phone,shareOutstanding:i.shareOutstanding,ipo:i.ipo};return this.setCache(r,a,Yre),a}return null}async getCandles(e,r="D",n,i){const a=`candles_${e}_${r}_${n}_${i}`,s=this.getCached(a);if(s)return s;const o=await this.makeRequest("/stock/candle",{symbol:e.toUpperCase(),resolution:r,from:n,to:i});if(o&&o.s==="ok"&&o.t){const c=o.t.map((d,f)=>({date:new Date(d*1e3).toISOString(),timestamp:d,open:o.o[f],high:o.h[f],low:o.l[f],close:o.c[f],volume:o.v[f]}));return this.setCache(a,c,jw),c}return null}async searchSymbols(e){const r=`search_${e}`,n=this.getCached(r);if(n)return n;const i=await this.makeRequest("/search",{q:e});if(i&&i.result){const a=i.result.filter(s=>s.type==="Common Stock").map(s=>({symbol:s.symbol,description:s.description,type:s.type,displaySymbol:s.displaySymbol}));return this.setCache(r,a,jw),a}return[]}async getMarketStatus(e="US"){return await this.makeRequest("/stock/market-status",{exchange:e})}clearCache(){Wg.clear(),console.log("Finnhub cache cleared")}}const mV=new Qre,Jre=60*1e3,Hg=300*1e3,Zre=900*1e3,ene=25,Gg=new Map;class tne{constructor(){this.apiKey="",this.baseUrl=this.apiKey?"https://pro-api.coingecko.com/api/v3":"https://api.coingecko.com/api/v3",this.callTimestamps=[]}canMakeCall(){const r=Date.now()-6e4;return this.callTimestamps=this.callTimestamps.filter(n=>n>r),this.callTimestamps.length<ene}recordCall(){this.callTimestamps.push(Date.now())}getCached(e){const r=Gg.get(e);return r&&Date.now()-r.timestamp<r.duration?r.data:(Gg.delete(e),null)}setCache(e,r,n=Jre){Gg.set(e,{data:r,timestamp:Date.now(),duration:n})}async makeRequest(e,r={}){if(!this.canMakeCall())return console.warn("CoinGecko rate limit reached, using cached data"),null;try{this.recordCall();const n=this.apiKey?{"x-cg-pro-api-key":this.apiKey}:{};return(await zt.get(`${this.baseUrl}${e}`,{params:r,headers:n,timeout:15e3})).data}catch(n){return n.response?.status===429?console.error("CoinGecko rate limit exceeded"):n.response?.status===404?console.error("CoinGecko: Resource not found"):console.error("CoinGecko request failed:",n.message),null}}async getPrices(e,r="usd",n=!0){const i=`prices_${e.join(",")}_${r}`,a=this.getCached(i);if(a)return a;const s={ids:e.join(","),vs_currencies:r};n&&(s.include_24hr_change=!0,s.include_24hr_vol=!0,s.include_market_cap=!0);const o=await this.makeRequest("/simple/price",s);return o?(this.setCache(i,o),o):null}async getCoinData(e){const r=`coin_${e}`,n=this.getCached(r);if(n)return n;const i=await this.makeRequest(`/coins/${e}`,{localization:!1,tickers:!1,community_data:!1,developer_data:!1});if(i){const a={id:i.id,symbol:i.symbol?.toUpperCase()||"",name:i.name,image:i.image?.large||i.image?.small,currentPrice:i.market_data?.current_price?.usd||0,marketCap:i.market_data?.market_cap?.usd||0,marketCapRank:i.market_cap_rank||0,totalVolume:i.market_data?.total_volume?.usd||0,high24h:i.market_data?.high_24h?.usd||0,low24h:i.market_data?.low_24h?.usd||0,priceChange24h:i.market_data?.price_change_24h||0,priceChangePercentage24h:i.market_data?.price_change_percentage_24h||0,circulatingSupply:i.market_data?.circulating_supply||0,totalSupply:i.market_data?.total_supply||0,maxSupply:i.market_data?.max_supply||null,ath:i.market_data?.ath?.usd||0,athDate:i.market_data?.ath_date?.usd||null,description:i.description?.en||""};return this.setCache(r,a,Hg),a}return null}async getMarketData(e="usd",r=100,n=1){const i=`market_${e}_${r}_${n}`,a=this.getCached(i);if(a)return a;const s=await this.makeRequest("/coins/markets",{vs_currency:e,order:"market_cap_desc",per_page:Math.min(r,250),page:n,sparkline:!1});if(s&&Array.isArray(s)){const o=s.map(c=>({id:c.id,symbol:c.symbol?.toUpperCase()||"",name:c.name,image:c.image,price:c.current_price||0,marketCap:c.market_cap||0,marketCapRank:c.market_cap_rank||0,volume:c.total_volume||0,change:c.price_change_percentage_24h||0,high24h:c.high_24h||0,low24h:c.low_24h||0}));return this.setCache(i,o,Hg),o}return null}async getHistoricalData(e,r=30,n="usd"){const i=`historical_${e}_${r}`,a=this.getCached(i);if(a)return a;const s=await this.makeRequest(`/coins/${e}/market_chart`,{vs_currency:n,days:r});if(s&&s.prices){const o=s.prices.map(([c,d])=>({date:new Date(c).toISOString(),timestamp:c,close:d,open:d,high:d,low:d}));return this.setCache(i,o,Zre),o}return null}async searchCoins(e){const r=`search_${e}`,n=this.getCached(r);if(n)return n;const i=await this.makeRequest("/search",{query:e});if(i&&i.coins){const a=i.coins.slice(0,20).map(s=>({id:s.id,symbol:s.symbol?.toUpperCase()||"",name:s.name,image:s.thumb||s.large,marketCapRank:s.market_cap_rank||0}));return this.setCache(r,a,Hg),a}return[]}async getTrendingCoins(){const e="trending",r=this.getCached(e);if(r)return r;const n=await this.makeRequest("/search/trending");if(n&&n.coins){const i=n.coins.map(a=>({id:a.item.id,symbol:a.item.symbol?.toUpperCase()||"",name:a.item.name,image:a.item.small||a.item.thumb,marketCapRank:a.item.market_cap_rank||0,priceBtc:a.item.price_btc||0}));return this.setCache(e,i,Hg),i}return null}async getCoinsList(){const e="coins_list",r=this.getCached(e);if(r)return r;const n=await this.makeRequest("/coins/list");if(n&&Array.isArray(n)){const i=n.map(a=>({id:a.id,symbol:a.symbol?.toUpperCase()||"",name:a.name}));return this.setCache(e,i,1440*60*1e3),i}return[]}clearCache(){Gg.clear(),console.log("CoinGecko cache cleared")}}const rne=new tne,nne=30*1e3,A4=new Map;class ine{constructor(){this.apiKey=WA.NDAX_API,this.apiSecret=WA.NDAX_SECRET,this.baseUrl="https://api.ndax.io:8443/AP",this.wsUrl="wss://api.ndax.io/WSGateway",this.ws=null,this.listeners=new Map}getCached(e){const r=A4.get(e);return r&&Date.now()-r.timestamp<nne?r.data:null}setCache(e,r){A4.set(e,{data:r,timestamp:Date.now()})}async makeRequest(e,r={}){try{const n=new URL(`${this.baseUrl}/${e}`);Object.entries(r).forEach(([a,s])=>{n.searchParams.append(a,s)});const i=await fetch(n.toString(),{method:"GET",headers:{"Content-Type":"application/json"}});if(!i.ok)throw new Error(`HTTP error! status: ${i.status}`);return await i.json()}catch(n){return console.error("NDAX request failed:",n),null}}async getInstruments(){const e="instruments",r=this.getCached(e);if(r)return r;const n=await this.makeRequest("GetInstruments",{OMSId:1});return n?(this.setCache(e,n),n):[]}async getTickers(){const e="tickers",r=this.getCached(e);if(r)return r;const n=await this.getInstruments(),i=[];for(const a of n.slice(0,20))try{const s=await this.makeRequest("GetLevel1",{OMSId:1,InstrumentId:a.InstrumentId});s&&i.push({id:a.Symbol.toLowerCase(),symbol:a.Symbol,name:a.Product1Symbol,price:s.LastTradedPx||0,change:(s.LastTradedPx-s.Rolling24HrPxChange)/s.Rolling24HrPxChange*100||0,volume:s.Rolling24HrVolume||0,high24h:s.SessionHigh||0,low24h:s.SessionLow||0,marketCap:s.Rolling24HrVolume*s.LastTradedPx||0})}catch(s){console.error(`Failed to get ticker for ${a.Symbol}:`,s)}return this.setCache(e,i),i}async getTicker(e){return(await this.getTickers()).find(n=>n.symbol===e)}getMockCryptoData(){return[{id:"btc",symbol:"BTC",name:"Bitcoin",marketCap:12e11,basePrice:67500},{id:"eth",symbol:"ETH",name:"Ethereum",marketCap:38e10,basePrice:3450},{id:"bnb",symbol:"BNB",name:"Binance Coin",marketCap:85e9,basePrice:580},{id:"sol",symbol:"SOL",name:"Solana",marketCap:78e9,basePrice:175},{id:"xrp",symbol:"XRP",name:"Ripple",marketCap:65e9,basePrice:.62},{id:"ada",symbol:"ADA",name:"Cardano",marketCap:45e9,basePrice:.65},{id:"doge",symbol:"DOGE",name:"Dogecoin",marketCap:42e9,basePrice:.18},{id:"avax",symbol:"AVAX",name:"Avalanche",marketCap:38e9,basePrice:42},{id:"dot",symbol:"DOT",name:"Polkadot",marketCap:28e9,basePrice:8.5},{id:"matic",symbol:"MATIC",name:"Polygon",marketCap:25e9,basePrice:.95},{id:"link",symbol:"LINK",name:"Chainlink",marketCap:18e9,basePrice:18.5},{id:"uni",symbol:"UNI",name:"Uniswap",marketCap:12e9,basePrice:12.8}].map(r=>{const n=(Math.random()-.5)*10,i=r.basePrice*(1+n/100);return{...r,price:Math.round(i*100)/100,change:Math.round(n*100)/100}})}async getCryptoForHeatmap(){try{const e=await this.getTickers();if(e&&e.length>0)return e}catch(e){console.warn("NDAX API unavailable, using mock data:",e)}return this.getMockCryptoData()}}const ane=new ine,sne=60*1e3,Dw=new Map,k4={XAU:"OANDA:XAU_USD",XAG:"OANDA:XAG_USD",CL:"OANDA:WTICO_USD",BZ:"OANDA:BCO_USD",NG:"OANDA:NAT_GAS_USD",HG:"OANDA:COPPER_USD",PL:"OANDA:XPT_USD",PA:"OANDA:XPD_USD",ZW:"OANDA:WHEAT_USD",ZC:"OANDA:CORN_USD"};class one{constructor(){this.finnhub=mV}getCached(e){const r=Dw.get(e);return r&&Date.now()-r.timestamp<sne?r.data:null}setCache(e,r){Dw.set(e,{data:r,timestamp:Date.now()})}getCommodityMetadata(e){return{XAU:{id:"gold",name:"Gold",unit:"/oz",marketCap:12e12},XAG:{id:"silver",name:"Silver",unit:"/oz",marketCap:14e11},CL:{id:"oil",name:"Crude Oil (WTI)",unit:"/bbl",marketCap:25e11},BZ:{id:"brent",name:"Brent Crude",unit:"/bbl",marketCap:22e11},NG:{id:"natgas",name:"Natural Gas",unit:"/MMBtu",marketCap:8e11},HG:{id:"copper",name:"Copper",unit:"/lb",marketCap:35e10},PL:{id:"platinum",name:"Platinum",unit:"/oz",marketCap:28e10},PA:{id:"palladium",name:"Palladium",unit:"/oz",marketCap:12e10},ZW:{id:"wheat",name:"Wheat",unit:"/bu",marketCap:95e9},ZC:{id:"corn",name:"Corn",unit:"/bu",marketCap:85e9}}[e]||{id:e.toLowerCase(),name:e,unit:"",marketCap:0}}async fetchFromFinnhub(e){try{const r=k4[e];if(!r)return null;const n=await this.finnhub.getQuote(r);if(n&&n.price){const i=this.getCommodityMetadata(e);return{id:i.id,symbol:e,name:i.name,price:n.price,change:n.changePercent,marketCap:i.marketCap,unit:i.unit}}}catch(r){console.warn(`Finnhub commodity fetch failed for ${e}:`,r.message)}return null}getMockCommoditiesData(){return[{id:"gold",symbol:"XAU",name:"Gold",marketCap:12e12,basePrice:2045.5,unit:"/oz"},{id:"silver",symbol:"XAG",name:"Silver",marketCap:14e11,basePrice:23.85,unit:"/oz"},{id:"oil",symbol:"CL",name:"Crude Oil (WTI)",marketCap:25e11,basePrice:78.45,unit:"/bbl"},{id:"brent",symbol:"BZ",name:"Brent Crude",marketCap:22e11,basePrice:82.3,unit:"/bbl"},{id:"natgas",symbol:"NG",name:"Natural Gas",marketCap:8e11,basePrice:2.85,unit:"/MMBtu"},{id:"copper",symbol:"HG",name:"Copper",marketCap:35e10,basePrice:4.25,unit:"/lb"},{id:"platinum",symbol:"PL",name:"Platinum",marketCap:28e10,basePrice:985.6,unit:"/oz"},{id:"palladium",symbol:"PA",name:"Palladium",marketCap:12e10,basePrice:1025.4,unit:"/oz"},{id:"wheat",symbol:"ZW",name:"Wheat",marketCap:95e9,basePrice:625.8,unit:"/bu"},{id:"corn",symbol:"ZC",name:"Corn",marketCap:85e9,basePrice:485.2,unit:"/bu"}].map(r=>{const n=(Math.random()-.5)*4,i=r.basePrice*(1+n/100);return{id:r.id,symbol:r.symbol,name:r.name,marketCap:r.marketCap,price:Math.round(i*100)/100,change:Math.round(n*100)/100,unit:r.unit}})}async getCommodity(e){const r=`commodity_${e}`,n=this.getCached(r);if(n)return n;const i=await this.fetchFromFinnhub(e);if(i)return this.setCache(r,i),i;const s=this.getMockCommoditiesData().find(o=>o.symbol===e);return s&&this.setCache(r,s),s}async getCommoditiesForHeatmap(){const e="all_commodities",r=this.getCached(e);if(r)return r;const n=["XAU","XAG","CL","BZ","NG","HG","PL","PA","ZW","ZC"],i=[];try{console.log("Fetching commodities from Finnhub...");for(const s of n){const o=await this.fetchFromFinnhub(s);o&&i.push(o),await new Promise(c=>setTimeout(c,100))}if(i.length>0)return console.log(`Got ${i.length} commodities from Finnhub`),this.setCache(e,i),i}catch(s){console.warn("Finnhub commodities failed:",s.message)}console.log("Using mock commodity data");const a=this.getMockCommoditiesData();return this.setCache(e,a),a}async getHistorical(e,r=30){const n=k4[e];if(n)try{const c=Math.floor(Date.now()/1e3),d=c-r*24*60*60,f=await this.finnhub.getCandles(n,"D",d,c);if(f&&f.length>0)return f}catch(c){console.warn(`Finnhub historical data failed for ${e}:`,c.message)}const i=await this.getCommodity(e);if(!i)return[];const a=[];let s=i.price;const o=new Date;for(let c=r;c>=0;c--){const d=new Date(o);d.setDate(d.getDate()-c);const f=(Math.random()-.5)*2;s=s*(1+f/100),a.push({date:d.toISOString().split("T")[0],open:s*(1+(Math.random()-.5)*.01),high:s*(1+Math.random()*.02),low:s*(1-Math.random()*.02),close:s,volume:Math.floor(Math.random()*1e6)})}return a}clearCache(){Dw.clear(),console.log("Commodities cache cleared")}}const lne=new one,I4=t=>{let e;const r=new Set,n=(d,f)=>{const p=typeof d=="function"?d(e):d;if(!Object.is(p,e)){const g=e;e=f??(typeof p!="object"||p===null)?p:Object.assign({},e,p),r.forEach(b=>b(e,g))}},i=()=>e,o={setState:n,getState:i,getInitialState:()=>c,subscribe:d=>(r.add(d),()=>r.delete(d))},c=e=t(n,i,o);return o},cne=(t=>t?I4(t):I4),une=t=>t;function dne(t,e=une){const r=ai.useSyncExternalStore(t.subscribe,ai.useCallback(()=>e(t.getState()),[t,e]),ai.useCallback(()=>e(t.getInitialState()),[t,e]));return ai.useDebugValue(r),r}const P4=t=>{const e=cne(t),r=n=>dne(e,n);return Object.assign(r,e),r},XI=(t=>t?P4(t):P4),si=XI((t,e)=>({isConnected:!1,setConnectionStatus:r=>t({isConnected:r}),notifications:[],addNotification:r=>t(n=>({notifications:[...n.notifications,{...r,id:Date.now()}]})),removeNotification:r=>t(n=>({notifications:n.notifications.filter(i=>i.id!==r)})),clearNotifications:()=>t({notifications:[]}),marketData:{stocks:[],crypto:[],commodities:[]},updateMarketData:r=>t(n=>({marketData:{...n.marketData,...r}})),leftPane:{selectedMarket:"crypto",marketData:[],isConnected:!1,isLive:!0},rightPane:{selectedMarket:"stocks",marketData:[],isConnected:!1,isLive:!0},setLeftSelectedMarket:r=>t(n=>({leftPane:{...n.leftPane,selectedMarket:r}})),setLeftMarketData:r=>t(n=>({leftPane:{...n.leftPane,marketData:r}})),setLeftConnectionStatus:r=>t(n=>({leftPane:{...n.leftPane,isConnected:r}})),setLeftLiveStatus:r=>t(n=>({leftPane:{...n.leftPane,isLive:r}})),setRightSelectedMarket:r=>t(n=>({rightPane:{...n.rightPane,selectedMarket:r}})),setRightMarketData:r=>t(n=>({rightPane:{...n.rightPane,marketData:r}})),setRightConnectionStatus:r=>t(n=>({rightPane:{...n.rightPane,isConnected:r}})),setRightLiveStatus:r=>t(n=>({rightPane:{...n.rightPane,isLive:r}})),setPaneData:(r,n)=>{r==="left"?e().setLeftMarketData(n):e().setRightMarketData(n)},setPaneMarket:(r,n)=>{r==="left"?e().setLeftSelectedMarket(n):e().setRightSelectedMarket(n)},setPaneConnection:(r,n)=>{r==="left"?e().setLeftConnectionStatus(n):e().setRightConnectionStatus(n)},setPaneLive:(r,n)=>{r==="left"?e().setLeftLiveStatus(n):e().setRightLiveStatus(n)},getPane:r=>{const n=e();return r==="left"?n.leftPane:n.rightPane}})),fne={BTC:"bitcoin",ETH:"ethereum",USDT:"tether",BNB:"binancecoin",SOL:"solana",XRP:"ripple",USDC:"usd-coin",ADA:"cardano",AVAX:"avalanche-2",DOGE:"dogecoin",DOT:"polkadot",TRX:"tron",LINK:"chainlink",MATIC:"matic-network",TON:"the-open-network",WBTC:"wrapped-bitcoin",ICP:"internet-computer",SHIB:"shiba-inu",DAI:"dai",LTC:"litecoin",BCH:"bitcoin-cash",UNI:"uniswap",ATOM:"cosmos",ETC:"ethereum-classic",XLM:"stellar",FIL:"filecoin",ARB:"arbitrum",OP:"optimism",APT:"aptos",NEAR:"near",VET:"vechain",ALGO:"algorand",SAND:"the-sandbox",MANA:"decentraland",XTZ:"tezos",AAVE:"aave",GRT:"the-graph",EOS:"eos",FTM:"fantom",AXS:"axie-infinity",XMR:"monero",THETA:"theta-token",FLOW:"flow",EGLD:"elrond-egd-2",BSV:"bitcoin-sv",HBAR:"hedera-hashgraph",QNT:"quant-network",CHZ:"chiliz",CAKE:"pancakeswap-token",ZEC:"zcash",KLAY:"klay-token"},hne=Object.fromEntries(Object.entries(fne).map(([t,e])=>[e,t]));function pne(t){return hne[t?.toLowerCase()]||null}const mne=["bitcoin","ethereum","tether","binancecoin","solana","ripple","usd-coin","cardano","avalanche-2","dogecoin","polkadot","tron","chainlink","matic-network","the-open-network"];mne.map(t=>pne(t)).filter(Boolean);class gne{constructor(){this.alphaVantage=Kre,this.finnhub=mV,this.coinGecko=rne,this.ndax=ane,this.commodities=lne,this.subscribers=new Map,this.updateInterval=null}async getMarketData(e){const r=si.getState().marketData;if(r[e]&&r[e].length>0)return console.log(`Using WebSocket data for ${e}:`,{count:r[e].length,sample:r[e][0]}),r[e];switch(console.warn(`WebSocket data not available for ${e}, using fallback. Store contents:`,r),e){case"stocks":return this.getStocksData();case"crypto":return this.getCryptoData();case"commodities":return this.getCommoditiesData();default:return console.warn(`Unknown market type: ${e}`),[]}}async getStocksData(){const e=["AAPL","MSFT","GOOGL","AMZN","NVDA","META","TSLA","BRK.B","JPM","V","WMT","MA"];try{console.log("Fetching stocks from Finnhub...");const r=await this.finnhub.getBatchQuotes(e);if(r&&r.length>0)return console.log(`Got ${r.length} stocks from Finnhub`),r.map(n=>({symbol:n.symbol,name:this.getStockName(n.symbol),price:n.price,change:n.changePercent,volume:n.previousClose*1e6,marketCap:this.estimateMarketCap(n.symbol),market:"stocks"}))}catch(r){console.warn("Finnhub failed, trying Alpha Vantage:",r.message)}try{const r=this.getMockStocksData(),n=await this.alphaVantage.getQuote("AAPL");if(n&&n.price){const i=r.findIndex(a=>a.symbol==="AAPL");i!==-1&&(r[i].price=n.price,r[i].change=n.changePercent||r[i].change)}return console.log("Using Alpha Vantage + mock data"),r}catch(r){console.warn("Alpha Vantage failed, using mock data:",r.message)}return console.log("Using mock stock data only"),this.getMockStocksData()}getStockName(e){return{AAPL:"Apple Inc.",MSFT:"Microsoft",GOOGL:"Alphabet",AMZN:"Amazon",NVDA:"NVIDIA",META:"Meta Platforms",TSLA:"Tesla","BRK.B":"Berkshire Hathaway",JPM:"JPMorgan Chase",V:"Visa Inc.",WMT:"Walmart",MA:"Mastercard"}[e]||e}estimateMarketCap(e){return{AAPL:3e12,MSFT:28e11,GOOGL:19e11,AMZN:18e11,NVDA:15e11,META:12e11,TSLA:75e10,"BRK.B":78e10,JPM:55e10,V:52e10,WMT:48e10,MA:42e10}[e]||1e11}getMockStocksData(){return[{id:"aapl",symbol:"AAPL",name:"Apple Inc.",marketCap:3e12,basePrice:195.5},{id:"msft",symbol:"MSFT",name:"Microsoft",marketCap:28e11,basePrice:415.2},{id:"googl",symbol:"GOOGL",name:"Alphabet",marketCap:19e11,basePrice:175.8},{id:"amzn",symbol:"AMZN",name:"Amazon",marketCap:18e11,basePrice:185.6},{id:"nvda",symbol:"NVDA",name:"NVIDIA",marketCap:15e11,basePrice:875.4},{id:"meta",symbol:"META",name:"Meta Platforms",marketCap:12e11,basePrice:505.3},{id:"tsla",symbol:"TSLA",name:"Tesla",marketCap:75e10,basePrice:248.9},{id:"brk",symbol:"BRK.B",name:"Berkshire Hathaway",marketCap:78e10,basePrice:412.6},{id:"jpm",symbol:"JPM",name:"JPMorgan Chase",marketCap:55e10,basePrice:198.4},{id:"v",symbol:"V",name:"Visa Inc.",marketCap:52e10,basePrice:285.7},{id:"wmt",symbol:"WMT",name:"Walmart",marketCap:48e10,basePrice:168.3},{id:"ma",symbol:"MA",name:"Mastercard",marketCap:42e10,basePrice:465.2}].map(r=>{const n=(Math.random()-.5)*6;return{...r,price:Math.round(r.basePrice*(1+n/100)*100)/100,change:Math.round(n*100)/100}})}async getCryptoData(){try{console.log("Fetching crypto from CoinGecko...");const e=await this.coinGecko.getMarketData("usd",50);if(e&&e.length>0)return console.log(`Got ${e.length} coins from CoinGecko`),e.map(r=>({symbol:r.symbol,name:r.name,price:r.price,change:r.change,volume:r.volume,marketCap:r.marketCap,market:"crypto"}))}catch(e){console.warn("CoinGecko failed, trying NDAX:",e.message)}try{return await this.ndax.getCryptoForHeatmap()}catch(e){return console.warn("NDAX failed, using mock data:",e.message),this.getMockCryptoData()}}async getCommoditiesData(){return this.commodities.getCommoditiesForHeatmap()}async search(e){const r=[];try{const a=await this.finnhub.searchSymbols(e);if(a&&a.length>0)r.push(...a.map(s=>({...s,market:"stocks"})));else{const s=await this.alphaVantage.search(e);r.push(...s.map(o=>({...o,market:"stocks"})))}}catch(a){console.error("Stock search failed:",a)}try{const a=await this.coinGecko.searchCoins(e);a&&a.length>0&&r.push(...a.map(s=>({...s,market:"crypto"})))}catch{const o=(await this.getCryptoData()).filter(c=>c.symbol.toLowerCase().includes(e.toLowerCase())||c.name.toLowerCase().includes(e.toLowerCase()));r.push(...o.map(c=>({...c,market:"crypto"})))}const i=(await this.getCommoditiesData()).filter(a=>a.symbol.toLowerCase().includes(e.toLowerCase())||a.name.toLowerCase().includes(e.toLowerCase()));return r.push(...i.map(a=>({...a,market:"commodities"}))),r}async getAssetDetail(e,r){switch(r){case"stocks":return this.alphaVantage.getCompanyOverview(e);case"crypto":return(await this.getCryptoData()).find(n=>n.symbol===e);case"commodities":return(await this.getCommoditiesData()).find(n=>n.symbol===e);default:return null}}async getHistoricalData(e,r,n="1M"){switch(r){case"stocks":return this.alphaVantage.getDaily(e);case"commodities":return this.commodities.getHistorical(e,this.getTimeframeDays(n));default:return null}}getTimeframeDays(e){return{"1D":1,"1W":7,"1M":30,"3M":90,"1Y":365}[e]||30}isMarketOpen(e){if(e==="crypto")return!0;const r=new Date,n=-300,i=r.getTime()+r.getTimezoneOffset()*6e4,a=new Date(i+n*6e4),s=a.getDay(),o=a.getHours(),c=a.getMinutes(),d=o*60+c,f=570,p=960,g=s>=1&&s<=5,b=d>=f&&d<p;return g&&b}}const Sn=new gne;function yne({onSelect:t,placeholder:e="Search stocks, crypto, commodities..."}){const[r,n]=E.useState(""),[i,a]=E.useState([]),[s,o]=E.useState(!1),[c,d]=E.useState(!1),[f,p]=E.useState(0),g=E.useRef(null),b=E.useRef(null);E.useEffect(()=>{if(r.length<2){a([]),o(!1);return}const I=setTimeout(async()=>{d(!0);try{const P=await Sn.search(r);a(P.slice(0,10)),o(!0),p(0)}catch(P){console.error("Search failed:",P)}finally{d(!1)}},300);return()=>clearTimeout(I)},[r]),E.useEffect(()=>{const I=P=>{b.current&&!b.current.contains(P.target)&&o(!1)};return document.addEventListener("mousedown",I),()=>document.removeEventListener("mousedown",I)},[]);const w=I=>{if(s)switch(I.key){case"ArrowDown":I.preventDefault(),p(P=>Math.min(P+1,i.length-1));break;case"ArrowUp":I.preventDefault(),p(P=>Math.max(P-1,0));break;case"Enter":I.preventDefault(),i[f]&&_(i[f]);break;case"Escape":o(!1);break}},_=I=>{n(""),o(!1),t&&t(I)},x=I=>{switch(I){case"stocks":return h.jsx(lr,{className:"w-5 h-5 text-blue-500"});case"crypto":return h.jsx(qp,{className:"w-5 h-5 text-purple-500"});case"commodities":return h.jsx(_v,{className:"w-5 h-5 text-amber-500"});default:return h.jsx(V$,{className:"w-5 h-5 text-slate-500"})}},T=I=>{switch(I){case"stocks":return"text-blue-400";case"crypto":return"text-orange-400";case"commodities":return"text-yellow-400";default:return"text-slate-400"}};return h.jsxs("div",{className:"relative",ref:b,children:[h.jsxs("div",{className:"relative",children:[h.jsx("input",{ref:g,type:"text",value:r,onChange:I=>n(I.target.value),onKeyDown:w,onFocus:()=>r.length>=2&&o(!0),placeholder:e,className:"w-full bg-slate-800 border border-dark-border rounded-lg px-4 py-2.5 pl-10 text-sm text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all"}),h.jsx("div",{className:"absolute inset-y-0 left-0 flex items-center pl-3 pointer-events-none",children:c?h.jsxs("svg",{className:"animate-spin h-4 w-4 text-slate-500",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}):h.jsx("svg",{className:"h-4 w-4 text-slate-500",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"})})}),r&&h.jsx("button",{onClick:()=>{n(""),o(!1)},className:"absolute inset-y-0 right-0 flex items-center pr-3 text-slate-500 hover:text-slate-300",children:h.jsx("svg",{className:"h-4 w-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M6 18L18 6M6 6l12 12"})})})]}),s&&i.length>0&&h.jsx("div",{className:"absolute top-full left-0 right-0 mt-2 bg-dark-surface border border-dark-border rounded-lg shadow-xl overflow-hidden z-50",children:h.jsx("ul",{children:i.map((I,P)=>h.jsxs("li",{className:`px-4 py-3 flex items-center gap-3 cursor-pointer transition-colors ${P===f?"bg-slate-800":"hover:bg-slate-800/50"}`,onClick:()=>_(I),children:[h.jsx("span",{children:x(I.market)}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"font-mono font-bold text-slate-200",children:I.symbol}),h.jsx("span",{className:`text-xs uppercase ${T(I.market)}`,children:I.market})]}),h.jsx("div",{className:"text-sm text-slate-500 truncate",children:I.name})]}),I.price&&h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"font-mono text-sm text-slate-200",children:["$",I.price]}),h.jsxs("div",{className:`text-xs font-mono ${I.change>=0?"text-green-400":"text-red-400"}`,children:[I.change>=0?"+":"",I.change?.toFixed(2),"%"]})]})]},`${I.symbol}-${I.market}`))})}),s&&i.length===0&&r.length>=2&&!c&&h.jsxs("div",{className:"absolute top-full left-0 right-0 mt-2 bg-dark-surface border border-dark-border rounded-lg shadow-xl p-4 text-center text-slate-500",children:['No results found for "',r,'"']})]})}function vne(t,e){let r;try{r=t()}catch{return}return{getItem:i=>{var a;const s=c=>c===null?null:JSON.parse(c,void 0),o=(a=r.getItem(i))!=null?a:null;return o instanceof Promise?o.then(s):s(o)},setItem:(i,a)=>r.setItem(i,JSON.stringify(a,void 0)),removeItem:i=>r.removeItem(i)}}const HA=t=>e=>{try{const r=t(e);return r instanceof Promise?r:{then(n){return HA(n)(r)},catch(n){return this}}}catch(r){return{then(n){return this},catch(n){return HA(n)(r)}}}},bne=(t,e)=>(r,n,i)=>{let a={storage:vne(()=>window.localStorage),partialize:x=>x,version:0,merge:(x,T)=>({...T,...x}),...e},s=!1,o=0;const c=new Set,d=new Set;let f=a.storage;if(!f)return t((...x)=>{console.warn(`[zustand persist middleware] Unable to update item '${a.name}', the given storage is currently unavailable.`),r(...x)},n,i);const p=()=>{const x=a.partialize({...n()});return f.setItem(a.name,{state:x,version:a.version})},g=i.setState;i.setState=(x,T)=>(g(x,T),p());const b=t((...x)=>(r(...x),p()),n,i);i.getInitialState=()=>b;let w;const _=()=>{var x,T;if(!f)return;const I=++o;s=!1,c.forEach(j=>{var O;return j((O=n())!=null?O:b)});const P=((T=a.onRehydrateStorage)==null?void 0:T.call(a,(x=n())!=null?x:b))||void 0;return HA(f.getItem.bind(f))(a.name).then(j=>{if(j)if(typeof j.version=="number"&&j.version!==a.version){if(a.migrate){const O=a.migrate(j.state,j.version);return O instanceof Promise?O.then(V=>[!0,V]):[!0,O]}console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,j.state];return[!1,void 0]}).then(j=>{var O;if(I!==o)return;const[V,C]=j;if(w=a.merge(C,(O=n())!=null?O:b),r(w,!0),V)return p()}).then(()=>{I===o&&(P?.(w,void 0),w=n(),s=!0,d.forEach(j=>j(w)))}).catch(j=>{I===o&&P?.(void 0,j)})};return i.persist={setOptions:x=>{a={...a,...x},x.storage&&(f=x.storage)},clearStorage:()=>{f?.removeItem(a.name)},getOptions:()=>a,rehydrate:()=>_(),hasHydrated:()=>s,onHydrate:x=>(c.add(x),()=>{c.delete(x)}),onFinishHydration:x=>(d.add(x),()=>{d.delete(x)})},a.skipHydration||_(),w||b},gV=bne,xne=()=>{};var C4={};const yV=function(t){const e=[];let r=0;for(let n=0;n<t.length;n++){let i=t.charCodeAt(n);i<128?e[r++]=i:i<2048?(e[r++]=i>>6|192,e[r++]=i&63|128):(i&64512)===55296&&n+1<t.length&&(t.charCodeAt(n+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++n)&1023),e[r++]=i>>18|240,e[r++]=i>>12&63|128,e[r++]=i>>6&63|128,e[r++]=i&63|128):(e[r++]=i>>12|224,e[r++]=i>>6&63|128,e[r++]=i&63|128)}return e},wne=function(t){const e=[];let r=0,n=0;for(;r<t.length;){const i=t[r++];if(i<128)e[n++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[r++];e[n++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[r++],s=t[r++],o=t[r++],c=((i&7)<<18|(a&63)<<12|(s&63)<<6|o&63)-65536;e[n++]=String.fromCharCode(55296+(c>>10)),e[n++]=String.fromCharCode(56320+(c&1023))}else{const a=t[r++],s=t[r++];e[n++]=String.fromCharCode((i&15)<<12|(a&63)<<6|s&63)}}return e.join("")},vV={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const r=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,n=[];for(let i=0;i<t.length;i+=3){const a=t[i],s=i+1<t.length,o=s?t[i+1]:0,c=i+2<t.length,d=c?t[i+2]:0,f=a>>2,p=(a&3)<<4|o>>4;let g=(o&15)<<2|d>>6,b=d&63;c||(b=64,s||(g=64)),n.push(r[f],r[p],r[g],r[b])}return n.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(yV(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):wne(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const r=e?this.charToByteMapWebSafe_:this.charToByteMap_,n=[];for(let i=0;i<t.length;){const a=r[t.charAt(i++)],o=i<t.length?r[t.charAt(i)]:0;++i;const d=i<t.length?r[t.charAt(i)]:64;++i;const p=i<t.length?r[t.charAt(i)]:64;if(++i,a==null||o==null||d==null||p==null)throw new _ne;const g=a<<2|o>>4;if(n.push(g),d!==64){const b=o<<4&240|d>>2;if(n.push(b),p!==64){const w=d<<6&192|p;n.push(w)}}}return n},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class _ne extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Ene=function(t){const e=yV(t);return vV.encodeByteArray(e,!0)},ey=function(t){return Ene(t).replace(/\./g,"")},bV=function(t){try{return vV.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Sne(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}const Tne=()=>Sne().__FIREBASE_DEFAULTS__,Ane=()=>{if(typeof process>"u"||typeof C4>"u")return;const t=C4.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},kne=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&bV(t[1]);return e&&JSON.parse(e)},Pv=()=>{try{return xne()||Tne()||Ane()||kne()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},xV=t=>Pv()?.emulatorHosts?.[t],Ine=t=>{const e=xV(t);if(!e)return;const r=e.lastIndexOf(":");if(r<=0||r+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const n=parseInt(e.substring(r+1),10);return e[0]==="["?[e.substring(1,r-1),n]:[e.substring(0,r),n]},wV=()=>Pv()?.config,_V=t=>Pv()?.[`_${t}`];class Pne{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,r)=>{this.resolve=e,this.reject=r})}wrapCallback(e){return(r,n)=>{r?this.reject(r):this.resolve(n),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(r):e(r,n))}}}function Fd(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function EV(t){return(await fetch(t,{credentials:"include"})).ok}function Cne(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const r={alg:"none",type:"JWT"},n=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s={iss:`https://securetoken.google.com/${n}`,aud:n,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}},...t};return[ey(JSON.stringify(r)),ey(JSON.stringify(s)),""].join(".")}const Fh={};function Nne(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fh))Fh[e]?t.emulator.push(e):t.prod.push(e);return t}function Rne(t){let e=document.getElementById(t),r=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),r=!0),{created:r,element:e}}let N4=!1;function SV(t,e){if(typeof window>"u"||typeof document>"u"||!Fd(window.location.host)||Fh[t]===e||Fh[t]||N4)return;Fh[t]=e;function r(g){return`__firebase__banner__${g}`}const n="__firebase__banner",a=Nne().prod.length>0;function s(){const g=document.getElementById(n);g&&g.remove()}function o(g){g.style.display="flex",g.style.background="#7faaf0",g.style.position="fixed",g.style.bottom="5px",g.style.left="5px",g.style.padding=".5em",g.style.borderRadius="5px",g.style.alignItems="center"}function c(g,b){g.setAttribute("width","24"),g.setAttribute("id",b),g.setAttribute("height","24"),g.setAttribute("viewBox","0 0 24 24"),g.setAttribute("fill","none"),g.style.marginLeft="-6px"}function d(){const g=document.createElement("span");return g.style.cursor="pointer",g.style.marginLeft="16px",g.style.fontSize="24px",g.innerHTML=" &times;",g.onclick=()=>{N4=!0,s()},g}function f(g,b){g.setAttribute("id",b),g.innerText="Learn more",g.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",g.setAttribute("target","__blank"),g.style.paddingLeft="5px",g.style.textDecoration="underline"}function p(){const g=Rne(n),b=r("text"),w=document.getElementById(b)||document.createElement("span"),_=r("learnmore"),x=document.getElementById(_)||document.createElement("a"),T=r("preprendIcon"),I=document.getElementById(T)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(g.created){const P=g.element;o(P),f(x,_);const j=d();c(I,T),P.append(I,w,x,j),document.body.appendChild(P)}a?(w.innerText="Preview backend disconnected.",I.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(I.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,w.innerText="Preview backend running in this workspace."),w.setAttribute("id",b)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",p):p()}function mn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function One(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(mn())}function jne(){const t=Pv()?.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Dne(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TV(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function Mne(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Lne(){const t=mn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function Fne(){return!jne()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function AV(){try{return typeof indexedDB=="object"}catch{return!1}}function kV(){return new Promise((t,e)=>{try{let r=!0;const n="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(n);i.onsuccess=()=>{i.result.close(),r||self.indexedDB.deleteDatabase(n),t(!0)},i.onupgradeneeded=()=>{r=!1},i.onerror=()=>{e(i.error?.message||"")}}catch(r){e(r)}})}function $ne(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}const Vne="FirebaseError";class ha extends Error{constructor(e,r,n){super(r),this.code=e,this.customData=n,this.name=Vne,Object.setPrototypeOf(this,ha.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Bc.prototype.create)}}class Bc{constructor(e,r,n){this.service=e,this.serviceName=r,this.errors=n}create(e,...r){const n=r[0]||{},i=`${this.service}/${e}`,a=this.errors[e],s=a?Une(a,n):"Error",o=`${this.serviceName}: ${s} (${i}).`;return new ha(i,o,n)}}function Une(t,e){return t.replace(qne,(r,n)=>{const i=e[n];return i!=null?String(i):`<${n}?>`})}const qne=/\{\$([^}]+)}/g;function zne(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Ja(t,e){if(t===e)return!0;const r=Object.keys(t),n=Object.keys(e);for(const i of r){if(!n.includes(i))return!1;const a=t[i],s=e[i];if(R4(a)&&R4(s)){if(!Ja(a,s))return!1}else if(a!==s)return!1}for(const i of n)if(!r.includes(i))return!1;return!0}function R4(t){return t!==null&&typeof t=="object"}function $d(t){const e=[];for(const[r,n]of Object.entries(t))Array.isArray(n)?n.forEach(i=>{e.push(encodeURIComponent(r)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(r)+"="+encodeURIComponent(n));return e.length?"&"+e.join("&"):""}function Eh(t){const e={};return t.replace(/^\?/,"").split("&").forEach(n=>{if(n){const[i,a]=n.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Sh(t){const e=t.indexOf("?");if(!e)return"";const r=t.indexOf("#",e);return t.substring(e,r>0?r:void 0)}function Bne(t,e){const r=new Wne(t,e);return r.subscribe.bind(r)}class Wne{constructor(e,r){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=r,this.task.then(()=>{e(this)}).catch(n=>{this.error(n)})}next(e){this.forEachObserver(r=>{r.next(e)})}error(e){this.forEachObserver(r=>{r.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,r,n){let i;if(e===void 0&&r===void 0&&n===void 0)throw new Error("Missing Observer.");Hne(e,["next","error","complete"])?i=e:i={next:e,error:r,complete:n},i.next===void 0&&(i.next=Mw),i.error===void 0&&(i.error=Mw),i.complete===void 0&&(i.complete=Mw);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let r=0;r<this.observers.length;r++)this.sendOne(r,e)}sendOne(e,r){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{r(this.observers[e])}catch(n){typeof console<"u"&&console.error&&console.error(n)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Hne(t,e){if(typeof t!="object"||t===null)return!1;for(const r of e)if(r in t&&typeof t[r]=="function")return!0;return!1}function Mw(){}const Gne=1e3,Kne=2,Yne=14400*1e3,Xne=.5;function O4(t,e=Gne,r=Kne){const n=e*Math.pow(r,t),i=Math.round(Xne*n*(Math.random()-.5)*2);return Math.min(Yne,n+i)}function ze(t){return t&&t._delegate?t._delegate:t}class la{constructor(e,r,n){this.name=e,this.instanceFactory=r,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Ql="[DEFAULT]";let Qne=class{constructor(e,r){this.name=e,this.container=r,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const r=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(r)){const n=new Pne;if(this.instancesDeferred.set(r,n),this.isInitialized(r)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:r});i&&n.resolve(i)}catch{}}return this.instancesDeferred.get(r).promise}getImmediate(e){const r=this.normalizeInstanceIdentifier(e?.identifier),n=e?.optional??!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(i){if(n)return null;throw i}else{if(n)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Zne(e))try{this.getOrInitializeService({instanceIdentifier:Ql})}catch{}for(const[r,n]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(r);try{const a=this.getOrInitializeService({instanceIdentifier:i});n.resolve(a)}catch{}}}}clearInstance(e=Ql){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(r=>"INTERNAL"in r).map(r=>r.INTERNAL.delete()),...e.filter(r=>"_delete"in r).map(r=>r._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Ql){return this.instances.has(e)}getOptions(e=Ql){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:r={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error(`${this.name}(${n}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:n,options:r});for(const[a,s]of this.instancesDeferred.entries()){const o=this.normalizeInstanceIdentifier(a);n===o&&s.resolve(i)}return i}onInit(e,r){const n=this.normalizeInstanceIdentifier(r),i=this.onInitCallbacks.get(n)??new Set;i.add(e),this.onInitCallbacks.set(n,i);const a=this.instances.get(n);return a&&e(a,n),()=>{i.delete(e)}}invokeOnInitCallbacks(e,r){const n=this.onInitCallbacks.get(r);if(n)for(const i of n)try{i(e,r)}catch{}}getOrInitializeService({instanceIdentifier:e,options:r={}}){let n=this.instances.get(e);if(!n&&this.component&&(n=this.component.instanceFactory(this.container,{instanceIdentifier:Jne(e),options:r}),this.instances.set(e,n),this.instancesOptions.set(e,r),this.invokeOnInitCallbacks(n,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,n)}catch{}return n||null}normalizeInstanceIdentifier(e=Ql){return this.component?this.component.multipleInstances?e:Ql:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function Jne(t){return t===Ql?void 0:t}function Zne(t){return t.instantiationMode==="EAGER"}class eie{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const r=this.getProvider(e.name);if(r.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);r.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const r=new Qne(e,this);return this.providers.set(e,r),r}getProviders(){return Array.from(this.providers.values())}}var at;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(at||(at={}));const tie={debug:at.DEBUG,verbose:at.VERBOSE,info:at.INFO,warn:at.WARN,error:at.ERROR,silent:at.SILENT},rie=at.INFO,nie={[at.DEBUG]:"log",[at.VERBOSE]:"log",[at.INFO]:"info",[at.WARN]:"warn",[at.ERROR]:"error"},iie=(t,e,...r)=>{if(e<t.logLevel)return;const n=new Date().toISOString(),i=nie[e];if(i)console[i](`[${n}]  ${t.name}:`,...r);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Cv{constructor(e){this.name=e,this._logLevel=rie,this._logHandler=iie,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in at))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?tie[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,at.DEBUG,...e),this._logHandler(this,at.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,at.VERBOSE,...e),this._logHandler(this,at.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,at.INFO,...e),this._logHandler(this,at.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,at.WARN,...e),this._logHandler(this,at.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,at.ERROR,...e),this._logHandler(this,at.ERROR,...e)}}const aie=(t,e)=>e.some(r=>t instanceof r);let j4,D4;function sie(){return j4||(j4=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function oie(){return D4||(D4=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const IV=new WeakMap,GA=new WeakMap,PV=new WeakMap,Lw=new WeakMap,QI=new WeakMap;function lie(t){const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",s)},a=()=>{r(Yo(t.result)),i()},s=()=>{n(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",s)});return e.then(r=>{r instanceof IDBCursor&&IV.set(r,t)}).catch(()=>{}),QI.set(e,t),e}function cie(t){if(GA.has(t))return;const e=new Promise((r,n)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",s),t.removeEventListener("abort",s)},a=()=>{r(),i()},s=()=>{n(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",s),t.addEventListener("abort",s)});GA.set(t,e)}let KA={get(t,e,r){if(t instanceof IDBTransaction){if(e==="done")return GA.get(t);if(e==="objectStoreNames")return t.objectStoreNames||PV.get(t);if(e==="store")return r.objectStoreNames[1]?void 0:r.objectStore(r.objectStoreNames[0])}return Yo(t[e])},set(t,e,r){return t[e]=r,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function uie(t){KA=t(KA)}function die(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...r){const n=t.call(Fw(this),e,...r);return PV.set(n,e.sort?e.sort():[e]),Yo(n)}:oie().includes(t)?function(...e){return t.apply(Fw(this),e),Yo(IV.get(this))}:function(...e){return Yo(t.apply(Fw(this),e))}}function fie(t){return typeof t=="function"?die(t):(t instanceof IDBTransaction&&cie(t),aie(t,sie())?new Proxy(t,KA):t)}function Yo(t){if(t instanceof IDBRequest)return lie(t);if(Lw.has(t))return Lw.get(t);const e=fie(t);return e!==t&&(Lw.set(t,e),QI.set(e,t)),e}const Fw=t=>QI.get(t);function CV(t,e,{blocked:r,upgrade:n,blocking:i,terminated:a}={}){const s=indexedDB.open(t,e),o=Yo(s);return n&&s.addEventListener("upgradeneeded",c=>{n(Yo(s.result),c.oldVersion,c.newVersion,Yo(s.transaction),c)}),r&&s.addEventListener("blocked",c=>r(c.oldVersion,c.newVersion,c)),o.then(c=>{a&&c.addEventListener("close",()=>a()),i&&c.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),o}const hie=["get","getKey","getAll","getAllKeys","count"],pie=["put","add","delete","clear"],$w=new Map;function M4(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if($w.get(e))return $w.get(e);const r=e.replace(/FromIndex$/,""),n=e!==r,i=pie.includes(r);if(!(r in(n?IDBIndex:IDBObjectStore).prototype)||!(i||hie.includes(r)))return;const a=async function(s,...o){const c=this.transaction(s,i?"readwrite":"readonly");let d=c.store;return n&&(d=d.index(o.shift())),(await Promise.all([d[r](...o),i&&c.done]))[0]};return $w.set(e,a),a}uie(t=>({...t,get:(e,r,n)=>M4(e,r)||t.get(e,r,n),has:(e,r)=>!!M4(e,r)||t.has(e,r)}));class mie{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(r=>{if(gie(r)){const n=r.getImmediate();return`${n.library}/${n.version}`}else return null}).filter(r=>r).join(" ")}}function gie(t){return t.getComponent()?.type==="VERSION"}const YA="@firebase/app",L4="0.14.8";const Ws=new Cv("@firebase/app"),yie="@firebase/app-compat",vie="@firebase/analytics-compat",bie="@firebase/analytics",xie="@firebase/app-check-compat",wie="@firebase/app-check",_ie="@firebase/auth",Eie="@firebase/auth-compat",Sie="@firebase/database",Tie="@firebase/data-connect",Aie="@firebase/database-compat",kie="@firebase/functions",Iie="@firebase/functions-compat",Pie="@firebase/installations",Cie="@firebase/installations-compat",Nie="@firebase/messaging",Rie="@firebase/messaging-compat",Oie="@firebase/performance",jie="@firebase/performance-compat",Die="@firebase/remote-config",Mie="@firebase/remote-config-compat",Lie="@firebase/storage",Fie="@firebase/storage-compat",$ie="@firebase/firestore",Vie="@firebase/ai",Uie="@firebase/firestore-compat",qie="firebase",zie="12.9.0";const XA="[DEFAULT]",Bie={[YA]:"fire-core",[yie]:"fire-core-compat",[bie]:"fire-analytics",[vie]:"fire-analytics-compat",[wie]:"fire-app-check",[xie]:"fire-app-check-compat",[_ie]:"fire-auth",[Eie]:"fire-auth-compat",[Sie]:"fire-rtdb",[Tie]:"fire-data-connect",[Aie]:"fire-rtdb-compat",[kie]:"fire-fn",[Iie]:"fire-fn-compat",[Pie]:"fire-iid",[Cie]:"fire-iid-compat",[Nie]:"fire-fcm",[Rie]:"fire-fcm-compat",[Oie]:"fire-perf",[jie]:"fire-perf-compat",[Die]:"fire-rc",[Mie]:"fire-rc-compat",[Lie]:"fire-gcs",[Fie]:"fire-gcs-compat",[$ie]:"fire-fst",[Uie]:"fire-fst-compat",[Vie]:"fire-vertex","fire-js":"fire-js",[qie]:"fire-js-all"};const ty=new Map,Wie=new Map,QA=new Map;function F4(t,e){try{t.container.addComponent(e)}catch(r){Ws.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,r)}}function Za(t){const e=t.name;if(QA.has(e))return Ws.debug(`There were multiple attempts to register component ${e}.`),!1;QA.set(e,t);for(const r of ty.values())F4(r,t);for(const r of Wie.values())F4(r,t);return!0}function Wc(t,e){const r=t.container.getProvider("heartbeat").getImmediate({optional:!0});return r&&r.triggerHeartbeat(),t.container.getProvider(e)}function Yt(t){return t==null?!1:t.settings!==void 0}const Hie={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xo=new Bc("app","Firebase",Hie);class Gie{constructor(e,r,n){this._isDeleted=!1,this._options={...e},this._config={...r},this._name=r.name,this._automaticDataCollectionEnabled=r.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new la("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xo.create("app-deleted",{appName:this._name})}}const Vd=zie;function NV(t,e={}){let r=t;typeof e!="object"&&(e={name:e});const n={name:XA,automaticDataCollectionEnabled:!0,...e},i=n.name;if(typeof i!="string"||!i)throw Xo.create("bad-app-name",{appName:String(i)});if(r||(r=wV()),!r)throw Xo.create("no-options");const a=ty.get(i);if(a){if(Ja(r,a.options)&&Ja(n,a.config))return a;throw Xo.create("duplicate-app",{appName:i})}const s=new eie(i);for(const c of QA.values())s.addComponent(c);const o=new Gie(r,n,s);return ty.set(i,o),o}function JI(t=XA){const e=ty.get(t);if(!e&&t===XA&&wV())return NV();if(!e)throw Xo.create("no-app",{appName:t});return e}function Di(t,e,r){let n=Bie[t]??t;r&&(n+=`-${r}`);const i=n.match(/\s|\//),a=e.match(/\s|\//);if(i||a){const s=[`Unable to register library "${n}" with version "${e}":`];i&&s.push(`library name "${n}" contains illegal characters (whitespace or "/")`),i&&a&&s.push("and"),a&&s.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Ws.warn(s.join(" "));return}Za(new la(`${n}-version`,()=>({library:n,version:e}),"VERSION"))}const Kie="firebase-heartbeat-database",Yie=1,rp="firebase-heartbeat-store";let Vw=null;function RV(){return Vw||(Vw=CV(Kie,Yie,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(rp)}catch(r){console.warn(r)}}}}).catch(t=>{throw Xo.create("idb-open",{originalErrorMessage:t.message})})),Vw}async function Xie(t){try{const r=(await RV()).transaction(rp),n=await r.objectStore(rp).get(OV(t));return await r.done,n}catch(e){if(e instanceof ha)Ws.warn(e.message);else{const r=Xo.create("idb-get",{originalErrorMessage:e?.message});Ws.warn(r.message)}}}async function $4(t,e){try{const n=(await RV()).transaction(rp,"readwrite");await n.objectStore(rp).put(e,OV(t)),await n.done}catch(r){if(r instanceof ha)Ws.warn(r.message);else{const n=Xo.create("idb-set",{originalErrorMessage:r?.message});Ws.warn(n.message)}}}function OV(t){return`${t.name}!${t.options.appId}`}const Qie=1024,Jie=30;class Zie{constructor(e){this.container=e,this._heartbeatsCache=null;const r=this.container.getProvider("app").getImmediate();this._storage=new tae(r),this._heartbeatsCachePromise=this._storage.read().then(n=>(this._heartbeatsCache=n,n))}async triggerHeartbeat(){try{const r=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),n=V4();if(this._heartbeatsCache?.heartbeats==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null)||this._heartbeatsCache.lastSentHeartbeatDate===n||this._heartbeatsCache.heartbeats.some(i=>i.date===n))return;if(this._heartbeatsCache.heartbeats.push({date:n,agent:r}),this._heartbeatsCache.heartbeats.length>Jie){const i=rae(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(i,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(e){Ws.warn(e)}}async getHeartbeatsHeader(){try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,this._heartbeatsCache?.heartbeats==null||this._heartbeatsCache.heartbeats.length===0)return"";const e=V4(),{heartbeatsToSend:r,unsentEntries:n}=eae(this._heartbeatsCache.heartbeats),i=ey(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=e,n.length>0?(this._heartbeatsCache.heartbeats=n,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(e){return Ws.warn(e),""}}}function V4(){return new Date().toISOString().substring(0,10)}function eae(t,e=Qie){const r=[];let n=t.slice();for(const i of t){const a=r.find(s=>s.agent===i.agent);if(a){if(a.dates.push(i.date),U4(r)>e){a.dates.pop();break}}else if(r.push({agent:i.agent,dates:[i.date]}),U4(r)>e){r.pop();break}n=n.slice(1)}return{heartbeatsToSend:r,unsentEntries:n}}class tae{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return AV()?kV().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const r=await Xie(this.app);return r?.heartbeats?r:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return $4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const n=await this.read();return $4(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}else return}}function U4(t){return ey(JSON.stringify({version:2,heartbeats:t})).length}function rae(t){if(t.length===0)return-1;let e=0,r=t[0].date;for(let n=1;n<t.length;n++)t[n].date<r&&(r=t[n].date,e=n);return e}function nae(t){Za(new la("platform-logger",e=>new mie(e),"PRIVATE")),Za(new la("heartbeat",e=>new Zie(e),"PRIVATE")),Di(YA,L4,t),Di(YA,L4,"esm2020"),Di("fire-js","")}nae("");const iae={PHONE:"phone",TOTP:"totp"},aae={FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PASSWORD:"password",PHONE:"phone",TWITTER:"twitter.com"},sae={EMAIL_LINK:"emailLink",EMAIL_PASSWORD:"password",FACEBOOK:"facebook.com",GITHUB:"github.com",GOOGLE:"google.com",PHONE:"phone",TWITTER:"twitter.com"},oae={LINK:"link",REAUTHENTICATE:"reauthenticate",SIGN_IN:"signIn"},lae={EMAIL_SIGNIN:"EMAIL_SIGNIN",PASSWORD_RESET:"PASSWORD_RESET",RECOVER_EMAIL:"RECOVER_EMAIL",REVERT_SECOND_FACTOR_ADDITION:"REVERT_SECOND_FACTOR_ADDITION",VERIFY_AND_CHANGE_EMAIL:"VERIFY_AND_CHANGE_EMAIL",VERIFY_EMAIL:"VERIFY_EMAIL"};function cae(){return{"admin-restricted-operation":"This operation is restricted to administrators only.","argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-change-needs-verification":"Multi-factor users must always have a verified email.","email-already-in-use":"The email address is already in use by another account.","emulator-config-failed":'Auth instance has already been used to make a network call. Auth can no longer be configured to use the emulator. Try calling "connectAuthEmulator()" sooner.',"expired-action-code":"The action code has expired.","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal AuthError has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registered for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal AuthError has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure to use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-emulator-scheme":"Emulator URL must start with a valid scheme (http:// or https://).","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is incorrect, malformed or has expired.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-multi-factor-session":"The request does not contain a valid proof of first factor successful sign-in.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","invalid-tenant-id":"The Auth instance's tenant ID is invalid.","login-blocked":"Login blocked by user-provided method: {$originalMessage}","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal AuthError has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The request does not contain a valid nonce. This can occur if the SHA-256 hash of the provided raw nonce does not match the hashed nonce in the ID token payload.","missing-password":"A non-empty password must be provided","missing-multi-factor-info":"No second factor identifier is provided.","missing-multi-factor-session":"The request is missing proof of first factor successful sign-in.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","multi-factor-info-not-found":"The user does not have a second factor matching the identifier provided.","multi-factor-auth-required":"Proof of ownership of a second factor is required to complete sign-in.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network AuthError (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal AuthError has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.","second-factor-already-in-use":"The second factor is already enrolled on this account.","maximum-second-factor-count-exceeded":"The maximum allowed number of second factors on a user has been exceeded.","tenant-id-mismatch":"The provided tenant ID does not match the Auth instance's tenant ID",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-first-factor":"Enrolling a second factor or signing in with a multi-factor account requires sign-in with a supported first factor.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","unsupported-tenant-operation":"This operation is not supported in a multi-tenant context.","unverified-email":"The operation requires a verified email.","user-cancelled":"The user did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled.","already-initialized":"initializeAuth() has already been called with different options. To avoid this error, call initializeAuth() with the same options as when it was originally called, or call getAuth() to return the already initialized instance.","missing-recaptcha-token":"The reCAPTCHA token is missing when sending request to the backend.","invalid-recaptcha-token":"The reCAPTCHA token is invalid when sending request to the backend.","invalid-recaptcha-action":"The reCAPTCHA action is invalid when sending request to the backend.","recaptcha-not-enabled":"reCAPTCHA Enterprise integration is not enabled for this project.","missing-client-type":"The reCAPTCHA client type is missing when sending request to the backend.","missing-recaptcha-version":"The reCAPTCHA version is missing when sending request to the backend.","invalid-req-type":"Invalid request parameters.","invalid-recaptcha-version":"The reCAPTCHA version is invalid when sending request to the backend.","unsupported-password-policy-schema-version":"The password policy received from the backend uses a schema version that is not supported by this version of the Firebase SDK.","password-does-not-meet-requirements":"The password does not meet the requirements.","invalid-hosting-link-domain":"The provided Hosting link domain is not configured in Firebase Hosting or is not owned by the current project. This cannot be a default Hosting domain (`web.app` or `firebaseapp.com`)."}}function jV(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const uae=cae,DV=jV,MV=new Bc("auth","Firebase",jV()),dae={ADMIN_ONLY_OPERATION:"auth/admin-restricted-operation",ARGUMENT_ERROR:"auth/argument-error",APP_NOT_AUTHORIZED:"auth/app-not-authorized",APP_NOT_INSTALLED:"auth/app-not-installed",CAPTCHA_CHECK_FAILED:"auth/captcha-check-failed",CODE_EXPIRED:"auth/code-expired",CORDOVA_NOT_READY:"auth/cordova-not-ready",CORS_UNSUPPORTED:"auth/cors-unsupported",CREDENTIAL_ALREADY_IN_USE:"auth/credential-already-in-use",CREDENTIAL_MISMATCH:"auth/custom-token-mismatch",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"auth/requires-recent-login",DEPENDENT_SDK_INIT_BEFORE_AUTH:"auth/dependent-sdk-initialized-before-auth",DYNAMIC_LINK_NOT_ACTIVATED:"auth/dynamic-link-not-activated",EMAIL_CHANGE_NEEDS_VERIFICATION:"auth/email-change-needs-verification",EMAIL_EXISTS:"auth/email-already-in-use",EMULATOR_CONFIG_FAILED:"auth/emulator-config-failed",EXPIRED_OOB_CODE:"auth/expired-action-code",EXPIRED_POPUP_REQUEST:"auth/cancelled-popup-request",INTERNAL_ERROR:"auth/internal-error",INVALID_API_KEY:"auth/invalid-api-key",INVALID_APP_CREDENTIAL:"auth/invalid-app-credential",INVALID_APP_ID:"auth/invalid-app-id",INVALID_AUTH:"auth/invalid-user-token",INVALID_AUTH_EVENT:"auth/invalid-auth-event",INVALID_CERT_HASH:"auth/invalid-cert-hash",INVALID_CODE:"auth/invalid-verification-code",INVALID_CONTINUE_URI:"auth/invalid-continue-uri",INVALID_CORDOVA_CONFIGURATION:"auth/invalid-cordova-configuration",INVALID_CUSTOM_TOKEN:"auth/invalid-custom-token",INVALID_DYNAMIC_LINK_DOMAIN:"auth/invalid-dynamic-link-domain",INVALID_EMAIL:"auth/invalid-email",INVALID_EMULATOR_SCHEME:"auth/invalid-emulator-scheme",INVALID_IDP_RESPONSE:"auth/invalid-credential",INVALID_LOGIN_CREDENTIALS:"auth/invalid-credential",INVALID_MESSAGE_PAYLOAD:"auth/invalid-message-payload",INVALID_MFA_SESSION:"auth/invalid-multi-factor-session",INVALID_OAUTH_CLIENT_ID:"auth/invalid-oauth-client-id",INVALID_OAUTH_PROVIDER:"auth/invalid-oauth-provider",INVALID_OOB_CODE:"auth/invalid-action-code",INVALID_ORIGIN:"auth/unauthorized-domain",INVALID_PASSWORD:"auth/wrong-password",INVALID_PERSISTENCE:"auth/invalid-persistence-type",INVALID_PHONE_NUMBER:"auth/invalid-phone-number",INVALID_PROVIDER_ID:"auth/invalid-provider-id",INVALID_RECIPIENT_EMAIL:"auth/invalid-recipient-email",INVALID_SENDER:"auth/invalid-sender",INVALID_SESSION_INFO:"auth/invalid-verification-id",INVALID_TENANT_ID:"auth/invalid-tenant-id",MFA_INFO_NOT_FOUND:"auth/multi-factor-info-not-found",MFA_REQUIRED:"auth/multi-factor-auth-required",MISSING_ANDROID_PACKAGE_NAME:"auth/missing-android-pkg-name",MISSING_APP_CREDENTIAL:"auth/missing-app-credential",MISSING_AUTH_DOMAIN:"auth/auth-domain-config-required",MISSING_CODE:"auth/missing-verification-code",MISSING_CONTINUE_URI:"auth/missing-continue-uri",MISSING_IFRAME_START:"auth/missing-iframe-start",MISSING_IOS_BUNDLE_ID:"auth/missing-ios-bundle-id",MISSING_OR_INVALID_NONCE:"auth/missing-or-invalid-nonce",MISSING_MFA_INFO:"auth/missing-multi-factor-info",MISSING_MFA_SESSION:"auth/missing-multi-factor-session",MISSING_PHONE_NUMBER:"auth/missing-phone-number",MISSING_PASSWORD:"auth/missing-password",MISSING_SESSION_INFO:"auth/missing-verification-id",MODULE_DESTROYED:"auth/app-deleted",NEED_CONFIRMATION:"auth/account-exists-with-different-credential",NETWORK_REQUEST_FAILED:"auth/network-request-failed",NULL_USER:"auth/null-user",NO_AUTH_EVENT:"auth/no-auth-event",NO_SUCH_PROVIDER:"auth/no-such-provider",OPERATION_NOT_ALLOWED:"auth/operation-not-allowed",OPERATION_NOT_SUPPORTED:"auth/operation-not-supported-in-this-environment",POPUP_BLOCKED:"auth/popup-blocked",POPUP_CLOSED_BY_USER:"auth/popup-closed-by-user",PROVIDER_ALREADY_LINKED:"auth/provider-already-linked",QUOTA_EXCEEDED:"auth/quota-exceeded",REDIRECT_CANCELLED_BY_USER:"auth/redirect-cancelled-by-user",REDIRECT_OPERATION_PENDING:"auth/redirect-operation-pending",REJECTED_CREDENTIAL:"auth/rejected-credential",SECOND_FACTOR_ALREADY_ENROLLED:"auth/second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"auth/maximum-second-factor-count-exceeded",TENANT_ID_MISMATCH:"auth/tenant-id-mismatch",TIMEOUT:"auth/timeout",TOKEN_EXPIRED:"auth/user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"auth/too-many-requests",UNAUTHORIZED_DOMAIN:"auth/unauthorized-continue-uri",UNSUPPORTED_FIRST_FACTOR:"auth/unsupported-first-factor",UNSUPPORTED_PERSISTENCE:"auth/unsupported-persistence-type",UNSUPPORTED_TENANT_OPERATION:"auth/unsupported-tenant-operation",UNVERIFIED_EMAIL:"auth/unverified-email",USER_CANCELLED:"auth/user-cancelled",USER_DELETED:"auth/user-not-found",USER_DISABLED:"auth/user-disabled",USER_MISMATCH:"auth/user-mismatch",USER_SIGNED_OUT:"auth/user-signed-out",WEAK_PASSWORD:"auth/weak-password",WEB_STORAGE_UNSUPPORTED:"auth/web-storage-unsupported",ALREADY_INITIALIZED:"auth/already-initialized",RECAPTCHA_NOT_ENABLED:"auth/recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"auth/missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"auth/invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"auth/invalid-recaptcha-action",MISSING_CLIENT_TYPE:"auth/missing-client-type",MISSING_RECAPTCHA_VERSION:"auth/missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"auth/invalid-recaptcha-version",INVALID_REQ_TYPE:"auth/invalid-req-type",INVALID_HOSTING_LINK_DOMAIN:"auth/invalid-hosting-link-domain"};const ry=new Cv("@firebase/auth");function fae(t,...e){ry.logLevel<=at.WARN&&ry.warn(`Auth (${Vd}): ${t}`,...e)}function P0(t,...e){ry.logLevel<=at.ERROR&&ry.error(`Auth (${Vd}): ${t}`,...e)}function zn(t,...e){throw eP(t,...e)}function Tn(t,...e){return eP(t,...e)}function ZI(t,e,r){const n={...DV(),[e]:r};return new Bc("auth","Firebase",n).create(e,{appName:t.name})}function Dr(t){return ZI(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Ud(t,e,r){const n=r;if(!(e instanceof n))throw n.name!==e.constructor.name&&zn(t,"argument-error"),ZI(t,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function eP(t,...e){if(typeof t!="string"){const r=e[0],n=[...e.slice(1)];return n[0]&&(n[0].appName=t.name),t._errorFactory.create(r,...n)}return MV.create(t,...e)}function ve(t,e,...r){if(!t)throw eP(e,...r)}function za(t){const e="INTERNAL ASSERTION FAILED: "+t;throw P0(e),new Error(e)}function Hs(t,e){t||za(e)}function np(){return typeof self<"u"&&self.location?.href||""}function tP(){return q4()==="http:"||q4()==="https:"}function q4(){return typeof self<"u"&&self.location?.protocol||null}function hae(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tP()||TV()||"connection"in navigator)?navigator.onLine:!0}function pae(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}class Kp{constructor(e,r){this.shortDelay=e,this.longDelay=r,Hs(r>e,"Short delay should be less than long delay!"),this.isMobile=One()||Mne()}get(){return hae()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function rP(t,e){Hs(t.emulator,"Emulator should always be set here");const{url:r}=t.emulator;return e?`${r}${e.startsWith("/")?e.slice(1):e}`:r}class LV{static initialize(e,r,n){this.fetchImpl=e,r&&(this.headersImpl=r),n&&(this.responseImpl=n)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;za("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;za("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;za("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const mae={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};const gae=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],yae=new Kp(3e4,6e4);function Mt(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Lt(t,e,r,n,i={}){return FV(t,i,async()=>{let a={},s={};n&&(e==="GET"?s=n:a={body:JSON.stringify(n)});const o=$d({key:t.config.apiKey,...s}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...a};return Dne()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Fd(t.emulatorConfig.host)&&(d.credentials="include"),LV.fetch()(await $V(t,t.config.apiHost,r,o),d)})}async function FV(t,e,r){t._canInitEmulator=!1;const n={...mae,...e};try{const i=new bae(t),a=await Promise.race([r(),i.promise]);i.clearNetworkTimeout();const s=await a.json();if("needConfirmation"in s)throw Th(t,"account-exists-with-different-credential",s);if(a.ok&&!("errorMessage"in s))return s;{const o=a.ok?s.errorMessage:s.error.message,[c,d]=o.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw Th(t,"credential-already-in-use",s);if(c==="EMAIL_EXISTS")throw Th(t,"email-already-in-use",s);if(c==="USER_DISABLED")throw Th(t,"user-disabled",s);const f=n[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw ZI(t,f,d);zn(t,f)}}catch(i){if(i instanceof ha)throw i;zn(t,"network-request-failed",{message:String(i)})}}async function to(t,e,r,n,i={}){const a=await Lt(t,e,r,n,i);return"mfaPendingCredential"in a&&zn(t,"multi-factor-auth-required",{_serverResponse:a}),a}async function $V(t,e,r,n){const i=`${e}${r}?${n}`,a=t,s=a.config.emulator?rP(t.config,i):`${t.config.apiScheme}://${i}`;return gae.includes(r)&&(await a._persistenceManagerAvailable,a._getPersistenceType()==="COOKIE")?a._getPersistence()._getFinalTarget(s).toString():s}function vae(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class bae{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((r,n)=>{this.timer=setTimeout(()=>n(Tn(this.auth,"network-request-failed")),yae.get())})}}function Th(t,e,r){const n={appName:t.name};r.email&&(n.email=r.email),r.phoneNumber&&(n.phoneNumber=r.phoneNumber);const i=Tn(t,e,n);return i.customData._tokenResponse=r,i}function z4(t){return t!==void 0&&t.getResponse!==void 0}function B4(t){return t!==void 0&&t.enterprise!==void 0}class VV{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const r of this.recaptchaEnforcementState)if(r.provider&&r.provider===e)return vae(r.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function xae(t){return(await Lt(t,"GET","/v1/recaptchaParams")).recaptchaSiteKey||""}async function UV(t,e){return Lt(t,"GET","/v2/recaptchaConfig",Mt(t,e))}async function wae(t,e){return Lt(t,"POST","/v1/accounts:delete",e)}async function _ae(t,e){return Lt(t,"POST","/v1/accounts:update",e)}async function ny(t,e){return Lt(t,"POST","/v1/accounts:lookup",e)}function $h(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function Eae(t,e=!1){return ze(t).getIdToken(e)}async function qV(t,e=!1){const r=ze(t),n=await r.getIdToken(e),i=Nv(n);ve(i&&i.exp&&i.auth_time&&i.iat,r.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,s=a?.sign_in_provider;return{claims:i,token:n,authTime:$h(Uw(i.auth_time)),issuedAtTime:$h(Uw(i.iat)),expirationTime:$h(Uw(i.exp)),signInProvider:s||null,signInSecondFactor:a?.sign_in_second_factor||null}}function Uw(t){return Number(t)*1e3}function Nv(t){const[e,r,n]=t.split(".");if(e===void 0||r===void 0||n===void 0)return P0("JWT malformed, contained fewer than 3 sections"),null;try{const i=bV(r);return i?JSON.parse(i):(P0("Failed to decode base64 JWT payload"),null)}catch(i){return P0("Caught error parsing JWT payload as JSON",i?.toString()),null}}function W4(t){const e=Nv(t);return ve(e,"internal-error"),ve(typeof e.exp<"u","internal-error"),ve(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}async function Gs(t,e,r=!1){if(r)return e;try{return await e}catch(n){throw n instanceof ha&&Sae(n)&&t.auth.currentUser===t&&await t.auth.signOut(),n}}function Sae({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}class Tae{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const n=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,n)}}schedule(e=!1){if(!this.isRunning)return;const r=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},r)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}class JA{constructor(e,r){this.createdAt=e,this.lastLoginAt=r,this._initializeTime()}_initializeTime(){this.lastSignInTime=$h(this.lastLoginAt),this.creationTime=$h(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function ip(t){const e=t.auth,r=await t.getIdToken(),n=await Gs(t,ny(e,{idToken:r}));ve(n?.users.length,e,"internal-error");const i=n.users[0];t._notifyReloadListener(i);const a=i.providerUserInfo?.length?BV(i.providerUserInfo):[],s=Aae(t.providerData,a),o=t.isAnonymous,c=!(t.email&&i.passwordHash)&&!s?.length,d=o?c:!1,f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new JA(i.createdAt,i.lastLoginAt),isAnonymous:d};Object.assign(t,f)}async function zV(t){const e=ze(t);await ip(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Aae(t,e){return[...t.filter(n=>!e.some(i=>i.providerId===n.providerId)),...e]}function BV(t){return t.map(({providerId:e,...r})=>({providerId:e,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}))}async function kae(t,e){const r=await FV(t,{},async()=>{const n=$d({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,s=await $V(t,i,"/v1/token",`key=${a}`),o=await t._getAdditionalHeaders();o["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:o,body:n};return t.emulatorConfig&&Fd(t.emulatorConfig.host)&&(c.credentials="include"),LV.fetch()(s,c)});return{accessToken:r.access_token,expiresIn:r.expires_in,refreshToken:r.refresh_token}}async function Iae(t,e){return Lt(t,"POST","/v2/accounts:revokeToken",Mt(t,e))}class Ju{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ve(e.idToken,"internal-error"),ve(typeof e.idToken<"u","internal-error"),ve(typeof e.refreshToken<"u","internal-error");const r="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):W4(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,r)}updateFromIdToken(e){ve(e.length!==0,"internal-error");const r=W4(e);this.updateTokensAndExpiration(e,null,r)}async getToken(e,r=!1){return!r&&this.accessToken&&!this.isExpired?this.accessToken:(ve(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,r){const{accessToken:n,refreshToken:i,expiresIn:a}=await kae(e,r);this.updateTokensAndExpiration(n,i,Number(a))}updateTokensAndExpiration(e,r,n){this.refreshToken=r||null,this.accessToken=e||null,this.expirationTime=Date.now()+n*1e3}static fromJSON(e,r){const{refreshToken:n,accessToken:i,expirationTime:a}=r,s=new Ju;return n&&(ve(typeof n=="string","internal-error",{appName:e}),s.refreshToken=n),i&&(ve(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),a&&(ve(typeof a=="number","internal-error",{appName:e}),s.expirationTime=a),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ju,this.toJSON())}_performRefresh(){return za("not implemented")}}function Fo(t,e){ve(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ta{constructor({uid:e,auth:r,stsTokenManager:n,...i}){this.providerId="firebase",this.proactiveRefresh=new Tae(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=r,this.stsTokenManager=n,this.accessToken=n.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new JA(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const r=await Gs(this,this.stsTokenManager.getToken(this.auth,e));return ve(r,this.auth,"internal-error"),this.accessToken!==r&&(this.accessToken=r,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),r}getIdTokenResult(e){return qV(this,e)}reload(){return zV(this)}_assign(e){this!==e&&(ve(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(r=>({...r})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const r=new ta({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return r.metadata._copy(this.metadata),r}_onReload(e){ve(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,r=!1){let n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),r&&await ip(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Yt(this.auth.app))return Promise.reject(Dr(this.auth));const e=await this.getIdToken();return await Gs(this,wae(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,r){const n=r.displayName??void 0,i=r.email??void 0,a=r.phoneNumber??void 0,s=r.photoURL??void 0,o=r.tenantId??void 0,c=r._redirectEventId??void 0,d=r.createdAt??void 0,f=r.lastLoginAt??void 0,{uid:p,emailVerified:g,isAnonymous:b,providerData:w,stsTokenManager:_}=r;ve(p&&_,e,"internal-error");const x=Ju.fromJSON(this.name,_);ve(typeof p=="string",e,"internal-error"),Fo(n,e.name),Fo(i,e.name),ve(typeof g=="boolean",e,"internal-error"),ve(typeof b=="boolean",e,"internal-error"),Fo(a,e.name),Fo(s,e.name),Fo(o,e.name),Fo(c,e.name),Fo(d,e.name),Fo(f,e.name);const T=new ta({uid:p,auth:e,email:i,emailVerified:g,displayName:n,isAnonymous:b,photoURL:s,phoneNumber:a,tenantId:o,stsTokenManager:x,createdAt:d,lastLoginAt:f});return w&&Array.isArray(w)&&(T.providerData=w.map(I=>({...I}))),c&&(T._redirectEventId=c),T}static async _fromIdTokenResponse(e,r,n=!1){const i=new Ju;i.updateFromServerResponse(r);const a=new ta({uid:r.localId,auth:e,stsTokenManager:i,isAnonymous:n});return await ip(a),a}static async _fromGetAccountInfoResponse(e,r,n){const i=r.users[0];ve(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?BV(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!a?.length,o=new Ju;o.updateFromIdToken(n);const c=new ta({uid:i.localId,auth:e,stsTokenManager:o,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new JA(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!a?.length};return Object.assign(c,d),c}}const H4=new Map;function Ms(t){Hs(t instanceof Function,"Expected a class definition");let e=H4.get(t);return e?(Hs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,H4.set(t,e),e)}class WV{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,r){this.storage[e]=r}async _get(e){const r=this.storage[e];return r===void 0?null:r}async _remove(e){delete this.storage[e]}_addListener(e,r){}_removeListener(e,r){}}WV.type="NONE";const ZA=WV;function C0(t,e,r){return`firebase:${t}:${e}:${r}`}class Zu{constructor(e,r,n){this.persistence=e,this.auth=r,this.userKey=n;const{config:i,name:a}=this.auth;this.fullUserKey=C0(this.userKey,i.apiKey,a),this.fullPersistenceKey=C0("persistence",i.apiKey,a),this.boundEventHandler=r._onStorageEvent.bind(r),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const r=await ny(this.auth,{idToken:e}).catch(()=>{});return r?ta._fromGetAccountInfoResponse(this.auth,r,e):null}return ta._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const r=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,r)return this.setCurrentUser(r)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,r,n="authUser"){if(!r.length)return new Zu(Ms(ZA),e,n);const i=(await Promise.all(r.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let a=i[0]||Ms(ZA);const s=C0(n,e.config.apiKey,e.name);let o=null;for(const d of r)try{const f=await d._get(s);if(f){let p;if(typeof f=="string"){const g=await ny(e,{idToken:f}).catch(()=>{});if(!g)break;p=await ta._fromGetAccountInfoResponse(e,g,f)}else p=ta._fromJSON(e,f);d!==a&&(o=p),a=d;break}}catch{}const c=i.filter(d=>d._shouldAllowMigration);return!a._shouldAllowMigration||!c.length?new Zu(a,e,n):(a=c[0],o&&await a._set(s,o.toJSON()),await Promise.all(r.map(async d=>{if(d!==a)try{await d._remove(s)}catch{}})),new Zu(a,e,n))}}function G4(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(YV(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(HV(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(QV(e))return"Blackberry";if(JV(e))return"Webos";if(GV(e))return"Safari";if((e.includes("chrome/")||KV(e))&&!e.includes("edge/"))return"Chrome";if(XV(e))return"Android";{const r=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=t.match(r);if(n?.length===2)return n[1]}return"Other"}function HV(t=mn()){return/firefox\//i.test(t)}function GV(t=mn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function KV(t=mn()){return/crios\//i.test(t)}function YV(t=mn()){return/iemobile/i.test(t)}function XV(t=mn()){return/android/i.test(t)}function QV(t=mn()){return/blackberry/i.test(t)}function JV(t=mn()){return/webos/i.test(t)}function nP(t=mn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function Pae(t=mn()){return nP(t)&&!!window.navigator?.standalone}function Cae(){return Lne()&&document.documentMode===10}function ZV(t=mn()){return nP(t)||XV(t)||JV(t)||QV(t)||/windows phone/i.test(t)||YV(t)}function eU(t,e=[]){let r;switch(t){case"Browser":r=G4(mn());break;case"Worker":r=`${G4(mn())}-${t}`;break;default:r=t}const n=e.length?e.join(","):"FirebaseCore-web";return`${r}/JsCore/${Vd}/${n}`}class Nae{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,r){const n=a=>new Promise((s,o)=>{try{const c=e(a);s(c)}catch(c){o(c)}});n.onAbort=r,this.queue.push(n);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const r=[];try{for(const n of this.queue)await n(e),n.onAbort&&r.push(n.onAbort)}catch(n){r.reverse();for(const i of r)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:n?.message})}}}async function Rae(t,e={}){return Lt(t,"GET","/v2/passwordPolicy",Mt(t,e))}const Oae=6;class jae{constructor(e){const r=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=r.minPasswordLength??Oae,r.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=r.maxPasswordLength),r.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=r.containsLowercaseCharacter),r.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=r.containsUppercaseCharacter),r.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=r.containsNumericCharacter),r.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=r.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=e.allowedNonAlphanumericCharacters?.join("")??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const r={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,r),this.validatePasswordCharacterOptions(e,r),r.isValid&&(r.isValid=r.meetsMinPasswordLength??!0),r.isValid&&(r.isValid=r.meetsMaxPasswordLength??!0),r.isValid&&(r.isValid=r.containsLowercaseLetter??!0),r.isValid&&(r.isValid=r.containsUppercaseLetter??!0),r.isValid&&(r.isValid=r.containsNumericCharacter??!0),r.isValid&&(r.isValid=r.containsNonAlphanumericCharacter??!0),r}validatePasswordLengthOptions(e,r){const n=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;n&&(r.meetsMinPasswordLength=e.length>=n),i&&(r.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,r){this.updatePasswordCharacterOptionsStatuses(r,!1,!1,!1,!1);let n;for(let i=0;i<e.length;i++)n=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(r,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,r,n,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=r)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}class Dae{constructor(e,r,n,i){this.app=e,this.heartbeatServiceProvider=r,this.appCheckServiceProvider=n,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new K4(this),this.idTokenSubscription=new K4(this),this.beforeStateQueue=new Nae(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MV,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion,this._persistenceManagerAvailable=new Promise(a=>this._resolvePersistenceManagerAvailable=a)}_initializeWithPersistence(e,r){return r&&(this._popupRedirectResolver=Ms(r)),this._initializationPromise=this.queue(async()=>{if(!this._deleted&&(this.persistenceManager=await Zu.create(this,e),this._resolvePersistenceManagerAvailable?.(),!this._deleted)){if(this._popupRedirectResolver?._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(r),this.lastNotifiedUid=this.currentUser?.uid||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const r=await ny(this,{idToken:e}),n=await ta._fromGetAccountInfoResponse(this,r,e);await this.directlySetCurrentUser(n)}catch(r){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",r),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){if(Yt(this.app)){const a=this.app.settings.authIdToken;return a?new Promise(s=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(a).then(s,s))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let n=r,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const a=this.redirectUser?._redirectEventId,s=n?._redirectEventId,o=await this.tryRedirectSignIn(e);(!a||a===s)&&o?.user&&(n=o.user,i=!0)}if(!n)return this.directlySetCurrentUser(null);if(!n._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(n)}catch(a){n=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(a))}return n?this.reloadAndSetCurrentUserOrClear(n):this.directlySetCurrentUser(null)}return ve(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===n._redirectEventId?this.directlySetCurrentUser(n):this.reloadAndSetCurrentUserOrClear(n)}async tryRedirectSignIn(e){let r=null;try{r=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return r}async reloadAndSetCurrentUserOrClear(e){try{await ip(e)}catch(r){if(r?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=pae()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Yt(this.app))return Promise.reject(Dr(this));const r=e?ze(e):null;return r&&ve(r.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(r&&r._clone(this))}async _updateCurrentUser(e,r=!1){if(!this._deleted)return e&&ve(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),r||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Yt(this.app)?Promise.reject(Dr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Yt(this.app)?Promise.reject(Dr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(Ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const r=this._getPasswordPolicyInternal();return r.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):r.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await Rae(this),r=new jae(e);this.tenantId===null?this._projectPasswordPolicy=r:this._tenantPasswordPolicies[this.tenantId]=r}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Bc("auth","Firebase",e())}onAuthStateChanged(e,r,n){return this.registerStateListener(this.authStateSubscription,e,r,n)}beforeAuthStateChanged(e,r){return this.beforeStateQueue.pushCallback(e,r)}onIdTokenChanged(e,r,n){return this.registerStateListener(this.idTokenSubscription,e,r,n)}authStateReady(){return new Promise((e,r)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged(()=>{n(),e()},r)}})}async revokeAccessToken(e){if(this.currentUser){const r=await this.currentUser.getIdToken(),n={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:r};this.tenantId!=null&&(n.tenantId=this.tenantId),await Iae(this,n)}}toJSON(){return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:this._currentUser?.toJSON()}}async _setRedirectUser(e,r){const n=await this.getOrInitRedirectPersistenceManager(r);return e===null?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const r=e&&Ms(e)||this._popupRedirectResolver;ve(r,this,"argument-error"),this.redirectPersistenceManager=await Zu.create(this,[Ms(r._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){return this._isInitialized&&await this.queue(async()=>{}),this._currentUser?._redirectEventId===e?this._currentUser:this.redirectUser?._redirectEventId===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=this.currentUser?.uid??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,r,n,i){if(this._deleted)return()=>{};const a=typeof r=="function"?r:r.next.bind(r);let s=!1;const o=this._isInitialized?Promise.resolve():this._initializationPromise;if(ve(o,this,"internal-error"),o.then(()=>{s||a(this.currentUser)}),typeof r=="function"){const c=e.addObserver(r,n,i);return()=>{s=!0,c()}}else{const c=e.addObserver(r);return()=>{s=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ve(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=eU(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const r=await this.heartbeatServiceProvider.getImmediate({optional:!0})?.getHeartbeatsHeader();r&&(e["X-Firebase-Client"]=r);const n=await this._getAppCheckToken();return n&&(e["X-Firebase-AppCheck"]=n),e}async _getAppCheckToken(){if(Yt(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await this.appCheckServiceProvider.getImmediate({optional:!0})?.getToken();return e?.error&&fae(`Error while retrieving App Check token: ${e.error}`),e?.token}}function tr(t){return ze(t)}class K4{constructor(e){this.auth=e,this.observer=null,this.addObserver=Bne(r=>this.observer=r)}get next(){return ve(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Yp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Mae(t){Yp=t}function iP(t){return Yp.loadJS(t)}function Lae(){return Yp.recaptchaV2Script}function Fae(){return Yp.recaptchaEnterpriseScript}function $ae(){return Yp.gapiScript}function tU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const Vae=500,Uae=6e4,Kg=1e12;class qae{constructor(e){this.auth=e,this.counter=Kg,this._widgets=new Map}render(e,r){const n=this.counter;return this._widgets.set(n,new Wae(e,this.auth.name,r||{})),this.counter++,n}reset(e){const r=e||Kg;this._widgets.get(r)?.delete(),this._widgets.delete(r)}getResponse(e){const r=e||Kg;return this._widgets.get(r)?.getResponse()||""}async execute(e){const r=e||Kg;return this._widgets.get(r)?.execute(),""}}class zae{constructor(){this.enterprise=new Bae}ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class Bae{ready(e){e()}execute(e,r){return Promise.resolve("token")}render(e,r){return""}}class Wae{constructor(e,r,n){this.params=n,this.timerId=null,this.deleted=!1,this.responseToken=null,this.clickHandler=()=>{this.execute()};const i=typeof e=="string"?document.getElementById(e):e;ve(i,"argument-error",{appName:r}),this.container=i,this.isVisible=this.params.size!=="invisible",this.isVisible?this.execute():this.container.addEventListener("click",this.clickHandler)}getResponse(){return this.checkIfDeleted(),this.responseToken}delete(){this.checkIfDeleted(),this.deleted=!0,this.timerId&&(clearTimeout(this.timerId),this.timerId=null),this.container.removeEventListener("click",this.clickHandler)}execute(){this.checkIfDeleted(),!this.timerId&&(this.timerId=window.setTimeout(()=>{this.responseToken=Hae(50);const{callback:e,"expired-callback":r}=this.params;if(e)try{e(this.responseToken)}catch{}this.timerId=window.setTimeout(()=>{if(this.timerId=null,this.responseToken=null,r)try{r()}catch{}this.isVisible&&this.execute()},Uae)},Vae))}checkIfDeleted(){if(this.deleted)throw new Error("reCAPTCHA mock was already deleted!")}}function Hae(t){const e=[],r="1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ";for(let n=0;n<t;n++)e.push(r.charAt(Math.floor(Math.random()*r.length)));return e.join("")}const Gae="recaptcha-enterprise",Vh="NO_RECAPTCHA";class rU{constructor(e){this.type=Gae,this.auth=tr(e)}async verify(e="verify",r=!1){async function n(a){if(!r){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(s,o)=>{UV(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)o(new Error("recaptcha Enterprise site key undefined"));else{const d=new VV(c);return a.tenantId==null?a._agentRecaptchaConfig=d:a._tenantRecaptchaConfigs[a.tenantId]=d,s(d.siteKey)}}).catch(c=>{o(c)})})}function i(a,s,o){const c=window.grecaptcha;B4(c)?c.enterprise.ready(()=>{c.enterprise.execute(a,{action:e}).then(d=>{s(d)}).catch(()=>{s(Vh)})}):o(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new zae().execute("siteKey",{action:"verify"}):new Promise((a,s)=>{n(this.auth).then(o=>{if(!r&&B4(window.grecaptcha))i(o,a,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let c=Fae();c.length!==0&&(c+=o),iP(c).then(()=>{i(o,a,s)}).catch(d=>{s(d)})}}).catch(o=>{s(o)})})}}async function ah(t,e,r,n=!1,i=!1){const a=new rU(t);let s;if(i)s=Vh;else try{s=await a.verify(r)}catch{s=await a.verify(r,!0)}const o={...e};if(r==="mfaSmsEnrollment"||r==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in o){const c=o.phoneEnrollmentInfo.phoneNumber,d=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const c=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:s,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return n?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Qo(t,e,r,n,i){if(i==="EMAIL_PASSWORD_PROVIDER")if(t._getRecaptchaConfig()?.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await ah(t,e,r,r==="getOobCode");return n(t,a)}else return n(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${r} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const s=await ah(t,e,r,r==="getOobCode");return n(t,s)}else return Promise.reject(a)});else if(i==="PHONE_PROVIDER")if(t._getRecaptchaConfig()?.isProviderEnabled("PHONE_PROVIDER")){const a=await ah(t,e,r);return n(t,a).catch(async s=>{if(t._getRecaptchaConfig()?.getProviderEnforcementState("PHONE_PROVIDER")==="AUDIT"&&(s.code==="auth/missing-recaptcha-token"||s.code==="auth/invalid-app-credential")){console.log(`Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ${r} flow.`);const o=await ah(t,e,r,!1,!0);return n(t,o)}return Promise.reject(s)})}else{const a=await ah(t,e,r,!1,!0);return n(t,a)}else return Promise.reject(i+" provider is not supported.")}async function nU(t){const e=tr(t),r=await UV(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),n=new VV(r);e.tenantId==null?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,n.isAnyProviderEnabled()&&new rU(e).verify()}function iU(t,e){const r=Wc(t,"auth");if(r.isInitialized()){const i=r.getImmediate(),a=r.getOptions();if(Ja(a,e??{}))return i;zn(i,"already-initialized")}return r.initialize({options:e})}function Kae(t,e){const r=e?.persistence||[],n=(Array.isArray(r)?r:[r]).map(Ms);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(n,e?.popupRedirectResolver)}function aU(t,e,r){const n=tr(t);ve(/^https?:\/\//.test(e),n,"invalid-emulator-scheme");const i=!!r?.disableWarnings,a=sU(e),{host:s,port:o}=Yae(e),c=o===null?"":`:${o}`,d={url:`${a}//${s}${c}/`},f=Object.freeze({host:s,port:o,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})});if(!n._canInitEmulator){ve(n.config.emulator&&n.emulatorConfig,n,"emulator-config-failed"),ve(Ja(d,n.config.emulator)&&Ja(f,n.emulatorConfig),n,"emulator-config-failed");return}n.config.emulator=d,n.emulatorConfig=f,n.settings.appVerificationDisabledForTesting=!0,Fd(s)?(EV(`${a}//${s}${c}`),SV("Auth",!0)):i||Xae()}function sU(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function Yae(t){const e=sU(t),r=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!r)return{host:"",port:null};const n=r[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(n);if(i){const a=i[1];return{host:a,port:Y4(n.substr(a.length+1))}}else{const[a,s]=n.split(":");return{host:a,port:Y4(s)}}}function Y4(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function Xae(){function t(){const e=document.createElement("p"),r=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",r.position="fixed",r.width="100%",r.backgroundColor="#ffffff",r.border=".1em solid #000000",r.color="#b50000",r.bottom="0px",r.left="0px",r.margin="0px",r.zIndex="10000",r.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}class qd{constructor(e,r){this.providerId=e,this.signInMethod=r}toJSON(){return za("not implemented")}_getIdTokenResponse(e){return za("not implemented")}_linkToIdToken(e,r){return za("not implemented")}_getReauthenticationResolver(e){return za("not implemented")}}async function oU(t,e){return Lt(t,"POST","/v1/accounts:resetPassword",Mt(t,e))}async function Qae(t,e){return Lt(t,"POST","/v1/accounts:update",e)}async function Jae(t,e){return Lt(t,"POST","/v1/accounts:signUp",e)}async function Zae(t,e){return Lt(t,"POST","/v1/accounts:update",Mt(t,e))}async function ese(t,e){return to(t,"POST","/v1/accounts:signInWithPassword",Mt(t,e))}async function Rv(t,e){return Lt(t,"POST","/v1/accounts:sendOobCode",Mt(t,e))}async function tse(t,e){return Rv(t,e)}async function rse(t,e){return Rv(t,e)}async function nse(t,e){return Rv(t,e)}async function ise(t,e){return Rv(t,e)}async function ase(t,e){return to(t,"POST","/v1/accounts:signInWithEmailLink",Mt(t,e))}async function sse(t,e){return to(t,"POST","/v1/accounts:signInWithEmailLink",Mt(t,e))}class hd extends qd{constructor(e,r,n,i=null){super("password",n),this._email=e,this._password=r,this._tenantId=i}static _fromEmailAndPassword(e,r){return new hd(e,r,"password")}static _fromEmailAndCode(e,r,n=null){return new hd(e,r,"emailLink",n)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;if(r?.email&&r?.password){if(r.signInMethod==="password")return this._fromEmailAndPassword(r.email,r.password);if(r.signInMethod==="emailLink")return this._fromEmailAndCode(r.email,r.password,r.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const r={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qo(e,r,"signInWithPassword",ese,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return ase(e,{email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}async _linkToIdToken(e,r){switch(this.signInMethod){case"password":const n={idToken:r,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Qo(e,n,"signUpPassword",Jae,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return sse(e,{idToken:r,email:this._email,oobCode:this._password});default:zn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function Us(t,e){return to(t,"POST","/v1/accounts:signInWithIdp",Mt(t,e))}const ose="http://localhost";class es extends qd{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const r=new es(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(r.idToken=e.idToken),e.accessToken&&(r.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(r.nonce=e.nonce),e.pendingToken&&(r.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(r.accessToken=e.oauthToken,r.secret=e.oauthTokenSecret):zn("argument-error"),r}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,...a}=r;if(!n||!i)return null;const s=new es(n,i);return s.idToken=a.idToken||void 0,s.accessToken=a.accessToken||void 0,s.secret=a.secret,s.nonce=a.nonce,s.pendingToken=a.pendingToken||null,s}_getIdTokenResponse(e){const r=this.buildRequest();return Us(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Us(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Us(e,r)}buildRequest(){const e={requestUri:ose,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const r={};this.idToken&&(r.id_token=this.idToken),this.accessToken&&(r.access_token=this.accessToken),this.secret&&(r.oauth_token_secret=this.secret),r.providerId=this.providerId,this.nonce&&!this.pendingToken&&(r.nonce=this.nonce),e.postBody=$d(r)}return e}}async function X4(t,e){return Lt(t,"POST","/v1/accounts:sendVerificationCode",Mt(t,e))}async function lse(t,e){return to(t,"POST","/v1/accounts:signInWithPhoneNumber",Mt(t,e))}async function cse(t,e){const r=await to(t,"POST","/v1/accounts:signInWithPhoneNumber",Mt(t,e));if(r.temporaryProof)throw Th(t,"account-exists-with-different-credential",r);return r}const use={USER_NOT_FOUND:"user-not-found"};async function dse(t,e){const r={...e,operation:"REAUTH"};return to(t,"POST","/v1/accounts:signInWithPhoneNumber",Mt(t,r),use)}class Jo extends qd{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,r){return new Jo({verificationId:e,verificationCode:r})}static _fromTokenResponse(e,r){return new Jo({phoneNumber:e,temporaryProof:r})}_getIdTokenResponse(e){return lse(e,this._makeVerificationRequest())}_linkToIdToken(e,r){return cse(e,{idToken:r,...this._makeVerificationRequest()})}_getReauthenticationResolver(e){return dse(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:r,verificationId:n,verificationCode:i}=this.params;return e&&r?{temporaryProof:e,phoneNumber:r}:{sessionInfo:n,code:i}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){typeof e=="string"&&(e=JSON.parse(e));const{verificationId:r,verificationCode:n,phoneNumber:i,temporaryProof:a}=e;return!n&&!r&&!i&&!a?null:new Jo({verificationId:r,verificationCode:n,phoneNumber:i,temporaryProof:a})}}function fse(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function hse(t){const e=Eh(Sh(t)).link,r=e?Eh(Sh(e)).deep_link_id:null,n=Eh(Sh(t)).deep_link_id;return(n?Eh(Sh(n)).link:null)||n||r||e||t}class zd{constructor(e){const r=Eh(Sh(e)),n=r.apiKey??null,i=r.oobCode??null,a=fse(r.mode??null);ve(n&&i&&a,"argument-error"),this.apiKey=n,this.operation=a,this.code=i,this.continueUrl=r.continueUrl??null,this.languageCode=r.lang??null,this.tenantId=r.tenantId??null}static parseLink(e){const r=hse(e);try{return new zd(r)}catch{return null}}}function pse(t){return zd.parseLink(t)}class gl{constructor(){this.providerId=gl.PROVIDER_ID}static credential(e,r){return hd._fromEmailAndPassword(e,r)}static credentialWithLink(e,r){const n=zd.parseLink(r);return ve(n,"argument-error"),hd._fromEmailAndCode(e,n.code,n.tenantId)}}gl.PROVIDER_ID="password";gl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";gl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class ro{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class Bd extends ro{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class Uh extends Bd{static credentialFromJSON(e){const r=typeof e=="string"?JSON.parse(e):e;return ve("providerId"in r&&"signInMethod"in r,"argument-error"),es._fromParams(r)}credential(e){return this._credential({...e,nonce:e.rawNonce})}_credential(e){return ve(e.idToken||e.accessToken,"argument-error"),es._fromParams({...e,providerId:this.providerId,signInMethod:this.providerId})}static credentialFromResult(e){return Uh.oauthCredentialFromTaggedObject(e)}static credentialFromError(e){return Uh.oauthCredentialFromTaggedObject(e.customData||{})}static oauthCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n,oauthTokenSecret:i,pendingToken:a,nonce:s,providerId:o}=e;if(!n&&!i&&!r&&!a||!o)return null;try{return new Uh(o)._credential({idToken:r,accessToken:n,nonce:s,pendingToken:a})}catch{return null}}}class Rs extends Bd{constructor(){super("facebook.com")}static credential(e){return es._fromParams({providerId:Rs.PROVIDER_ID,signInMethod:Rs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rs.credentialFromTaggedObject(e)}static credentialFromError(e){return Rs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rs.credential(e.oauthAccessToken)}catch{return null}}}Rs.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rs.PROVIDER_ID="facebook.com";class qa extends Bd{constructor(){super("google.com"),this.addScope("profile")}static credential(e,r){return es._fromParams({providerId:qa.PROVIDER_ID,signInMethod:qa.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:r})}static credentialFromResult(e){return qa.credentialFromTaggedObject(e)}static credentialFromError(e){return qa.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:r,oauthAccessToken:n}=e;if(!r&&!n)return null;try{return qa.credential(r,n)}catch{return null}}}qa.GOOGLE_SIGN_IN_METHOD="google.com";qa.PROVIDER_ID="google.com";class Os extends Bd{constructor(){super("github.com")}static credential(e){return es._fromParams({providerId:Os.PROVIDER_ID,signInMethod:Os.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Os.credentialFromTaggedObject(e)}static credentialFromError(e){return Os.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Os.credential(e.oauthAccessToken)}catch{return null}}}Os.GITHUB_SIGN_IN_METHOD="github.com";Os.PROVIDER_ID="github.com";const mse="http://localhost";class ap extends qd{constructor(e,r){super(e,e),this.pendingToken=r}_getIdTokenResponse(e){const r=this.buildRequest();return Us(e,r)}_linkToIdToken(e,r){const n=this.buildRequest();return n.idToken=r,Us(e,n)}_getReauthenticationResolver(e){const r=this.buildRequest();return r.autoCreate=!1,Us(e,r)}toJSON(){return{signInMethod:this.signInMethod,providerId:this.providerId,pendingToken:this.pendingToken}}static fromJSON(e){const r=typeof e=="string"?JSON.parse(e):e,{providerId:n,signInMethod:i,pendingToken:a}=r;return!n||!i||!a||n!==i?null:new ap(n,a)}static _create(e,r){return new ap(e,r)}buildRequest(){return{requestUri:mse,returnSecureToken:!0,pendingToken:this.pendingToken}}}const gse="saml.";class iy extends ro{constructor(e){ve(e.startsWith(gse),"argument-error"),super(e)}static credentialFromResult(e){return iy.samlCredentialFromTaggedObject(e)}static credentialFromError(e){return iy.samlCredentialFromTaggedObject(e.customData||{})}static credentialFromJSON(e){const r=ap.fromJSON(e);return ve(r,"argument-error"),r}static samlCredentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{pendingToken:r,providerId:n}=e;if(!r||!n)return null;try{return ap._create(n,r)}catch{return null}}}class js extends Bd{constructor(){super("twitter.com")}static credential(e,r){return es._fromParams({providerId:js.PROVIDER_ID,signInMethod:js.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:r})}static credentialFromResult(e){return js.credentialFromTaggedObject(e)}static credentialFromError(e){return js.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:r,oauthTokenSecret:n}=e;if(!r||!n)return null;try{return js.credential(r,n)}catch{return null}}}js.TWITTER_SIGN_IN_METHOD="twitter.com";js.PROVIDER_ID="twitter.com";async function lU(t,e){return to(t,"POST","/v1/accounts:signUp",Mt(t,e))}class Mi{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,r,n,i=!1){const a=await ta._fromIdTokenResponse(e,n,i),s=Q4(n);return new Mi({user:a,providerId:s,_tokenResponse:n,operationType:r})}static async _forOperation(e,r,n){await e._updateTokensIfNecessary(n,!0);const i=Q4(n);return new Mi({user:e,providerId:i,_tokenResponse:n,operationType:r})}}function Q4(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}async function yse(t){if(Yt(t.app))return Promise.reject(Dr(t));const e=tr(t);if(await e._initializationPromise,e.currentUser?.isAnonymous)return new Mi({user:e.currentUser,providerId:null,operationType:"signIn"});const r=await lU(e,{returnSecureToken:!0}),n=await Mi._fromIdTokenResponse(e,"signIn",r,!0);return await e._updateCurrentUser(n.user),n}class ay extends ha{constructor(e,r,n,i){super(r.code,r.message),this.operationType=n,this.user=i,Object.setPrototypeOf(this,ay.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:r.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,r,n,i){return new ay(e,r,n,i)}}function cU(t,e,r,n){return(e==="reauthenticate"?r._getReauthenticationResolver(t):r._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ay._fromErrorAndOperation(t,a,e,n):a})}function uU(t){return new Set(t.map(({providerId:e})=>e).filter(e=>!!e))}async function vse(t,e){const r=ze(t);await Ov(!0,r,e);const{providerUserInfo:n}=await _ae(r.auth,{idToken:await r.getIdToken(),deleteProvider:[e]}),i=uU(n||[]);return r.providerData=r.providerData.filter(a=>i.has(a.providerId)),i.has("phone")||(r.phoneNumber=null),await r.auth._persistUserIfCurrent(r),r}async function aP(t,e,r=!1){const n=await Gs(t,e._linkToIdToken(t.auth,await t.getIdToken()),r);return Mi._forOperation(t,"link",n)}async function Ov(t,e,r){await ip(e);const n=uU(e.providerData),i=t===!1?"provider-already-linked":"no-such-provider";ve(n.has(r)===t,e.auth,i)}async function dU(t,e,r=!1){const{auth:n}=t;if(Yt(n.app))return Promise.reject(Dr(n));const i="reauthenticate";try{const a=await Gs(t,cU(n,i,e,t),r);ve(a.idToken,n,"internal-error");const s=Nv(a.idToken);ve(s,n,"internal-error");const{sub:o}=s;return ve(t.uid===o,n,"user-mismatch"),Mi._forOperation(t,i,a)}catch(a){throw a?.code==="auth/user-not-found"&&zn(n,"user-mismatch"),a}}async function fU(t,e,r=!1){if(Yt(t.app))return Promise.reject(Dr(t));const n="signIn",i=await cU(t,n,e),a=await Mi._fromIdTokenResponse(t,n,i);return r||await t._updateCurrentUser(a.user),a}async function jv(t,e){return fU(tr(t),e)}async function hU(t,e){const r=ze(t);return await Ov(!1,r,e.providerId),aP(r,e)}async function pU(t,e){return dU(ze(t),e)}async function bse(t,e){return to(t,"POST","/v1/accounts:signInWithCustomToken",Mt(t,e))}async function xse(t,e){if(Yt(t.app))return Promise.reject(Dr(t));const r=tr(t),n=await bse(r,{token:e,returnSecureToken:!0}),i=await Mi._fromIdTokenResponse(r,"signIn",n);return await r._updateCurrentUser(i.user),i}class Xp{constructor(e,r){this.factorId=e,this.uid=r.mfaEnrollmentId,this.enrollmentTime=new Date(r.enrolledAt).toUTCString(),this.displayName=r.displayName}static _fromServerResponse(e,r){return"phoneInfo"in r?sP._fromServerResponse(e,r):"totpInfo"in r?oP._fromServerResponse(e,r):zn(e,"internal-error")}}class sP extends Xp{constructor(e){super("phone",e),this.phoneNumber=e.phoneInfo}static _fromServerResponse(e,r){return new sP(r)}}class oP extends Xp{constructor(e){super("totp",e)}static _fromServerResponse(e,r){return new oP(r)}}function Dv(t,e,r){ve(r.url?.length>0,t,"invalid-continue-uri"),ve(typeof r.dynamicLinkDomain>"u"||r.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),ve(typeof r.linkDomain>"u"||r.linkDomain.length>0,t,"invalid-hosting-link-domain"),e.continueUrl=r.url,e.dynamicLinkDomain=r.dynamicLinkDomain,e.linkDomain=r.linkDomain,e.canHandleCodeInApp=r.handleCodeInApp,r.iOS&&(ve(r.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=r.iOS.bundleId),r.android&&(ve(r.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=r.android.installApp,e.androidMinimumVersionCode=r.android.minimumVersion,e.androidPackageName=r.android.packageName)}async function lP(t){const e=tr(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wse(t,e,r){const n=tr(t),i={requestType:"PASSWORD_RESET",email:e,clientType:"CLIENT_TYPE_WEB"};r&&Dv(n,i,r),await Qo(n,i,"getOobCode",rse,"EMAIL_PASSWORD_PROVIDER")}async function _se(t,e,r){await oU(ze(t),{oobCode:e,newPassword:r}).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&lP(t),n})}async function Ese(t,e){await Zae(ze(t),{oobCode:e})}async function mU(t,e){const r=ze(t),n=await oU(r,{oobCode:e}),i=n.requestType;switch(ve(i,r,"internal-error"),i){case"EMAIL_SIGNIN":break;case"VERIFY_AND_CHANGE_EMAIL":ve(n.newEmail,r,"internal-error");break;case"REVERT_SECOND_FACTOR_ADDITION":ve(n.mfaInfo,r,"internal-error");default:ve(n.email,r,"internal-error")}let a=null;return n.mfaInfo&&(a=Xp._fromServerResponse(tr(r),n.mfaInfo)),{data:{email:(n.requestType==="VERIFY_AND_CHANGE_EMAIL"?n.newEmail:n.email)||null,previousEmail:(n.requestType==="VERIFY_AND_CHANGE_EMAIL"?n.email:n.newEmail)||null,multiFactorInfo:a},operation:i}}async function Sse(t,e){const{data:r}=await mU(ze(t),e);return r.email}async function gU(t,e,r){if(Yt(t.app))return Promise.reject(Dr(t));const n=tr(t),s=await Qo(n,{returnSecureToken:!0,email:e,password:r,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lU,"EMAIL_PASSWORD_PROVIDER").catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&lP(t),c}),o=await Mi._fromIdTokenResponse(n,"signIn",s);return await n._updateCurrentUser(o.user),o}function yU(t,e,r){return Yt(t.app)?Promise.reject(Dr(t)):jv(ze(t),gl.credential(e,r)).catch(async n=>{throw n.code==="auth/password-does-not-meet-requirements"&&lP(t),n})}async function Tse(t,e,r){const n=tr(t),i={requestType:"EMAIL_SIGNIN",email:e,clientType:"CLIENT_TYPE_WEB"};function a(s,o){ve(o.handleCodeInApp,n,"argument-error"),o&&Dv(n,s,o)}a(i,r),await Qo(n,i,"getOobCode",nse,"EMAIL_PASSWORD_PROVIDER")}function Ase(t,e){return zd.parseLink(e)?.operation==="EMAIL_SIGNIN"}async function kse(t,e,r){if(Yt(t.app))return Promise.reject(Dr(t));const n=ze(t),i=gl.credentialWithLink(e,r||np());return ve(i._tenantId===(n.tenantId||null),n,"tenant-id-mismatch"),jv(n,i)}async function Ise(t,e){return Lt(t,"POST","/v1/accounts:createAuthUri",Mt(t,e))}async function Pse(t,e){const r=tP()?np():"http://localhost",n={identifier:e,continueUri:r},{signinMethods:i}=await Ise(ze(t),n);return i||[]}async function ek(t,e){const r=ze(t),i={requestType:"VERIFY_EMAIL",idToken:await t.getIdToken()};e&&Dv(r.auth,i,e);const{email:a}=await tse(r.auth,i);a!==t.email&&await t.reload()}async function Cse(t,e,r){const n=ze(t),a={requestType:"VERIFY_AND_CHANGE_EMAIL",idToken:await t.getIdToken(),newEmail:e};r&&Dv(n.auth,a,r);const{email:s}=await ise(n.auth,a);s!==t.email&&await t.reload()}async function Nse(t,e){return Lt(t,"POST","/v1/accounts:update",e)}async function Rse(t,{displayName:e,photoURL:r}){if(e===void 0&&r===void 0)return;const n=ze(t),a={idToken:await n.getIdToken(),displayName:e,photoUrl:r,returnSecureToken:!0},s=await Gs(n,Nse(n.auth,a));n.displayName=s.displayName||null,n.photoURL=s.photoUrl||null;const o=n.providerData.find(({providerId:c})=>c==="password");o&&(o.displayName=n.displayName,o.photoURL=n.photoURL),await n._updateTokensIfNecessary(s)}function Ose(t,e){const r=ze(t);return Yt(r.auth.app)?Promise.reject(Dr(r.auth)):vU(r,e,null)}function jse(t,e){return vU(ze(t),null,e)}async function vU(t,e,r){const{auth:n}=t,a={idToken:await t.getIdToken(),returnSecureToken:!0};e&&(a.email=e),r&&(a.password=r);const s=await Gs(t,Qae(n,a));await t._updateTokensIfNecessary(s,!0)}function Dse(t){if(!t)return null;const{providerId:e}=t,r=t.rawUserInfo?JSON.parse(t.rawUserInfo):{},n=t.isNewUser||t.kind==="identitytoolkit#SignupNewUserResponse";if(!e&&t?.idToken){const i=Nv(t.idToken)?.firebase?.sign_in_provider;if(i){const a=i!=="anonymous"&&i!=="custom"?i:null;return new ed(n,a)}}if(!e)return null;switch(e){case"facebook.com":return new Mse(n,r);case"github.com":return new Lse(n,r);case"google.com":return new Fse(n,r);case"twitter.com":return new $se(n,r,t.screenName||null);case"custom":case"anonymous":return new ed(n,null);default:return new ed(n,e,r)}}class ed{constructor(e,r,n={}){this.isNewUser=e,this.providerId=r,this.profile=n}}class bU extends ed{constructor(e,r,n,i){super(e,r,n),this.username=i}}class Mse extends ed{constructor(e,r){super(e,"facebook.com",r)}}class Lse extends bU{constructor(e,r){super(e,"github.com",r,typeof r?.login=="string"?r?.login:null)}}class Fse extends ed{constructor(e,r){super(e,"google.com",r)}}class $se extends bU{constructor(e,r,n){super(e,"twitter.com",r,n)}}function Vse(t){const{user:e,_tokenResponse:r}=t;return e.isAnonymous&&!r?{providerId:null,isNewUser:!1,profile:null}:Dse(r)}function Use(t,e){return ze(t).setPersistence(e)}function qse(t){return nU(t)}async function zse(t,e){return tr(t).validatePassword(e)}function xU(t,e,r,n){return ze(t).onIdTokenChanged(e,r,n)}function wU(t,e,r){return ze(t).beforeAuthStateChanged(e,r)}function Mv(t,e,r,n){return ze(t).onAuthStateChanged(e,r,n)}function Bse(t){ze(t).useDeviceLanguage()}function Wse(t,e){return ze(t).updateCurrentUser(e)}function _U(t){return ze(t).signOut()}function Hse(t,e){return tr(t).revokeAccessToken(e)}async function Gse(t){return ze(t).delete()}class rc{constructor(e,r,n){this.type=e,this.credential=r,this.user=n}static _fromIdtoken(e,r){return new rc("enroll",e,r)}static _fromMfaPendingCredential(e){return new rc("signin",e)}toJSON(){return{multiFactorSession:{[this.type==="enroll"?"idToken":"pendingCredential"]:this.credential}}}static fromJSON(e){if(e?.multiFactorSession){if(e.multiFactorSession?.pendingCredential)return rc._fromMfaPendingCredential(e.multiFactorSession.pendingCredential);if(e.multiFactorSession?.idToken)return rc._fromIdtoken(e.multiFactorSession.idToken)}return null}}class cP{constructor(e,r,n){this.session=e,this.hints=r,this.signInResolver=n}static _fromError(e,r){const n=tr(e),i=r.customData._serverResponse,a=(i.mfaInfo||[]).map(o=>Xp._fromServerResponse(n,o));ve(i.mfaPendingCredential,n,"internal-error");const s=rc._fromMfaPendingCredential(i.mfaPendingCredential);return new cP(s,a,async o=>{const c=await o._process(n,s);delete i.mfaInfo,delete i.mfaPendingCredential;const d={...i,idToken:c.idToken,refreshToken:c.refreshToken};switch(r.operationType){case"signIn":const f=await Mi._fromIdTokenResponse(n,r.operationType,d);return await n._updateCurrentUser(f.user),f;case"reauthenticate":return ve(r.user,n,"internal-error"),Mi._forOperation(r.user,r.operationType,d);default:zn(n,"internal-error")}})}async resolveSignIn(e){const r=e;return this.signInResolver(r)}}function Kse(t,e){const r=ze(t),n=e;return ve(e.customData.operationType,r,"argument-error"),ve(n.customData._serverResponse?.mfaPendingCredential,r,"argument-error"),cP._fromError(r,n)}function J4(t,e){return Lt(t,"POST","/v2/accounts/mfaEnrollment:start",Mt(t,e))}function Yse(t,e){return Lt(t,"POST","/v2/accounts/mfaEnrollment:finalize",Mt(t,e))}function Xse(t,e){return Lt(t,"POST","/v2/accounts/mfaEnrollment:start",Mt(t,e))}function Qse(t,e){return Lt(t,"POST","/v2/accounts/mfaEnrollment:finalize",Mt(t,e))}function Jse(t,e){return Lt(t,"POST","/v2/accounts/mfaEnrollment:withdraw",Mt(t,e))}class uP{constructor(e){this.user=e,this.enrolledFactors=[],e._onReload(r=>{r.mfaInfo&&(this.enrolledFactors=r.mfaInfo.map(n=>Xp._fromServerResponse(e.auth,n)))})}static _fromUser(e){return new uP(e)}async getSession(){return rc._fromIdtoken(await this.user.getIdToken(),this.user)}async enroll(e,r){const n=e,i=await this.getSession(),a=await Gs(this.user,n._process(this.user.auth,i,r));return await this.user._updateTokensIfNecessary(a),this.user.reload()}async unenroll(e){const r=typeof e=="string"?e:e.uid,n=await this.user.getIdToken();try{const i=await Gs(this.user,Jse(this.user.auth,{idToken:n,mfaEnrollmentId:r}));this.enrolledFactors=this.enrolledFactors.filter(({uid:a})=>a!==r),await this.user._updateTokensIfNecessary(i),await this.user.reload()}catch(i){throw i}}}const qw=new WeakMap;function Zse(t){const e=ze(t);return qw.has(e)||qw.set(e,uP._fromUser(e)),qw.get(e)}const sy="__sak";class EU{constructor(e,r){this.storageRetriever=e,this.type=r}_isAvailable(){try{return this.storage?(this.storage.setItem(sy,"1"),this.storage.removeItem(sy),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,r){return this.storage.setItem(e,JSON.stringify(r)),Promise.resolve()}_get(e){const r=this.storage.getItem(e);return Promise.resolve(r?JSON.parse(r):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}const eoe=1e3,toe=10;class SU extends EU{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,r)=>this.onStorageEvent(e,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=ZV(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const r of Object.keys(this.listeners)){const n=this.storage.getItem(r),i=this.localCache[r];n!==i&&e(r,i,n)}}onStorageEvent(e,r=!1){if(!e.key){this.forAllChangedKeys((s,o,c)=>{this.notifyListeners(s,c)});return}const n=e.key;r?this.detachListener():this.stopPolling();const i=()=>{const s=this.storage.getItem(n);!r&&this.localCache[n]===s||this.notifyListeners(n,s)},a=this.storage.getItem(n);Cae()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,toe):i()}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,r,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:r,newValue:n}),!0)})},eoe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,r){await super._set(e,r),this.localCache[e]=JSON.stringify(r)}async _get(e){const r=await super._get(e);return this.localCache[e]=JSON.stringify(r),r}async _remove(e){await super._remove(e),delete this.localCache[e]}}SU.type="LOCAL";const TU=SU;const roe=1e3;function zw(t){const e=t.replace(/[\\^$.*+?()[\]{}|]/g,"\\$&"),r=RegExp(`${e}=([^;]+)`);return document.cookie.match(r)?.[1]??null}function Bw(t){return`${window.location.protocol==="http:"?"__dev_":"__HOST-"}FIREBASE_${t.split(":")[3]}`}class AU{constructor(){this.type="COOKIE",this.listenerUnsubscribes=new Map}_getFinalTarget(e){if(typeof window===void 0)return e;const r=new URL(`${window.location.origin}/__cookies__`);return r.searchParams.set("finalTarget",e),r}async _isAvailable(){return typeof isSecureContext=="boolean"&&!isSecureContext||typeof navigator>"u"||typeof document>"u"?!1:navigator.cookieEnabled??!0}async _set(e,r){}async _get(e){if(!this._isAvailable())return null;const r=Bw(e);return window.cookieStore?(await window.cookieStore.get(r))?.value:zw(r)}async _remove(e){if(!this._isAvailable()||!await this._get(e))return;const n=Bw(e);document.cookie=`${n}=;Max-Age=34560000;Partitioned;Secure;SameSite=Strict;Path=/;Priority=High`,await fetch("/__cookies__",{method:"DELETE"}).catch(()=>{})}_addListener(e,r){if(!this._isAvailable())return;const n=Bw(e);if(window.cookieStore){const o=(d=>{const f=d.changed.find(g=>g.name===n);f&&r(f.value),d.deleted.find(g=>g.name===n)&&r(null)}),c=()=>window.cookieStore.removeEventListener("change",o);return this.listenerUnsubscribes.set(r,c),window.cookieStore.addEventListener("change",o)}let i=zw(n);const a=setInterval(()=>{const o=zw(n);o!==i&&(r(o),i=o)},roe),s=()=>clearInterval(a);this.listenerUnsubscribes.set(r,s)}_removeListener(e,r){const n=this.listenerUnsubscribes.get(r);n&&(n(),this.listenerUnsubscribes.delete(r))}}AU.type="COOKIE";const noe=AU;class kU extends EU{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,r){}_removeListener(e,r){}}kU.type="SESSION";const dP=kU;function ioe(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(r){return{fulfilled:!1,reason:r}}}))}class Lv{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const r=this.receivers.find(i=>i.isListeningto(e));if(r)return r;const n=new Lv(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const r=e,{eventId:n,eventType:i,data:a}=r.data,s=this.handlersMap[i];if(!s?.size)return;r.ports[0].postMessage({status:"ack",eventId:n,eventType:i});const o=Array.from(s).map(async d=>d(r.origin,a)),c=await ioe(o);r.ports[0].postMessage({status:"done",eventId:n,eventType:i,response:c})}_subscribe(e,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(r)}_unsubscribe(e,r){this.handlersMap[e]&&r&&this.handlersMap[e].delete(r),(!r||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Lv.receivers=[];function Fv(t="",e=10){let r="";for(let n=0;n<e;n++)r+=Math.floor(Math.random()*10);return t+r}class aoe{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,r,n=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,s;return new Promise((o,c)=>{const d=Fv("",20);i.port1.start();const f=setTimeout(()=>{c(new Error("unsupported_event"))},n);s={messageChannel:i,onMessage(p){const g=p;if(g.data.eventId===d)switch(g.data.status){case"ack":clearTimeout(f),a=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),o(g.data.response);break;default:clearTimeout(f),clearTimeout(a),c(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:r},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})}}function mr(){return window}function soe(t){mr().location.href=t}function fP(){return typeof mr().WorkerGlobalScope<"u"&&typeof mr().importScripts=="function"}async function ooe(){if(!navigator?.serviceWorker)return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function loe(){return navigator?.serviceWorker?.controller||null}function coe(){return fP()?self:null}const IU="firebaseLocalStorageDb",uoe=1,oy="firebaseLocalStorage",PU="fbase_key";class Qp{constructor(e){this.request=e}toPromise(){return new Promise((e,r)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{r(this.request.error)})})}}function $v(t,e){return t.transaction([oy],e?"readwrite":"readonly").objectStore(oy)}function doe(){const t=indexedDB.deleteDatabase(IU);return new Qp(t).toPromise()}function tk(){const t=indexedDB.open(IU,uoe);return new Promise((e,r)=>{t.addEventListener("error",()=>{r(t.error)}),t.addEventListener("upgradeneeded",()=>{const n=t.result;try{n.createObjectStore(oy,{keyPath:PU})}catch(i){r(i)}}),t.addEventListener("success",async()=>{const n=t.result;n.objectStoreNames.contains(oy)?e(n):(n.close(),await doe(),e(await tk()))})})}async function Z4(t,e,r){const n=$v(t,!0).put({[PU]:e,value:r});return new Qp(n).toPromise()}async function foe(t,e){const r=$v(t,!1).get(e),n=await new Qp(r).toPromise();return n===void 0?null:n.value}function e5(t,e){const r=$v(t,!0).delete(e);return new Qp(r).toPromise()}const hoe=800,poe=3;class CU{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await tk(),this.db)}async _withRetries(e){let r=0;for(;;)try{const n=await this._openDb();return await e(n)}catch(n){if(r++>poe)throw n;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return fP()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Lv._getInstance(coe()),this.receiver._subscribe("keyChanged",async(e,r)=>({keyProcessed:(await this._poll()).includes(r.key)})),this.receiver._subscribe("ping",async(e,r)=>["keyChanged"])}async initializeSender(){if(this.activeServiceWorker=await ooe(),!this.activeServiceWorker)return;this.sender=new aoe(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&e[0]?.fulfilled&&e[0]?.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||loe()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await tk();return await Z4(e,sy,"1"),await e5(e,sy),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,r){return this._withPendingWrite(async()=>(await this._withRetries(n=>Z4(n,e,r)),this.localCache[e]=r,this.notifyServiceWorker(e)))}async _get(e){const r=await this._withRetries(n=>foe(n,e));return this.localCache[e]=r,r}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(r=>e5(r,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=$v(i,!1).getAll();return new Qp(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const r=[],n=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)n.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),r.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!n.has(i)&&(this.notifyListeners(i,null),r.push(i));return r}notifyListeners(e,r){this.localCache[e]=r;const n=this.listeners[e];if(n)for(const i of Array.from(n))i(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),hoe)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(r)}_removeListener(e,r){this.listeners[e]&&(this.listeners[e].delete(r),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}CU.type="LOCAL";const NU=CU;function t5(t,e){return Lt(t,"POST","/v2/accounts/mfaSignIn:start",Mt(t,e))}function moe(t,e){return Lt(t,"POST","/v2/accounts/mfaSignIn:finalize",Mt(t,e))}function goe(t,e){return Lt(t,"POST","/v2/accounts/mfaSignIn:finalize",Mt(t,e))}const Ww=tU("rcb"),yoe=new Kp(3e4,6e4);class voe{constructor(){this.hostLanguage="",this.counter=0,this.librarySeparatelyLoaded=!!mr().grecaptcha?.render}load(e,r=""){return ve(boe(r),e,"argument-error"),this.shouldResolveImmediately(r)&&z4(mr().grecaptcha)?Promise.resolve(mr().grecaptcha):new Promise((n,i)=>{const a=mr().setTimeout(()=>{i(Tn(e,"network-request-failed"))},yoe.get());mr()[Ww]=()=>{mr().clearTimeout(a),delete mr()[Ww];const o=mr().grecaptcha;if(!o||!z4(o)){i(Tn(e,"internal-error"));return}const c=o.render;o.render=(d,f)=>{const p=c(d,f);return this.counter++,p},this.hostLanguage=r,n(o)};const s=`${Lae()}?${$d({onload:Ww,render:"explicit",hl:r})}`;iP(s).catch(()=>{clearTimeout(a),i(Tn(e,"internal-error"))})})}clearedOneInstance(){this.counter--}shouldResolveImmediately(e){return!!mr().grecaptcha?.render&&(e===this.hostLanguage||this.counter>0||this.librarySeparatelyLoaded)}}function boe(t){return t.length<=6&&/^\s*[a-zA-Z0-9\-]*\s*$/.test(t)}class xoe{async load(e){return new qae(e)}clearedOneInstance(){}}const qh="recaptcha",woe={theme:"light",type:"image"};class _oe{constructor(e,r,n={...woe}){this.parameters=n,this.type=qh,this.destroyed=!1,this.widgetId=null,this.tokenChangeListeners=new Set,this.renderPromise=null,this.recaptcha=null,this.auth=tr(e),this.isInvisible=this.parameters.size==="invisible",ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment");const i=typeof r=="string"?document.getElementById(r):r;ve(i,this.auth,"argument-error"),this.container=i,this.parameters.callback=this.makeTokenCallback(this.parameters.callback),this._recaptchaLoader=this.auth.settings.appVerificationDisabledForTesting?new xoe:new voe,this.validateStartingState()}async verify(){this.assertNotDestroyed();const e=await this.render(),r=this.getAssertedRecaptcha(),n=r.getResponse(e);return n||new Promise(i=>{const a=s=>{s&&(this.tokenChangeListeners.delete(a),i(s))};this.tokenChangeListeners.add(a),this.isInvisible&&r.execute(e)})}render(){try{this.assertNotDestroyed()}catch(e){return Promise.reject(e)}return this.renderPromise?this.renderPromise:(this.renderPromise=this.makeRenderPromise().catch(e=>{throw this.renderPromise=null,e}),this.renderPromise)}_reset(){this.assertNotDestroyed(),this.widgetId!==null&&this.getAssertedRecaptcha().reset(this.widgetId)}clear(){this.assertNotDestroyed(),this.destroyed=!0,this._recaptchaLoader.clearedOneInstance(),this.isInvisible||this.container.childNodes.forEach(e=>{this.container.removeChild(e)})}validateStartingState(){ve(!this.parameters.sitekey,this.auth,"argument-error"),ve(this.isInvisible||!this.container.hasChildNodes(),this.auth,"argument-error"),ve(typeof document<"u",this.auth,"operation-not-supported-in-this-environment")}makeTokenCallback(e){return r=>{if(this.tokenChangeListeners.forEach(n=>n(r)),typeof e=="function")e(r);else if(typeof e=="string"){const n=mr()[e];typeof n=="function"&&n(r)}}}assertNotDestroyed(){ve(!this.destroyed,this.auth,"internal-error")}async makeRenderPromise(){if(await this.init(),!this.widgetId){let e=this.container;if(!this.isInvisible){const r=document.createElement("div");e.appendChild(r),e=r}this.widgetId=this.getAssertedRecaptcha().render(e,this.parameters)}return this.widgetId}async init(){ve(tP()&&!fP(),this.auth,"internal-error"),await Eoe(),this.recaptcha=await this._recaptchaLoader.load(this.auth,this.auth.languageCode||void 0);const e=await xae(this.auth);ve(e,this.auth,"internal-error"),this.parameters.sitekey=e}getAssertedRecaptcha(){return ve(this.recaptcha,this.auth,"internal-error"),this.recaptcha}}function Eoe(){let t=null;return new Promise(e=>{if(document.readyState==="complete"){e();return}t=()=>e(),window.addEventListener("load",t)}).catch(e=>{throw t&&window.removeEventListener("load",t),e})}class hP{constructor(e,r){this.verificationId=e,this.onConfirmation=r}confirm(e){const r=Jo._fromVerification(this.verificationId,e);return this.onConfirmation(r)}}async function Soe(t,e,r){if(Yt(t.app))return Promise.reject(Dr(t));const n=tr(t),i=await Vv(n,e,ze(r));return new hP(i,a=>jv(n,a))}async function Toe(t,e,r){const n=ze(t);await Ov(!1,n,"phone");const i=await Vv(n.auth,e,ze(r));return new hP(i,a=>hU(n,a))}async function Aoe(t,e,r){const n=ze(t);if(Yt(n.auth.app))return Promise.reject(Dr(n.auth));const i=await Vv(n.auth,e,ze(r));return new hP(i,a=>pU(n,a))}async function Vv(t,e,r){if(!t._getRecaptchaConfig())try{await nU(t)}catch{console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let n;if(typeof e=="string"?n={phoneNumber:e}:n=e,"session"in n){const i=n.session;if("phoneNumber"in n){ve(i.type==="enroll",t,"internal-error");const a={idToken:i.credential,phoneEnrollmentInfo:{phoneNumber:n.phoneNumber,clientType:"CLIENT_TYPE_WEB"}};return(await Qo(t,a,"mfaSmsEnrollment",async(d,f)=>{if(f.phoneEnrollmentInfo.captchaResponse===Vh){ve(r?.type===qh,d,"argument-error");const p=await Hw(d,f,r);return J4(d,p)}return J4(d,f)},"PHONE_PROVIDER").catch(d=>Promise.reject(d))).phoneSessionInfo.sessionInfo}else{ve(i.type==="signin",t,"internal-error");const a=n.multiFactorHint?.uid||n.multiFactorUid;ve(a,t,"missing-multi-factor-info");const s={mfaPendingCredential:i.credential,mfaEnrollmentId:a,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}};return(await Qo(t,s,"mfaSmsSignIn",async(f,p)=>{if(p.phoneSignInInfo.captchaResponse===Vh){ve(r?.type===qh,f,"argument-error");const g=await Hw(f,p,r);return t5(f,g)}return t5(f,p)},"PHONE_PROVIDER").catch(f=>Promise.reject(f))).phoneResponseInfo.sessionInfo}}else{const i={phoneNumber:n.phoneNumber,clientType:"CLIENT_TYPE_WEB"};return(await Qo(t,i,"sendVerificationCode",async(c,d)=>{if(d.captchaResponse===Vh){ve(r?.type===qh,c,"argument-error");const f=await Hw(c,d,r);return X4(c,f)}return X4(c,d)},"PHONE_PROVIDER").catch(c=>Promise.reject(c))).sessionInfo}}finally{r?._reset()}}async function koe(t,e){const r=ze(t);if(Yt(r.auth.app))return Promise.reject(Dr(r.auth));await aP(r,e)}async function Hw(t,e,r){ve(r.type===qh,t,"argument-error");const n=await r.verify();ve(typeof n=="string",t,"argument-error");const i={...e};if("phoneEnrollmentInfo"in i){const a=i.phoneEnrollmentInfo.phoneNumber,s=i.phoneEnrollmentInfo.captchaResponse,o=i.phoneEnrollmentInfo.clientType,c=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:a,recaptchaToken:n,captchaResponse:s,clientType:o,recaptchaVersion:c}}),i}else if("phoneSignInInfo"in i){const a=i.phoneSignInInfo.captchaResponse,s=i.phoneSignInInfo.clientType,o=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:n,captchaResponse:a,clientType:s,recaptchaVersion:o}}),i}else return Object.assign(i,{recaptchaToken:n}),i}class hc{constructor(e){this.providerId=hc.PROVIDER_ID,this.auth=tr(e)}verifyPhoneNumber(e,r){return Vv(this.auth,e,ze(r))}static credential(e,r){return Jo._fromVerification(e,r)}static credentialFromResult(e){const r=e;return hc.credentialFromTaggedObject(r)}static credentialFromError(e){return hc.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{phoneNumber:r,temporaryProof:n}=e;return r&&n?Jo._fromTokenResponse(r,n):null}}hc.PROVIDER_ID="phone";hc.PHONE_SIGN_IN_METHOD="phone";function Hc(t,e){return e?Ms(e):(ve(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}class pP extends qd{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Us(e,this._buildIdpRequest())}_linkToIdToken(e,r){return Us(e,this._buildIdpRequest(r))}_getReauthenticationResolver(e){return Us(e,this._buildIdpRequest())}_buildIdpRequest(e){const r={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(r.idToken=e),r}}function Ioe(t){return fU(t.auth,new pP(t),t.bypassAuthState)}function Poe(t){const{auth:e,user:r}=t;return ve(r,e,"internal-error"),dU(r,new pP(t),t.bypassAuthState)}async function Coe(t){const{auth:e,user:r}=t;return ve(r,e,"internal-error"),aP(r,new pP(t),t.bypassAuthState)}class RU{constructor(e,r,n,i,a=!1){this.auth=e,this.resolver=n,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(r)?r:[r]}execute(){return new Promise(async(e,r)=>{this.pendingPromise={resolve:e,reject:r};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(n){this.reject(n)}})}async onAuthEvent(e){const{urlResponse:r,sessionId:n,postBody:i,tenantId:a,error:s,type:o}=e;if(s){this.reject(s);return}const c={auth:this.auth,requestUri:r,sessionId:n,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(o)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Ioe;case"linkViaPopup":case"linkViaRedirect":return Coe;case"reauthViaPopup":case"reauthViaRedirect":return Poe;default:zn(this.auth,"internal-error")}}resolve(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Hs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const Noe=new Kp(2e3,1e4);async function OU(t,e,r){if(Yt(t.app))return Promise.reject(Tn(t,"operation-not-supported-in-this-environment"));const n=tr(t);Ud(t,e,ro);const i=Hc(n,r);return new Ls(n,"signInViaPopup",e,i).executeNotNull()}async function Roe(t,e,r){const n=ze(t);if(Yt(n.auth.app))return Promise.reject(Tn(n.auth,"operation-not-supported-in-this-environment"));Ud(n.auth,e,ro);const i=Hc(n.auth,r);return new Ls(n.auth,"reauthViaPopup",e,i,n).executeNotNull()}async function Ooe(t,e,r){const n=ze(t);Ud(n.auth,e,ro);const i=Hc(n.auth,r);return new Ls(n.auth,"linkViaPopup",e,i,n).executeNotNull()}class Ls extends RU{constructor(e,r,n,i,a){super(e,r,i,a),this.provider=n,this.authWindow=null,this.pollId=null,Ls.currentPopupAction&&Ls.currentPopupAction.cancel(),Ls.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ve(e,this.auth,"internal-error"),e}async onExecution(){Hs(this.filter.length===1,"Popup operations only handle one event");const e=Fv();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(r=>{this.reject(r)}),this.resolver._isIframeWebStorageSupported(this.auth,r=>{r||this.reject(Tn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){return this.authWindow?.associatedEvent||null}cancel(){this.reject(Tn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ls.currentPopupAction=null}pollUserCancellation(){const e=()=>{if(this.authWindow?.window?.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Tn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,Noe.get())};e()}}Ls.currentPopupAction=null;const joe="pendingRedirect",N0=new Map;class Doe extends RU{constructor(e,r,n=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],r,void 0,n),this.eventId=null}async execute(){let e=N0.get(this.auth._key());if(!e){try{const n=await Moe(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(n)}catch(r){e=()=>Promise.reject(r)}N0.set(this.auth._key(),e)}return this.bypassAuthState||N0.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const r=await this.auth._redirectUserForId(e.eventId);if(r)return this.user=r,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function Moe(t,e){const r=DU(e),n=jU(t);if(!await n._isAvailable())return!1;const i=await n._get(r)==="true";return await n._remove(r),i}async function mP(t,e){return jU(t)._set(DU(e),"true")}function Loe(t,e){N0.set(t._key(),e)}function jU(t){return Ms(t._redirectPersistence)}function DU(t){return C0(joe,t.config.apiKey,t.name)}function Foe(t,e,r){return $oe(t,e,r)}async function $oe(t,e,r){if(Yt(t.app))return Promise.reject(Dr(t));const n=tr(t);Ud(t,e,ro),await n._initializationPromise;const i=Hc(n,r);return await mP(i,n),i._openRedirect(n,e,"signInViaRedirect")}function Voe(t,e,r){return Uoe(t,e,r)}async function Uoe(t,e,r){const n=ze(t);if(Ud(n.auth,e,ro),Yt(n.auth.app))return Promise.reject(Dr(n.auth));await n.auth._initializationPromise;const i=Hc(n.auth,r);await mP(i,n.auth);const a=await LU(n);return i._openRedirect(n.auth,e,"reauthViaRedirect",a)}function qoe(t,e,r){return zoe(t,e,r)}async function zoe(t,e,r){const n=ze(t);Ud(n.auth,e,ro),await n.auth._initializationPromise;const i=Hc(n.auth,r);await Ov(!1,n,e.providerId),await mP(i,n.auth);const a=await LU(n);return i._openRedirect(n.auth,e,"linkViaRedirect",a)}async function Boe(t,e){return await tr(t)._initializationPromise,MU(t,e,!1)}async function MU(t,e,r=!1){if(Yt(t.app))return Promise.reject(Dr(t));const n=tr(t),i=Hc(n,e),s=await new Doe(n,i,r).execute();return s&&!r&&(delete s.user._redirectEventId,await n._persistUserIfCurrent(s.user),await n._setRedirectUser(null,e)),s}async function LU(t){const e=Fv(`${t.uid}:::`);return t._redirectEventId=e,await t.auth._setRedirectUser(t),await t.auth._persistUserIfCurrent(t),e}const Woe=600*1e3;class Hoe{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let r=!1;return this.consumers.forEach(n=>{this.isEventForConsumer(e,n)&&(r=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!Goe(e)||(this.hasHandledPotentialRedirect=!0,r||(this.queuedRedirectEvent=e,r=!0)),r}sendToConsumer(e,r){if(e.error&&!FU(e)){const n=e.error.code?.split("auth/")[1]||"internal-error";r.onError(Tn(this.auth,n))}else r.onAuthEvent(e)}isEventForConsumer(e,r){const n=r.eventId===null||!!e.eventId&&e.eventId===r.eventId;return r.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=Woe&&this.cachedEventUids.clear(),this.cachedEventUids.has(r5(e))}saveEventToCache(e){this.cachedEventUids.add(r5(e)),this.lastProcessedEventTime=Date.now()}}function r5(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function FU({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function Goe(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return FU(t);default:return!1}}async function Koe(t,e={}){return Lt(t,"GET","/v1/projects",e)}const Yoe=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,Xoe=/^https?/;async function Qoe(t){if(t.config.emulator)return;const{authorizedDomains:e}=await Koe(t);for(const r of e)try{if(Joe(r))return}catch{}zn(t,"unauthorized-domain")}function Joe(t){const e=np(),{protocol:r,hostname:n}=new URL(e);if(t.startsWith("chrome-extension://")){const s=new URL(t);return s.hostname===""&&n===""?r==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):r==="chrome-extension:"&&s.hostname===n}if(!Xoe.test(r))return!1;if(Yoe.test(t))return n===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(n)}const Zoe=new Kp(3e4,6e4);function n5(){const t=mr().___jsl;if(t?.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let r=0;r<t.CP.length;r++)t.CP[r]=null}}function ele(t){return new Promise((e,r)=>{function n(){n5(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{n5(),r(Tn(t,"network-request-failed"))},timeout:Zoe.get()})}if(mr().gapi?.iframes?.Iframe)e(gapi.iframes.getContext());else if(mr().gapi?.load)n();else{const i=tU("iframefcb");return mr()[i]=()=>{gapi.load?n():r(Tn(t,"network-request-failed"))},iP(`${$ae()}?onload=${i}`).catch(a=>r(a))}}).catch(e=>{throw R0=null,e})}let R0=null;function tle(t){return R0=R0||ele(t),R0}const rle=new Kp(5e3,15e3),nle="__/auth/iframe",ile="emulator/auth/iframe",ale={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},sle=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ole(t){const e=t.config;ve(e.authDomain,t,"auth-domain-config-required");const r=e.emulator?rP(e,ile):`https://${t.config.authDomain}/${nle}`,n={apiKey:e.apiKey,appName:t.name,v:Vd},i=sle.get(t.config.apiHost);i&&(n.eid=i);const a=t._getFrameworks();return a.length&&(n.fw=a.join(",")),`${r}?${$d(n).slice(1)}`}async function lle(t){const e=await tle(t),r=mr().gapi;return ve(r,t,"internal-error"),e.open({where:document.body,url:ole(t),messageHandlersFilter:r.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:ale,dontclear:!0},n=>new Promise(async(i,a)=>{await n.restyle({setHideOnLeave:!1});const s=Tn(t,"network-request-failed"),o=mr().setTimeout(()=>{a(s)},rle.get());function c(){mr().clearTimeout(o),i(n)}n.ping(c).then(c,()=>{a(s)})}))}const cle={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},ule=500,dle=600,fle="_blank",hle="http://localhost";class i5{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function ple(t,e,r,n=ule,i=dle){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-n)/2,0).toString();let o="";const c={...cle,width:n.toString(),height:i.toString(),top:a,left:s},d=mn().toLowerCase();r&&(o=KV(d)?fle:r),HV(d)&&(e=e||hle,c.scrollbars="yes");const f=Object.entries(c).reduce((g,[b,w])=>`${g}${b}=${w},`,"");if(Pae(d)&&o!=="_self")return mle(e||"",o),new i5(null);const p=window.open(e||"",o,f);ve(p,t,"popup-blocked");try{p.focus()}catch{}return new i5(p)}function mle(t,e){const r=document.createElement("a");r.href=t,r.target=e;const n=document.createEvent("MouseEvent");n.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),r.dispatchEvent(n)}const gle="__/auth/handler",yle="emulator/auth/handler",vle=encodeURIComponent("fac");async function a5(t,e,r,n,i,a){ve(t.config.authDomain,t,"auth-domain-config-required"),ve(t.config.apiKey,t,"invalid-api-key");const s={apiKey:t.config.apiKey,appName:t.name,authType:r,redirectUrl:n,v:Vd,eventId:i};if(e instanceof ro){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",zne(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(const[f,p]of Object.entries({}))s[f]=p}if(e instanceof Bd){const f=e.getScopes().filter(p=>p!=="");f.length>0&&(s.scopes=f.join(","))}t.tenantId&&(s.tid=t.tenantId);const o=s;for(const f of Object.keys(o))o[f]===void 0&&delete o[f];const c=await t._getAppCheckToken(),d=c?`#${vle}=${encodeURIComponent(c)}`:"";return`${ble(t)}?${$d(o).slice(1)}${d}`}function ble({config:t}){return t.emulator?rP(t,yle):`https://${t.authDomain}/${gle}`}const Gw="webStorageSupport";class xle{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=dP,this._completeRedirectFn=MU,this._overrideRedirectResult=Loe}async _openPopup(e,r,n,i){Hs(this.eventManagers[e._key()]?.manager,"_initialize() not called before _openPopup()");const a=await a5(e,r,n,np(),i);return ple(e,a,Fv())}async _openRedirect(e,r,n,i){await this._originValidation(e);const a=await a5(e,r,n,np(),i);return soe(a),new Promise(()=>{})}_initialize(e){const r=e._key();if(this.eventManagers[r]){const{manager:i,promise:a}=this.eventManagers[r];return i?Promise.resolve(i):(Hs(a,"If manager is not set, promise should be"),a)}const n=this.initAndGetManager(e);return this.eventManagers[r]={promise:n},n.catch(()=>{delete this.eventManagers[r]}),n}async initAndGetManager(e){const r=await lle(e),n=new Hoe(e);return r.register("authEvent",i=>(ve(i?.authEvent,e,"invalid-auth-event"),{status:n.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=r,n}_isIframeWebStorageSupported(e,r){this.iframes[e._key()].send(Gw,{type:Gw},i=>{const a=i?.[0]?.[Gw];a!==void 0&&r(!!a),zn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const r=e._key();return this.originValidationPromises[r]||(this.originValidationPromises[r]=Qoe(e)),this.originValidationPromises[r]}get _shouldInitProactively(){return ZV()||GV()||nP()}}const $U=xle;class VU{constructor(e){this.factorId=e}_process(e,r,n){switch(r.type){case"enroll":return this._finalizeEnroll(e,r.credential,n);case"signin":return this._finalizeSignIn(e,r.credential);default:return za("unexpected MultiFactorSessionType")}}}class gP extends VU{constructor(e){super("phone"),this.credential=e}static _fromCredential(e){return new gP(e)}_finalizeEnroll(e,r,n){return Yse(e,{idToken:r,displayName:n,phoneVerificationInfo:this.credential._makeVerificationRequest()})}_finalizeSignIn(e,r){return moe(e,{mfaPendingCredential:r,phoneVerificationInfo:this.credential._makeVerificationRequest()})}}class UU{constructor(){}static assertion(e){return gP._fromCredential(e)}}UU.FACTOR_ID="phone";class qU{static assertionForEnrollment(e,r){return sp._fromSecret(e,r)}static assertionForSignIn(e,r){return sp._fromEnrollmentId(e,r)}static async generateSecret(e){const r=e;ve(typeof r.user?.auth<"u","internal-error");const n=await Xse(r.user.auth,{idToken:r.credential,totpEnrollmentInfo:{}});return Uv._fromStartTotpMfaEnrollmentResponse(n,r.user.auth)}}qU.FACTOR_ID="totp";class sp extends VU{constructor(e,r,n){super("totp"),this.otp=e,this.enrollmentId=r,this.secret=n}static _fromSecret(e,r){return new sp(r,void 0,e)}static _fromEnrollmentId(e,r){return new sp(r,e)}async _finalizeEnroll(e,r,n){return ve(typeof this.secret<"u",e,"argument-error"),Qse(e,{idToken:r,displayName:n,totpVerificationInfo:this.secret._makeTotpVerificationInfo(this.otp)})}async _finalizeSignIn(e,r){ve(this.enrollmentId!==void 0&&this.otp!==void 0,e,"argument-error");const n={verificationCode:this.otp};return goe(e,{mfaPendingCredential:r,mfaEnrollmentId:this.enrollmentId,totpVerificationInfo:n})}}class Uv{constructor(e,r,n,i,a,s,o){this.sessionInfo=s,this.auth=o,this.secretKey=e,this.hashingAlgorithm=r,this.codeLength=n,this.codeIntervalSeconds=i,this.enrollmentCompletionDeadline=a}static _fromStartTotpMfaEnrollmentResponse(e,r){return new Uv(e.totpSessionInfo.sharedSecretKey,e.totpSessionInfo.hashingAlgorithm,e.totpSessionInfo.verificationCodeLength,e.totpSessionInfo.periodSec,new Date(e.totpSessionInfo.finalizeEnrollmentTime).toUTCString(),e.totpSessionInfo.sessionInfo,r)}_makeTotpVerificationInfo(e){return{sessionInfo:this.sessionInfo,verificationCode:e}}generateQrCodeUrl(e,r){let n=!1;return(Yg(e)||Yg(r))&&(n=!0),n&&(Yg(e)&&(e=this.auth.currentUser?.email||"unknownuser"),Yg(r)&&(r=this.auth.name)),`otpauth://totp/${r}:${e}?secret=${this.secretKey}&issuer=${r}&algorithm=${this.hashingAlgorithm}&digits=${this.codeLength}`}}function Yg(t){return typeof t>"u"||t?.length===0}var s5="@firebase/auth",o5="1.12.0";class wle{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){return this.assertAuthConfigured(),this.auth.currentUser?.uid||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const r=this.auth.onIdTokenChanged(n=>{e(n?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,r),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const r=this.internalListeners.get(e);r&&(this.internalListeners.delete(e),r(),this.updateProactiveRefresh())}assertAuthConfigured(){ve(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}function _le(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function Ele(t){Za(new la("auth",(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:s,authDomain:o}=n.options;ve(s&&!s.includes(":"),"invalid-api-key",{appName:n.name});const c={apiKey:s,authDomain:o,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:eU(t)},d=new Dae(n,i,a,c);return Kae(d,r),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,r,n)=>{e.getProvider("auth-internal").initialize()})),Za(new la("auth-internal",e=>{const r=tr(e.getProvider("auth").getImmediate());return(n=>new wle(n))(r)},"PRIVATE").setInstantiationMode("EXPLICIT")),Di(s5,o5,_le(t)),Di(s5,o5,"esm2020")}const Sle=300,Tle=_V("authIdTokenMaxAge")||Sle;let l5=null;const Ale=t=>async e=>{const r=e&&await e.getIdTokenResult(),n=r&&(new Date().getTime()-Date.parse(r.issuedAtTime))/1e3;if(n&&n>Tle)return;const i=r?.token;l5!==i&&(l5=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function Wd(t=JI()){const e=Wc(t,"auth");if(e.isInitialized())return e.getImmediate();const r=iU(t,{popupRedirectResolver:$U,persistence:[NU,TU,dP]}),n=_V("authTokenSyncURL");if(n&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(n,location.origin);if(location.origin===a.origin){const s=Ale(a.toString());wU(r,s,()=>s(r.currentUser)),xU(r,o=>s(o))}}const i=xV("auth");return i&&aU(r,`http://${i}`),r}function kle(){return document.getElementsByTagName("head")?.[0]??document}Mae({loadJS(t){return new Promise((e,r)=>{const n=document.createElement("script");n.setAttribute("src",t),n.onload=e,n.onerror=i=>{const a=Tn("internal-error");a.customData=i,r(a)},n.type="text/javascript",n.charset="UTF-8",kle().appendChild(n)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});Ele("Browser");const Ile=Object.freeze(Object.defineProperty({__proto__:null,ActionCodeOperation:lae,ActionCodeURL:zd,AuthCredential:qd,AuthErrorCodes:dae,EmailAuthCredential:hd,EmailAuthProvider:gl,FacebookAuthProvider:Rs,FactorId:iae,GithubAuthProvider:Os,GoogleAuthProvider:qa,OAuthCredential:es,OAuthProvider:Uh,OperationType:oae,PhoneAuthCredential:Jo,PhoneAuthProvider:hc,PhoneMultiFactorGenerator:UU,ProviderId:aae,RecaptchaVerifier:_oe,SAMLAuthProvider:iy,SignInMethod:sae,TotpMultiFactorGenerator:qU,TotpSecret:Uv,TwitterAuthProvider:js,applyActionCode:Ese,beforeAuthStateChanged:wU,browserCookiePersistence:noe,browserLocalPersistence:TU,browserPopupRedirectResolver:$U,browserSessionPersistence:dP,checkActionCode:mU,confirmPasswordReset:_se,connectAuthEmulator:aU,createUserWithEmailAndPassword:gU,debugErrorMap:uae,deleteUser:Gse,fetchSignInMethodsForEmail:Pse,getAdditionalUserInfo:Vse,getAuth:Wd,getIdToken:Eae,getIdTokenResult:qV,getMultiFactorResolver:Kse,getRedirectResult:Boe,inMemoryPersistence:ZA,indexedDBLocalPersistence:NU,initializeAuth:iU,initializeRecaptchaConfig:qse,isSignInWithEmailLink:Ase,linkWithCredential:hU,linkWithPhoneNumber:Toe,linkWithPopup:Ooe,linkWithRedirect:qoe,multiFactor:Zse,onAuthStateChanged:Mv,onIdTokenChanged:xU,parseActionCodeURL:pse,prodErrorMap:DV,reauthenticateWithCredential:pU,reauthenticateWithPhoneNumber:Aoe,reauthenticateWithPopup:Roe,reauthenticateWithRedirect:Voe,reload:zV,revokeAccessToken:Hse,sendEmailVerification:ek,sendPasswordResetEmail:wse,sendSignInLinkToEmail:Tse,setPersistence:Use,signInAnonymously:yse,signInWithCredential:jv,signInWithCustomToken:xse,signInWithEmailAndPassword:yU,signInWithEmailLink:kse,signInWithPhoneNumber:Soe,signInWithPopup:OU,signInWithRedirect:Foe,signOut:_U,unlink:vse,updateCurrentUser:Wse,updateEmail:Ose,updatePassword:jse,updatePhoneNumber:koe,updateProfile:Rse,useDeviceLanguage:Bse,validatePassword:zse,verifyBeforeUpdateEmail:Cse,verifyPasswordResetCode:Sse},Symbol.toStringTag,{value:"Module"}));var Ple="firebase",Cle="12.9.0";Di(Ple,Cle,"app");const zU="@firebase/installations",yP="0.6.19";const BU=1e4,WU=`w:${yP}`,HU="FIS_v2",Nle="https://firebaseinstallations.googleapis.com/v1",Rle=3600*1e3,Ole="installations",jle="Installations";const Dle={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Ec=new Bc(Ole,jle,Dle);function GU(t){return t instanceof ha&&t.code.includes("request-failed")}function KU({projectId:t}){return`${Nle}/projects/${t}/installations`}function YU(t){return{token:t.token,requestStatus:2,expiresIn:Lle(t.expiresIn),creationTime:Date.now()}}async function XU(t,e){const n=(await e.json()).error;return Ec.create("request-failed",{requestName:t,serverCode:n.code,serverMessage:n.message,serverStatus:n.status})}function QU({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function Mle(t,{refreshToken:e}){const r=QU(t);return r.append("Authorization",Fle(e)),r}async function JU(t){const e=await t();return e.status>=500&&e.status<600?t():e}function Lle(t){return Number(t.replace("s","000"))}function Fle(t){return`${HU} ${t}`}async function $le({appConfig:t,heartbeatServiceProvider:e},{fid:r}){const n=KU(t),i=QU(t),a=e.getImmediate({optional:!0});if(a){const d=await a.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const s={fid:r,authVersion:HU,appId:t.appId,sdkVersion:WU},o={method:"POST",headers:i,body:JSON.stringify(s)},c=await JU(()=>fetch(n,o));if(c.ok){const d=await c.json();return{fid:d.fid||r,registrationStatus:2,refreshToken:d.refreshToken,authToken:YU(d.authToken)}}else throw await XU("Create Installation",c)}function ZU(t){return new Promise(e=>{setTimeout(e,t)})}function Vle(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}const Ule=/^[cdef][\w-]{21}$/,rk="";function qle(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const r=zle(t);return Ule.test(r)?r:rk}catch{return rk}}function zle(t){return Vle(t).substr(0,22)}function qv(t){return`${t.appName}!${t.appId}`}const eq=new Map;function tq(t,e){const r=qv(t);rq(r,e),Ble(r,e)}function rq(t,e){const r=eq.get(t);if(r)for(const n of r)n(e)}function Ble(t,e){const r=Wle();r&&r.postMessage({key:t,fid:e}),Hle()}let nc=null;function Wle(){return!nc&&"BroadcastChannel"in self&&(nc=new BroadcastChannel("[Firebase] FID Change"),nc.onmessage=t=>{rq(t.data.key,t.data.fid)}),nc}function Hle(){eq.size===0&&nc&&(nc.close(),nc=null)}const Gle="firebase-installations-database",Kle=1,Sc="firebase-installations-store";let Kw=null;function vP(){return Kw||(Kw=CV(Gle,Kle,{upgrade:(t,e)=>{e===0&&t.createObjectStore(Sc)}})),Kw}async function ly(t,e){const r=qv(t),i=(await vP()).transaction(Sc,"readwrite"),a=i.objectStore(Sc),s=await a.get(r);return await a.put(e,r),await i.done,(!s||s.fid!==e.fid)&&tq(t,e.fid),e}async function nq(t){const e=qv(t),n=(await vP()).transaction(Sc,"readwrite");await n.objectStore(Sc).delete(e),await n.done}async function zv(t,e){const r=qv(t),i=(await vP()).transaction(Sc,"readwrite"),a=i.objectStore(Sc),s=await a.get(r),o=e(s);return o===void 0?await a.delete(r):await a.put(o,r),await i.done,o&&(!s||s.fid!==o.fid)&&tq(t,o.fid),o}async function bP(t){let e;const r=await zv(t.appConfig,n=>{const i=Yle(n),a=Xle(t,i);return e=a.registrationPromise,a.installationEntry});return r.fid===rk?{installationEntry:await e}:{installationEntry:r,registrationPromise:e}}function Yle(t){const e=t||{fid:qle(),registrationStatus:0};return iq(e)}function Xle(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const i=Promise.reject(Ec.create("app-offline"));return{installationEntry:e,registrationPromise:i}}const r={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},n=Qle(t,r);return{installationEntry:r,registrationPromise:n}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Jle(t)}:{installationEntry:e}}async function Qle(t,e){try{const r=await $le(t,e);return ly(t.appConfig,r)}catch(r){throw GU(r)&&r.customData.serverCode===409?await nq(t.appConfig):await ly(t.appConfig,{fid:e.fid,registrationStatus:0}),r}}async function Jle(t){let e=await c5(t.appConfig);for(;e.registrationStatus===1;)await ZU(100),e=await c5(t.appConfig);if(e.registrationStatus===0){const{installationEntry:r,registrationPromise:n}=await bP(t);return n||r}return e}function c5(t){return zv(t,e=>{if(!e)throw Ec.create("installation-not-found");return iq(e)})}function iq(t){return Zle(t)?{fid:t.fid,registrationStatus:0}:t}function Zle(t){return t.registrationStatus===1&&t.registrationTime+BU<Date.now()}async function ece({appConfig:t,heartbeatServiceProvider:e},r){const n=tce(t,r),i=Mle(t,r),a=e.getImmediate({optional:!0});if(a){const d=await a.getHeartbeatsHeader();d&&i.append("x-firebase-client",d)}const s={installation:{sdkVersion:WU,appId:t.appId}},o={method:"POST",headers:i,body:JSON.stringify(s)},c=await JU(()=>fetch(n,o));if(c.ok){const d=await c.json();return YU(d)}else throw await XU("Generate Auth Token",c)}function tce(t,{fid:e}){return`${KU(t)}/${e}/authTokens:generate`}async function xP(t,e=!1){let r;const n=await zv(t.appConfig,a=>{if(!aq(a))throw Ec.create("not-registered");const s=a.authToken;if(!e&&ice(s))return a;if(s.requestStatus===1)return r=rce(t,e),a;{if(!navigator.onLine)throw Ec.create("app-offline");const o=sce(a);return r=nce(t,o),o}});return r?await r:n.authToken}async function rce(t,e){let r=await u5(t.appConfig);for(;r.authToken.requestStatus===1;)await ZU(100),r=await u5(t.appConfig);const n=r.authToken;return n.requestStatus===0?xP(t,e):n}function u5(t){return zv(t,e=>{if(!aq(e))throw Ec.create("not-registered");const r=e.authToken;return oce(r)?{...e,authToken:{requestStatus:0}}:e})}async function nce(t,e){try{const r=await ece(t,e),n={...e,authToken:r};return await ly(t.appConfig,n),r}catch(r){if(GU(r)&&(r.customData.serverCode===401||r.customData.serverCode===404))await nq(t.appConfig);else{const n={...e,authToken:{requestStatus:0}};await ly(t.appConfig,n)}throw r}}function aq(t){return t!==void 0&&t.registrationStatus===2}function ice(t){return t.requestStatus===2&&!ace(t)}function ace(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+Rle}function sce(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function oce(t){return t.requestStatus===1&&t.requestTime+BU<Date.now()}async function lce(t){const e=t,{installationEntry:r,registrationPromise:n}=await bP(e);return n?n.catch(console.error):xP(e).catch(console.error),r.fid}async function cce(t,e=!1){const r=t;return await uce(r),(await xP(r,e)).token}async function uce(t){const{registrationPromise:e}=await bP(t);e&&await e}function dce(t){if(!t||!t.options)throw Yw("App Configuration");if(!t.name)throw Yw("App Name");const e=["projectId","apiKey","appId"];for(const r of e)if(!t.options[r])throw Yw(r);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Yw(t){return Ec.create("missing-app-config-values",{valueName:t})}const sq="installations",fce="installations-internal",hce=t=>{const e=t.getProvider("app").getImmediate(),r=dce(e),n=Wc(e,"heartbeat");return{app:e,appConfig:r,heartbeatServiceProvider:n,_delete:()=>Promise.resolve()}},pce=t=>{const e=t.getProvider("app").getImmediate(),r=Wc(e,sq).getImmediate();return{getId:()=>lce(r),getToken:i=>cce(r,i)}};function mce(){Za(new la(sq,hce,"PUBLIC")),Za(new la(fce,pce,"PRIVATE"))}mce();Di(zU,yP);Di(zU,yP,"esm2020");const cy="analytics",gce="firebase_id",yce="origin",vce=60*1e3,bce="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",wP="https://www.googletagmanager.com/gtag/js";const An=new Cv("@firebase/analytics");const xce={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},ci=new Bc("analytics","Analytics",xce);function wce(t){if(!t.startsWith(wP)){const e=ci.create("invalid-gtag-resource",{gtagURL:t});return An.warn(e.message),""}return t}function oq(t){return Promise.all(t.map(e=>e.catch(r=>r)))}function _ce(t,e){let r;return window.trustedTypes&&(r=window.trustedTypes.createPolicy(t,e)),r}function Ece(t,e){const r=_ce("firebase-js-sdk-policy",{createScriptURL:wce}),n=document.createElement("script"),i=`${wP}?l=${t}&id=${e}`;n.src=r?r?.createScriptURL(i):i,n.async=!0,document.head.appendChild(n)}function Sce(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Tce(t,e,r,n,i,a){const s=n[i];try{if(s)await e[s];else{const c=(await oq(r)).find(d=>d.measurementId===i);c&&await e[c.appId]}}catch(o){An.error(o)}t("config",i,a)}async function Ace(t,e,r,n,i){try{let a=[];if(i&&i.send_to){let s=i.send_to;Array.isArray(s)||(s=[s]);const o=await oq(r);for(const c of s){const d=o.find(p=>p.measurementId===c),f=d&&e[d.appId];if(f)a.push(f);else{a=[];break}}}a.length===0&&(a=Object.values(e)),await Promise.all(a),t("event",n,i||{})}catch(a){An.error(a)}}function kce(t,e,r,n){async function i(a,...s){try{if(a==="event"){const[o,c]=s;await Ace(t,e,r,o,c)}else if(a==="config"){const[o,c]=s;await Tce(t,e,r,n,o,c)}else if(a==="consent"){const[o,c]=s;t("consent",o,c)}else if(a==="get"){const[o,c,d]=s;t("get",o,c,d)}else if(a==="set"){const[o]=s;t("set",o)}else t(a,...s)}catch(o){An.error(o)}}return i}function Ice(t,e,r,n,i){let a=function(...s){window[n].push(arguments)};return window[i]&&typeof window[i]=="function"&&(a=window[i]),window[i]=kce(a,t,e,r),{gtagCore:a,wrappedGtag:window[i]}}function Pce(t){const e=window.document.getElementsByTagName("script");for(const r of Object.values(e))if(r.src&&r.src.includes(wP)&&r.src.includes(t))return r;return null}const Cce=30,Nce=1e3;class Rce{constructor(e={},r=Nce){this.throttleMetadata=e,this.intervalMillis=r}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,r){this.throttleMetadata[e]=r}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const lq=new Rce;function Oce(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function jce(t){const{appId:e,apiKey:r}=t,n={method:"GET",headers:Oce(r)},i=bce.replace("{app-id}",e),a=await fetch(i,n);if(a.status!==200&&a.status!==304){let s="";try{const o=await a.json();o.error?.message&&(s=o.error.message)}catch{}throw ci.create("config-fetch-failed",{httpStatus:a.status,responseMessage:s})}return a.json()}async function Dce(t,e=lq,r){const{appId:n,apiKey:i,measurementId:a}=t.options;if(!n)throw ci.create("no-app-id");if(!i){if(a)return{measurementId:a,appId:n};throw ci.create("no-api-key")}const s=e.getThrottleMetadata(n)||{backoffCount:0,throttleEndTimeMillis:Date.now()},o=new Fce;return setTimeout(async()=>{o.abort()},vce),cq({appId:n,apiKey:i,measurementId:a},s,o,e)}async function cq(t,{throttleEndTimeMillis:e,backoffCount:r},n,i=lq){const{appId:a,measurementId:s}=t;try{await Mce(n,e)}catch(o){if(s)return An.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${o?.message}]`),{appId:a,measurementId:s};throw o}try{const o=await jce(t);return i.deleteThrottleMetadata(a),o}catch(o){const c=o;if(!Lce(c)){if(i.deleteThrottleMetadata(a),s)return An.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${s} provided in the "measurementId" field in the local Firebase config. [${c?.message}]`),{appId:a,measurementId:s};throw o}const d=Number(c?.customData?.httpStatus)===503?O4(r,i.intervalMillis,Cce):O4(r,i.intervalMillis),f={throttleEndTimeMillis:Date.now()+d,backoffCount:r+1};return i.setThrottleMetadata(a,f),An.debug(`Calling attemptFetch again in ${d} millis`),cq(t,f,n,i)}}function Mce(t,e){return new Promise((r,n)=>{const i=Math.max(e-Date.now(),0),a=setTimeout(r,i);t.addEventListener(()=>{clearTimeout(a),n(ci.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function Lce(t){if(!(t instanceof ha)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class Fce{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function $ce(t,e,r,n,i){if(i&&i.global){t("event",r,n);return}else{const a=await e,s={...n,send_to:a};t("event",r,s)}}async function Vce(t,e,r,n){if(n&&n.global){const i={};for(const a of Object.keys(r))i[`user_properties.${a}`]=r[a];return t("set",i),Promise.resolve()}else{const i=await e;t("config",i,{update:!0,user_properties:r})}}async function Uce(){if(AV())try{await kV()}catch(t){return An.warn(ci.create("indexeddb-unavailable",{errorInfo:t?.toString()}).message),!1}else return An.warn(ci.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function qce(t,e,r,n,i,a,s){const o=Dce(t);o.then(g=>{r[g.measurementId]=g.appId,t.options.measurementId&&g.measurementId!==t.options.measurementId&&An.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${g.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(g=>An.error(g)),e.push(o);const c=Uce().then(g=>{if(g)return n.getId()}),[d,f]=await Promise.all([o,c]);Pce(a)||Ece(a,d.measurementId),i("js",new Date);const p=s?.config??{};return p[yce]="firebase",p.update=!0,f!=null&&(p[gce]=f),i("config",d.measurementId,p),d.measurementId}class zce{constructor(e){this.app=e}_delete(){return delete td[this.app.options.appId],Promise.resolve()}}let td={},d5=[];const f5={};let Xw="dataLayer",Bce="gtag",h5,_P,p5=!1;function Wce(){const t=[];if(TV()&&t.push("This is a browser extension environment."),$ne()||t.push("Cookies are not available."),t.length>0){const e=t.map((n,i)=>`(${i+1}) ${n}`).join(" "),r=ci.create("invalid-analytics-context",{errorInfo:e});An.warn(r.message)}}function Hce(t,e,r){Wce();const n=t.options.appId;if(!n)throw ci.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)An.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw ci.create("no-api-key");if(td[n]!=null)throw ci.create("already-exists",{id:n});if(!p5){Sce(Xw);const{wrappedGtag:a,gtagCore:s}=Ice(td,d5,f5,Xw,Bce);_P=a,h5=s,p5=!0}return td[n]=qce(t,d5,f5,e,h5,Xw,r),new zce(t)}function Gce(t=JI()){t=ze(t);const e=Wc(t,cy);return e.isInitialized()?e.getImmediate():Kce(t)}function Kce(t,e={}){const r=Wc(t,cy);if(r.isInitialized()){const i=r.getImmediate();if(Ja(e,r.getOptions()))return i;throw ci.create("already-initialized")}return r.initialize({options:e})}function Yce(t,e,r){t=ze(t),Vce(_P,td[t.app.options.appId],e,r).catch(n=>An.error(n))}function Xce(t,e,r,n){t=ze(t),$ce(_P,td[t.app.options.appId],e,r,n).catch(i=>An.error(i))}const m5="@firebase/analytics",g5="0.10.19";function Qce(){Za(new la(cy,(e,{options:r})=>{const n=e.getProvider("app").getImmediate(),i=e.getProvider("installations-internal").getImmediate();return Hce(n,i,r)},"PUBLIC")),Za(new la("analytics-internal",t,"PRIVATE")),Di(m5,g5),Di(m5,g5,"esm2020");function t(e){try{const r=e.getProvider(cy).getImmediate();return{logEvent:(n,i,a)=>Xce(r,n,i,a),setUserProperties:(n,i)=>Yce(r,n,i)}}catch(r){throw ci.create("interop-component-reg-failed",{reason:r})}}}Qce();var y5=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var Zo,uq;(function(){var t;function e(C,N){function M(){}M.prototype=N.prototype,C.F=N.prototype,C.prototype=new M,C.prototype.constructor=C,C.D=function(F,D,U){for(var $=Array(arguments.length-2),G=2;G<arguments.length;G++)$[G-2]=arguments[G];return N.prototype[D].apply(F,$)}}function r(){this.blockSize=-1}function n(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(n,r),n.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(C,N,M){M||(M=0);const F=Array(16);if(typeof N=="string")for(var D=0;D<16;++D)F[D]=N.charCodeAt(M++)|N.charCodeAt(M++)<<8|N.charCodeAt(M++)<<16|N.charCodeAt(M++)<<24;else for(D=0;D<16;++D)F[D]=N[M++]|N[M++]<<8|N[M++]<<16|N[M++]<<24;N=C.g[0],M=C.g[1],D=C.g[2];let U=C.g[3],$;$=N+(U^M&(D^U))+F[0]+3614090360&4294967295,N=M+($<<7&4294967295|$>>>25),$=U+(D^N&(M^D))+F[1]+3905402710&4294967295,U=N+($<<12&4294967295|$>>>20),$=D+(M^U&(N^M))+F[2]+606105819&4294967295,D=U+($<<17&4294967295|$>>>15),$=M+(N^D&(U^N))+F[3]+3250441966&4294967295,M=D+($<<22&4294967295|$>>>10),$=N+(U^M&(D^U))+F[4]+4118548399&4294967295,N=M+($<<7&4294967295|$>>>25),$=U+(D^N&(M^D))+F[5]+1200080426&4294967295,U=N+($<<12&4294967295|$>>>20),$=D+(M^U&(N^M))+F[6]+2821735955&4294967295,D=U+($<<17&4294967295|$>>>15),$=M+(N^D&(U^N))+F[7]+4249261313&4294967295,M=D+($<<22&4294967295|$>>>10),$=N+(U^M&(D^U))+F[8]+1770035416&4294967295,N=M+($<<7&4294967295|$>>>25),$=U+(D^N&(M^D))+F[9]+2336552879&4294967295,U=N+($<<12&4294967295|$>>>20),$=D+(M^U&(N^M))+F[10]+4294925233&4294967295,D=U+($<<17&4294967295|$>>>15),$=M+(N^D&(U^N))+F[11]+2304563134&4294967295,M=D+($<<22&4294967295|$>>>10),$=N+(U^M&(D^U))+F[12]+1804603682&4294967295,N=M+($<<7&4294967295|$>>>25),$=U+(D^N&(M^D))+F[13]+4254626195&4294967295,U=N+($<<12&4294967295|$>>>20),$=D+(M^U&(N^M))+F[14]+2792965006&4294967295,D=U+($<<17&4294967295|$>>>15),$=M+(N^D&(U^N))+F[15]+1236535329&4294967295,M=D+($<<22&4294967295|$>>>10),$=N+(D^U&(M^D))+F[1]+4129170786&4294967295,N=M+($<<5&4294967295|$>>>27),$=U+(M^D&(N^M))+F[6]+3225465664&4294967295,U=N+($<<9&4294967295|$>>>23),$=D+(N^M&(U^N))+F[11]+643717713&4294967295,D=U+($<<14&4294967295|$>>>18),$=M+(U^N&(D^U))+F[0]+3921069994&4294967295,M=D+($<<20&4294967295|$>>>12),$=N+(D^U&(M^D))+F[5]+3593408605&4294967295,N=M+($<<5&4294967295|$>>>27),$=U+(M^D&(N^M))+F[10]+38016083&4294967295,U=N+($<<9&4294967295|$>>>23),$=D+(N^M&(U^N))+F[15]+3634488961&4294967295,D=U+($<<14&4294967295|$>>>18),$=M+(U^N&(D^U))+F[4]+3889429448&4294967295,M=D+($<<20&4294967295|$>>>12),$=N+(D^U&(M^D))+F[9]+568446438&4294967295,N=M+($<<5&4294967295|$>>>27),$=U+(M^D&(N^M))+F[14]+3275163606&4294967295,U=N+($<<9&4294967295|$>>>23),$=D+(N^M&(U^N))+F[3]+4107603335&4294967295,D=U+($<<14&4294967295|$>>>18),$=M+(U^N&(D^U))+F[8]+1163531501&4294967295,M=D+($<<20&4294967295|$>>>12),$=N+(D^U&(M^D))+F[13]+2850285829&4294967295,N=M+($<<5&4294967295|$>>>27),$=U+(M^D&(N^M))+F[2]+4243563512&4294967295,U=N+($<<9&4294967295|$>>>23),$=D+(N^M&(U^N))+F[7]+1735328473&4294967295,D=U+($<<14&4294967295|$>>>18),$=M+(U^N&(D^U))+F[12]+2368359562&4294967295,M=D+($<<20&4294967295|$>>>12),$=N+(M^D^U)+F[5]+4294588738&4294967295,N=M+($<<4&4294967295|$>>>28),$=U+(N^M^D)+F[8]+2272392833&4294967295,U=N+($<<11&4294967295|$>>>21),$=D+(U^N^M)+F[11]+1839030562&4294967295,D=U+($<<16&4294967295|$>>>16),$=M+(D^U^N)+F[14]+4259657740&4294967295,M=D+($<<23&4294967295|$>>>9),$=N+(M^D^U)+F[1]+2763975236&4294967295,N=M+($<<4&4294967295|$>>>28),$=U+(N^M^D)+F[4]+1272893353&4294967295,U=N+($<<11&4294967295|$>>>21),$=D+(U^N^M)+F[7]+4139469664&4294967295,D=U+($<<16&4294967295|$>>>16),$=M+(D^U^N)+F[10]+3200236656&4294967295,M=D+($<<23&4294967295|$>>>9),$=N+(M^D^U)+F[13]+681279174&4294967295,N=M+($<<4&4294967295|$>>>28),$=U+(N^M^D)+F[0]+3936430074&4294967295,U=N+($<<11&4294967295|$>>>21),$=D+(U^N^M)+F[3]+3572445317&4294967295,D=U+($<<16&4294967295|$>>>16),$=M+(D^U^N)+F[6]+76029189&4294967295,M=D+($<<23&4294967295|$>>>9),$=N+(M^D^U)+F[9]+3654602809&4294967295,N=M+($<<4&4294967295|$>>>28),$=U+(N^M^D)+F[12]+3873151461&4294967295,U=N+($<<11&4294967295|$>>>21),$=D+(U^N^M)+F[15]+530742520&4294967295,D=U+($<<16&4294967295|$>>>16),$=M+(D^U^N)+F[2]+3299628645&4294967295,M=D+($<<23&4294967295|$>>>9),$=N+(D^(M|~U))+F[0]+4096336452&4294967295,N=M+($<<6&4294967295|$>>>26),$=U+(M^(N|~D))+F[7]+1126891415&4294967295,U=N+($<<10&4294967295|$>>>22),$=D+(N^(U|~M))+F[14]+2878612391&4294967295,D=U+($<<15&4294967295|$>>>17),$=M+(U^(D|~N))+F[5]+4237533241&4294967295,M=D+($<<21&4294967295|$>>>11),$=N+(D^(M|~U))+F[12]+1700485571&4294967295,N=M+($<<6&4294967295|$>>>26),$=U+(M^(N|~D))+F[3]+2399980690&4294967295,U=N+($<<10&4294967295|$>>>22),$=D+(N^(U|~M))+F[10]+4293915773&4294967295,D=U+($<<15&4294967295|$>>>17),$=M+(U^(D|~N))+F[1]+2240044497&4294967295,M=D+($<<21&4294967295|$>>>11),$=N+(D^(M|~U))+F[8]+1873313359&4294967295,N=M+($<<6&4294967295|$>>>26),$=U+(M^(N|~D))+F[15]+4264355552&4294967295,U=N+($<<10&4294967295|$>>>22),$=D+(N^(U|~M))+F[6]+2734768916&4294967295,D=U+($<<15&4294967295|$>>>17),$=M+(U^(D|~N))+F[13]+1309151649&4294967295,M=D+($<<21&4294967295|$>>>11),$=N+(D^(M|~U))+F[4]+4149444226&4294967295,N=M+($<<6&4294967295|$>>>26),$=U+(M^(N|~D))+F[11]+3174756917&4294967295,U=N+($<<10&4294967295|$>>>22),$=D+(N^(U|~M))+F[2]+718787259&4294967295,D=U+($<<15&4294967295|$>>>17),$=M+(U^(D|~N))+F[9]+3951481745&4294967295,C.g[0]=C.g[0]+N&4294967295,C.g[1]=C.g[1]+(D+($<<21&4294967295|$>>>11))&4294967295,C.g[2]=C.g[2]+D&4294967295,C.g[3]=C.g[3]+U&4294967295}n.prototype.v=function(C,N){N===void 0&&(N=C.length);const M=N-this.blockSize,F=this.C;let D=this.h,U=0;for(;U<N;){if(D==0)for(;U<=M;)i(this,C,U),U+=this.blockSize;if(typeof C=="string"){for(;U<N;)if(F[D++]=C.charCodeAt(U++),D==this.blockSize){i(this,F),D=0;break}}else for(;U<N;)if(F[D++]=C[U++],D==this.blockSize){i(this,F),D=0;break}}this.h=D,this.o+=N},n.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var N=1;N<C.length-8;++N)C[N]=0;N=this.o*8;for(var M=C.length-8;M<C.length;++M)C[M]=N&255,N/=256;for(this.v(C),C=Array(16),N=0,M=0;M<4;++M)for(let F=0;F<32;F+=8)C[N++]=this.g[M]>>>F&255;return C};function a(C,N){var M=o;return Object.prototype.hasOwnProperty.call(M,C)?M[C]:M[C]=N(C)}function s(C,N){this.h=N;const M=[];let F=!0;for(let D=C.length-1;D>=0;D--){const U=C[D]|0;F&&U==N||(M[D]=U,F=!1)}this.g=M}var o={};function c(C){return-128<=C&&C<128?a(C,function(N){return new s([N|0],N<0?-1:0)}):new s([C|0],C<0?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return p;if(C<0)return x(d(-C));const N=[];let M=1;for(let F=0;C>=M;F++)N[F]=C/M|0,M*=4294967296;return new s(N,0)}function f(C,N){if(C.length==0)throw Error("number format error: empty string");if(N=N||10,N<2||36<N)throw Error("radix out of range: "+N);if(C.charAt(0)=="-")return x(f(C.substring(1),N));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const M=d(Math.pow(N,8));let F=p;for(let U=0;U<C.length;U+=8){var D=Math.min(8,C.length-U);const $=parseInt(C.substring(U,U+D),N);D<8?(D=d(Math.pow(N,D)),F=F.j(D).add(d($))):(F=F.j(M),F=F.add(d($)))}return F}var p=c(0),g=c(1),b=c(16777216);t=s.prototype,t.m=function(){if(_(this))return-x(this).m();let C=0,N=1;for(let M=0;M<this.g.length;M++){const F=this.i(M);C+=(F>=0?F:4294967296+F)*N,N*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(w(this))return"0";if(_(this))return"-"+x(this).toString(C);const N=d(Math.pow(C,6));var M=this;let F="";for(;;){const D=j(M,N).g;M=T(M,D.j(N));let U=((M.g.length>0?M.g[0]:M.h)>>>0).toString(C);if(M=D,w(M))return U+F;for(;U.length<6;)U="0"+U;F=U+F}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function w(C){if(C.h!=0)return!1;for(let N=0;N<C.g.length;N++)if(C.g[N]!=0)return!1;return!0}function _(C){return C.h==-1}t.l=function(C){return C=T(this,C),_(C)?-1:w(C)?0:1};function x(C){const N=C.g.length,M=[];for(let F=0;F<N;F++)M[F]=~C.g[F];return new s(M,~C.h).add(g)}t.abs=function(){return _(this)?x(this):this},t.add=function(C){const N=Math.max(this.g.length,C.g.length),M=[];let F=0;for(let D=0;D<=N;D++){let U=F+(this.i(D)&65535)+(C.i(D)&65535),$=(U>>>16)+(this.i(D)>>>16)+(C.i(D)>>>16);F=$>>>16,U&=65535,$&=65535,M[D]=$<<16|U}return new s(M,M[M.length-1]&-2147483648?-1:0)};function T(C,N){return C.add(x(N))}t.j=function(C){if(w(this)||w(C))return p;if(_(this))return _(C)?x(this).j(x(C)):x(x(this).j(C));if(_(C))return x(this.j(x(C)));if(this.l(b)<0&&C.l(b)<0)return d(this.m()*C.m());const N=this.g.length+C.g.length,M=[];for(var F=0;F<2*N;F++)M[F]=0;for(F=0;F<this.g.length;F++)for(let D=0;D<C.g.length;D++){const U=this.i(F)>>>16,$=this.i(F)&65535,G=C.i(D)>>>16,ue=C.i(D)&65535;M[2*F+2*D]+=$*ue,I(M,2*F+2*D),M[2*F+2*D+1]+=U*ue,I(M,2*F+2*D+1),M[2*F+2*D+1]+=$*G,I(M,2*F+2*D+1),M[2*F+2*D+2]+=U*G,I(M,2*F+2*D+2)}for(C=0;C<N;C++)M[C]=M[2*C+1]<<16|M[2*C];for(C=N;C<2*N;C++)M[C]=0;return new s(M,0)};function I(C,N){for(;(C[N]&65535)!=C[N];)C[N+1]+=C[N]>>>16,C[N]&=65535,N++}function P(C,N){this.g=C,this.h=N}function j(C,N){if(w(N))throw Error("division by zero");if(w(C))return new P(p,p);if(_(C))return N=j(x(C),N),new P(x(N.g),x(N.h));if(_(N))return N=j(C,x(N)),new P(x(N.g),N.h);if(C.g.length>30){if(_(C)||_(N))throw Error("slowDivide_ only works with positive integers.");for(var M=g,F=N;F.l(C)<=0;)M=O(M),F=O(F);var D=V(M,1),U=V(F,1);for(F=V(F,2),M=V(M,2);!w(F);){var $=U.add(F);$.l(C)<=0&&(D=D.add(M),U=$),F=V(F,1),M=V(M,1)}return N=T(C,D.j(N)),new P(D,N)}for(D=p;C.l(N)>=0;){for(M=Math.max(1,Math.floor(C.m()/N.m())),F=Math.ceil(Math.log(M)/Math.LN2),F=F<=48?1:Math.pow(2,F-48),U=d(M),$=U.j(N);_($)||$.l(C)>0;)M-=F,U=d(M),$=U.j(N);w(U)&&(U=g),D=D.add(U),C=T(C,$)}return new P(D,C)}t.B=function(C){return j(this,C).h},t.and=function(C){const N=Math.max(this.g.length,C.g.length),M=[];for(let F=0;F<N;F++)M[F]=this.i(F)&C.i(F);return new s(M,this.h&C.h)},t.or=function(C){const N=Math.max(this.g.length,C.g.length),M=[];for(let F=0;F<N;F++)M[F]=this.i(F)|C.i(F);return new s(M,this.h|C.h)},t.xor=function(C){const N=Math.max(this.g.length,C.g.length),M=[];for(let F=0;F<N;F++)M[F]=this.i(F)^C.i(F);return new s(M,this.h^C.h)};function O(C){const N=C.g.length+1,M=[];for(let F=0;F<N;F++)M[F]=C.i(F)<<1|C.i(F-1)>>>31;return new s(M,C.h)}function V(C,N){const M=N>>5;N%=32;const F=C.g.length-M,D=[];for(let U=0;U<F;U++)D[U]=N>0?C.i(U+M)>>>N|C.i(U+M+1)<<32-N:C.i(U+M);return new s(D,C.h)}n.prototype.digest=n.prototype.A,n.prototype.reset=n.prototype.u,n.prototype.update=n.prototype.v,uq=n,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.B,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=f,Zo=s}).apply(typeof y5<"u"?y5:typeof self<"u"?self:typeof window<"u"?window:{});var Xg=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};var dq,Ah,fq,O0,nk,hq,pq,mq;(function(){var t,e=Object.defineProperty;function r(y){y=[typeof globalThis=="object"&&globalThis,y,typeof window=="object"&&window,typeof self=="object"&&self,typeof Xg=="object"&&Xg];for(var k=0;k<y.length;++k){var R=y[k];if(R&&R.Math==Math)return R}throw Error("Cannot find global object")}var n=r(this);function i(y,k){if(k)e:{var R=n;y=y.split(".");for(var q=0;q<y.length-1;q++){var Y=y[q];if(!(Y in R))break e;R=R[Y]}y=y[y.length-1],q=R[y],k=k(q),k!=q&&k!=null&&e(R,y,{configurable:!0,writable:!0,value:k})}}i("Symbol.dispose",function(y){return y||Symbol("Symbol.dispose")}),i("Array.prototype.values",function(y){return y||function(){return this[Symbol.iterator]()}}),i("Object.entries",function(y){return y||function(k){var R=[],q;for(q in k)Object.prototype.hasOwnProperty.call(k,q)&&R.push([q,k[q]]);return R}});var a=a||{},s=this||self;function o(y){var k=typeof y;return k=="object"&&y!=null||k=="function"}function c(y,k,R){return y.call.apply(y.bind,arguments)}function d(y,k,R){return d=c,d.apply(null,arguments)}function f(y,k){var R=Array.prototype.slice.call(arguments,1);return function(){var q=R.slice();return q.push.apply(q,arguments),y.apply(this,q)}}function p(y,k){function R(){}R.prototype=k.prototype,y.Z=k.prototype,y.prototype=new R,y.prototype.constructor=y,y.Ob=function(q,Y,te){for(var we=Array(arguments.length-2),Ze=2;Ze<arguments.length;Ze++)we[Ze-2]=arguments[Ze];return k.prototype[Y].apply(q,we)}}var g=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?y=>y&&AsyncContext.Snapshot.wrap(y):y=>y;function b(y){const k=y.length;if(k>0){const R=Array(k);for(let q=0;q<k;q++)R[q]=y[q];return R}return[]}function w(y,k){for(let q=1;q<arguments.length;q++){const Y=arguments[q];var R=typeof Y;if(R=R!="object"?R:Y?Array.isArray(Y)?"array":R:"null",R=="array"||R=="object"&&typeof Y.length=="number"){R=y.length||0;const te=Y.length||0;y.length=R+te;for(let we=0;we<te;we++)y[R+we]=Y[we]}else y.push(Y)}}class _{constructor(k,R){this.i=k,this.j=R,this.h=0,this.g=null}get(){let k;return this.h>0?(this.h--,k=this.g,this.g=k.next,k.next=null):k=this.i(),k}}function x(y){s.setTimeout(()=>{throw y},0)}function T(){var y=C;let k=null;return y.g&&(k=y.g,y.g=y.g.next,y.g||(y.h=null),k.next=null),k}class I{constructor(){this.h=this.g=null}add(k,R){const q=P.get();q.set(k,R),this.h?this.h.next=q:this.g=q,this.h=q}}var P=new _(()=>new j,y=>y.reset());class j{constructor(){this.next=this.g=this.h=null}set(k,R){this.h=k,this.g=R,this.next=null}reset(){this.next=this.g=this.h=null}}let O,V=!1,C=new I,N=()=>{const y=Promise.resolve(void 0);O=()=>{y.then(M)}};function M(){for(var y;y=T();){try{y.h.call(y.g)}catch(R){x(R)}var k=P;k.j(y),k.h<100&&(k.h++,y.next=k.g,k.g=y)}V=!1}function F(){this.u=this.u,this.C=this.C}F.prototype.u=!1,F.prototype.dispose=function(){this.u||(this.u=!0,this.N())},F.prototype[Symbol.dispose]=function(){this.dispose()},F.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(y,k){this.type=y,this.g=this.target=k,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var U=(function(){if(!s.addEventListener||!Object.defineProperty)return!1;var y=!1,k=Object.defineProperty({},"passive",{get:function(){y=!0}});try{const R=()=>{};s.addEventListener("test",R,k),s.removeEventListener("test",R,k)}catch{}return y})();function $(y){return/^[\s\xa0]*$/.test(y)}function G(y,k){D.call(this,y?y.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,y&&this.init(y,k)}p(G,D),G.prototype.init=function(y,k){const R=this.type=y.type,q=y.changedTouches&&y.changedTouches.length?y.changedTouches[0]:null;this.target=y.target||y.srcElement,this.g=k,k=y.relatedTarget,k||(R=="mouseover"?k=y.fromElement:R=="mouseout"&&(k=y.toElement)),this.relatedTarget=k,q?(this.clientX=q.clientX!==void 0?q.clientX:q.pageX,this.clientY=q.clientY!==void 0?q.clientY:q.pageY,this.screenX=q.screenX||0,this.screenY=q.screenY||0):(this.clientX=y.clientX!==void 0?y.clientX:y.pageX,this.clientY=y.clientY!==void 0?y.clientY:y.pageY,this.screenX=y.screenX||0,this.screenY=y.screenY||0),this.button=y.button,this.key=y.key||"",this.ctrlKey=y.ctrlKey,this.altKey=y.altKey,this.shiftKey=y.shiftKey,this.metaKey=y.metaKey,this.pointerId=y.pointerId||0,this.pointerType=y.pointerType,this.state=y.state,this.i=y,y.defaultPrevented&&G.Z.h.call(this)},G.prototype.h=function(){G.Z.h.call(this);const y=this.i;y.preventDefault?y.preventDefault():y.returnValue=!1};var ue="closure_listenable_"+(Math.random()*1e6|0),ce=0;function se(y,k,R,q,Y){this.listener=y,this.proxy=null,this.src=k,this.type=R,this.capture=!!q,this.ha=Y,this.key=++ce,this.da=this.fa=!1}function Q(y){y.da=!0,y.listener=null,y.proxy=null,y.src=null,y.ha=null}function X(y,k,R){for(const q in y)k.call(R,y[q],q,y)}function ie(y,k){for(const R in y)k.call(void 0,y[R],R,y)}function B(y){const k={};for(const R in y)k[R]=y[R];return k}const Z="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _e(y,k){let R,q;for(let Y=1;Y<arguments.length;Y++){q=arguments[Y];for(R in q)y[R]=q[R];for(let te=0;te<Z.length;te++)R=Z[te],Object.prototype.hasOwnProperty.call(q,R)&&(y[R]=q[R])}}function oe(y){this.src=y,this.g={},this.h=0}oe.prototype.add=function(y,k,R,q,Y){const te=y.toString();y=this.g[te],y||(y=this.g[te]=[],this.h++);const we=Ee(y,k,q,Y);return we>-1?(k=y[we],R||(k.fa=!1)):(k=new se(k,this.src,te,!!q,Y),k.fa=R,y.push(k)),k};function xe(y,k){const R=k.type;if(R in y.g){var q=y.g[R],Y=Array.prototype.indexOf.call(q,k,void 0),te;(te=Y>=0)&&Array.prototype.splice.call(q,Y,1),te&&(Q(k),y.g[R].length==0&&(delete y.g[R],y.h--))}}function Ee(y,k,R,q){for(let Y=0;Y<y.length;++Y){const te=y[Y];if(!te.da&&te.listener==k&&te.capture==!!R&&te.ha==q)return Y}return-1}var Se="closure_lm_"+(Math.random()*1e6|0),De={};function re(y,k,R,q,Y){if(Array.isArray(k)){for(let te=0;te<k.length;te++)re(y,k[te],R,q,Y);return null}return R=rr(R),y&&y[ue]?y.J(k,R,o(q)?!!q.capture:!1,Y):Ae(y,k,R,!1,q,Y)}function Ae(y,k,R,q,Y,te){if(!k)throw Error("Invalid event type");const we=o(Y)?!!Y.capture:!!Y;let Ze=ht(y);if(Ze||(y[Se]=Ze=new oe(y)),R=Ze.add(k,R,q,we,te),R.proxy)return R;if(q=He(),R.proxy=q,q.src=y,q.listener=R,y.addEventListener)U||(Y=we),Y===void 0&&(Y=!1),y.addEventListener(k.toString(),q,Y);else if(y.attachEvent)y.attachEvent(Ye(k.toString()),q);else if(y.addListener&&y.removeListener)y.addListener(q);else throw Error("addEventListener and attachEvent are unavailable.");return R}function He(){function y(R){return k.call(y.src,y.listener,R)}const k=Me;return y}function fe(y,k,R,q,Y){if(Array.isArray(k))for(var te=0;te<k.length;te++)fe(y,k[te],R,q,Y);else q=o(q)?!!q.capture:!!q,R=rr(R),y&&y[ue]?(y=y.i,te=String(k).toString(),te in y.g&&(k=y.g[te],R=Ee(k,R,q,Y),R>-1&&(Q(k[R]),Array.prototype.splice.call(k,R,1),k.length==0&&(delete y.g[te],y.h--)))):y&&(y=ht(y))&&(k=y.g[k.toString()],y=-1,k&&(y=Ee(k,R,q,Y)),(R=y>-1?k[y]:null)&&ft(R))}function ft(y){if(typeof y!="number"&&y&&!y.da){var k=y.src;if(k&&k[ue])xe(k.i,y);else{var R=y.type,q=y.proxy;k.removeEventListener?k.removeEventListener(R,q,y.capture):k.detachEvent?k.detachEvent(Ye(R),q):k.addListener&&k.removeListener&&k.removeListener(q),(R=ht(k))?(xe(R,y),R.h==0&&(R.src=null,k[Se]=null)):Q(y)}}}function Ye(y){return y in De?De[y]:De[y]="on"+y}function Me(y,k){if(y.da)y=!0;else{k=new G(k,this);const R=y.listener,q=y.ha||y.src;y.fa&&ft(y),y=R.call(q,k)}return y}function ht(y){return y=y[Se],y instanceof oe?y:null}var Be="__closure_events_fn_"+(Math.random()*1e9>>>0);function rr(y){return typeof y=="function"?y:(y[Be]||(y[Be]=function(k){return y.handleEvent(k)}),y[Be])}function mt(){F.call(this),this.i=new oe(this),this.M=this,this.G=null}p(mt,F),mt.prototype[ue]=!0,mt.prototype.removeEventListener=function(y,k,R,q){fe(this,y,k,R,q)};function _t(y,k){var R,q=y.G;if(q)for(R=[];q;q=q.G)R.push(q);if(y=y.M,q=k.type||k,typeof k=="string")k=new D(k,y);else if(k instanceof D)k.target=k.target||y;else{var Y=k;k=new D(q,y),_e(k,Y)}Y=!0;let te,we;if(R)for(we=R.length-1;we>=0;we--)te=k.g=R[we],Y=cr(te,q,!0,k)&&Y;if(te=k.g=y,Y=cr(te,q,!0,k)&&Y,Y=cr(te,q,!1,k)&&Y,R)for(we=0;we<R.length;we++)te=k.g=R[we],Y=cr(te,q,!1,k)&&Y}mt.prototype.N=function(){if(mt.Z.N.call(this),this.i){var y=this.i;for(const k in y.g){const R=y.g[k];for(let q=0;q<R.length;q++)Q(R[q]);delete y.g[k],y.h--}}this.G=null},mt.prototype.J=function(y,k,R,q){return this.i.add(String(y),k,!1,R,q)},mt.prototype.K=function(y,k,R,q){return this.i.add(String(y),k,!0,R,q)};function cr(y,k,R,q){if(k=y.i.g[String(k)],!k)return!0;k=k.concat();let Y=!0;for(let te=0;te<k.length;++te){const we=k[te];if(we&&!we.da&&we.capture==R){const Ze=we.listener,ir=we.ha||we.src;we.fa&&xe(y.i,we),Y=Ze.call(ir,q)!==!1&&Y}}return Y&&!q.defaultPrevented}function We(y,k){if(typeof y!="function")if(y&&typeof y.handleEvent=="function")y=d(y.handleEvent,y);else throw Error("Invalid listener argument");return Number(k)>2147483647?-1:s.setTimeout(y,k||0)}function it(y){y.g=We(()=>{y.g=null,y.i&&(y.i=!1,it(y))},y.l);const k=y.h;y.h=null,y.m.apply(null,k)}class tn extends F{constructor(k,R){super(),this.m=k,this.l=R,this.h=null,this.i=!1,this.g=null}j(k){this.h=arguments,this.g?this.i=!0:it(this)}N(){super.N(),this.g&&(s.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ur(y){F.call(this),this.h=y,this.g={}}p(ur,F);var ct=[];function $r(y){X(y.g,function(k,R){this.g.hasOwnProperty(R)&&ft(k)},y),y.g={}}ur.prototype.N=function(){ur.Z.N.call(this),$r(this)},ur.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Wt=s.JSON.stringify,yn=s.JSON.parse,Vr=class{stringify(y){return s.JSON.stringify(y,void 0)}parse(y){return s.JSON.parse(y,void 0)}};function vn(){}function mi(){}var nr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function dr(){D.call(this,"d")}p(dr,D);function wl(){D.call(this,"c")}p(wl,D);var Hn={},po=null;function ma(){return po=po||new mt}Hn.Ia="serverreachability";function mo(y){D.call(this,Hn.Ia,y)}p(mo,D);function Gn(y){const k=ma();_t(k,new mo(k))}Hn.STAT_EVENT="statevent";function Kn(y,k){D.call(this,Hn.STAT_EVENT,y),this.stat=k}p(Kn,D);function Ft(y){const k=ma();_t(k,new Kn(k,y))}Hn.Ja="timingevent";function _l(y,k){D.call(this,Hn.Ja,y),this.size=k}p(_l,D);function gi(y,k){if(typeof y!="function")throw Error("Fn must not be null and must be a function");return s.setTimeout(function(){y()},k)}function ga(){this.g=!0}ga.prototype.ua=function(){this.g=!1};function El(y,k,R,q,Y,te){y.info(function(){if(y.g)if(te){var we="",Ze=te.split("&");for(let Et=0;Et<Ze.length;Et++){var ir=Ze[Et].split("=");if(ir.length>1){const fr=ir[0];ir=ir[1];const ei=fr.split("_");we=ei.length>=2&&ei[1]=="type"?we+(fr+"="+ir+"&"):we+(fr+"=redacted&")}}}else we=null;else we=te;return"XMLHTTP REQ ("+q+") [attempt "+Y+"]: "+k+`
`+R+`
`+we})}function Cm(y,k,R,q,Y,te,we){y.info(function(){return"XMLHTTP RESP ("+q+") [ attempt "+Y+"]: "+k+`
`+R+`
`+te+" "+we})}function ya(y,k,R,q){y.info(function(){return"XMLHTTP TEXT ("+k+"): "+Sl(y,R)+(q?" "+q:"")})}function Nm(y,k){y.info(function(){return"TIMEOUT: "+k})}ga.prototype.info=function(){};function Sl(y,k){if(!y.g)return k;if(!k)return null;try{const te=JSON.parse(k);if(te){for(y=0;y<te.length;y++)if(Array.isArray(te[y])){var R=te[y];if(!(R.length<2)){var q=R[1];if(Array.isArray(q)&&!(q.length<1)){var Y=q[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(let we=1;we<q.length;we++)q[we]=""}}}}return Wt(te)}catch{return k}}var go={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},yo={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Rm;function ps(){}p(ps,vn),ps.prototype.g=function(){return new XMLHttpRequest},Rm=new ps;function va(y){return encodeURIComponent(String(y))}function tu(y){var k=1;y=y.split(":");const R=[];for(;k>0&&y.length;)R.push(y.shift()),k--;return y.length&&R.push(y.join(":")),R}function yi(y,k,R,q){this.j=y,this.i=k,this.l=R,this.S=q||1,this.V=new ur(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new Om}function Om(){this.i=null,this.g="",this.h=!1}var jm={},mf={};function zi(y,k,R){y.M=1,y.A=gs(vi(k)),y.u=R,y.R=!0,gf(y,null)}function gf(y,k){y.F=Date.now(),Tl(y),y.B=vi(y.A);var R=y.B,q=y.S;Array.isArray(q)||(q=[String(q)]),Af(R.i,"t",q),y.C=0,R=y.j.L,y.h=new Om,y.g=Bm(y.j,R?k:null,!y.u),y.P>0&&(y.O=new tn(d(y.Y,y,y.g),y.P)),k=y.V,R=y.g,q=y.ba;var Y="readystatechange";Array.isArray(Y)||(Y&&(ct[0]=Y.toString()),Y=ct);for(let te=0;te<Y.length;te++){const we=re(R,Y[te],q||k.handleEvent,!1,k.h||k);if(!we)break;k.g[we.key]=we}k=y.J?B(y.J):{},y.u?(y.v||(y.v="POST"),k["Content-Type"]="application/x-www-form-urlencoded",y.g.ea(y.B,y.v,y.u,k)):(y.v="GET",y.g.ea(y.B,y.v,null,k)),Gn(),El(y.i,y.v,y.B,y.l,y.S,y.u)}yi.prototype.ba=function(y){y=y.target;const k=this.O;k&&Ta(y)==3?k.j():this.Y(y)},yi.prototype.Y=function(y){try{if(y==this.g)e:{const Ze=Ta(this.g),ir=this.g.ya(),Et=this.g.ca();if(!(Ze<3)&&(Ze!=3||this.g&&(this.h.h||this.g.la()||qm(this.g)))){this.K||Ze!=4||ir==7||(ir==8||Et<=0?Gn(3):Gn(2)),ru(this);var k=this.g.ca();this.X=k;var R=Dm(this);if(this.o=k==200,Cm(this.i,this.v,this.B,this.l,this.S,Ze,k),this.o){if(this.U&&!this.L){t:{if(this.g){var q,Y=this.g;if((q=Y.g?Y.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(q)){var te=q;break t}}te=null}if(y=te)ya(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Nt(this,y);else{this.o=!1,this.m=3,Ft(12),ms(this),Al(this);break e}}if(this.R){y=!0;let fr;for(;!this.K&&this.C<R.length;)if(fr=Lm(this,R),fr==mf){Ze==4&&(this.m=4,Ft(14),y=!1),ya(this.i,this.l,null,"[Incomplete Response]");break}else if(fr==jm){this.m=4,Ft(15),ya(this.i,this.l,R,"[Invalid Chunk]"),y=!1;break}else ya(this.i,this.l,fr,null),Nt(this,fr);if(Mm(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),Ze!=4||R.length!=0||this.h.h||(this.m=1,Ft(16),y=!1),this.o=this.o&&y,!y)ya(this.i,this.l,R,"[Invalid Chunked Response]"),ms(this),Al(this);else if(R.length>0&&!this.W){this.W=!0;var we=this.j;we.g==this&&we.aa&&!we.P&&(we.j.info("Great, no buffering proxy detected. Bytes received: "+R.length),Dl(we),we.P=!0,Ft(11))}}else ya(this.i,this.l,R,null),Nt(this,R);Ze==4&&ms(this),this.o&&!this.K&&(Ze==4?fu(this.j,this):(this.o=!1,Tl(this)))}else If(this.g),k==400&&R.indexOf("Unknown SID")>0?(this.m=3,Ft(12)):(this.m=0,Ft(13)),ms(this),Al(this)}}}catch{}};function Dm(y){if(!Mm(y))return y.g.la();const k=qm(y.g);if(k==="")return"";let R="";const q=k.length,Y=Ta(y.g)==4;if(!y.h.i){if(typeof TextDecoder>"u")return ms(y),Al(y),"";y.h.i=new s.TextDecoder}for(let te=0;te<q;te++)y.h.h=!0,R+=y.h.i.decode(k[te],{stream:!(Y&&te==q-1)});return k.length=0,y.h.g+=R,y.C=0,y.h.g}function Mm(y){return y.g?y.v=="GET"&&y.M!=2&&y.j.Aa:!1}function Lm(y,k){var R=y.C,q=k.indexOf(`
`,R);return q==-1?mf:(R=Number(k.substring(R,q)),isNaN(R)?jm:(q+=1,q+R>k.length?mf:(k=k.slice(q,q+R),y.C=q+R,k)))}yi.prototype.cancel=function(){this.K=!0,ms(this)};function Tl(y){y.T=Date.now()+y.H,yf(y,y.H)}function yf(y,k){if(y.D!=null)throw Error("WatchDog timer not null");y.D=gi(d(y.aa,y),k)}function ru(y){y.D&&(s.clearTimeout(y.D),y.D=null)}yi.prototype.aa=function(){this.D=null;const y=Date.now();y-this.T>=0?(Nm(this.i,this.B),this.M!=2&&(Gn(),Ft(17)),ms(this),this.m=2,Al(this)):yf(this,this.T-y)};function Al(y){y.j.I==0||y.K||fu(y.j,y)}function ms(y){ru(y);var k=y.O;k&&typeof k.dispose=="function"&&k.dispose(),y.O=null,$r(y.V),y.g&&(k=y.g,y.g=null,k.abort(),k.dispose())}function Nt(y,k){try{var R=y.j;if(R.I!=0&&(R.g==y||bf(R.h,y))){if(!y.L&&bf(R.h,y)&&R.I==3){try{var q=R.Ba.g.parse(k)}catch{q=null}if(Array.isArray(q)&&q.length==3){var Y=q;if(Y[0]==0){e:if(!R.v){if(R.g)if(R.g.F+3e3<y.F)du(R),Jn(R);else break e;Ia(R),Ft(18)}}else R.xa=Y[1],0<R.xa-R.K&&Y[2]<37500&&R.F&&R.A==0&&!R.C&&(R.C=gi(d(R.Va,R),6e3));kl(R.h)<=1&&R.ta&&(R.ta=void 0)}else Zn(R,11)}else if((y.L||R.g==y)&&du(R),!$(k))for(Y=R.Ba.g.parse(k),k=0;k<Y.length;k++){let Et=Y[k];const fr=Et[0];if(!(fr<=R.K))if(R.K=fr,Et=Et[1],R.I==2)if(Et[0]=="c"){R.M=Et[1],R.ba=Et[2];const ei=Et[3];ei!=null&&(R.ka=ei,R.j.info("VER="+R.ka));const ws=Et[4];ws!=null&&(R.za=ws,R.j.info("SVER="+R.za));const Pa=Et[5];Pa!=null&&typeof Pa=="number"&&Pa>0&&(q=1.5*Pa,R.O=q,R.j.info("backChannelRequestTimeoutMs_="+q)),q=R;const Ca=y.g;if(Ca){const mu=Ca.g?Ca.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(mu){var te=q.h;te.g||mu.indexOf("spdy")==-1&&mu.indexOf("quic")==-1&&mu.indexOf("h2")==-1||(te.j=te.l,te.g=new Set,te.h&&(iu(te,te.h),te.h=null))}if(q.G){const Nf=Ca.g?Ca.g.getResponseHeader("X-HTTP-Session-Id"):null;Nf&&(q.wa=Nf,vt(q.J,q.G,Nf))}}R.I=3,R.l&&R.l.ra(),R.aa&&(R.T=Date.now()-y.F,R.j.info("Handshake RTT: "+R.T+"ms")),q=R;var we=y;if(q.na=Cf(q,q.L?q.ba:null,q.W),we.L){Il(q.h,we);var Ze=we,ir=q.O;ir&&(Ze.H=ir),Ze.D&&(ru(Ze),Tl(Ze)),q.g=we}else rn(q);R.i.length>0&&xs(R)}else Et[0]!="stop"&&Et[0]!="close"||Zn(R,7);else R.I==3&&(Et[0]=="stop"||Et[0]=="close"?Et[0]=="stop"?Zn(R,7):cu(R):Et[0]!="noop"&&R.l&&R.l.qa(Et),R.A=0)}}Gn(4)}catch{}}var Zx=class{constructor(y,k){this.g=y,this.map=k}};function nu(y){this.l=y||10,s.PerformanceNavigationTiming?(y=s.performance.getEntriesByType("navigation"),y=y.length>0&&(y[0].nextHopProtocol=="hq"||y[0].nextHopProtocol=="h2")):y=!!(s.chrome&&s.chrome.loadTimes&&s.chrome.loadTimes()&&s.chrome.loadTimes().wasFetchedViaSpdy),this.j=y?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function vf(y){return y.h?!0:y.g?y.g.size>=y.j:!1}function kl(y){return y.h?1:y.g?y.g.size:0}function bf(y,k){return y.h?y.h==k:y.g?y.g.has(k):!1}function iu(y,k){y.g?y.g.add(k):y.h=k}function Il(y,k){y.h&&y.h==k?y.h=null:y.g&&y.g.has(k)&&y.g.delete(k)}nu.prototype.cancel=function(){if(this.i=Yn(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const y of this.g.values())y.cancel();this.g.clear()}};function Yn(y){if(y.h!=null)return y.i.concat(y.h.G);if(y.g!=null&&y.g.size!==0){let k=y.i;for(const R of y.g.values())k=k.concat(R.G);return k}return b(y.i)}var Fm=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Xn(y,k){if(y){y=y.split("&");for(let R=0;R<y.length;R++){const q=y[R].indexOf("=");let Y,te=null;q>=0?(Y=y[R].substring(0,q),te=y[R].substring(q+1)):Y=y[R],k(Y,te?decodeURIComponent(te.replace(/\+/g," ")):"")}}}function ba(y){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let k;y instanceof ba?(this.l=y.l,Pl(this,y.j),this.o=y.o,this.g=y.g,xa(this,y.u),this.h=y.h,vo(this,kf(y.i)),this.m=y.m):y&&(k=String(y).match(Fm))?(this.l=!1,Pl(this,k[1]||"",!0),this.o=Cl(k[2]||""),this.g=Cl(k[3]||"",!0),xa(this,k[4]),this.h=Cl(k[5]||"",!0),vo(this,k[6]||"",!0),this.m=Cl(k[7]||"")):(this.l=!1,this.i=new ut(null,this.l))}ba.prototype.toString=function(){const y=[];var k=this.j;k&&y.push(Nl(k,wf,!0),":");var R=this.g;return(R||k=="file")&&(y.push("//"),(k=this.o)&&y.push(Nl(k,wf,!0),"@"),y.push(va(R).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),R=this.u,R!=null&&y.push(":",String(R))),(R=this.h)&&(this.g&&R.charAt(0)!="/"&&y.push("/"),y.push(Nl(R,R.charAt(0)=="/"?Rl:_f,!0))),(R=this.i.toString())&&y.push("?",R),(R=this.m)&&y.push("#",Nl(R,Ef)),y.join("")},ba.prototype.resolve=function(y){const k=vi(this);let R=!!y.j;R?Pl(k,y.j):R=!!y.o,R?k.o=y.o:R=!!y.g,R?k.g=y.g:R=y.u!=null;var q=y.h;if(R)xa(k,y.u);else if(R=!!y.h){if(q.charAt(0)!="/")if(this.g&&!this.h)q="/"+q;else{var Y=k.h.lastIndexOf("/");Y!=-1&&(q=k.h.slice(0,Y+1)+q)}if(Y=q,Y==".."||Y==".")q="";else if(Y.indexOf("./")!=-1||Y.indexOf("/.")!=-1){q=Y.lastIndexOf("/",0)==0,Y=Y.split("/");const te=[];for(let we=0;we<Y.length;){const Ze=Y[we++];Ze=="."?q&&we==Y.length&&te.push(""):Ze==".."?((te.length>1||te.length==1&&te[0]!="")&&te.pop(),q&&we==Y.length&&te.push("")):(te.push(Ze),q=!0)}q=te.join("/")}else q=Y}return R?k.h=q:R=y.i.toString()!=="",R?vo(k,kf(y.i)):R=!!y.m,R&&(k.m=y.m),k};function vi(y){return new ba(y)}function Pl(y,k,R){y.j=R?Cl(k,!0):k,y.j&&(y.j=y.j.replace(/:$/,""))}function xa(y,k){if(k){if(k=Number(k),isNaN(k)||k<0)throw Error("Bad port number "+k);y.u=k}else y.u=null}function vo(y,k,R){k instanceof ut?(y.i=k,su(y.i,y.l)):(R||(k=Nl(k,e1)),y.i=new ut(k,y.l))}function vt(y,k,R){y.i.set(k,R)}function gs(y){return vt(y,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),y}function Cl(y,k){return y?k?decodeURI(y.replace(/%25/g,"%2525")):decodeURIComponent(y):""}function Nl(y,k,R){return typeof y=="string"?(y=encodeURI(y).replace(k,xf),R&&(y=y.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y):null}function xf(y){return y=y.charCodeAt(0),"%"+(y>>4&15).toString(16)+(y&15).toString(16)}var wf=/[#\/\?@]/g,_f=/[#\?:]/g,Rl=/[#\?]/g,e1=/[#\?@]/g,Ef=/#/g;function ut(y,k){this.h=this.g=null,this.i=y||null,this.j=!!k}function wa(y){y.g||(y.g=new Map,y.h=0,y.i&&Xn(y.i,function(k,R){y.add(decodeURIComponent(k.replace(/\+/g," ")),R)}))}t=ut.prototype,t.add=function(y,k){wa(this),this.i=null,y=_a(this,y);let R=this.g.get(y);return R||this.g.set(y,R=[]),R.push(k),this.h+=1,this};function Sf(y,k){wa(y),k=_a(y,k),y.g.has(k)&&(y.i=null,y.h-=y.g.get(k).length,y.g.delete(k))}function au(y,k){return wa(y),k=_a(y,k),y.g.has(k)}t.forEach=function(y,k){wa(this),this.g.forEach(function(R,q){R.forEach(function(Y){y.call(k,Y,q,this)},this)},this)};function Tf(y,k){wa(y);let R=[];if(typeof k=="string")au(y,k)&&(R=R.concat(y.g.get(_a(y,k))));else for(y=Array.from(y.g.values()),k=0;k<y.length;k++)R=R.concat(y[k]);return R}t.set=function(y,k){return wa(this),this.i=null,y=_a(this,y),au(this,y)&&(this.h-=this.g.get(y).length),this.g.set(y,[k]),this.h+=1,this},t.get=function(y,k){return y?(y=Tf(this,y),y.length>0?String(y[0]):k):k};function Af(y,k,R){Sf(y,k),R.length>0&&(y.i=null,y.g.set(_a(y,k),b(R)),y.h+=R.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const y=[],k=Array.from(this.g.keys());for(let q=0;q<k.length;q++){var R=k[q];const Y=va(R);R=Tf(this,R);for(let te=0;te<R.length;te++){let we=Y;R[te]!==""&&(we+="="+va(R[te])),y.push(we)}}return this.i=y.join("&")};function kf(y){const k=new ut;return k.i=y.i,y.g&&(k.g=new Map(y.g),k.h=y.h),k}function _a(y,k){return k=String(k),y.j&&(k=k.toLowerCase()),k}function su(y,k){k&&!y.j&&(wa(y),y.i=null,y.g.forEach(function(R,q){const Y=q.toLowerCase();q!=Y&&(Sf(this,q),Af(this,Y,R))},y)),y.j=k}function Ea(y,k){const R=new ga;if(s.Image){const q=new Image;q.onload=f(Ur,R,"TestLoadImage: loaded",!0,k,q),q.onerror=f(Ur,R,"TestLoadImage: error",!1,k,q),q.onabort=f(Ur,R,"TestLoadImage: abort",!1,k,q),q.ontimeout=f(Ur,R,"TestLoadImage: timeout",!1,k,q),s.setTimeout(function(){q.ontimeout&&q.ontimeout()},1e4),q.src=y}else k(!1)}function Sa(y,k){const R=new ga,q=new AbortController,Y=setTimeout(()=>{q.abort(),Ur(R,"TestPingServer: timeout",!1,k)},1e4);fetch(y,{signal:q.signal}).then(te=>{clearTimeout(Y),te.ok?Ur(R,"TestPingServer: ok",!0,k):Ur(R,"TestPingServer: server error",!1,k)}).catch(()=>{clearTimeout(Y),Ur(R,"TestPingServer: error",!1,k)})}function Ur(y,k,R,q,Y){try{Y&&(Y.onload=null,Y.onerror=null,Y.onabort=null,Y.ontimeout=null),q(R)}catch{}}function Ol(){this.g=new Vr}function ys(y){this.i=y.Sb||null,this.h=y.ab||!1}p(ys,vn),ys.prototype.g=function(){return new Qn(this.i,this.h)};function Qn(y,k){mt.call(this),this.H=y,this.o=k,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}p(Qn,mt),t=Qn.prototype,t.open=function(y,k){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=y,this.D=k,this.readyState=1,Bi(this)},t.send=function(y){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const k={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};y&&(k.body=y),(this.H||s).fetch(new Request(this.D,k)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,bo(this)),this.readyState=0},t.Pa=function(y){if(this.g&&(this.l=y,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=y.headers,this.readyState=2,Bi(this)),this.g&&(this.readyState=3,Bi(this),this.g)))if(this.responseType==="arraybuffer")y.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof s.ReadableStream<"u"&&"body"in y){if(this.j=y.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;$m(this)}else y.text().then(this.Oa.bind(this),this.ga.bind(this))};function $m(y){y.j.read().then(y.Ma.bind(y)).catch(y.ga.bind(y))}t.Ma=function(y){if(this.g){if(this.o&&y.value)this.response.push(y.value);else if(!this.o){var k=y.value?y.value:new Uint8Array(0);(k=this.B.decode(k,{stream:!y.done}))&&(this.response=this.responseText+=k)}y.done?bo(this):Bi(this),this.readyState==3&&$m(this)}},t.Oa=function(y){this.g&&(this.response=this.responseText=y,bo(this))},t.Na=function(y){this.g&&(this.response=y,bo(this))},t.ga=function(){this.g&&bo(this)};function bo(y){y.readyState=4,y.l=null,y.j=null,y.B=null,Bi(y)}t.setRequestHeader=function(y,k){this.A.append(y,k)},t.getResponseHeader=function(y){return this.h&&this.h.get(y.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const y=[],k=this.h.entries();for(var R=k.next();!R.done;)R=R.value,y.push(R[0]+": "+R[1]),R=k.next();return y.join(`\r
`)};function Bi(y){y.onreadystatechange&&y.onreadystatechange.call(y)}Object.defineProperty(Qn.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(y){this.m=y?"include":"same-origin"}});function Vm(y){let k="";return X(y,function(R,q){k+=q,k+=":",k+=R,k+=`\r
`}),k}function ou(y,k,R){e:{for(q in R){var q=!1;break e}q=!0}q||(R=Vm(R),typeof y=="string"?R!=null&&va(R):vt(y,k,R))}function Tt(y){mt.call(this),this.headers=new Map,this.L=y||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}p(Tt,mt);var Um=/^https?$/i,t1=["POST","PUT"];t=Tt.prototype,t.Fa=function(y){this.H=y},t.ea=function(y,k,R,q){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+y);k=k?k.toUpperCase():"GET",this.D=y,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Rm.g(),this.g.onreadystatechange=g(d(this.Ca,this));try{this.B=!0,this.g.open(k,String(y),!0),this.B=!1}catch(te){xo(this,te);return}if(y=R||"",R=new Map(this.headers),q)if(Object.getPrototypeOf(q)===Object.prototype)for(var Y in q)R.set(Y,q[Y]);else if(typeof q.keys=="function"&&typeof q.get=="function")for(const te of q.keys())R.set(te,q.get(te));else throw Error("Unknown input type for opt_headers: "+String(q));q=Array.from(R.keys()).find(te=>te.toLowerCase()=="content-type"),Y=s.FormData&&y instanceof s.FormData,!(Array.prototype.indexOf.call(t1,k,void 0)>=0)||q||Y||R.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[te,we]of R)this.g.setRequestHeader(te,we);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(y),this.v=!1}catch(te){xo(this,te)}};function xo(y,k){y.h=!1,y.g&&(y.j=!0,y.g.abort(),y.j=!1),y.l=k,y.o=5,wo(y),bs(y)}function wo(y){y.A||(y.A=!0,_t(y,"complete"),_t(y,"error"))}t.abort=function(y){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=y||7,_t(this,"complete"),_t(this,"abort"),bs(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),bs(this,!0)),Tt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?vs(this):this.Xa())},t.Xa=function(){vs(this)};function vs(y){if(y.h&&typeof a<"u"){if(y.v&&Ta(y)==4)setTimeout(y.Ca.bind(y),0);else if(_t(y,"readystatechange"),Ta(y)==4){y.h=!1;try{const te=y.ca();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var k=!0;break e;default:k=!1}var R;if(!(R=k)){var q;if(q=te===0){let we=String(y.D).match(Fm)[1]||null;!we&&s.self&&s.self.location&&(we=s.self.location.protocol.slice(0,-1)),q=!Um.test(we?we.toLowerCase():"")}R=q}if(R)_t(y,"complete"),_t(y,"success");else{y.o=6;try{var Y=Ta(y)>2?y.g.statusText:""}catch{Y=""}y.l=Y+" ["+y.ca()+"]",wo(y)}}finally{bs(y)}}}}function bs(y,k){if(y.g){y.m&&(clearTimeout(y.m),y.m=null);const R=y.g;y.g=null,k||_t(y,"ready");try{R.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Ta(y){return y.g?y.g.readyState:0}t.ca=function(){try{return Ta(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(y){if(this.g){var k=this.g.responseText;return y&&k.indexOf(y)==0&&(k=k.substring(y.length)),yn(k)}};function qm(y){try{if(!y.g)return null;if("response"in y.g)return y.g.response;switch(y.F){case"":case"text":return y.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in y.g)return y.g.mozResponseArrayBuffer}return null}catch{return null}}function If(y){const k={};y=(y.g&&Ta(y)>=2&&y.g.getAllResponseHeaders()||"").split(`\r
`);for(let q=0;q<y.length;q++){if($(y[q]))continue;var R=tu(y[q]);const Y=R[0];if(R=R[1],typeof R!="string")continue;R=R.trim();const te=k[Y]||[];k[Y]=te,te.push(R)}ie(k,function(q){return q.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Aa(y,k,R){return R&&R.internalChannelParams&&R.internalChannelParams[y]||k}function lu(y){this.za=0,this.i=[],this.j=new ga,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Aa("failFast",!1,y),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Aa("baseRetryDelayMs",5e3,y),this.Za=Aa("retryDelaySeedMs",1e4,y),this.Ta=Aa("forwardChannelMaxRetries",2,y),this.va=Aa("forwardChannelRequestTimeoutMs",2e4,y),this.ma=y&&y.xmlHttpFactory||void 0,this.Ua=y&&y.Rb||void 0,this.Aa=y&&y.useFetchStreams||!1,this.O=void 0,this.L=y&&y.supportsCrossDomainXhr||!1,this.M="",this.h=new nu(y&&y.concurrentRequestLimit),this.Ba=new Ol,this.S=y&&y.fastHandshake||!1,this.R=y&&y.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=y&&y.Pb||!1,y&&y.ua&&this.j.ua(),y&&y.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&y&&y.detectBufferingProxy||!1,this.ia=void 0,y&&y.longPollingTimeout&&y.longPollingTimeout>0&&(this.ia=y.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=lu.prototype,t.ka=8,t.I=1,t.connect=function(y,k,R,q){Ft(0),this.W=y,this.H=k||{},R&&q!==void 0&&(this.H.OSID=R,this.H.OAID=q),this.F=this.X,this.J=Cf(this,null,this.W),xs(this)};function cu(y){if(uu(y),y.I==3){var k=y.V++,R=vi(y.J);if(vt(R,"SID",y.M),vt(R,"RID",k),vt(R,"TYPE","terminate"),ka(y,R),k=new yi(y,y.j,k),k.M=2,k.A=gs(vi(R)),R=!1,s.navigator&&s.navigator.sendBeacon)try{R=s.navigator.sendBeacon(k.A.toString(),"")}catch{}!R&&s.Image&&(new Image().src=k.A,R=!0),R||(k.g=Bm(k.j,null),k.g.ea(k.A)),k.F=Date.now(),Tl(k)}Ml(y)}function Jn(y){y.g&&(Dl(y),y.g.cancel(),y.g=null)}function uu(y){Jn(y),y.v&&(s.clearTimeout(y.v),y.v=null),du(y),y.h.cancel(),y.m&&(typeof y.m=="number"&&s.clearTimeout(y.m),y.m=null)}function xs(y){if(!vf(y.h)&&!y.m){y.m=!0;var k=y.Ea;O||N(),V||(O(),V=!0),C.add(k,y),y.D=0}}function zm(y,k){return kl(y.h)>=y.h.j-(y.m?1:0)?!1:y.m?(y.i=k.G.concat(y.i),!0):y.I==1||y.I==2||y.D>=(y.Sa?0:y.Ta)?!1:(y.m=gi(d(y.Ea,y,k),hu(y,y.D)),y.D++,!0)}t.Ea=function(y){if(this.m)if(this.m=null,this.I==1){if(!y){this.V=Math.floor(Math.random()*1e5),y=this.V++;const Y=new yi(this,this.j,y);let te=this.o;if(this.U&&(te?(te=B(te),_e(te,this.U)):te=this.U),this.u!==null||this.R||(Y.J=te,te=null),this.S)e:{for(var k=0,R=0;R<this.i.length;R++){t:{var q=this.i[R];if("__data__"in q.map&&(q=q.map.__data__,typeof q=="string")){q=q.length;break t}q=void 0}if(q===void 0)break;if(k+=q,k>4096){k=R;break e}if(k===4096||R===this.i.length-1){k=R+1;break e}}k=1e3}else k=1e3;k=Pf(this,Y,k),R=vi(this.J),vt(R,"RID",y),vt(R,"CVER",22),this.G&&vt(R,"X-HTTP-Session-Id",this.G),ka(this,R),te&&(this.R?k="headers="+va(Vm(te))+"&"+k:this.u&&ou(R,this.u,te)),iu(this.h,Y),this.Ra&&vt(R,"TYPE","init"),this.S?(vt(R,"$req",k),vt(R,"SID","null"),Y.U=!0,zi(Y,R,null)):zi(Y,R,k),this.I=2}}else this.I==3&&(y?jl(this,y):this.i.length==0||vf(this.h)||jl(this))};function jl(y,k){var R;k?R=k.l:R=y.V++;const q=vi(y.J);vt(q,"SID",y.M),vt(q,"RID",R),vt(q,"AID",y.K),ka(y,q),y.u&&y.o&&ou(q,y.u,y.o),R=new yi(y,y.j,R,y.D+1),y.u===null&&(R.J=y.o),k&&(y.i=k.G.concat(y.i)),k=Pf(y,R,1e3),R.H=Math.round(y.va*.5)+Math.round(y.va*.5*Math.random()),iu(y.h,R),zi(R,q,k)}function ka(y,k){y.H&&X(y.H,function(R,q){vt(k,q,R)}),y.l&&X({},function(R,q){vt(k,q,R)})}function Pf(y,k,R){R=Math.min(y.i.length,R);const q=y.l?d(y.l.Ka,y.l,y):null;e:{var Y=y.i;let Ze=-1;for(;;){const ir=["count="+R];Ze==-1?R>0?(Ze=Y[0].g,ir.push("ofs="+Ze)):Ze=0:ir.push("ofs="+Ze);let Et=!0;for(let fr=0;fr<R;fr++){var te=Y[fr].g;const ei=Y[fr].map;if(te-=Ze,te<0)Ze=Math.max(0,Y[fr].g-100),Et=!1;else try{te="req"+te+"_"||"";try{var we=ei instanceof Map?ei:Object.entries(ei);for(const[ws,Pa]of we){let Ca=Pa;o(Pa)&&(Ca=Wt(Pa)),ir.push(te+ws+"="+encodeURIComponent(Ca))}}catch(ws){throw ir.push(te+"type="+encodeURIComponent("_badmap")),ws}}catch{q&&q(ei)}}if(Et){we=ir.join("&");break e}}we=void 0}return y=y.i.splice(0,R),k.G=y,we}function rn(y){if(!y.g&&!y.v){y.Y=1;var k=y.Da;O||N(),V||(O(),V=!0),C.add(k,y),y.A=0}}function Ia(y){return y.g||y.v||y.A>=3?!1:(y.Y++,y.v=gi(d(y.Da,y),hu(y,y.A)),y.A++,!0)}t.Da=function(){if(this.v=null,_o(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var y=4*this.T;this.j.info("BP detection timer enabled: "+y),this.B=gi(d(this.Wa,this),y)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,Ft(10),Jn(this),_o(this))};function Dl(y){y.B!=null&&(s.clearTimeout(y.B),y.B=null)}function _o(y){y.g=new yi(y,y.j,"rpc",y.Y),y.u===null&&(y.g.J=y.o),y.g.P=0;var k=vi(y.na);vt(k,"RID","rpc"),vt(k,"SID",y.M),vt(k,"AID",y.K),vt(k,"CI",y.F?"0":"1"),!y.F&&y.ia&&vt(k,"TO",y.ia),vt(k,"TYPE","xmlhttp"),ka(y,k),y.u&&y.o&&ou(k,y.u,y.o),y.O&&(y.g.H=y.O);var R=y.g;y=y.ba,R.M=1,R.A=gs(vi(k)),R.u=null,R.R=!0,gf(R,y)}t.Va=function(){this.C!=null&&(this.C=null,Jn(this),Ia(this),Ft(19))};function du(y){y.C!=null&&(s.clearTimeout(y.C),y.C=null)}function fu(y,k){var R=null;if(y.g==k){du(y),Dl(y),y.g=null;var q=2}else if(bf(y.h,k))R=k.G,Il(y.h,k),q=1;else return;if(y.I!=0){if(k.o)if(q==1){R=k.u?k.u.length:0,k=Date.now()-k.F;var Y=y.D;q=ma(),_t(q,new _l(q,R)),xs(y)}else rn(y);else if(Y=k.m,Y==3||Y==0&&k.X>0||!(q==1&&zm(y,k)||q==2&&Ia(y)))switch(R&&R.length>0&&(k=y.h,k.i=k.i.concat(R)),Y){case 1:Zn(y,5);break;case 4:Zn(y,10);break;case 3:Zn(y,6);break;default:Zn(y,2)}}}function hu(y,k){let R=y.Qa+Math.floor(Math.random()*y.Za);return y.isActive()||(R*=2),R*k}function Zn(y,k){if(y.j.info("Error code "+k),k==2){var R=d(y.bb,y),q=y.Ua;const Y=!q;q=new ba(q||"//www.google.com/images/cleardot.gif"),s.location&&s.location.protocol=="http"||Pl(q,"https"),gs(q),Y?Ea(q.toString(),R):Sa(q.toString(),R)}else Ft(2);y.I=0,y.l&&y.l.pa(k),Ml(y),uu(y)}t.bb=function(y){y?(this.j.info("Successfully pinged google.com"),Ft(2)):(this.j.info("Failed to ping google.com"),Ft(1))};function Ml(y){if(y.I=0,y.ja=[],y.l){const k=Yn(y.h);(k.length!=0||y.i.length!=0)&&(w(y.ja,k),w(y.ja,y.i),y.h.i.length=0,b(y.i),y.i.length=0),y.l.oa()}}function Cf(y,k,R){var q=R instanceof ba?vi(R):new ba(R);if(q.g!="")k&&(q.g=k+"."+q.g),xa(q,q.u);else{var Y=s.location;q=Y.protocol,k=k?k+"."+Y.hostname:Y.hostname,Y=+Y.port;const te=new ba(null);q&&Pl(te,q),k&&(te.g=k),Y&&xa(te,Y),R&&(te.h=R),q=te}return R=y.G,k=y.wa,R&&k&&vt(q,R,k),vt(q,"VER",y.ka),ka(y,q),q}function Bm(y,k,R){if(k&&!y.L)throw Error("Can't create secondary domain capable XhrIo object.");return k=y.Aa&&!y.ma?new Tt(new ys({ab:R})):new Tt(y.ma),k.Fa(y.L),k}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Wm(){}t=Wm.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function pu(){}pu.prototype.g=function(y,k){return new qr(y,k)};function qr(y,k){mt.call(this),this.g=new lu(k),this.l=y,this.h=k&&k.messageUrlParams||null,y=k&&k.messageHeaders||null,k&&k.clientProtocolHeaderRequired&&(y?y["X-Client-Protocol"]="webchannel":y={"X-Client-Protocol":"webchannel"}),this.g.o=y,y=k&&k.initMessageHeaders||null,k&&k.messageContentType&&(y?y["X-WebChannel-Content-Type"]=k.messageContentType:y={"X-WebChannel-Content-Type":k.messageContentType}),k&&k.sa&&(y?y["X-WebChannel-Client-Profile"]=k.sa:y={"X-WebChannel-Client-Profile":k.sa}),this.g.U=y,(y=k&&k.Qb)&&!$(y)&&(this.g.u=y),this.A=k&&k.supportsCrossDomainXhr||!1,this.v=k&&k.sendRawJson||!1,(k=k&&k.httpSessionIdParam)&&!$(k)&&(this.g.G=k,y=this.h,y!==null&&k in y&&(y=this.h,k in y&&delete y[k])),this.j=new Eo(this)}p(qr,mt),qr.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},qr.prototype.close=function(){cu(this.g)},qr.prototype.o=function(y){var k=this.g;if(typeof y=="string"){var R={};R.__data__=y,y=R}else this.v&&(R={},R.__data__=Wt(y),y=R);k.i.push(new Zx(k.Ya++,y)),k.I==3&&xs(k)},qr.prototype.N=function(){this.g.l=null,delete this.j,cu(this.g),delete this.g,qr.Z.N.call(this)};function Hm(y){dr.call(this),y.__headers__&&(this.headers=y.__headers__,this.statusCode=y.__status__,delete y.__headers__,delete y.__status__);var k=y.__sm__;if(k){e:{for(const R in k){y=R;break e}y=void 0}(this.i=y)&&(y=this.i,k=k!==null&&y in k?k[y]:void 0),this.data=k}else this.data=y}p(Hm,dr);function Gm(){wl.call(this),this.status=1}p(Gm,wl);function Eo(y){this.g=y}p(Eo,Wm),Eo.prototype.ra=function(){_t(this.g,"a")},Eo.prototype.qa=function(y){_t(this.g,new Hm(y))},Eo.prototype.pa=function(y){_t(this.g,new Gm)},Eo.prototype.oa=function(){_t(this.g,"b")},pu.prototype.createWebChannel=pu.prototype.g,qr.prototype.send=qr.prototype.o,qr.prototype.open=qr.prototype.m,qr.prototype.close=qr.prototype.close,mq=function(){return new pu},pq=function(){return ma()},hq=Hn,nk={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},go.NO_ERROR=0,go.TIMEOUT=8,go.HTTP_ERROR=6,O0=go,yo.COMPLETE="complete",fq=yo,mi.EventType=nr,nr.OPEN="a",nr.CLOSE="b",nr.ERROR="c",nr.MESSAGE="d",mt.prototype.listen=mt.prototype.J,Ah=mi,Tt.prototype.listenOnce=Tt.prototype.K,Tt.prototype.getLastError=Tt.prototype.Ha,Tt.prototype.getLastErrorCode=Tt.prototype.ya,Tt.prototype.getStatus=Tt.prototype.ca,Tt.prototype.getResponseJson=Tt.prototype.La,Tt.prototype.getResponseText=Tt.prototype.la,Tt.prototype.send=Tt.prototype.ea,Tt.prototype.setWithCredentials=Tt.prototype.Fa,dq=Tt}).apply(typeof Xg<"u"?Xg:typeof self<"u"?self:typeof window<"u"?window:{});class un{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}un.UNAUTHENTICATED=new un(null),un.GOOGLE_CREDENTIALS=new un("google-credentials-uid"),un.FIRST_PARTY=new un("first-party-uid"),un.MOCK_USER=new un("mock-user");let Hd="12.9.0";function Jce(t){Hd=t}const Tc=new Cv("@firebase/firestore");function qu(){return Tc.logLevel}function ke(t,...e){if(Tc.logLevel<=at.DEBUG){const r=e.map(EP);Tc.debug(`Firestore (${Hd}): ${t}`,...r)}}function Ks(t,...e){if(Tc.logLevel<=at.ERROR){const r=e.map(EP);Tc.error(`Firestore (${Hd}): ${t}`,...r)}}function Ac(t,...e){if(Tc.logLevel<=at.WARN){const r=e.map(EP);Tc.warn(`Firestore (${Hd}): ${t}`,...r)}}function EP(t){if(typeof t=="string")return t;try{return(function(r){return JSON.stringify(r)})(t)}catch{return t}}function Ge(t,e,r){let n="Unexpected state";typeof e=="string"?n=e:r=e,gq(t,n,r)}function gq(t,e,r){let n=`FIRESTORE (${Hd}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(r!==void 0)try{n+=" CONTEXT: "+JSON.stringify(r)}catch{n+=" CONTEXT: "+r}throw Ks(n),new Error(n)}function wt(t,e,r,n){let i="Unexpected state";typeof r=="string"?i=r:n=r,t||gq(e,i,n)}function et(t,e){return t}const pe={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class je extends ha{constructor(e,r){super(e,r),this.code=e,this.message=r,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}class el{constructor(){this.promise=new Promise(((e,r)=>{this.resolve=e,this.reject=r}))}}class yq{constructor(e,r){this.user=r,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class Zce{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,r){e.enqueueRetryable((()=>r(un.UNAUTHENTICATED)))}shutdown(){}}class eue{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,r){this.changeListener=r,e.enqueueRetryable((()=>r(this.token.user)))}shutdown(){this.changeListener=null}}class tue{constructor(e){this.t=e,this.currentUser=un.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,r){wt(this.o===void 0,42304);let n=this.i;const i=c=>this.i!==n?(n=this.i,r(c)):Promise.resolve();let a=new el;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new el,e.enqueueRetryable((()=>i(this.currentUser)))};const s=()=>{const c=a;e.enqueueRetryable((async()=>{await c.promise,await i(this.currentUser)}))},o=c=>{ke("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((c=>o(c))),setTimeout((()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?o(c):(ke("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new el)}}),0),s()}getToken(){const e=this.i,r=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(r).then((n=>this.i!==e?(ke("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):n?(wt(typeof n.accessToken=="string",31837,{l:n}),new yq(n.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return wt(e===null||typeof e=="string",2055,{h:e}),new un(e)}}class rue{constructor(e,r,n){this.P=e,this.T=r,this.I=n,this.type="FirstParty",this.user=un.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class nue{constructor(e,r,n){this.P=e,this.T=r,this.I=n}getToken(){return Promise.resolve(new rue(this.P,this.T,this.I))}start(e,r){e.enqueueRetryable((()=>r(un.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class v5{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class iue{constructor(e,r){this.V=r,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Yt(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,r){wt(this.o===void 0,3512);const n=a=>{a.error!=null&&ke("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const s=a.token!==this.m;return this.m=a.token,ke("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?r(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>n(a)))};const i=a=>{ke("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?i(a):ke("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){if(this.p)return Promise.resolve(new v5(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((r=>r?(wt(typeof r.token=="string",44558,{tokenResult:r}),this.m=r.token,new v5(r.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function aue(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),r=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(r);else for(let n=0;n<t;n++)r[n]=Math.floor(256*Math.random());return r}class SP{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",r=62*Math.floor(4.129032258064516);let n="";for(;n.length<20;){const i=aue(40);for(let a=0;a<i.length;++a)n.length<20&&i[a]<r&&(n+=e.charAt(i[a]%62))}return n}}function st(t,e){return t<e?-1:t>e?1:0}function ik(t,e){const r=Math.min(t.length,e.length);for(let n=0;n<r;n++){const i=t.charAt(n),a=e.charAt(n);if(i!==a)return Qw(i)===Qw(a)?st(i,a):Qw(i)?1:-1}return st(t.length,e.length)}const sue=55296,oue=57343;function Qw(t){const e=t.charCodeAt(0);return e>=sue&&e<=oue}function pd(t,e,r){return t.length===e.length&&t.every(((n,i)=>r(n,e[i])))}const b5="__name__";class $a{constructor(e,r,n){r===void 0?r=0:r>e.length&&Ge(637,{offset:r,range:e.length}),n===void 0?n=e.length-r:n>e.length-r&&Ge(1746,{length:n,range:e.length-r}),this.segments=e,this.offset=r,this.len=n}get length(){return this.len}isEqual(e){return $a.comparator(this,e)===0}child(e){const r=this.segments.slice(this.offset,this.limit());return e instanceof $a?e.forEach((n=>{r.push(n)})):r.push(e),this.construct(r)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let r=0;r<this.length;r++)if(this.get(r)!==e.get(r))return!1;return!0}forEach(e){for(let r=this.offset,n=this.limit();r<n;r++)e(this.segments[r])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,r){const n=Math.min(e.length,r.length);for(let i=0;i<n;i++){const a=$a.compareSegments(e.get(i),r.get(i));if(a!==0)return a}return st(e.length,r.length)}static compareSegments(e,r){const n=$a.isNumericId(e),i=$a.isNumericId(r);return n&&!i?-1:!n&&i?1:n&&i?$a.extractNumericId(e).compare($a.extractNumericId(r)):ik(e,r)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Zo.fromString(e.substring(4,e.length-2))}}class Kt extends $a{construct(e,r,n){return new Kt(e,r,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const r=[];for(const n of e){if(n.indexOf("//")>=0)throw new je(pe.INVALID_ARGUMENT,`Invalid segment (${n}). Paths must not contain // in them.`);r.push(...n.split("/").filter((i=>i.length>0)))}return new Kt(r)}static emptyPath(){return new Kt([])}}const lue=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Xr extends $a{construct(e,r,n){return new Xr(e,r,n)}static isValidIdentifier(e){return lue.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Xr.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===b5}static keyField(){return new Xr([b5])}static fromServerFormat(e){const r=[];let n="",i=0;const a=()=>{if(n.length===0)throw new je(pe.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);r.push(n),n=""};let s=!1;for(;i<e.length;){const o=e[i];if(o==="\\"){if(i+1===e.length)throw new je(pe.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[i+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new je(pe.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=c,i+=2}else o==="`"?(s=!s,i++):o!=="."||s?(n+=o,i++):(a(),i++)}if(a(),s)throw new je(pe.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Xr(r)}static emptyPath(){return new Xr([])}}class qe{constructor(e){this.path=e}static fromPath(e){return new qe(Kt.fromString(e))}static fromName(e){return new qe(Kt.fromString(e).popFirst(5))}static empty(){return new qe(Kt.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Kt.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,r){return Kt.comparator(e.path,r.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new qe(new Kt(e.slice()))}}function cue(t,e,r){if(!r)throw new je(pe.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function uue(t,e,r,n){if(e===!0&&n===!0)throw new je(pe.INVALID_ARGUMENT,`${t} and ${r} cannot be used together.`)}function x5(t){if(!qe.isDocumentKey(t))throw new je(pe.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function vq(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function TP(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(n){return n.constructor?n.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":Ge(12329,{type:typeof t})}function Ha(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new je(pe.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const r=TP(t);throw new je(pe.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${r}`)}}return t}function gr(t,e){const r={typeString:t};return e&&(r.value=e),r}function Jp(t,e){if(!vq(t))throw new je(pe.INVALID_ARGUMENT,"JSON must be an object");let r;for(const n in e)if(e[n]){const i=e[n].typeString,a="value"in e[n]?{value:e[n].value}:void 0;if(!(n in t)){r=`JSON missing required field: '${n}'`;break}const s=t[n];if(i&&typeof s!==i){r=`JSON field '${n}' must be a ${i}.`;break}if(a!==void 0&&s!==a.value){r=`Expected '${n}' field to equal '${a.value}'`;break}}if(r)throw new je(pe.INVALID_ARGUMENT,r);return!0}const w5=-62135596800,_5=1e6;class Dt{static now(){return Dt.fromMillis(Date.now())}static fromDate(e){return Dt.fromMillis(e.getTime())}static fromMillis(e){const r=Math.floor(e/1e3),n=Math.floor((e-1e3*r)*_5);return new Dt(r,n)}constructor(e,r){if(this.seconds=e,this.nanoseconds=r,r<0)throw new je(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(r>=1e9)throw new je(pe.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+r);if(e<w5)throw new je(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new je(pe.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/_5}_compareTo(e){return this.seconds===e.seconds?st(this.nanoseconds,e.nanoseconds):st(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Dt._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Jp(e,Dt._jsonSchema))return new Dt(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-w5;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Dt._jsonSchemaVersion="firestore/timestamp/1.0",Dt._jsonSchema={type:gr("string",Dt._jsonSchemaVersion),seconds:gr("number"),nanoseconds:gr("number")};class Qe{static fromTimestamp(e){return new Qe(e)}static min(){return new Qe(new Dt(0,0))}static max(){return new Qe(new Dt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}const op=-1;function due(t,e){const r=t.toTimestamp().seconds,n=t.toTimestamp().nanoseconds+1,i=Qe.fromTimestamp(n===1e9?new Dt(r+1,0):new Dt(r,n));return new al(i,qe.empty(),e)}function fue(t){return new al(t.readTime,t.key,op)}class al{constructor(e,r,n){this.readTime=e,this.documentKey=r,this.largestBatchId=n}static min(){return new al(Qe.min(),qe.empty(),op)}static max(){return new al(Qe.max(),qe.empty(),op)}}function hue(t,e){let r=t.readTime.compareTo(e.readTime);return r!==0?r:(r=qe.comparator(t.documentKey,e.documentKey),r!==0?r:st(t.largestBatchId,e.largestBatchId))}const pue="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class mue{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Gd(t){if(t.code!==pe.FAILED_PRECONDITION||t.message!==pue)throw t;ke("LocalStore","Unexpectedly lost primary lease")}class de{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((r=>{this.isDone=!0,this.result=r,this.nextCallback&&this.nextCallback(r)}),(r=>{this.isDone=!0,this.error=r,this.catchCallback&&this.catchCallback(r)}))}catch(e){return this.next(void 0,e)}next(e,r){return this.callbackAttached&&Ge(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(r,this.error):this.wrapSuccess(e,this.result):new de(((n,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(n,i)},this.catchCallback=a=>{this.wrapFailure(r,a).next(n,i)}}))}toPromise(){return new Promise(((e,r)=>{this.next(e,r)}))}wrapUserFunction(e){try{const r=e();return r instanceof de?r:de.resolve(r)}catch(r){return de.reject(r)}}wrapSuccess(e,r){return e?this.wrapUserFunction((()=>e(r))):de.resolve(r)}wrapFailure(e,r){return e?this.wrapUserFunction((()=>e(r))):de.reject(r)}static resolve(e){return new de(((r,n)=>{r(e)}))}static reject(e){return new de(((r,n)=>{n(e)}))}static waitFor(e){return new de(((r,n)=>{let i=0,a=0,s=!1;e.forEach((o=>{++i,o.next((()=>{++a,s&&a===i&&r()}),(c=>n(c)))})),s=!0,a===i&&r()}))}static or(e){let r=de.resolve(!1);for(const n of e)r=r.next((i=>i?de.resolve(i):n()));return r}static forEach(e,r){const n=[];return e.forEach(((i,a)=>{n.push(r.call(this,i,a))})),this.waitFor(n)}static mapArray(e,r){return new de(((n,i)=>{const a=e.length,s=new Array(a);let o=0;for(let c=0;c<a;c++){const d=c;r(e[d]).next((f=>{s[d]=f,++o,o===a&&n(s)}),(f=>i(f)))}}))}static doWhile(e,r){return new de(((n,i)=>{const a=()=>{e()===!0?r().next((()=>{a()}),i):n()};a()}))}}function gue(t){const e=t.match(/Android ([\d.]+)/i),r=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(r)}function Kd(t){return t.name==="IndexedDbTransactionError"}class Bv{constructor(e,r){this.previousValue=e,r&&(r.sequenceNumberHandler=n=>this.ae(n),this.ue=n=>r.writeSequenceNumber(n))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Bv.ce=-1;const AP=-1;function Wv(t){return t==null}function uy(t){return t===0&&1/t==-1/0}function yue(t){return typeof t=="number"&&Number.isInteger(t)&&!uy(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}const bq="";function vue(t){let e="";for(let r=0;r<t.length;r++)e.length>0&&(e=E5(e)),e=bue(t.get(r),e);return E5(e)}function bue(t,e){let r=e;const n=t.length;for(let i=0;i<n;i++){const a=t.charAt(i);switch(a){case"\0":r+="";break;case bq:r+="";break;default:r+=a}}return r}function E5(t){return t+bq+""}function S5(t){let e=0;for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e++;return e}function yl(t,e){for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(r,t[r])}function xq(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}class Xt{constructor(e,r){this.comparator=e,this.root=r||Yr.EMPTY}insert(e,r){return new Xt(this.comparator,this.root.insert(e,r,this.comparator).copy(null,null,Yr.BLACK,null,null))}remove(e){return new Xt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Yr.BLACK,null,null))}get(e){let r=this.root;for(;!r.isEmpty();){const n=this.comparator(e,r.key);if(n===0)return r.value;n<0?r=r.left:n>0&&(r=r.right)}return null}indexOf(e){let r=0,n=this.root;for(;!n.isEmpty();){const i=this.comparator(e,n.key);if(i===0)return r+n.left.size;i<0?n=n.left:(r+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((r,n)=>(e(r,n),!1)))}toString(){const e=[];return this.inorderTraversal(((r,n)=>(e.push(`${r}:${n}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Qg(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Qg(this.root,e,this.comparator,!1)}getReverseIterator(){return new Qg(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Qg(this.root,e,this.comparator,!0)}}class Qg{constructor(e,r,n,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=r?n(e.key,r):1,r&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const r={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return r}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Yr{constructor(e,r,n,i,a){this.key=e,this.value=r,this.color=n??Yr.RED,this.left=i??Yr.EMPTY,this.right=a??Yr.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,r,n,i,a){return new Yr(e??this.key,r??this.value,n??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,r,n){let i=this;const a=n(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,r,n),null):a===0?i.copy(null,r,null,null,null):i.copy(null,null,null,null,i.right.insert(e,r,n)),i.fixUp()}removeMin(){if(this.left.isEmpty())return Yr.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,r){let n,i=this;if(r(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,r),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),r(e,i.key)===0){if(i.right.isEmpty())return Yr.EMPTY;n=i.right.min(),i=i.copy(n.key,n.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,r))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Yr.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Yr.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),r=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,r)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Ge(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Ge(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Ge(27949);return e+(this.isRed()?0:1)}}Yr.EMPTY=null,Yr.RED=!0,Yr.BLACK=!1;Yr.EMPTY=new class{constructor(){this.size=0}get key(){throw Ge(57766)}get value(){throw Ge(16141)}get color(){throw Ge(16727)}get left(){throw Ge(29726)}get right(){throw Ge(36894)}copy(e,r,n,i,a){return this}insert(e,r,n){return new Yr(e,r)}remove(e,r){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class Sr{constructor(e){this.comparator=e,this.data=new Xt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((r,n)=>(e(r),!1)))}forEachInRange(e,r){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const i=n.getNext();if(this.comparator(i.key,e[1])>=0)return;r(i.key)}}forEachWhile(e,r){let n;for(n=r!==void 0?this.data.getIteratorFrom(r):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const r=this.data.getIteratorFrom(e);return r.hasNext()?r.getNext().key:null}getIterator(){return new T5(this.data.getIterator())}getIteratorFrom(e){return new T5(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let r=this;return r.size<e.size&&(r=e,e=this),e.forEach((n=>{r=r.add(n)})),r}isEqual(e){if(!(e instanceof Sr)||this.size!==e.size)return!1;const r=this.data.getIterator(),n=e.data.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((r=>{e.push(r)})),e}toString(){const e=[];return this.forEach((r=>e.push(r))),"SortedSet("+e.toString()+")"}copy(e){const r=new Sr(this.comparator);return r.data=e,r}}class T5{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class oi{constructor(e){this.fields=e,e.sort(Xr.comparator)}static empty(){return new oi([])}unionWith(e){let r=new Sr(Xr.comparator);for(const n of this.fields)r=r.add(n);for(const n of e)r=r.add(n);return new oi(r.toArray())}covers(e){for(const r of this.fields)if(r.isPrefixOf(e))return!0;return!1}isEqual(e){return pd(this.fields,e.fields,((r,n)=>r.isEqual(n)))}}class wq extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class Zr{constructor(e){this.binaryString=e}static fromBase64String(e){const r=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new wq("Invalid base64 string: "+a):a}})(e);return new Zr(r)}static fromUint8Array(e){const r=(function(i){let a="";for(let s=0;s<i.length;++s)a+=String.fromCharCode(i[s]);return a})(e);return new Zr(r)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(r){return btoa(r)})(this.binaryString)}toUint8Array(){return(function(r){const n=new Uint8Array(r.length);for(let i=0;i<r.length;i++)n[i]=r.charCodeAt(i);return n})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return st(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Zr.EMPTY_BYTE_STRING=new Zr("");const xue=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function sl(t){if(wt(!!t,39018),typeof t=="string"){let e=0;const r=xue.exec(t);if(wt(!!r,46558,{timestamp:t}),r[1]){let i=r[1];i=(i+"000000000").substr(0,9),e=Number(i)}const n=new Date(t);return{seconds:Math.floor(n.getTime()/1e3),nanos:e}}return{seconds:sr(t.seconds),nanos:sr(t.nanos)}}function sr(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function ol(t){return typeof t=="string"?Zr.fromBase64String(t):Zr.fromUint8Array(t)}const _q="server_timestamp",Eq="__type__",Sq="__previous_value__",Tq="__local_write_time__";function kP(t){return(t?.mapValue?.fields||{})[Eq]?.stringValue===_q}function Hv(t){const e=t.mapValue.fields[Sq];return kP(e)?Hv(e):e}function lp(t){const e=sl(t.mapValue.fields[Tq].timestampValue);return new Dt(e.seconds,e.nanos)}class wue{constructor(e,r,n,i,a,s,o,c,d,f,p){this.databaseId=e,this.appId=r,this.persistenceKey=n,this.host=i,this.ssl=a,this.forceLongPolling=s,this.autoDetectLongPolling=o,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=f,this.apiKey=p}}const dy="(default)";class cp{constructor(e,r){this.projectId=e,this.database=r||dy}static empty(){return new cp("","")}get isDefaultDatabase(){return this.database===dy}isEqual(e){return e instanceof cp&&e.projectId===this.projectId&&e.database===this.database}}function _ue(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new je(pe.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new cp(t.options.projectId,e)}const Aq="__type__",Eue="__max__",Jg={mapValue:{}},kq="__vector__",fy="value";function ll(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?kP(t)?4:Tue(t)?9007199254740991:Sue(t)?10:11:Ge(28295,{value:t})}function ts(t,e){if(t===e)return!0;const r=ll(t);if(r!==ll(e))return!1;switch(r){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return lp(t).isEqual(lp(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const s=sl(i.timestampValue),o=sl(a.timestampValue);return s.seconds===o.seconds&&s.nanos===o.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return ol(i.bytesValue).isEqual(ol(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return sr(i.geoPointValue.latitude)===sr(a.geoPointValue.latitude)&&sr(i.geoPointValue.longitude)===sr(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return sr(i.integerValue)===sr(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const s=sr(i.doubleValue),o=sr(a.doubleValue);return s===o?uy(s)===uy(o):isNaN(s)&&isNaN(o)}return!1})(t,e);case 9:return pd(t.arrayValue.values||[],e.arrayValue.values||[],ts);case 10:case 11:return(function(i,a){const s=i.mapValue.fields||{},o=a.mapValue.fields||{};if(S5(s)!==S5(o))return!1;for(const c in s)if(s.hasOwnProperty(c)&&(o[c]===void 0||!ts(s[c],o[c])))return!1;return!0})(t,e);default:return Ge(52216,{left:t})}}function up(t,e){return(t.values||[]).find((r=>ts(r,e)))!==void 0}function md(t,e){if(t===e)return 0;const r=ll(t),n=ll(e);if(r!==n)return st(r,n);switch(r){case 0:case 9007199254740991:return 0;case 1:return st(t.booleanValue,e.booleanValue);case 2:return(function(a,s){const o=sr(a.integerValue||a.doubleValue),c=sr(s.integerValue||s.doubleValue);return o<c?-1:o>c?1:o===c?0:isNaN(o)?isNaN(c)?0:-1:1})(t,e);case 3:return A5(t.timestampValue,e.timestampValue);case 4:return A5(lp(t),lp(e));case 5:return ik(t.stringValue,e.stringValue);case 6:return(function(a,s){const o=ol(a),c=ol(s);return o.compareTo(c)})(t.bytesValue,e.bytesValue);case 7:return(function(a,s){const o=a.split("/"),c=s.split("/");for(let d=0;d<o.length&&d<c.length;d++){const f=st(o[d],c[d]);if(f!==0)return f}return st(o.length,c.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,s){const o=st(sr(a.latitude),sr(s.latitude));return o!==0?o:st(sr(a.longitude),sr(s.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return k5(t.arrayValue,e.arrayValue);case 10:return(function(a,s){const o=a.fields||{},c=s.fields||{},d=o[fy]?.arrayValue,f=c[fy]?.arrayValue,p=st(d?.values?.length||0,f?.values?.length||0);return p!==0?p:k5(d,f)})(t.mapValue,e.mapValue);case 11:return(function(a,s){if(a===Jg.mapValue&&s===Jg.mapValue)return 0;if(a===Jg.mapValue)return 1;if(s===Jg.mapValue)return-1;const o=a.fields||{},c=Object.keys(o),d=s.fields||{},f=Object.keys(d);c.sort(),f.sort();for(let p=0;p<c.length&&p<f.length;++p){const g=ik(c[p],f[p]);if(g!==0)return g;const b=md(o[c[p]],d[f[p]]);if(b!==0)return b}return st(c.length,f.length)})(t.mapValue,e.mapValue);default:throw Ge(23264,{he:r})}}function A5(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return st(t,e);const r=sl(t),n=sl(e),i=st(r.seconds,n.seconds);return i!==0?i:st(r.nanos,n.nanos)}function k5(t,e){const r=t.values||[],n=e.values||[];for(let i=0;i<r.length&&i<n.length;++i){const a=md(r[i],n[i]);if(a)return a}return st(r.length,n.length)}function gd(t){return ak(t)}function ak(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(r){const n=sl(r);return`time(${n.seconds},${n.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(r){return ol(r).toBase64()})(t.bytesValue):"referenceValue"in t?(function(r){return qe.fromName(r).toString()})(t.referenceValue):"geoPointValue"in t?(function(r){return`geo(${r.latitude},${r.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(r){let n="[",i=!0;for(const a of r.values||[])i?i=!1:n+=",",n+=ak(a);return n+"]"})(t.arrayValue):"mapValue"in t?(function(r){const n=Object.keys(r.fields||{}).sort();let i="{",a=!0;for(const s of n)a?a=!1:i+=",",i+=`${s}:${ak(r.fields[s])}`;return i+"}"})(t.mapValue):Ge(61005,{value:t})}function j0(t){switch(ll(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Hv(t);return e?16+j0(e):16;case 5:return 2*t.stringValue.length;case 6:return ol(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return(function(n){return(n.values||[]).reduce(((i,a)=>i+j0(a)),0)})(t.arrayValue);case 10:case 11:return(function(n){let i=0;return yl(n.fields,((a,s)=>{i+=a.length+j0(s)})),i})(t.mapValue);default:throw Ge(13486,{value:t})}}function sk(t){return!!t&&"integerValue"in t}function IP(t){return!!t&&"arrayValue"in t}function I5(t){return!!t&&"nullValue"in t}function P5(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function D0(t){return!!t&&"mapValue"in t}function Sue(t){return(t?.mapValue?.fields||{})[Aq]?.stringValue===kq}function zh(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return yl(t.mapValue.fields,((r,n)=>e.mapValue.fields[r]=zh(n))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let r=0;r<(t.arrayValue.values||[]).length;++r)e.arrayValue.values[r]=zh(t.arrayValue.values[r]);return e}return{...t}}function Tue(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===Eue}class $n{constructor(e){this.value=e}static empty(){return new $n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let r=this.value;for(let n=0;n<e.length-1;++n)if(r=(r.mapValue.fields||{})[e.get(n)],!D0(r))return null;return r=(r.mapValue.fields||{})[e.lastSegment()],r||null}}set(e,r){this.getFieldsMap(e.popLast())[e.lastSegment()]=zh(r)}setAll(e){let r=Xr.emptyPath(),n={},i=[];e.forEach(((s,o)=>{if(!r.isImmediateParentOf(o)){const c=this.getFieldsMap(r);this.applyChanges(c,n,i),n={},i=[],r=o.popLast()}s?n[o.lastSegment()]=zh(s):i.push(o.lastSegment())}));const a=this.getFieldsMap(r);this.applyChanges(a,n,i)}delete(e){const r=this.field(e.popLast());D0(r)&&r.mapValue.fields&&delete r.mapValue.fields[e.lastSegment()]}isEqual(e){return ts(this.value,e.value)}getFieldsMap(e){let r=this.value;r.mapValue.fields||(r.mapValue={fields:{}});for(let n=0;n<e.length;++n){let i=r.mapValue.fields[e.get(n)];D0(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},r.mapValue.fields[e.get(n)]=i),r=i}return r.mapValue.fields}applyChanges(e,r,n){yl(r,((i,a)=>e[i]=a));for(const i of n)delete e[i]}clone(){return new $n(zh(this.value))}}function Iq(t){const e=[];return yl(t.fields,((r,n)=>{const i=new Xr([r]);if(D0(n)){const a=Iq(n.mapValue).fields;if(a.length===0)e.push(i);else for(const s of a)e.push(i.child(s))}else e.push(i)})),new oi(e)}class dn{constructor(e,r,n,i,a,s,o){this.key=e,this.documentType=r,this.version=n,this.readTime=i,this.createTime=a,this.data=s,this.documentState=o}static newInvalidDocument(e){return new dn(e,0,Qe.min(),Qe.min(),Qe.min(),$n.empty(),0)}static newFoundDocument(e,r,n,i){return new dn(e,1,r,Qe.min(),n,i,0)}static newNoDocument(e,r){return new dn(e,2,r,Qe.min(),Qe.min(),$n.empty(),0)}static newUnknownDocument(e,r){return new dn(e,3,r,Qe.min(),Qe.min(),$n.empty(),2)}convertToFoundDocument(e,r){return!this.createTime.isEqual(Qe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=r,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=$n.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=$n.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Qe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof dn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new dn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}class hy{constructor(e,r){this.position=e,this.inclusive=r}}function C5(t,e,r){let n=0;for(let i=0;i<t.position.length;i++){const a=e[i],s=t.position[i];if(a.field.isKeyField()?n=qe.comparator(qe.fromName(s.referenceValue),r.key):n=md(s,r.data.field(a.field)),a.dir==="desc"&&(n*=-1),n!==0)break}return n}function N5(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let r=0;r<t.position.length;r++)if(!ts(t.position[r],e.position[r]))return!1;return!0}class py{constructor(e,r="asc"){this.field=e,this.dir=r}}function Aue(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}class Pq{}class Er extends Pq{constructor(e,r,n){super(),this.field=e,this.op=r,this.value=n}static create(e,r,n){return e.isKeyField()?r==="in"||r==="not-in"?this.createKeyFieldInFilter(e,r,n):new Iue(e,r,n):r==="array-contains"?new Nue(e,n):r==="in"?new Rue(e,n):r==="not-in"?new Oue(e,n):r==="array-contains-any"?new jue(e,n):new Er(e,r,n)}static createKeyFieldInFilter(e,r,n){return r==="in"?new Pue(e,n):new Cue(e,n)}matches(e){const r=e.data.field(this.field);return this.op==="!="?r!==null&&r.nullValue===void 0&&this.matchesComparison(md(r,this.value)):r!==null&&ll(this.value)===ll(r)&&this.matchesComparison(md(r,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Ge(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class rs extends Pq{constructor(e,r){super(),this.filters=e,this.op=r,this.Pe=null}static create(e,r){return new rs(e,r)}matches(e){return Cq(this)?this.filters.find((r=>!r.matches(e)))===void 0:this.filters.find((r=>r.matches(e)))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce(((e,r)=>e.concat(r.getFlattenedFilters())),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function Cq(t){return t.op==="and"}function Nq(t){return kue(t)&&Cq(t)}function kue(t){for(const e of t.filters)if(e instanceof rs)return!1;return!0}function ok(t){if(t instanceof Er)return t.field.canonicalString()+t.op.toString()+gd(t.value);if(Nq(t))return t.filters.map((e=>ok(e))).join(",");{const e=t.filters.map((r=>ok(r))).join(",");return`${t.op}(${e})`}}function Rq(t,e){return t instanceof Er?(function(n,i){return i instanceof Er&&n.op===i.op&&n.field.isEqual(i.field)&&ts(n.value,i.value)})(t,e):t instanceof rs?(function(n,i){return i instanceof rs&&n.op===i.op&&n.filters.length===i.filters.length?n.filters.reduce(((a,s,o)=>a&&Rq(s,i.filters[o])),!0):!1})(t,e):void Ge(19439)}function Oq(t){return t instanceof Er?(function(r){return`${r.field.canonicalString()} ${r.op} ${gd(r.value)}`})(t):t instanceof rs?(function(r){return r.op.toString()+" {"+r.getFilters().map(Oq).join(" ,")+"}"})(t):"Filter"}class Iue extends Er{constructor(e,r,n){super(e,r,n),this.key=qe.fromName(n.referenceValue)}matches(e){const r=qe.comparator(e.key,this.key);return this.matchesComparison(r)}}class Pue extends Er{constructor(e,r){super(e,"in",r),this.keys=jq("in",r)}matches(e){return this.keys.some((r=>r.isEqual(e.key)))}}class Cue extends Er{constructor(e,r){super(e,"not-in",r),this.keys=jq("not-in",r)}matches(e){return!this.keys.some((r=>r.isEqual(e.key)))}}function jq(t,e){return(e.arrayValue?.values||[]).map((r=>qe.fromName(r.referenceValue)))}class Nue extends Er{constructor(e,r){super(e,"array-contains",r)}matches(e){const r=e.data.field(this.field);return IP(r)&&up(r.arrayValue,this.value)}}class Rue extends Er{constructor(e,r){super(e,"in",r)}matches(e){const r=e.data.field(this.field);return r!==null&&up(this.value.arrayValue,r)}}class Oue extends Er{constructor(e,r){super(e,"not-in",r)}matches(e){if(up(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const r=e.data.field(this.field);return r!==null&&r.nullValue===void 0&&!up(this.value.arrayValue,r)}}class jue extends Er{constructor(e,r){super(e,"array-contains-any",r)}matches(e){const r=e.data.field(this.field);return!(!IP(r)||!r.arrayValue.values)&&r.arrayValue.values.some((n=>up(this.value.arrayValue,n)))}}class Due{constructor(e,r=null,n=[],i=[],a=null,s=null,o=null){this.path=e,this.collectionGroup=r,this.orderBy=n,this.filters=i,this.limit=a,this.startAt=s,this.endAt=o,this.Te=null}}function R5(t,e=null,r=[],n=[],i=null,a=null,s=null){return new Due(t,e,r,n,i,a,s)}function PP(t){const e=et(t);if(e.Te===null){let r=e.path.canonicalString();e.collectionGroup!==null&&(r+="|cg:"+e.collectionGroup),r+="|f:",r+=e.filters.map((n=>ok(n))).join(","),r+="|ob:",r+=e.orderBy.map((n=>(function(a){return a.field.canonicalString()+a.dir})(n))).join(","),Wv(e.limit)||(r+="|l:",r+=e.limit),e.startAt&&(r+="|lb:",r+=e.startAt.inclusive?"b:":"a:",r+=e.startAt.position.map((n=>gd(n))).join(",")),e.endAt&&(r+="|ub:",r+=e.endAt.inclusive?"a:":"b:",r+=e.endAt.position.map((n=>gd(n))).join(",")),e.Te=r}return e.Te}function CP(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let r=0;r<t.orderBy.length;r++)if(!Aue(t.orderBy[r],e.orderBy[r]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let r=0;r<t.filters.length;r++)if(!Rq(t.filters[r],e.filters[r]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!N5(t.startAt,e.startAt)&&N5(t.endAt,e.endAt)}function lk(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}class Gv{constructor(e,r=null,n=[],i=[],a=null,s="F",o=null,c=null){this.path=e,this.collectionGroup=r,this.explicitOrderBy=n,this.filters=i,this.limit=a,this.limitType=s,this.startAt=o,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function Mue(t,e,r,n,i,a,s,o){return new Gv(t,e,r,n,i,a,s,o)}function Kv(t){return new Gv(t)}function O5(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function Lue(t){return qe.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function Fue(t){return t.collectionGroup!==null}function Bh(t){const e=et(t);if(e.Ie===null){e.Ie=[];const r=new Set;for(const a of e.explicitOrderBy)e.Ie.push(a),r.add(a.field.canonicalString());const n=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let o=new Sr(Xr.comparator);return s.filters.forEach((c=>{c.getFlattenedFilters().forEach((d=>{d.isInequality()&&(o=o.add(d.field))}))})),o})(e).forEach((a=>{r.has(a.canonicalString())||a.isKeyField()||e.Ie.push(new py(a,n))})),r.has(Xr.keyField().canonicalString())||e.Ie.push(new py(Xr.keyField(),n))}return e.Ie}function Ga(t){const e=et(t);return e.Ee||(e.Ee=$ue(e,Bh(t))),e.Ee}function $ue(t,e){if(t.limitType==="F")return R5(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new py(i.field,a)}));const r=t.endAt?new hy(t.endAt.position,t.endAt.inclusive):null,n=t.startAt?new hy(t.startAt.position,t.startAt.inclusive):null;return R5(t.path,t.collectionGroup,e,t.filters,t.limit,r,n)}}function ck(t,e,r){return new Gv(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,r,t.startAt,t.endAt)}function Yv(t,e){return CP(Ga(t),Ga(e))&&t.limitType===e.limitType}function Dq(t){return`${PP(Ga(t))}|lt:${t.limitType}`}function zu(t){return`Query(target=${(function(r){let n=r.path.canonicalString();return r.collectionGroup!==null&&(n+=" collectionGroup="+r.collectionGroup),r.filters.length>0&&(n+=`, filters: [${r.filters.map((i=>Oq(i))).join(", ")}]`),Wv(r.limit)||(n+=", limit: "+r.limit),r.orderBy.length>0&&(n+=`, orderBy: [${r.orderBy.map((i=>(function(s){return`${s.field.canonicalString()} (${s.dir})`})(i))).join(", ")}]`),r.startAt&&(n+=", startAt: ",n+=r.startAt.inclusive?"b:":"a:",n+=r.startAt.position.map((i=>gd(i))).join(",")),r.endAt&&(n+=", endAt: ",n+=r.endAt.inclusive?"a:":"b:",n+=r.endAt.position.map((i=>gd(i))).join(",")),`Target(${n})`})(Ga(t))}; limitType=${t.limitType})`}function Xv(t,e){return e.isFoundDocument()&&(function(n,i){const a=i.key.path;return n.collectionGroup!==null?i.key.hasCollectionId(n.collectionGroup)&&n.path.isPrefixOf(a):qe.isDocumentKey(n.path)?n.path.isEqual(a):n.path.isImmediateParentOf(a)})(t,e)&&(function(n,i){for(const a of Bh(n))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(n,i){for(const a of n.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(n,i){return!(n.startAt&&!(function(s,o,c){const d=C5(s,o,c);return s.inclusive?d<=0:d<0})(n.startAt,Bh(n),i)||n.endAt&&!(function(s,o,c){const d=C5(s,o,c);return s.inclusive?d>=0:d>0})(n.endAt,Bh(n),i))})(t,e)}function Vue(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function Mq(t){return(e,r)=>{let n=!1;for(const i of Bh(t)){const a=Uue(i,e,r);if(a!==0)return a;n=n||i.field.isKeyField()}return 0}}function Uue(t,e,r){const n=t.field.isKeyField()?qe.comparator(e.key,r.key):(function(a,s,o){const c=s.data.field(a),d=o.data.field(a);return c!==null&&d!==null?md(c,d):Ge(42886)})(t.field,e,r);switch(t.dir){case"asc":return n;case"desc":return-1*n;default:return Ge(19790,{direction:t.dir})}}class Gc{constructor(e,r){this.mapKeyFn=e,this.equalsFn=r,this.inner={},this.innerSize=0}get(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n!==void 0){for(const[i,a]of n)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,r){const n=this.mapKeyFn(e),i=this.inner[n];if(i===void 0)return this.inner[n]=[[e,r]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,r]);i.push([e,r]),this.innerSize++}delete(e){const r=this.mapKeyFn(e),n=this.inner[r];if(n===void 0)return!1;for(let i=0;i<n.length;i++)if(this.equalsFn(n[i][0],e))return n.length===1?delete this.inner[r]:n.splice(i,1),this.innerSize--,!0;return!1}forEach(e){yl(this.inner,((r,n)=>{for(const[i,a]of n)e(i,a)}))}isEmpty(){return xq(this.inner)}size(){return this.innerSize}}const que=new Xt(qe.comparator);function Ys(){return que}const Lq=new Xt(qe.comparator);function kh(...t){let e=Lq;for(const r of t)e=e.insert(r.key,r);return e}function Fq(t){let e=Lq;return t.forEach(((r,n)=>e=e.insert(r,n.overlayedDocument))),e}function ic(){return Wh()}function $q(){return Wh()}function Wh(){return new Gc((t=>t.toString()),((t,e)=>t.isEqual(e)))}const zue=new Xt(qe.comparator),Bue=new Sr(qe.comparator);function ot(...t){let e=Bue;for(const r of t)e=e.add(r);return e}const Wue=new Sr(st);function Hue(){return Wue}function NP(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:uy(e)?"-0":e}}function Vq(t){return{integerValue:""+t}}function Gue(t,e){return yue(e)?Vq(e):NP(t,e)}class Qv{constructor(){this._=void 0}}function Kue(t,e,r){return t instanceof my?(function(i,a){const s={fields:{[Eq]:{stringValue:_q},[Tq]:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&kP(a)&&(a=Hv(a)),a&&(s.fields[Sq]=a),{mapValue:s}})(r,e):t instanceof yd?qq(t,e):t instanceof vd?zq(t,e):(function(i,a){const s=Uq(i,a),o=j5(s)+j5(i.Ae);return sk(s)&&sk(i.Ae)?Vq(o):NP(i.serializer,o)})(t,e)}function Yue(t,e,r){return t instanceof yd?qq(t,e):t instanceof vd?zq(t,e):r}function Uq(t,e){return t instanceof gy?(function(n){return sk(n)||(function(a){return!!a&&"doubleValue"in a})(n)})(e)?e:{integerValue:0}:null}class my extends Qv{}class yd extends Qv{constructor(e){super(),this.elements=e}}function qq(t,e){const r=Bq(e);for(const n of t.elements)r.some((i=>ts(i,n)))||r.push(n);return{arrayValue:{values:r}}}class vd extends Qv{constructor(e){super(),this.elements=e}}function zq(t,e){let r=Bq(e);for(const n of t.elements)r=r.filter((i=>!ts(i,n)));return{arrayValue:{values:r}}}class gy extends Qv{constructor(e,r){super(),this.serializer=e,this.Ae=r}}function j5(t){return sr(t.integerValue||t.doubleValue)}function Bq(t){return IP(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}class Wq{constructor(e,r){this.field=e,this.transform=r}}function Xue(t,e){return t.field.isEqual(e.field)&&(function(n,i){return n instanceof yd&&i instanceof yd||n instanceof vd&&i instanceof vd?pd(n.elements,i.elements,ts):n instanceof gy&&i instanceof gy?ts(n.Ae,i.Ae):n instanceof my&&i instanceof my})(t.transform,e.transform)}class Que{constructor(e,r){this.version=e,this.transformResults=r}}class Ka{constructor(e,r){this.updateTime=e,this.exists=r}static none(){return new Ka}static exists(e){return new Ka(void 0,e)}static updateTime(e){return new Ka(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function M0(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Jv{}function Hq(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Kq(t.key,Ka.none()):new Zp(t.key,t.data,Ka.none());{const r=t.data,n=$n.empty();let i=new Sr(Xr.comparator);for(let a of e.fields)if(!i.has(a)){let s=r.field(a);s===null&&a.length>1&&(a=a.popLast(),s=r.field(a)),s===null?n.delete(a):n.set(a,s),i=i.add(a)}return new vl(t.key,n,new oi(i.toArray()),Ka.none())}}function Jue(t,e,r){t instanceof Zp?(function(i,a,s){const o=i.value.clone(),c=M5(i.fieldTransforms,a,s.transformResults);o.setAll(c),a.convertToFoundDocument(s.version,o).setHasCommittedMutations()})(t,e,r):t instanceof vl?(function(i,a,s){if(!M0(i.precondition,a))return void a.convertToUnknownDocument(s.version);const o=M5(i.fieldTransforms,a,s.transformResults),c=a.data;c.setAll(Gq(i)),c.setAll(o),a.convertToFoundDocument(s.version,c).setHasCommittedMutations()})(t,e,r):(function(i,a,s){a.convertToNoDocument(s.version).setHasCommittedMutations()})(0,e,r)}function Hh(t,e,r,n){return t instanceof Zp?(function(a,s,o,c){if(!M0(a.precondition,s))return o;const d=a.value.clone(),f=L5(a.fieldTransforms,c,s);return d.setAll(f),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null})(t,e,r,n):t instanceof vl?(function(a,s,o,c){if(!M0(a.precondition,s))return o;const d=L5(a.fieldTransforms,c,s),f=s.data;return f.setAll(Gq(a)),f.setAll(d),s.convertToFoundDocument(s.version,f).setHasLocalMutations(),o===null?null:o.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((p=>p.field)))})(t,e,r,n):(function(a,s,o){return M0(a.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):o})(t,e,r)}function Zue(t,e){let r=null;for(const n of t.fieldTransforms){const i=e.data.field(n.field),a=Uq(n.transform,i||null);a!=null&&(r===null&&(r=$n.empty()),r.set(n.field,a))}return r||null}function D5(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(n,i){return n===void 0&&i===void 0||!(!n||!i)&&pd(n,i,((a,s)=>Xue(a,s)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Zp extends Jv{constructor(e,r,n,i=[]){super(),this.key=e,this.value=r,this.precondition=n,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class vl extends Jv{constructor(e,r,n,i,a=[]){super(),this.key=e,this.data=r,this.fieldMask=n,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function Gq(t){const e=new Map;return t.fieldMask.fields.forEach((r=>{if(!r.isEmpty()){const n=t.data.field(r);e.set(r,n)}})),e}function M5(t,e,r){const n=new Map;wt(t.length===r.length,32656,{Ve:r.length,de:t.length});for(let i=0;i<r.length;i++){const a=t[i],s=a.transform,o=e.data.field(a.field);n.set(a.field,Yue(s,o,r[i]))}return n}function L5(t,e,r){const n=new Map;for(const i of t){const a=i.transform,s=r.data.field(i.field);n.set(i.field,Kue(a,s,e))}return n}class Kq extends Jv{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class ede extends Jv{constructor(e,r){super(),this.key=e,this.precondition=r,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}class tde{constructor(e,r,n,i){this.batchId=e,this.localWriteTime=r,this.baseMutations=n,this.mutations=i}applyToRemoteDocument(e,r){const n=r.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&Jue(a,e,n[i])}}applyToLocalView(e,r){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(r=Hh(n,e,r,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(r=Hh(n,e,r,this.localWriteTime));return r}applyToLocalDocumentSet(e,r){const n=$q();return this.mutations.forEach((i=>{const a=e.get(i.key),s=a.overlayedDocument;let o=this.applyToLocalView(s,a.mutatedFields);o=r.has(i.key)?null:o;const c=Hq(s,o);c!==null&&n.set(i.key,c),s.isValidDocument()||s.convertToNoDocument(Qe.min())})),n}keys(){return this.mutations.reduce(((e,r)=>e.add(r.key)),ot())}isEqual(e){return this.batchId===e.batchId&&pd(this.mutations,e.mutations,((r,n)=>D5(r,n)))&&pd(this.baseMutations,e.baseMutations,((r,n)=>D5(r,n)))}}class RP{constructor(e,r,n,i){this.batch=e,this.commitVersion=r,this.mutationResults=n,this.docVersions=i}static from(e,r,n){wt(e.mutations.length===n.length,58842,{me:e.mutations.length,fe:n.length});let i=(function(){return zue})();const a=e.mutations;for(let s=0;s<a.length;s++)i=i.insert(a[s].key,n[s].version);return new RP(e,r,n,i)}}class rde{constructor(e,r){this.largestBatchId=e,this.mutation=r}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}class nde{constructor(e,r){this.count=e,this.unchangedNames=r}}var pr,dt;function ide(t){switch(t){case pe.OK:return Ge(64938);case pe.CANCELLED:case pe.UNKNOWN:case pe.DEADLINE_EXCEEDED:case pe.RESOURCE_EXHAUSTED:case pe.INTERNAL:case pe.UNAVAILABLE:case pe.UNAUTHENTICATED:return!1;case pe.INVALID_ARGUMENT:case pe.NOT_FOUND:case pe.ALREADY_EXISTS:case pe.PERMISSION_DENIED:case pe.FAILED_PRECONDITION:case pe.ABORTED:case pe.OUT_OF_RANGE:case pe.UNIMPLEMENTED:case pe.DATA_LOSS:return!0;default:return Ge(15467,{code:t})}}function Yq(t){if(t===void 0)return Ks("GRPC error has no .code"),pe.UNKNOWN;switch(t){case pr.OK:return pe.OK;case pr.CANCELLED:return pe.CANCELLED;case pr.UNKNOWN:return pe.UNKNOWN;case pr.DEADLINE_EXCEEDED:return pe.DEADLINE_EXCEEDED;case pr.RESOURCE_EXHAUSTED:return pe.RESOURCE_EXHAUSTED;case pr.INTERNAL:return pe.INTERNAL;case pr.UNAVAILABLE:return pe.UNAVAILABLE;case pr.UNAUTHENTICATED:return pe.UNAUTHENTICATED;case pr.INVALID_ARGUMENT:return pe.INVALID_ARGUMENT;case pr.NOT_FOUND:return pe.NOT_FOUND;case pr.ALREADY_EXISTS:return pe.ALREADY_EXISTS;case pr.PERMISSION_DENIED:return pe.PERMISSION_DENIED;case pr.FAILED_PRECONDITION:return pe.FAILED_PRECONDITION;case pr.ABORTED:return pe.ABORTED;case pr.OUT_OF_RANGE:return pe.OUT_OF_RANGE;case pr.UNIMPLEMENTED:return pe.UNIMPLEMENTED;case pr.DATA_LOSS:return pe.DATA_LOSS;default:return Ge(39323,{code:t})}}(dt=pr||(pr={}))[dt.OK=0]="OK",dt[dt.CANCELLED=1]="CANCELLED",dt[dt.UNKNOWN=2]="UNKNOWN",dt[dt.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",dt[dt.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",dt[dt.NOT_FOUND=5]="NOT_FOUND",dt[dt.ALREADY_EXISTS=6]="ALREADY_EXISTS",dt[dt.PERMISSION_DENIED=7]="PERMISSION_DENIED",dt[dt.UNAUTHENTICATED=16]="UNAUTHENTICATED",dt[dt.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",dt[dt.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",dt[dt.ABORTED=10]="ABORTED",dt[dt.OUT_OF_RANGE=11]="OUT_OF_RANGE",dt[dt.UNIMPLEMENTED=12]="UNIMPLEMENTED",dt[dt.INTERNAL=13]="INTERNAL",dt[dt.UNAVAILABLE=14]="UNAVAILABLE",dt[dt.DATA_LOSS=15]="DATA_LOSS";function ade(){return new TextEncoder}const sde=new Zo([4294967295,4294967295],0);function F5(t){const e=ade().encode(t),r=new uq;return r.update(e),new Uint8Array(r.digest())}function $5(t){const e=new DataView(t.buffer),r=e.getUint32(0,!0),n=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new Zo([r,n],0),new Zo([i,a],0)]}class OP{constructor(e,r,n){if(this.bitmap=e,this.padding=r,this.hashCount=n,r<0||r>=8)throw new Ih(`Invalid padding: ${r}`);if(n<0)throw new Ih(`Invalid hash count: ${n}`);if(e.length>0&&this.hashCount===0)throw new Ih(`Invalid hash count: ${n}`);if(e.length===0&&r!==0)throw new Ih(`Invalid padding when bitmap length is 0: ${r}`);this.ge=8*e.length-r,this.pe=Zo.fromNumber(this.ge)}ye(e,r,n){let i=e.add(r.multiply(Zo.fromNumber(n)));return i.compare(sde)===1&&(i=new Zo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const r=F5(e),[n,i]=$5(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);if(!this.we(s))return!1}return!0}static create(e,r,n){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),s=new OP(a,i,r);return n.forEach((o=>s.insert(o))),s}insert(e){if(this.ge===0)return;const r=F5(e),[n,i]=$5(r);for(let a=0;a<this.hashCount;a++){const s=this.ye(n,i,a);this.be(s)}}be(e){const r=Math.floor(e/8),n=e%8;this.bitmap[r]|=1<<n}}class Ih extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Zv{constructor(e,r,n,i,a){this.snapshotVersion=e,this.targetChanges=r,this.targetMismatches=n,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,r,n){const i=new Map;return i.set(e,em.createSynthesizedTargetChangeForCurrentChange(e,r,n)),new Zv(Qe.min(),i,new Xt(st),Ys(),ot())}}class em{constructor(e,r,n,i,a){this.resumeToken=e,this.current=r,this.addedDocuments=n,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,r,n){return new em(n,r,ot(),ot(),ot())}}class L0{constructor(e,r,n,i){this.Se=e,this.removedTargetIds=r,this.key=n,this.De=i}}class Xq{constructor(e,r){this.targetId=e,this.Ce=r}}class Qq{constructor(e,r,n=Zr.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=r,this.resumeToken=n,this.cause=i}}class V5{constructor(){this.ve=0,this.Fe=U5(),this.Me=Zr.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=ot(),r=ot(),n=ot();return this.Fe.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:r=r.add(i);break;case 1:n=n.add(i);break;default:Ge(38017,{changeType:a})}})),new em(this.Me,this.xe,e,r,n)}Ke(){this.Oe=!1,this.Fe=U5()}qe(e,r){this.Oe=!0,this.Fe=this.Fe.insert(e,r)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,wt(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class ode{constructor(e){this.Ge=e,this.ze=new Map,this.je=Ys(),this.He=Zg(),this.Je=Zg(),this.Ze=new Xt(st)}Xe(e){for(const r of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(r,e.De):this.et(r,e.key,e.De);for(const r of e.removedTargetIds)this.et(r,e.key,e.De)}tt(e){this.forEachTarget(e,(r=>{const n=this.nt(r);switch(e.state){case 0:this.rt(r)&&n.Le(e.resumeToken);break;case 1:n.We(),n.Ne||n.Ke(),n.Le(e.resumeToken);break;case 2:n.We(),n.Ne||this.removeTarget(r);break;case 3:this.rt(r)&&(n.Qe(),n.Le(e.resumeToken));break;case 4:this.rt(r)&&(this.it(r),n.Le(e.resumeToken));break;default:Ge(56790,{state:e.state})}}))}forEachTarget(e,r){e.targetIds.length>0?e.targetIds.forEach(r):this.ze.forEach(((n,i)=>{this.rt(i)&&r(i)}))}st(e){const r=e.targetId,n=e.Ce.count,i=this.ot(r);if(i){const a=i.target;if(lk(a))if(n===0){const s=new qe(a.path);this.et(r,s,dn.newNoDocument(s,Qe.min()))}else wt(n===1,20013,{expectedCount:n});else{const s=this._t(r);if(s!==n){const o=this.ut(e),c=o?this.ct(o,e,s):1;if(c!==0){this.it(r);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(r,d)}}}}}ut(e){const r=e.Ce.unchangedNames;if(!r||!r.bits)return null;const{bits:{bitmap:n="",padding:i=0},hashCount:a=0}=r;let s,o;try{s=ol(n).toUint8Array()}catch(c){if(c instanceof wq)return Ac("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{o=new OP(s,i,a)}catch(c){return Ac(c instanceof Ih?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return o.ge===0?null:o}ct(e,r,n){return r.Ce.count===n-this.Pt(e,r.targetId)?0:2}Pt(e,r){const n=this.Ge.getRemoteKeysForTarget(r);let i=0;return n.forEach((a=>{const s=this.Ge.ht(),o=`projects/${s.projectId}/databases/${s.database}/documents/${a.path.canonicalString()}`;e.mightContain(o)||(this.et(r,a,null),i++)})),i}Tt(e){const r=new Map;this.ze.forEach(((a,s)=>{const o=this.ot(s);if(o){if(a.current&&lk(o.target)){const c=new qe(o.target.path);this.It(c).has(s)||this.Et(s,c)||this.et(s,c,dn.newNoDocument(c,e))}a.Be&&(r.set(s,a.ke()),a.Ke())}}));let n=ot();this.Je.forEach(((a,s)=>{let o=!0;s.forEachWhile((c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(o=!1,!1)})),o&&(n=n.add(a))})),this.je.forEach(((a,s)=>s.setReadTime(e)));const i=new Zv(e,r,this.Ze,this.je,n);return this.je=Ys(),this.He=Zg(),this.Je=Zg(),this.Ze=new Xt(st),i}Ye(e,r){if(!this.rt(e))return;const n=this.Et(e,r.key)?2:0;this.nt(e).qe(r.key,n),this.je=this.je.insert(r.key,r),this.He=this.He.insert(r.key,this.It(r.key).add(e)),this.Je=this.Je.insert(r.key,this.Rt(r.key).add(e))}et(e,r,n){if(!this.rt(e))return;const i=this.nt(e);this.Et(e,r)?i.qe(r,1):i.Ue(r),this.Je=this.Je.insert(r,this.Rt(r).delete(e)),this.Je=this.Je.insert(r,this.Rt(r).add(e)),n&&(this.je=this.je.insert(r,n))}removeTarget(e){this.ze.delete(e)}_t(e){const r=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+r.addedDocuments.size-r.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let r=this.ze.get(e);return r||(r=new V5,this.ze.set(e,r)),r}Rt(e){let r=this.Je.get(e);return r||(r=new Sr(st),this.Je=this.Je.insert(e,r)),r}It(e){let r=this.He.get(e);return r||(r=new Sr(st),this.He=this.He.insert(e,r)),r}rt(e){const r=this.ot(e)!==null;return r||ke("WatchChangeAggregator","Detected inactive target",e),r}ot(e){const r=this.ze.get(e);return r&&r.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new V5),this.Ge.getRemoteKeysForTarget(e).forEach((r=>{this.et(e,r,null)}))}Et(e,r){return this.Ge.getRemoteKeysForTarget(e).has(r)}}function Zg(){return new Xt(qe.comparator)}function U5(){return new Xt(qe.comparator)}const lde={asc:"ASCENDING",desc:"DESCENDING"},cde={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},ude={and:"AND",or:"OR"};class dde{constructor(e,r){this.databaseId=e,this.useProto3Json=r}}function uk(t,e){return t.useProto3Json||Wv(e)?e:{value:e}}function yy(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Jq(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function fde(t,e){return yy(t,e.toTimestamp())}function Ya(t){return wt(!!t,49232),Qe.fromTimestamp((function(r){const n=sl(r);return new Dt(n.seconds,n.nanos)})(t))}function jP(t,e){return dk(t,e).canonicalString()}function dk(t,e){const r=(function(i){return new Kt(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?r:r.child(e)}function Zq(t){const e=Kt.fromString(t);return wt(iz(e),10190,{key:e.toString()}),e}function fk(t,e){return jP(t.databaseId,e.path)}function Jw(t,e){const r=Zq(e);if(r.get(1)!==t.databaseId.projectId)throw new je(pe.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+r.get(1)+" vs "+t.databaseId.projectId);if(r.get(3)!==t.databaseId.database)throw new je(pe.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+r.get(3)+" vs "+t.databaseId.database);return new qe(tz(r))}function ez(t,e){return jP(t.databaseId,e)}function hde(t){const e=Zq(t);return e.length===4?Kt.emptyPath():tz(e)}function hk(t){return new Kt(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function tz(t){return wt(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function q5(t,e,r){return{name:fk(t,e),fields:r.value.mapValue.fields}}function pde(t,e){let r;if("targetChange"in e){e.targetChange;const n=(function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:Ge(39313,{state:d})})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(d,f){return d.useProto3Json?(wt(f===void 0||typeof f=="string",58123),Zr.fromBase64String(f||"")):(wt(f===void 0||f instanceof Buffer||f instanceof Uint8Array,16193),Zr.fromUint8Array(f||new Uint8Array))})(t,e.targetChange.resumeToken),s=e.targetChange.cause,o=s&&(function(d){const f=d.code===void 0?pe.UNKNOWN:Yq(d.code);return new je(f,d.message||"")})(s);r=new Qq(n,i,a,o||null)}else if("documentChange"in e){e.documentChange;const n=e.documentChange;n.document,n.document.name,n.document.updateTime;const i=Jw(t,n.document.name),a=Ya(n.document.updateTime),s=n.document.createTime?Ya(n.document.createTime):Qe.min(),o=new $n({mapValue:{fields:n.document.fields}}),c=dn.newFoundDocument(i,a,s,o),d=n.targetIds||[],f=n.removedTargetIds||[];r=new L0(d,f,c.key,c)}else if("documentDelete"in e){e.documentDelete;const n=e.documentDelete;n.document;const i=Jw(t,n.document),a=n.readTime?Ya(n.readTime):Qe.min(),s=dn.newNoDocument(i,a),o=n.removedTargetIds||[];r=new L0([],o,s.key,s)}else if("documentRemove"in e){e.documentRemove;const n=e.documentRemove;n.document;const i=Jw(t,n.document),a=n.removedTargetIds||[];r=new L0([],a,i,null)}else{if(!("filter"in e))return Ge(11601,{Vt:e});{e.filter;const n=e.filter;n.targetId;const{count:i=0,unchangedNames:a}=n,s=new nde(i,a),o=n.targetId;r=new Xq(o,s)}}return r}function mde(t,e){let r;if(e instanceof Zp)r={update:q5(t,e.key,e.value)};else if(e instanceof Kq)r={delete:fk(t,e.key)};else if(e instanceof vl)r={update:q5(t,e.key,e.data),updateMask:Sde(e.fieldMask)};else{if(!(e instanceof ede))return Ge(16599,{dt:e.type});r={verify:fk(t,e.key)}}return e.fieldTransforms.length>0&&(r.updateTransforms=e.fieldTransforms.map((n=>(function(a,s){const o=s.transform;if(o instanceof my)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(o instanceof yd)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:o.elements}};if(o instanceof vd)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:o.elements}};if(o instanceof gy)return{fieldPath:s.field.canonicalString(),increment:o.Ae};throw Ge(20930,{transform:s.transform})})(0,n)))),e.precondition.isNone||(r.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:fde(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Ge(27497)})(t,e.precondition)),r}function gde(t,e){return t&&t.length>0?(wt(e!==void 0,14353),t.map((r=>(function(i,a){let s=i.updateTime?Ya(i.updateTime):Ya(a);return s.isEqual(Qe.min())&&(s=Ya(a)),new Que(s,i.transformResults||[])})(r,e)))):[]}function yde(t,e){return{documents:[ez(t,e.path)]}}function vde(t,e){const r={structuredQuery:{}},n=e.path;let i;e.collectionGroup!==null?(i=n,r.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=n.popLast(),r.structuredQuery.from=[{collectionId:n.lastSegment()}]),r.parent=ez(t,i);const a=(function(d){if(d.length!==0)return nz(rs.create(d,"and"))})(e.filters);a&&(r.structuredQuery.where=a);const s=(function(d){if(d.length!==0)return d.map((f=>(function(g){return{field:Bu(g.field),direction:wde(g.dir)}})(f)))})(e.orderBy);s&&(r.structuredQuery.orderBy=s);const o=uk(t,e.limit);return o!==null&&(r.structuredQuery.limit=o),e.startAt&&(r.structuredQuery.startAt=(function(d){return{before:d.inclusive,values:d.position}})(e.startAt)),e.endAt&&(r.structuredQuery.endAt=(function(d){return{before:!d.inclusive,values:d.position}})(e.endAt)),{ft:r,parent:i}}function bde(t){let e=hde(t.parent);const r=t.structuredQuery,n=r.from?r.from.length:0;let i=null;if(n>0){wt(n===1,65062);const f=r.from[0];f.allDescendants?i=f.collectionId:e=e.child(f.collectionId)}let a=[];r.where&&(a=(function(p){const g=rz(p);return g instanceof rs&&Nq(g)?g.getFilters():[g]})(r.where));let s=[];r.orderBy&&(s=(function(p){return p.map((g=>(function(w){return new py(Wu(w.field),(function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(w.direction))})(g)))})(r.orderBy));let o=null;r.limit&&(o=(function(p){let g;return g=typeof p=="object"?p.value:p,Wv(g)?null:g})(r.limit));let c=null;r.startAt&&(c=(function(p){const g=!!p.before,b=p.values||[];return new hy(b,g)})(r.startAt));let d=null;return r.endAt&&(d=(function(p){const g=!p.before,b=p.values||[];return new hy(b,g)})(r.endAt)),Mue(e,i,s,a,o,"F",c,d)}function xde(t,e){const r=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Ge(28987,{purpose:i})}})(e.purpose);return r==null?null:{"goog-listen-tags":r}}function rz(t){return t.unaryFilter!==void 0?(function(r){switch(r.unaryFilter.op){case"IS_NAN":const n=Wu(r.unaryFilter.field);return Er.create(n,"==",{doubleValue:NaN});case"IS_NULL":const i=Wu(r.unaryFilter.field);return Er.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Wu(r.unaryFilter.field);return Er.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const s=Wu(r.unaryFilter.field);return Er.create(s,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Ge(61313);default:return Ge(60726)}})(t):t.fieldFilter!==void 0?(function(r){return Er.create(Wu(r.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Ge(58110);default:return Ge(50506)}})(r.fieldFilter.op),r.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(r){return rs.create(r.compositeFilter.filters.map((n=>rz(n))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return Ge(1026)}})(r.compositeFilter.op))})(t):Ge(30097,{filter:t})}function wde(t){return lde[t]}function _de(t){return cde[t]}function Ede(t){return ude[t]}function Bu(t){return{fieldPath:t.canonicalString()}}function Wu(t){return Xr.fromServerFormat(t.fieldPath)}function nz(t){return t instanceof Er?(function(r){if(r.op==="=="){if(P5(r.value))return{unaryFilter:{field:Bu(r.field),op:"IS_NAN"}};if(I5(r.value))return{unaryFilter:{field:Bu(r.field),op:"IS_NULL"}}}else if(r.op==="!="){if(P5(r.value))return{unaryFilter:{field:Bu(r.field),op:"IS_NOT_NAN"}};if(I5(r.value))return{unaryFilter:{field:Bu(r.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Bu(r.field),op:_de(r.op),value:r.value}}})(t):t instanceof rs?(function(r){const n=r.getFilters().map((i=>nz(i)));return n.length===1?n[0]:{compositeFilter:{op:Ede(r.op),filters:n}}})(t):Ge(54877,{filter:t})}function Sde(t){const e=[];return t.fields.forEach((r=>e.push(r.canonicalString()))),{fieldPaths:e}}function iz(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function az(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}class Bo{constructor(e,r,n,i,a=Qe.min(),s=Qe.min(),o=Zr.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=r,this.purpose=n,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=o,this.expectedCount=c}withSequenceNumber(e){return new Bo(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,r){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,r,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Bo(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class Tde{constructor(e){this.yt=e}}function Ade(t){const e=bde({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?ck(e,e.limit,"L"):e}class kde{constructor(){this.Sn=new Ide}addToCollectionParentIndex(e,r){return this.Sn.add(r),de.resolve()}getCollectionParents(e,r){return de.resolve(this.Sn.getEntries(r))}addFieldIndex(e,r){return de.resolve()}deleteFieldIndex(e,r){return de.resolve()}deleteAllFieldIndexes(e){return de.resolve()}createTargetIndexes(e,r){return de.resolve()}getDocumentsMatchingTarget(e,r){return de.resolve(null)}getIndexType(e,r){return de.resolve(0)}getFieldIndexes(e,r){return de.resolve([])}getNextCollectionGroupToUpdate(e){return de.resolve(null)}getMinOffset(e,r){return de.resolve(al.min())}getMinOffsetFromCollectionGroup(e,r){return de.resolve(al.min())}updateCollectionGroup(e,r,n){return de.resolve()}updateIndexEntries(e,r){return de.resolve()}}class Ide{constructor(){this.index={}}add(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r]||new Sr(Kt.comparator),a=!i.has(n);return this.index[r]=i.add(n),a}has(e){const r=e.lastSegment(),n=e.popLast(),i=this.index[r];return i&&i.has(n)}getEntries(e){return(this.index[e]||new Sr(Kt.comparator)).toArray()}}const z5={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},sz=41943040;class Mn{static withCacheSize(e){return new Mn(e,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,r,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=r,this.maximumSequenceNumbersToCollect=n}}Mn.DEFAULT_COLLECTION_PERCENTILE=10,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Mn.DEFAULT=new Mn(sz,Mn.DEFAULT_COLLECTION_PERCENTILE,Mn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Mn.DISABLED=new Mn(-1,0,0);class bd{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new bd(0)}static ar(){return new bd(-1)}}const B5="LruGarbageCollector",Pde=1048576;function W5([t,e],[r,n]){const i=st(t,r);return i===0?st(e,n):i}class Cde{constructor(e){this.Pr=e,this.buffer=new Sr(W5),this.Tr=0}Ir(){return++this.Tr}Er(e){const r=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(r);else{const n=this.buffer.last();W5(r,n)<0&&(this.buffer=this.buffer.delete(n).add(r))}}get maxValue(){return this.buffer.last()[0]}}class Nde{constructor(e,r,n){this.garbageCollector=e,this.asyncQueue=r,this.localStore=n,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ke(B5,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(r){Kd(r)?ke(B5,"Ignoring IndexedDB error during garbage collection: ",r):await Gd(r)}await this.Ar(3e5)}))}}class Rde{constructor(e,r){this.Vr=e,this.params=r}calculateTargetCount(e,r){return this.Vr.dr(e).next((n=>Math.floor(r/100*n)))}nthSequenceNumber(e,r){if(r===0)return de.resolve(Bv.ce);const n=new Cde(r);return this.Vr.forEachTarget(e,(i=>n.Er(i.sequenceNumber))).next((()=>this.Vr.mr(e,(i=>n.Er(i))))).next((()=>n.maxValue))}removeTargets(e,r,n){return this.Vr.removeTargets(e,r,n)}removeOrphanedDocuments(e,r){return this.Vr.removeOrphanedDocuments(e,r)}collect(e,r){return this.params.cacheSizeCollectionThreshold===-1?(ke("LruGarbageCollector","Garbage collection skipped; disabled"),de.resolve(z5)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(ke("LruGarbageCollector",`Garbage collection skipped; Cache size ${n} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),z5):this.gr(e,r)))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,r){let n,i,a,s,o,c,d;const f=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((p=>(p>this.params.maximumSequenceNumbersToCollect?(ke("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${p}`),i=this.params.maximumSequenceNumbersToCollect):i=p,s=Date.now(),this.nthSequenceNumber(e,i)))).next((p=>(n=p,o=Date.now(),this.removeTargets(e,n,r)))).next((p=>(a=p,c=Date.now(),this.removeOrphanedDocuments(e,n)))).next((p=>(d=Date.now(),qu()<=at.DEBUG&&ke("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${s-f}ms
	Determined least recently used ${i} in `+(o-s)+`ms
	Removed ${a} targets in `+(c-o)+`ms
	Removed ${p} documents in `+(d-c)+`ms
Total Duration: ${d-f}ms`),de.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:a,documentsRemoved:p}))))}}function Ode(t,e){return new Rde(t,e)}class jde{constructor(){this.changes=new Gc((e=>e.toString()),((e,r)=>e.isEqual(r))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,r){this.assertNotApplied(),this.changes.set(e,dn.newInvalidDocument(e).setReadTime(r))}getEntry(e,r){this.assertNotApplied();const n=this.changes.get(r);return n!==void 0?de.resolve(n):this.getFromCache(e,r)}getEntries(e,r){return this.getAllFromCache(e,r)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Dde{constructor(e,r){this.overlayedDocument=e,this.mutatedFields=r}}class Mde{constructor(e,r,n,i){this.remoteDocumentCache=e,this.mutationQueue=r,this.documentOverlayCache=n,this.indexManager=i}getDocument(e,r){let n=null;return this.documentOverlayCache.getOverlay(e,r).next((i=>(n=i,this.remoteDocumentCache.getEntry(e,r)))).next((i=>(n!==null&&Hh(n.mutation,i,oi.empty(),Dt.now()),i)))}getDocuments(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.getLocalViewOfDocuments(e,n,ot()).next((()=>n))))}getLocalViewOfDocuments(e,r,n=ot()){const i=ic();return this.populateOverlays(e,i,r).next((()=>this.computeViews(e,r,i,n).next((a=>{let s=kh();return a.forEach(((o,c)=>{s=s.insert(o,c.overlayedDocument)})),s}))))}getOverlayedDocuments(e,r){const n=ic();return this.populateOverlays(e,n,r).next((()=>this.computeViews(e,r,n,ot())))}populateOverlays(e,r,n){const i=[];return n.forEach((a=>{r.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((s,o)=>{r.set(s,o)}))}))}computeViews(e,r,n,i){let a=Ys();const s=Wh(),o=(function(){return Wh()})();return r.forEach(((c,d)=>{const f=n.get(d.key);i.has(d.key)&&(f===void 0||f.mutation instanceof vl)?a=a.insert(d.key,d):f!==void 0?(s.set(d.key,f.mutation.getFieldMask()),Hh(f.mutation,d,f.mutation.getFieldMask(),Dt.now())):s.set(d.key,oi.empty())})),this.recalculateAndSaveOverlays(e,a).next((c=>(c.forEach(((d,f)=>s.set(d,f))),r.forEach(((d,f)=>o.set(d,new Dde(f,s.get(d)??null)))),o)))}recalculateAndSaveOverlays(e,r){const n=Wh();let i=new Xt(((s,o)=>s-o)),a=ot();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,r).next((s=>{for(const o of s)o.keys().forEach((c=>{const d=r.get(c);if(d===null)return;let f=n.get(c)||oi.empty();f=o.applyToLocalView(d,f),n.set(c,f);const p=(i.get(o.batchId)||ot()).add(c);i=i.insert(o.batchId,p)}))})).next((()=>{const s=[],o=i.getReverseIterator();for(;o.hasNext();){const c=o.getNext(),d=c.key,f=c.value,p=$q();f.forEach((g=>{if(!a.has(g)){const b=Hq(r.get(g),n.get(g));b!==null&&p.set(g,b),a=a.add(g)}})),s.push(this.documentOverlayCache.saveOverlays(e,d,p))}return de.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,r){return this.remoteDocumentCache.getEntries(e,r).next((n=>this.recalculateAndSaveOverlays(e,n)))}getDocumentsMatchingQuery(e,r,n,i){return Lue(r)?this.getDocumentsMatchingDocumentQuery(e,r.path):Fue(r)?this.getDocumentsMatchingCollectionGroupQuery(e,r,n,i):this.getDocumentsMatchingCollectionQuery(e,r,n,i)}getNextDocuments(e,r,n,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,r,n,i).next((a=>{const s=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,r,n.largestBatchId,i-a.size):de.resolve(ic());let o=op,c=a;return s.next((d=>de.forEach(d,((f,p)=>(o<p.largestBatchId&&(o=p.largestBatchId),a.get(f)?de.resolve():this.remoteDocumentCache.getEntry(e,f).next((g=>{c=c.insert(f,g)}))))).next((()=>this.populateOverlays(e,d,a))).next((()=>this.computeViews(e,c,d,ot()))).next((f=>({batchId:o,changes:Fq(f)})))))}))}getDocumentsMatchingDocumentQuery(e,r){return this.getDocument(e,new qe(r)).next((n=>{let i=kh();return n.isFoundDocument()&&(i=i.insert(n.key,n)),i}))}getDocumentsMatchingCollectionGroupQuery(e,r,n,i){const a=r.collectionGroup;let s=kh();return this.indexManager.getCollectionParents(e,a).next((o=>de.forEach(o,(c=>{const d=(function(p,g){return new Gv(g,null,p.explicitOrderBy.slice(),p.filters.slice(),p.limit,p.limitType,p.startAt,p.endAt)})(r,c.child(a));return this.getDocumentsMatchingCollectionQuery(e,d,n,i).next((f=>{f.forEach(((p,g)=>{s=s.insert(p,g)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,r,n,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,r.path,n.largestBatchId).next((s=>(a=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,r,n,a,i)))).next((s=>{a.forEach(((c,d)=>{const f=d.getKey();s.get(f)===null&&(s=s.insert(f,dn.newInvalidDocument(f)))}));let o=kh();return s.forEach(((c,d)=>{const f=a.get(c);f!==void 0&&Hh(f.mutation,d,oi.empty(),Dt.now()),Xv(r,d)&&(o=o.insert(c,d))})),o}))}}class Lde{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,r){return de.resolve(this.Nr.get(r))}saveBundleMetadata(e,r){return this.Nr.set(r.id,(function(i){return{id:i.id,version:i.version,createTime:Ya(i.createTime)}})(r)),de.resolve()}getNamedQuery(e,r){return de.resolve(this.Br.get(r))}saveNamedQuery(e,r){return this.Br.set(r.name,(function(i){return{name:i.name,query:Ade(i.bundledQuery),readTime:Ya(i.readTime)}})(r)),de.resolve()}}class Fde{constructor(){this.overlays=new Xt(qe.comparator),this.Lr=new Map}getOverlay(e,r){return de.resolve(this.overlays.get(r))}getOverlays(e,r){const n=ic();return de.forEach(r,(i=>this.getOverlay(e,i).next((a=>{a!==null&&n.set(i,a)})))).next((()=>n))}saveOverlays(e,r,n){return n.forEach(((i,a)=>{this.bt(e,r,a)})),de.resolve()}removeOverlaysForBatchId(e,r,n){const i=this.Lr.get(n);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Lr.delete(n)),de.resolve()}getOverlaysForCollection(e,r,n){const i=ic(),a=r.length+1,s=new qe(r.child("")),o=this.overlays.getIteratorFrom(s);for(;o.hasNext();){const c=o.getNext().value,d=c.getKey();if(!r.isPrefixOf(d.path))break;d.path.length===a&&c.largestBatchId>n&&i.set(c.getKey(),c)}return de.resolve(i)}getOverlaysForCollectionGroup(e,r,n,i){let a=new Xt(((d,f)=>d-f));const s=this.overlays.getIterator();for(;s.hasNext();){const d=s.getNext().value;if(d.getKey().getCollectionGroup()===r&&d.largestBatchId>n){let f=a.get(d.largestBatchId);f===null&&(f=ic(),a=a.insert(d.largestBatchId,f)),f.set(d.getKey(),d)}}const o=ic(),c=a.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach(((d,f)=>o.set(d,f))),!(o.size()>=i)););return de.resolve(o)}bt(e,r,n){const i=this.overlays.get(n.key);if(i!==null){const s=this.Lr.get(i.largestBatchId).delete(n.key);this.Lr.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(n.key,new rde(r,n));let a=this.Lr.get(r);a===void 0&&(a=ot(),this.Lr.set(r,a)),this.Lr.set(r,a.add(n.key))}}class $de{constructor(){this.sessionToken=Zr.EMPTY_BYTE_STRING}getSessionToken(e){return de.resolve(this.sessionToken)}setSessionToken(e,r){return this.sessionToken=r,de.resolve()}}class DP{constructor(){this.kr=new Sr(Or.Kr),this.qr=new Sr(Or.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,r){const n=new Or(e,r);this.kr=this.kr.add(n),this.qr=this.qr.add(n)}$r(e,r){e.forEach((n=>this.addReference(n,r)))}removeReference(e,r){this.Wr(new Or(e,r))}Qr(e,r){e.forEach((n=>this.removeReference(n,r)))}Gr(e){const r=new qe(new Kt([])),n=new Or(r,e),i=new Or(r,e+1),a=[];return this.qr.forEachInRange([n,i],(s=>{this.Wr(s),a.push(s.key)})),a}zr(){this.kr.forEach((e=>this.Wr(e)))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const r=new qe(new Kt([])),n=new Or(r,e),i=new Or(r,e+1);let a=ot();return this.qr.forEachInRange([n,i],(s=>{a=a.add(s.key)})),a}containsKey(e){const r=new Or(e,0),n=this.kr.firstAfterOrEqual(r);return n!==null&&e.isEqual(n.key)}}class Or{constructor(e,r){this.key=e,this.Hr=r}static Kr(e,r){return qe.comparator(e.key,r.key)||st(e.Hr,r.Hr)}static Ur(e,r){return st(e.Hr,r.Hr)||qe.comparator(e.key,r.key)}}class Vde{constructor(e,r){this.indexManager=e,this.referenceDelegate=r,this.mutationQueue=[],this.Yn=1,this.Jr=new Sr(Or.Kr)}checkEmpty(e){return de.resolve(this.mutationQueue.length===0)}addMutationBatch(e,r,n,i){const a=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new tde(a,r,n,i);this.mutationQueue.push(s);for(const o of i)this.Jr=this.Jr.add(new Or(o.key,a)),this.indexManager.addToCollectionParentIndex(e,o.key.path.popLast());return de.resolve(s)}lookupMutationBatch(e,r){return de.resolve(this.Zr(r))}getNextMutationBatchAfterBatchId(e,r){const n=r+1,i=this.Xr(n),a=i<0?0:i;return de.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return de.resolve(this.mutationQueue.length===0?AP:this.Yn-1)}getAllMutationBatches(e){return de.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,r){const n=new Or(r,0),i=new Or(r,Number.POSITIVE_INFINITY),a=[];return this.Jr.forEachInRange([n,i],(s=>{const o=this.Zr(s.Hr);a.push(o)})),de.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,r){let n=new Sr(st);return r.forEach((i=>{const a=new Or(i,0),s=new Or(i,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([a,s],(o=>{n=n.add(o.Hr)}))})),de.resolve(this.Yr(n))}getAllMutationBatchesAffectingQuery(e,r){const n=r.path,i=n.length+1;let a=n;qe.isDocumentKey(a)||(a=a.child(""));const s=new Or(new qe(a),0);let o=new Sr(st);return this.Jr.forEachWhile((c=>{const d=c.key.path;return!!n.isPrefixOf(d)&&(d.length===i&&(o=o.add(c.Hr)),!0)}),s),de.resolve(this.Yr(o))}Yr(e){const r=[];return e.forEach((n=>{const i=this.Zr(n);i!==null&&r.push(i)})),r}removeMutationBatch(e,r){wt(this.ei(r.batchId,"removed")===0,55003),this.mutationQueue.shift();let n=this.Jr;return de.forEach(r.mutations,(i=>{const a=new Or(i.key,r.batchId);return n=n.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Jr=n}))}nr(e){}containsKey(e,r){const n=new Or(r,0),i=this.Jr.firstAfterOrEqual(n);return de.resolve(r.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,de.resolve()}ei(e,r){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const r=this.Xr(e);return r<0||r>=this.mutationQueue.length?null:this.mutationQueue[r]}}class Ude{constructor(e){this.ti=e,this.docs=(function(){return new Xt(qe.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,r){const n=r.key,i=this.docs.get(n),a=i?i.size:0,s=this.ti(r);return this.docs=this.docs.insert(n,{document:r.mutableCopy(),size:s}),this.size+=s-a,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const r=this.docs.get(e);r&&(this.docs=this.docs.remove(e),this.size-=r.size)}getEntry(e,r){const n=this.docs.get(r);return de.resolve(n?n.document.mutableCopy():dn.newInvalidDocument(r))}getEntries(e,r){let n=Ys();return r.forEach((i=>{const a=this.docs.get(i);n=n.insert(i,a?a.document.mutableCopy():dn.newInvalidDocument(i))})),de.resolve(n)}getDocumentsMatchingQuery(e,r,n,i){let a=Ys();const s=r.path,o=new qe(s.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(o);for(;c.hasNext();){const{key:d,value:{document:f}}=c.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||hue(fue(f),n)<=0||(i.has(f.key)||Xv(r,f))&&(a=a.insert(f.key,f.mutableCopy()))}return de.resolve(a)}getAllFromCollectionGroup(e,r,n,i){Ge(9500)}ni(e,r){return de.forEach(this.docs,(n=>r(n)))}newChangeBuffer(e){return new qde(this)}getSize(e){return de.resolve(this.size)}}class qde extends jde{constructor(e){super(),this.Mr=e}applyChanges(e){const r=[];return this.changes.forEach(((n,i)=>{i.isValidDocument()?r.push(this.Mr.addEntry(e,i)):this.Mr.removeEntry(n)})),de.waitFor(r)}getFromCache(e,r){return this.Mr.getEntry(e,r)}getAllFromCache(e,r){return this.Mr.getEntries(e,r)}}class zde{constructor(e){this.persistence=e,this.ri=new Gc((r=>PP(r)),CP),this.lastRemoteSnapshotVersion=Qe.min(),this.highestTargetId=0,this.ii=0,this.si=new DP,this.targetCount=0,this.oi=bd._r()}forEachTarget(e,r){return this.ri.forEach(((n,i)=>r(i))),de.resolve()}getLastRemoteSnapshotVersion(e){return de.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return de.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),de.resolve(this.highestTargetId)}setTargetsMetadata(e,r,n){return n&&(this.lastRemoteSnapshotVersion=n),r>this.ii&&(this.ii=r),de.resolve()}lr(e){this.ri.set(e.target,e);const r=e.targetId;r>this.highestTargetId&&(this.oi=new bd(r),this.highestTargetId=r),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,r){return this.lr(r),this.targetCount+=1,de.resolve()}updateTargetData(e,r){return this.lr(r),de.resolve()}removeTargetData(e,r){return this.ri.delete(r.target),this.si.Gr(r.targetId),this.targetCount-=1,de.resolve()}removeTargets(e,r,n){let i=0;const a=[];return this.ri.forEach(((s,o)=>{o.sequenceNumber<=r&&n.get(o.targetId)===null&&(this.ri.delete(s),a.push(this.removeMatchingKeysForTargetId(e,o.targetId)),i++)})),de.waitFor(a).next((()=>i))}getTargetCount(e){return de.resolve(this.targetCount)}getTargetData(e,r){const n=this.ri.get(r)||null;return de.resolve(n)}addMatchingKeys(e,r,n){return this.si.$r(r,n),de.resolve()}removeMatchingKeys(e,r,n){this.si.Qr(r,n);const i=this.persistence.referenceDelegate,a=[];return i&&r.forEach((s=>{a.push(i.markPotentiallyOrphaned(e,s))})),de.waitFor(a)}removeMatchingKeysForTargetId(e,r){return this.si.Gr(r),de.resolve()}getMatchingKeysForTargetId(e,r){const n=this.si.jr(r);return de.resolve(n)}containsKey(e,r){return de.resolve(this.si.containsKey(r))}}class oz{constructor(e,r){this._i={},this.overlays={},this.ai=new Bv(0),this.ui=!1,this.ui=!0,this.ci=new $de,this.referenceDelegate=e(this),this.li=new zde(this),this.indexManager=new kde,this.remoteDocumentCache=(function(i){return new Ude(i)})((n=>this.referenceDelegate.hi(n))),this.serializer=new Tde(r),this.Pi=new Lde(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let r=this.overlays[e.toKey()];return r||(r=new Fde,this.overlays[e.toKey()]=r),r}getMutationQueue(e,r){let n=this._i[e.toKey()];return n||(n=new Vde(r,this.referenceDelegate),this._i[e.toKey()]=n),n}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,r,n){ke("MemoryPersistence","Starting transaction:",e);const i=new Bde(this.ai.next());return this.referenceDelegate.Ti(),n(i).next((a=>this.referenceDelegate.Ii(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}Ei(e,r){return de.or(Object.values(this._i).map((n=>()=>n.containsKey(e,r))))}}class Bde extends mue{constructor(e){super(),this.currentSequenceNumber=e}}class MP{constructor(e){this.persistence=e,this.Ri=new DP,this.Ai=null}static Vi(e){return new MP(e)}get di(){if(this.Ai)return this.Ai;throw Ge(60996)}addReference(e,r,n){return this.Ri.addReference(n,r),this.di.delete(n.toString()),de.resolve()}removeReference(e,r,n){return this.Ri.removeReference(n,r),this.di.add(n.toString()),de.resolve()}markPotentiallyOrphaned(e,r){return this.di.add(r.toString()),de.resolve()}removeTarget(e,r){this.Ri.Gr(r.targetId).forEach((i=>this.di.add(i.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,r.targetId).next((i=>{i.forEach((a=>this.di.add(a.toString())))})).next((()=>n.removeTargetData(e,r)))}Ti(){this.Ai=new Set}Ii(e){const r=this.persistence.getRemoteDocumentCache().newChangeBuffer();return de.forEach(this.di,(n=>{const i=qe.fromPath(n);return this.mi(e,i).next((a=>{a||r.removeEntry(i,Qe.min())}))})).next((()=>(this.Ai=null,r.apply(e))))}updateLimboDocument(e,r){return this.mi(e,r).next((n=>{n?this.di.delete(r.toString()):this.di.add(r.toString())}))}hi(e){return 0}mi(e,r){return de.or([()=>de.resolve(this.Ri.containsKey(r)),()=>this.persistence.getTargetCache().containsKey(e,r),()=>this.persistence.Ei(e,r)])}}class vy{constructor(e,r){this.persistence=e,this.fi=new Gc((n=>vue(n.path)),((n,i)=>n.isEqual(i))),this.garbageCollector=Ode(this,r)}static Vi(e,r){return new vy(e,r)}Ti(){}Ii(e){return de.resolve()}forEachTarget(e,r){return this.persistence.getTargetCache().forEachTarget(e,r)}dr(e){const r=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next((n=>r.next((i=>n+i))))}pr(e){let r=0;return this.mr(e,(n=>{r++})).next((()=>r))}mr(e,r){return de.forEach(this.fi,((n,i)=>this.wr(e,n,i).next((a=>a?de.resolve():r(i)))))}removeTargets(e,r,n){return this.persistence.getTargetCache().removeTargets(e,r,n)}removeOrphanedDocuments(e,r){let n=0;const i=this.persistence.getRemoteDocumentCache(),a=i.newChangeBuffer();return i.ni(e,(s=>this.wr(e,s,r).next((o=>{o||(n++,a.removeEntry(s,Qe.min()))})))).next((()=>a.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,r){return this.fi.set(r,e.currentSequenceNumber),de.resolve()}removeTarget(e,r){const n=r.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,r,n){return this.fi.set(n,e.currentSequenceNumber),de.resolve()}removeReference(e,r,n){return this.fi.set(n,e.currentSequenceNumber),de.resolve()}updateLimboDocument(e,r){return this.fi.set(r,e.currentSequenceNumber),de.resolve()}hi(e){let r=e.key.toString().length;return e.isFoundDocument()&&(r+=j0(e.data.value)),r}wr(e,r,n){return de.or([()=>this.persistence.Ei(e,r),()=>this.persistence.getTargetCache().containsKey(e,r),()=>{const i=this.fi.get(r);return de.resolve(i!==void 0&&i>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class LP{constructor(e,r,n,i){this.targetId=e,this.fromCache=r,this.Ts=n,this.Is=i}static Es(e,r){let n=ot(),i=ot();for(const a of r.docChanges)switch(a.type){case 0:n=n.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new LP(e,r.fromCache,n,i)}}class Wde{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Hde{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=(function(){return Fne()?8:gue(mn())>0?6:4})()}initialize(e,r){this.fs=e,this.indexManager=r,this.Rs=!0}getDocumentsMatchingQuery(e,r,n,i){const a={result:null};return this.gs(e,r).next((s=>{a.result=s})).next((()=>{if(!a.result)return this.ps(e,r,i,n).next((s=>{a.result=s}))})).next((()=>{if(a.result)return;const s=new Wde;return this.ys(e,r,s).next((o=>{if(a.result=o,this.As)return this.ws(e,r,s,o.size)}))})).next((()=>a.result))}ws(e,r,n,i){return n.documentReadCount<this.Vs?(qu()<=at.DEBUG&&ke("QueryEngine","SDK will not create cache indexes for query:",zu(r),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),de.resolve()):(qu()<=at.DEBUG&&ke("QueryEngine","Query:",zu(r),"scans",n.documentReadCount,"local documents and returns",i,"documents as results."),n.documentReadCount>this.ds*i?(qu()<=at.DEBUG&&ke("QueryEngine","The SDK decides to create cache indexes for query:",zu(r),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ga(r))):de.resolve())}gs(e,r){if(O5(r))return de.resolve(null);let n=Ga(r);return this.indexManager.getIndexType(e,n).next((i=>i===0?null:(r.limit!==null&&i===1&&(r=ck(r,null,"F"),n=Ga(r)),this.indexManager.getDocumentsMatchingTarget(e,n).next((a=>{const s=ot(...a);return this.fs.getDocuments(e,s).next((o=>this.indexManager.getMinOffset(e,n).next((c=>{const d=this.bs(r,o);return this.Ss(r,d,s,c.readTime)?this.gs(e,ck(r,null,"F")):this.Ds(e,d,r,c)}))))})))))}ps(e,r,n,i){return O5(r)||i.isEqual(Qe.min())?de.resolve(null):this.fs.getDocuments(e,n).next((a=>{const s=this.bs(r,a);return this.Ss(r,s,n,i)?de.resolve(null):(qu()<=at.DEBUG&&ke("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),zu(r)),this.Ds(e,s,r,due(i,op)).next((o=>o)))}))}bs(e,r){let n=new Sr(Mq(e));return r.forEach(((i,a)=>{Xv(e,a)&&(n=n.add(a))})),n}Ss(e,r,n,i){if(e.limit===null)return!1;if(n.size!==r.size)return!0;const a=e.limitType==="F"?r.last():r.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}ys(e,r,n){return qu()<=at.DEBUG&&ke("QueryEngine","Using full collection scan to execute query:",zu(r)),this.fs.getDocumentsMatchingQuery(e,r,al.min(),n)}Ds(e,r,n,i){return this.fs.getDocumentsMatchingQuery(e,n,i).next((a=>(r.forEach((s=>{a=a.insert(s.key,s)})),a)))}}const FP="LocalStore",Gde=3e8;class Kde{constructor(e,r,n,i){this.persistence=e,this.Cs=r,this.serializer=i,this.vs=new Xt(st),this.Fs=new Gc((a=>PP(a)),CP),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(n)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Mde(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(r=>e.collect(r,this.vs)))}}function Yde(t,e,r,n){return new Kde(t,e,r,n)}async function lz(t,e){const r=et(t);return await r.persistence.runTransaction("Handle user change","readonly",(n=>{let i;return r.mutationQueue.getAllMutationBatches(n).next((a=>(i=a,r.Os(e),r.mutationQueue.getAllMutationBatches(n)))).next((a=>{const s=[],o=[];let c=ot();for(const d of i){s.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}for(const d of a){o.push(d.batchId);for(const f of d.mutations)c=c.add(f.key)}return r.localDocuments.getDocuments(n,c).next((d=>({Ns:d,removedBatchIds:s,addedBatchIds:o})))}))}))}function Xde(t,e){const r=et(t);return r.persistence.runTransaction("Acknowledge batch","readwrite-primary",(n=>{const i=e.batch.keys(),a=r.xs.newChangeBuffer({trackRemovals:!0});return(function(o,c,d,f){const p=d.batch,g=p.keys();let b=de.resolve();return g.forEach((w=>{b=b.next((()=>f.getEntry(c,w))).next((_=>{const x=d.docVersions.get(w);wt(x!==null,48541),_.version.compareTo(x)<0&&(p.applyToRemoteDocument(_,d),_.isValidDocument()&&(_.setReadTime(d.commitVersion),f.addEntry(_)))}))})),b.next((()=>o.mutationQueue.removeMutationBatch(c,p)))})(r,n,e,a).next((()=>a.apply(n))).next((()=>r.mutationQueue.performConsistencyCheck(n))).next((()=>r.documentOverlayCache.removeOverlaysForBatchId(n,i,e.batch.batchId))).next((()=>r.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(n,(function(o){let c=ot();for(let d=0;d<o.mutationResults.length;++d)o.mutationResults[d].transformResults.length>0&&(c=c.add(o.batch.mutations[d].key));return c})(e)))).next((()=>r.localDocuments.getDocuments(n,i)))}))}function cz(t){const e=et(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(r=>e.li.getLastRemoteSnapshotVersion(r)))}function Qde(t,e){const r=et(t),n=e.snapshotVersion;let i=r.vs;return r.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const s=r.xs.newChangeBuffer({trackRemovals:!0});i=r.vs;const o=[];e.targetChanges.forEach(((f,p)=>{const g=i.get(p);if(!g)return;o.push(r.li.removeMatchingKeys(a,f.removedDocuments,p).next((()=>r.li.addMatchingKeys(a,f.addedDocuments,p))));let b=g.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(p)!==null?b=b.withResumeToken(Zr.EMPTY_BYTE_STRING,Qe.min()).withLastLimboFreeSnapshotVersion(Qe.min()):f.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(f.resumeToken,n)),i=i.insert(p,b),(function(_,x,T){return _.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-_.snapshotVersion.toMicroseconds()>=Gde?!0:T.addedDocuments.size+T.modifiedDocuments.size+T.removedDocuments.size>0})(g,b,f)&&o.push(r.li.updateTargetData(a,b))}));let c=Ys(),d=ot();if(e.documentUpdates.forEach((f=>{e.resolvedLimboDocuments.has(f)&&o.push(r.persistence.referenceDelegate.updateLimboDocument(a,f))})),o.push(Jde(a,s,e.documentUpdates).next((f=>{c=f.Bs,d=f.Ls}))),!n.isEqual(Qe.min())){const f=r.li.getLastRemoteSnapshotVersion(a).next((p=>r.li.setTargetsMetadata(a,a.currentSequenceNumber,n)));o.push(f)}return de.waitFor(o).next((()=>s.apply(a))).next((()=>r.localDocuments.getLocalViewOfDocuments(a,c,d))).next((()=>c))})).then((a=>(r.vs=i,a)))}function Jde(t,e,r){let n=ot(),i=ot();return r.forEach((a=>n=n.add(a))),e.getEntries(t,n).next((a=>{let s=Ys();return r.forEach(((o,c)=>{const d=a.get(o);c.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(o)),c.isNoDocument()&&c.version.isEqual(Qe.min())?(e.removeEntry(o,c.readTime),s=s.insert(o,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),s=s.insert(o,c)):ke(FP,"Ignoring outdated watch update for ",o,". Current version:",d.version," Watch version:",c.version)})),{Bs:s,Ls:i}}))}function Zde(t,e){const r=et(t);return r.persistence.runTransaction("Get next mutation batch","readonly",(n=>(e===void 0&&(e=AP),r.mutationQueue.getNextMutationBatchAfterBatchId(n,e))))}function efe(t,e){const r=et(t);return r.persistence.runTransaction("Allocate target","readwrite",(n=>{let i;return r.li.getTargetData(n,e).next((a=>a?(i=a,de.resolve(i)):r.li.allocateTargetId(n).next((s=>(i=new Bo(e,s,"TargetPurposeListen",n.currentSequenceNumber),r.li.addTargetData(n,i).next((()=>i)))))))})).then((n=>{const i=r.vs.get(n.targetId);return(i===null||n.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(r.vs=r.vs.insert(n.targetId,n),r.Fs.set(e,n.targetId)),n}))}async function pk(t,e,r){const n=et(t),i=n.vs.get(e),a=r?"readwrite":"readwrite-primary";try{r||await n.persistence.runTransaction("Release target",a,(s=>n.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Kd(s))throw s;ke(FP,`Failed to update sequence numbers for target ${e}: ${s}`)}n.vs=n.vs.remove(e),n.Fs.delete(i.target)}function H5(t,e,r){const n=et(t);let i=Qe.min(),a=ot();return n.persistence.runTransaction("Execute query","readwrite",(s=>(function(c,d,f){const p=et(c),g=p.Fs.get(f);return g!==void 0?de.resolve(p.vs.get(g)):p.li.getTargetData(d,f)})(n,s,Ga(e)).next((o=>{if(o)return i=o.lastLimboFreeSnapshotVersion,n.li.getMatchingKeysForTargetId(s,o.targetId).next((c=>{a=c}))})).next((()=>n.Cs.getDocumentsMatchingQuery(s,e,r?i:Qe.min(),r?a:ot()))).next((o=>(tfe(n,Vue(e),o),{documents:o,ks:a})))))}function tfe(t,e,r){let n=t.Ms.get(e)||Qe.min();r.forEach(((i,a)=>{a.readTime.compareTo(n)>0&&(n=a.readTime)})),t.Ms.set(e,n)}class G5{constructor(){this.activeTargetIds=Hue()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rfe{constructor(){this.vo=new G5,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,r,n){}addLocalQueryTarget(e,r=!0){return r&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,r,n){this.Fo[e]=r}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new G5,Promise.resolve()}handleUserChange(e,r,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class nfe{Mo(e){}shutdown(){}}const K5="ConnectivityMonitor";class Y5{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ke(K5,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ke(K5,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}let e0=null;function mk(){return e0===null?e0=(function(){return 268435456+Math.round(2147483648*Math.random())})():e0++,"0x"+e0.toString(16)}const Zw="RestConnection",ife={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class afe{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const r=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),i=encodeURIComponent(this.databaseId.database);this.qo=r+"://"+e.host,this.Uo=`projects/${n}/databases/${i}`,this.$o=this.databaseId.database===dy?`project_id=${n}`:`project_id=${n}&database_id=${i}`}Wo(e,r,n,i,a){const s=mk(),o=this.Qo(e,r.toUriEncodedString());ke(Zw,`Sending RPC '${e}' ${s}:`,o,n);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,i,a);const{host:d}=new URL(o),f=Fd(d);return this.zo(e,o,c,n,f).then((p=>(ke(Zw,`Received RPC '${e}' ${s}: `,p),p)),(p=>{throw Ac(Zw,`RPC '${e}' ${s} failed with error: `,p,"url: ",o,"request:",n),p}))}jo(e,r,n,i,a,s){return this.Wo(e,r,n,i,a)}Go(e,r,n){e["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+Hd})(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((i,a)=>e[a]=i)),n&&n.headers.forEach(((i,a)=>e[a]=i))}Qo(e,r){const n=ife[e];let i=`${this.qo}/v1/${r}:${n}`;return this.databaseInfo.apiKey&&(i=`${i}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),i}terminate(){}}class sfe{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}const ln="WebChannelConnection",sh=(t,e,r)=>{t.listen(e,(n=>{try{r(n)}catch(i){setTimeout((()=>{throw i}),0)}}))};class rd extends afe{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!rd.c_){const e=pq();sh(e,hq.STAT_EVENT,(r=>{r.stat===nk.PROXY?ke(ln,"STAT_EVENT: detected buffering proxy"):r.stat===nk.NOPROXY&&ke(ln,"STAT_EVENT: detected no buffering proxy")})),rd.c_=!0}}zo(e,r,n,i,a){const s=mk();return new Promise(((o,c)=>{const d=new dq;d.setWithCredentials(!0),d.listenOnce(fq.COMPLETE,(()=>{try{switch(d.getLastErrorCode()){case O0.NO_ERROR:const p=d.getResponseJson();ke(ln,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case O0.TIMEOUT:ke(ln,`RPC '${e}' ${s} timed out`),c(new je(pe.DEADLINE_EXCEEDED,"Request time out"));break;case O0.HTTP_ERROR:const g=d.getStatus();if(ke(ln,`RPC '${e}' ${s} failed with status:`,g,"response text:",d.getResponseText()),g>0){let b=d.getResponseJson();Array.isArray(b)&&(b=b[0]);const w=b?.error;if(w&&w.status&&w.message){const _=(function(T){const I=T.toLowerCase().replace(/_/g,"-");return Object.values(pe).indexOf(I)>=0?I:pe.UNKNOWN})(w.status);c(new je(_,w.message))}else c(new je(pe.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new je(pe.UNAVAILABLE,"Connection failed."));break;default:Ge(9055,{l_:e,streamId:s,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ke(ln,`RPC '${e}' ${s} completed.`)}}));const f=JSON.stringify(i);ke(ln,`RPC '${e}' ${s} sending request:`,i),d.send(r,"POST",f,n,15)}))}T_(e,r,n){const i=mk(),a=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=this.createWebChannelTransport(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(o.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Go(o.initMessageHeaders,r,n),o.encodeInitMessageHeaders=!0;const d=a.join("");ke(ln,`Creating RPC '${e}' stream ${i}: ${d}`,o);const f=s.createWebChannel(d,o);this.I_(f);let p=!1,g=!1;const b=new sfe({Ho:w=>{g?ke(ln,`Not sending because RPC '${e}' stream ${i} is closed:`,w):(p||(ke(ln,`Opening RPC '${e}' stream ${i} transport.`),f.open(),p=!0),ke(ln,`RPC '${e}' stream ${i} sending:`,w),f.send(w))},Jo:()=>f.close()});return sh(f,Ah.EventType.OPEN,(()=>{g||(ke(ln,`RPC '${e}' stream ${i} transport opened.`),b.i_())})),sh(f,Ah.EventType.CLOSE,(()=>{g||(g=!0,ke(ln,`RPC '${e}' stream ${i} transport closed`),b.o_(),this.E_(f))})),sh(f,Ah.EventType.ERROR,(w=>{g||(g=!0,Ac(ln,`RPC '${e}' stream ${i} transport errored. Name:`,w.name,"Message:",w.message),b.o_(new je(pe.UNAVAILABLE,"The operation could not be completed")))})),sh(f,Ah.EventType.MESSAGE,(w=>{if(!g){const _=w.data[0];wt(!!_,16349);const x=_,T=x?.error||x[0]?.error;if(T){ke(ln,`RPC '${e}' stream ${i} received error:`,T);const I=T.status;let P=(function(V){const C=pr[V];if(C!==void 0)return Yq(C)})(I),j=T.message;I==="NOT_FOUND"&&j.includes("database")&&j.includes("does not exist")&&j.includes(this.databaseId.database)&&Ac(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),P===void 0&&(P=pe.INTERNAL,j="Unknown error status: "+I+" with message "+T.message),g=!0,b.o_(new je(P,j)),f.close()}else ke(ln,`RPC '${e}' stream ${i} received:`,_),b.__(_)}})),rd.u_(),setTimeout((()=>{b.s_()}),0),b}terminate(){this.a_.forEach((e=>e.close())),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter((r=>r===e))}Go(e,r,n){super.Go(e,r,n),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return mq()}}function ofe(t){return new rd(t)}function e_(){return typeof document<"u"?document:null}function eb(t){return new dde(t,!0)}rd.c_=!1;class uz{constructor(e,r,n=1e3,i=1.5,a=6e4){this.Ci=e,this.timerId=r,this.R_=n,this.A_=i,this.V_=a,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const r=Math.floor(this.d_+this.y_()),n=Math.max(0,Date.now()-this.f_),i=Math.max(0,r-n);i>0&&ke("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.d_} ms, delay with jitter: ${r} ms, last attempt: ${n} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,i,(()=>(this.f_=Date.now(),e()))),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}const X5="PersistentStream";class dz{constructor(e,r,n,i,a,s,o,c){this.Ci=e,this.b_=n,this.S_=i,this.connection=a,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=o,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new uz(e,r)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,(()=>this.k_())))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,r){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():r&&r.code===pe.RESOURCE_EXHAUSTED?(Ks(r.toString()),Ks("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):r&&r.code===pe.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(r)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),r=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([n,i])=>{this.D_===r&&this.G_(n,i)}),(n=>{e((()=>{const i=new je(pe.UNKNOWN,"Fetching auth token failed: "+n.message);return this.z_(i)}))}))}G_(e,r){const n=this.Q_(this.D_);this.stream=this.j_(e,r),this.stream.Zo((()=>{n((()=>this.listener.Zo()))})),this.stream.Yo((()=>{n((()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,(()=>(this.O_()&&(this.state=3),Promise.resolve()))),this.listener.Yo())))})),this.stream.t_((i=>{n((()=>this.z_(i)))})),this.stream.onMessage((i=>{n((()=>++this.F_==1?this.H_(i):this.onNext(i)))}))}N_(){this.state=5,this.M_.p_((async()=>{this.state=0,this.start()}))}z_(e){return ke(X5,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return r=>{this.Ci.enqueueAndForget((()=>this.D_===e?r():(ke(X5,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class lfe extends dz{constructor(e,r,n,i,a,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}j_(e,r){return this.connection.T_("Listen",e,r)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const r=pde(this.serializer,e),n=(function(a){if(!("targetChange"in a))return Qe.min();const s=a.targetChange;return s.targetIds&&s.targetIds.length?Qe.min():s.readTime?Ya(s.readTime):Qe.min()})(e);return this.listener.J_(r,n)}Z_(e){const r={};r.database=hk(this.serializer),r.addTarget=(function(a,s){let o;const c=s.target;if(o=lk(c)?{documents:yde(a,c)}:{query:vde(a,c).ft},o.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){o.resumeToken=Jq(a,s.resumeToken);const d=uk(a,s.expectedCount);d!==null&&(o.expectedCount=d)}else if(s.snapshotVersion.compareTo(Qe.min())>0){o.readTime=yy(a,s.snapshotVersion.toTimestamp());const d=uk(a,s.expectedCount);d!==null&&(o.expectedCount=d)}return o})(this.serializer,e);const n=xde(this.serializer,e);n&&(r.labels=n),this.K_(r)}X_(e){const r={};r.database=hk(this.serializer),r.removeTarget=e,this.K_(r)}}class cfe extends dz{constructor(e,r,n,i,a,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",r,n,i,s),this.serializer=a}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,r){return this.connection.T_("Write",e,r)}H_(e){return wt(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,wt(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){wt(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const r=gde(e.writeResults,e.commitTime),n=Ya(e.commitTime);return this.listener.na(n,r)}ra(){const e={};e.database=hk(this.serializer),this.K_(e)}ea(e){const r={streamToken:this.lastStreamToken,writes:e.map((n=>mde(this.serializer,n)))};this.K_(r)}}class ufe{}class dfe extends ufe{constructor(e,r,n,i){super(),this.authCredentials=e,this.appCheckCredentials=r,this.connection=n,this.serializer=i,this.ia=!1}sa(){if(this.ia)throw new je(pe.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,r,n,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,s])=>this.connection.Wo(e,dk(r,n),i,a,s))).catch((a=>{throw a.name==="FirebaseError"?(a.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new je(pe.UNKNOWN,a.toString())}))}jo(e,r,n,i,a){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([s,o])=>this.connection.jo(e,dk(r,n),i,s,o,a))).catch((s=>{throw s.name==="FirebaseError"?(s.code===pe.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new je(pe.UNKNOWN,s.toString())}))}terminate(){this.ia=!0,this.connection.terminate()}}function ffe(t,e,r,n){return new dfe(t,e,r,n)}class hfe{constructor(e,r){this.asyncQueue=e,this.onlineStateHandler=r,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve()))))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const r=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ks(r),this.aa=!1):ke("OnlineStateTracker",r)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}const kc="RemoteStore";class pfe{constructor(e,r,n,i,a){this.localStore=e,this.datastore=r,this.asyncQueue=n,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=a,this.Aa.Mo((s=>{n.enqueueAndForget((async()=>{Kc(this)&&(ke(kc,"Restarting streams for network reachability change."),await(async function(c){const d=et(c);d.Ea.add(4),await tm(d),d.Va.set("Unknown"),d.Ea.delete(4),await tb(d)})(this))}))})),this.Va=new hfe(n,i)}}async function tb(t){if(Kc(t))for(const e of t.Ra)await e(!0)}async function tm(t){for(const e of t.Ra)await e(!1)}function fz(t,e){const r=et(t);r.Ia.has(e.targetId)||(r.Ia.set(e.targetId,e),qP(r)?UP(r):Yd(r).O_()&&VP(r,e))}function $P(t,e){const r=et(t),n=Yd(r);r.Ia.delete(e),n.O_()&&hz(r,e),r.Ia.size===0&&(n.O_()?n.L_():Kc(r)&&r.Va.set("Unknown"))}function VP(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Qe.min())>0){const r=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(r)}Yd(t).Z_(e)}function hz(t,e){t.da.$e(e),Yd(t).X_(e)}function UP(t){t.da=new ode({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Yd(t).start(),t.Va.ua()}function qP(t){return Kc(t)&&!Yd(t).x_()&&t.Ia.size>0}function Kc(t){return et(t).Ea.size===0}function pz(t){t.da=void 0}async function mfe(t){t.Va.set("Online")}async function gfe(t){t.Ia.forEach(((e,r)=>{VP(t,e)}))}async function yfe(t,e){pz(t),qP(t)?(t.Va.ha(e),UP(t)):t.Va.set("Unknown")}async function vfe(t,e,r){if(t.Va.set("Online"),e instanceof Qq&&e.state===2&&e.cause)try{await(async function(i,a){const s=a.cause;for(const o of a.targetIds)i.Ia.has(o)&&(await i.remoteSyncer.rejectListen(o,s),i.Ia.delete(o),i.da.removeTarget(o))})(t,e)}catch(n){ke(kc,"Failed to remove targets %s: %s ",e.targetIds.join(","),n),await by(t,n)}else if(e instanceof L0?t.da.Xe(e):e instanceof Xq?t.da.st(e):t.da.tt(e),!r.isEqual(Qe.min()))try{const n=await cz(t.localStore);r.compareTo(n)>=0&&await(function(a,s){const o=a.da.Tt(s);return o.targetChanges.forEach(((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const f=a.Ia.get(d);f&&a.Ia.set(d,f.withResumeToken(c.resumeToken,s))}})),o.targetMismatches.forEach(((c,d)=>{const f=a.Ia.get(c);if(!f)return;a.Ia.set(c,f.withResumeToken(Zr.EMPTY_BYTE_STRING,f.snapshotVersion)),hz(a,c);const p=new Bo(f.target,c,d,f.sequenceNumber);VP(a,p)})),a.remoteSyncer.applyRemoteEvent(o)})(t,r)}catch(n){ke(kc,"Failed to raise snapshot:",n),await by(t,n)}}async function by(t,e,r){if(!Kd(e))throw e;t.Ea.add(1),await tm(t),t.Va.set("Offline"),r||(r=()=>cz(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{ke(kc,"Retrying IndexedDB access"),await r(),t.Ea.delete(1),await tb(t)}))}function mz(t,e){return e().catch((r=>by(t,r,e)))}async function rb(t){const e=et(t),r=cl(e);let n=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:AP;for(;bfe(e);)try{const i=await Zde(e.localStore,n);if(i===null){e.Ta.length===0&&r.L_();break}n=i.batchId,xfe(e,i)}catch(i){await by(e,i)}gz(e)&&yz(e)}function bfe(t){return Kc(t)&&t.Ta.length<10}function xfe(t,e){t.Ta.push(e);const r=cl(t);r.O_()&&r.Y_&&r.ea(e.mutations)}function gz(t){return Kc(t)&&!cl(t).x_()&&t.Ta.length>0}function yz(t){cl(t).start()}async function wfe(t){cl(t).ra()}async function _fe(t){const e=cl(t);for(const r of t.Ta)e.ea(r.mutations)}async function Efe(t,e,r){const n=t.Ta.shift(),i=RP.from(n,e,r);await mz(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await rb(t)}async function Sfe(t,e){e&&cl(t).Y_&&await(async function(n,i){if((function(s){return ide(s)&&s!==pe.ABORTED})(i.code)){const a=n.Ta.shift();cl(n).B_(),await mz(n,(()=>n.remoteSyncer.rejectFailedWrite(a.batchId,i))),await rb(n)}})(t,e),gz(t)&&yz(t)}async function Q5(t,e){const r=et(t);r.asyncQueue.verifyOperationInProgress(),ke(kc,"RemoteStore received new credentials");const n=Kc(r);r.Ea.add(3),await tm(r),n&&r.Va.set("Unknown"),await r.remoteSyncer.handleCredentialChange(e),r.Ea.delete(3),await tb(r)}async function Tfe(t,e){const r=et(t);e?(r.Ea.delete(2),await tb(r)):e||(r.Ea.add(2),await tm(r),r.Va.set("Unknown"))}function Yd(t){return t.ma||(t.ma=(function(r,n,i){const a=et(r);return a.sa(),new lfe(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:mfe.bind(null,t),Yo:gfe.bind(null,t),t_:yfe.bind(null,t),J_:vfe.bind(null,t)}),t.Ra.push((async e=>{e?(t.ma.B_(),qP(t)?UP(t):t.Va.set("Unknown")):(await t.ma.stop(),pz(t))}))),t.ma}function cl(t){return t.fa||(t.fa=(function(r,n,i){const a=et(r);return a.sa(),new cfe(n,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:wfe.bind(null,t),t_:Sfe.bind(null,t),ta:_fe.bind(null,t),na:Efe.bind(null,t)}),t.Ra.push((async e=>{e?(t.fa.B_(),await rb(t)):(await t.fa.stop(),t.Ta.length>0&&(ke(kc,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))}))),t.fa}class zP{constructor(e,r,n,i,a){this.asyncQueue=e,this.timerId=r,this.targetTimeMs=n,this.op=i,this.removalCallback=a,this.deferred=new el,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((s=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,r,n,i,a){const s=Date.now()+n,o=new zP(e,r,s,i,a);return o.start(n),o}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new je(pe.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function BP(t,e){if(Ks("AsyncQueue",`${e}: ${t}`),Kd(t))return new je(pe.UNAVAILABLE,`${e}: ${t}`);throw t}class nd{static emptySet(e){return new nd(e.comparator)}constructor(e){this.comparator=e?(r,n)=>e(r,n)||qe.comparator(r.key,n.key):(r,n)=>qe.comparator(r.key,n.key),this.keyedMap=kh(),this.sortedSet=new Xt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const r=this.keyedMap.get(e);return r?this.sortedSet.indexOf(r):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((r,n)=>(e(r),!1)))}add(e){const r=this.delete(e.key);return r.copy(r.keyedMap.insert(e.key,e),r.sortedSet.insert(e,null))}delete(e){const r=this.get(e);return r?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(r)):this}isEqual(e){if(!(e instanceof nd)||this.size!==e.size)return!1;const r=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;r.hasNext();){const i=r.getNext().key,a=n.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((r=>{e.push(r.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,r){const n=new nd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=r,n}}class J5{constructor(){this.ga=new Xt(qe.comparator)}track(e){const r=e.doc.key,n=this.ga.get(r);n?e.type!==0&&n.type===3?this.ga=this.ga.insert(r,e):e.type===3&&n.type!==1?this.ga=this.ga.insert(r,{type:n.type,doc:e.doc}):e.type===2&&n.type===2?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):e.type===2&&n.type===0?this.ga=this.ga.insert(r,{type:0,doc:e.doc}):e.type===1&&n.type===0?this.ga=this.ga.remove(r):e.type===1&&n.type===2?this.ga=this.ga.insert(r,{type:1,doc:n.doc}):e.type===0&&n.type===1?this.ga=this.ga.insert(r,{type:2,doc:e.doc}):Ge(63341,{Vt:e,pa:n}):this.ga=this.ga.insert(r,e)}ya(){const e=[];return this.ga.inorderTraversal(((r,n)=>{e.push(n)})),e}}class xd{constructor(e,r,n,i,a,s,o,c,d){this.query=e,this.docs=r,this.oldDocs=n,this.docChanges=i,this.mutatedKeys=a,this.fromCache=s,this.syncStateChanged=o,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,r,n,i,a){const s=[];return r.forEach((o=>{s.push({type:0,doc:o})})),new xd(e,r,nd.emptySet(r),s,n,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Yv(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const r=this.docChanges,n=e.docChanges;if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(r[i].type!==n[i].type||!r[i].doc.isEqual(n[i].doc))return!1;return!0}}class Afe{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some((e=>e.Da()))}}class kfe{constructor(){this.queries=Z5(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(r,n){const i=et(r),a=i.queries;i.queries=Z5(),a.forEach(((s,o)=>{for(const c of o.ba)c.onError(n)}))})(this,new je(pe.ABORTED,"Firestore shutting down"))}}function Z5(){return new Gc((t=>Dq(t)),Yv)}async function vz(t,e){const r=et(t);let n=3;const i=e.query;let a=r.queries.get(i);a?!a.Sa()&&e.Da()&&(n=2):(a=new Afe,n=e.Da()?0:1);try{switch(n){case 0:a.wa=await r.onListen(i,!0);break;case 1:a.wa=await r.onListen(i,!1);break;case 2:await r.onFirstRemoteStoreListen(i)}}catch(s){const o=BP(s,`Initialization of query '${zu(e.query)}' failed`);return void e.onError(o)}r.queries.set(i,a),a.ba.push(e),e.va(r.onlineState),a.wa&&e.Fa(a.wa)&&WP(r)}async function bz(t,e){const r=et(t),n=e.query;let i=3;const a=r.queries.get(n);if(a){const s=a.ba.indexOf(e);s>=0&&(a.ba.splice(s,1),a.ba.length===0?i=e.Da()?0:1:!a.Sa()&&e.Da()&&(i=2))}switch(i){case 0:return r.queries.delete(n),r.onUnlisten(n,!0);case 1:return r.queries.delete(n),r.onUnlisten(n,!1);case 2:return r.onLastRemoteStoreUnlisten(n);default:return}}function Ife(t,e){const r=et(t);let n=!1;for(const i of e){const a=i.query,s=r.queries.get(a);if(s){for(const o of s.ba)o.Fa(i)&&(n=!0);s.wa=i}}n&&WP(r)}function Pfe(t,e,r){const n=et(t),i=n.queries.get(e);if(i)for(const a of i.ba)a.onError(r);n.queries.delete(e)}function WP(t){t.Ca.forEach((e=>{e.next()}))}var gk,e3;(e3=gk||(gk={})).Ma="default",e3.Cache="cache";class xz{constructor(e,r,n){this.query=e,this.xa=r,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=n||{}}Fa(e){if(!this.options.includeMetadataChanges){const n=[];for(const i of e.docChanges)i.type!==3&&n.push(i);e=new xd(e.query,e.docs,e.oldDocs,n,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let r=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),r=!0):this.La(e,this.onlineState)&&(this.ka(e),r=!0),this.Na=e,r}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let r=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),r=!0),r}La(e,r){if(!e.fromCache||!this.Da())return!0;const n=r!=="Offline";return(!this.options.Ka||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||r==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const r=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!r)&&this.options.includeMetadataChanges===!0}ka(e){e=xd.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==gk.Cache}}class wz{constructor(e){this.key=e}}class _z{constructor(e){this.key=e}}class Cfe{constructor(e,r){this.query=e,this.Za=r,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=ot(),this.mutatedKeys=ot(),this.eu=Mq(e),this.tu=new nd(this.eu)}get nu(){return this.Za}ru(e,r){const n=r?r.iu:new J5,i=r?r.tu:this.tu;let a=r?r.mutatedKeys:this.mutatedKeys,s=i,o=!1;const c=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((f,p)=>{const g=i.get(f),b=Xv(this.query,p)?p:null,w=!!g&&this.mutatedKeys.has(g.key),_=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations);let x=!1;g&&b?g.data.isEqual(b.data)?w!==_&&(n.track({type:3,doc:b}),x=!0):this.su(g,b)||(n.track({type:2,doc:b}),x=!0,(c&&this.eu(b,c)>0||d&&this.eu(b,d)<0)&&(o=!0)):!g&&b?(n.track({type:0,doc:b}),x=!0):g&&!b&&(n.track({type:1,doc:g}),x=!0,(c||d)&&(o=!0)),x&&(b?(s=s.add(b),a=_?a.add(f):a.delete(f)):(s=s.delete(f),a=a.delete(f)))})),this.query.limit!==null)for(;s.size>this.query.limit;){const f=this.query.limitType==="F"?s.last():s.first();s=s.delete(f.key),a=a.delete(f.key),n.track({type:1,doc:f})}return{tu:s,iu:n,Ss:o,mutatedKeys:a}}su(e,r){return e.hasLocalMutations&&r.hasCommittedMutations&&!r.hasLocalMutations}applyChanges(e,r,n,i){const a=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const s=e.iu.ya();s.sort(((f,p)=>(function(b,w){const _=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Ge(20277,{Vt:x})}};return _(b)-_(w)})(f.type,p.type)||this.eu(f.doc,p.doc))),this.ou(n),i=i??!1;const o=r&&!i?this._u():[],c=this.Ya.size===0&&this.current&&!i?1:0,d=c!==this.Xa;return this.Xa=c,s.length!==0||d?{snapshot:new xd(this.query,e.tu,a,s,e.mutatedKeys,c===0,d,!1,!!n&&n.resumeToken.approximateByteSize()>0),au:o}:{au:o}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new J5,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach((r=>this.Za=this.Za.add(r))),e.modifiedDocuments.forEach((r=>{})),e.removedDocuments.forEach((r=>this.Za=this.Za.delete(r))),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=ot(),this.tu.forEach((n=>{this.uu(n.key)&&(this.Ya=this.Ya.add(n.key))}));const r=[];return e.forEach((n=>{this.Ya.has(n)||r.push(new _z(n))})),this.Ya.forEach((n=>{e.has(n)||r.push(new wz(n))})),r}cu(e){this.Za=e.ks,this.Ya=ot();const r=this.ru(e.documents);return this.applyChanges(r,!0)}lu(){return xd.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const HP="SyncEngine";class Nfe{constructor(e,r,n){this.query=e,this.targetId=r,this.view=n}}class Rfe{constructor(e){this.key=e,this.hu=!1}}class Ofe{constructor(e,r,n,i,a,s){this.localStore=e,this.remoteStore=r,this.eventManager=n,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=s,this.Pu={},this.Tu=new Gc((o=>Dq(o)),Yv),this.Iu=new Map,this.Eu=new Set,this.Ru=new Xt(qe.comparator),this.Au=new Map,this.Vu=new DP,this.du={},this.mu=new Map,this.fu=bd.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function jfe(t,e,r=!0){const n=Iz(t);let i;const a=n.Tu.get(e);return a?(n.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.lu()):i=await Ez(n,e,r,!0),i}async function Dfe(t,e){const r=Iz(t);await Ez(r,e,!0,!1)}async function Ez(t,e,r,n){const i=await efe(t.localStore,Ga(e)),a=i.targetId,s=t.sharedClientState.addLocalQueryTarget(a,r);let o;return n&&(o=await Mfe(t,e,a,s==="current",i.resumeToken)),t.isPrimaryClient&&r&&fz(t.remoteStore,i),o}async function Mfe(t,e,r,n,i){t.pu=(p,g,b)=>(async function(_,x,T,I){let P=x.view.ru(T);P.Ss&&(P=await H5(_.localStore,x.query,!1).then((({documents:C})=>x.view.ru(C,P))));const j=I&&I.targetChanges.get(x.targetId),O=I&&I.targetMismatches.get(x.targetId)!=null,V=x.view.applyChanges(P,_.isPrimaryClient,j,O);return r3(_,x.targetId,V.au),V.snapshot})(t,p,g,b);const a=await H5(t.localStore,e,!0),s=new Cfe(e,a.ks),o=s.ru(a.documents),c=em.createSynthesizedTargetChangeForCurrentChange(r,n&&t.onlineState!=="Offline",i),d=s.applyChanges(o,t.isPrimaryClient,c);r3(t,r,d.au);const f=new Nfe(e,r,s);return t.Tu.set(e,f),t.Iu.has(r)?t.Iu.get(r).push(e):t.Iu.set(r,[e]),d.snapshot}async function Lfe(t,e,r){const n=et(t),i=n.Tu.get(e),a=n.Iu.get(i.targetId);if(a.length>1)return n.Iu.set(i.targetId,a.filter((s=>!Yv(s,e)))),void n.Tu.delete(e);n.isPrimaryClient?(n.sharedClientState.removeLocalQueryTarget(i.targetId),n.sharedClientState.isActiveQueryTarget(i.targetId)||await pk(n.localStore,i.targetId,!1).then((()=>{n.sharedClientState.clearQueryState(i.targetId),r&&$P(n.remoteStore,i.targetId),yk(n,i.targetId)})).catch(Gd)):(yk(n,i.targetId),await pk(n.localStore,i.targetId,!0))}async function Ffe(t,e){const r=et(t),n=r.Tu.get(e),i=r.Iu.get(n.targetId);r.isPrimaryClient&&i.length===1&&(r.sharedClientState.removeLocalQueryTarget(n.targetId),$P(r.remoteStore,n.targetId))}async function $fe(t,e,r){const n=Hfe(t);try{const i=await(function(s,o){const c=et(s),d=Dt.now(),f=o.reduce(((b,w)=>b.add(w.key)),ot());let p,g;return c.persistence.runTransaction("Locally write mutations","readwrite",(b=>{let w=Ys(),_=ot();return c.xs.getEntries(b,f).next((x=>{w=x,w.forEach(((T,I)=>{I.isValidDocument()||(_=_.add(T))}))})).next((()=>c.localDocuments.getOverlayedDocuments(b,w))).next((x=>{p=x;const T=[];for(const I of o){const P=Zue(I,p.get(I.key).overlayedDocument);P!=null&&T.push(new vl(I.key,P,Iq(P.value.mapValue),Ka.exists(!0)))}return c.mutationQueue.addMutationBatch(b,d,T,o)})).next((x=>{g=x;const T=x.applyToLocalDocumentSet(p,_);return c.documentOverlayCache.saveOverlays(b,x.batchId,T)}))})).then((()=>({batchId:g.batchId,changes:Fq(p)})))})(n.localStore,e);n.sharedClientState.addPendingMutation(i.batchId),(function(s,o,c){let d=s.du[s.currentUser.toKey()];d||(d=new Xt(st)),d=d.insert(o,c),s.du[s.currentUser.toKey()]=d})(n,i.batchId,r),await rm(n,i.changes),await rb(n.remoteStore)}catch(i){const a=BP(i,"Failed to persist write");r.reject(a)}}async function Sz(t,e){const r=et(t);try{const n=await Qde(r.localStore,e);e.targetChanges.forEach(((i,a)=>{const s=r.Au.get(a);s&&(wt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1,22616),i.addedDocuments.size>0?s.hu=!0:i.modifiedDocuments.size>0?wt(s.hu,14607):i.removedDocuments.size>0&&(wt(s.hu,42227),s.hu=!1))})),await rm(r,n,e)}catch(n){await Gd(n)}}function t3(t,e,r){const n=et(t);if(n.isPrimaryClient&&r===0||!n.isPrimaryClient&&r===1){const i=[];n.Tu.forEach(((a,s)=>{const o=s.view.va(e);o.snapshot&&i.push(o.snapshot)})),(function(s,o){const c=et(s);c.onlineState=o;let d=!1;c.queries.forEach(((f,p)=>{for(const g of p.ba)g.va(o)&&(d=!0)})),d&&WP(c)})(n.eventManager,e),i.length&&n.Pu.J_(i),n.onlineState=e,n.isPrimaryClient&&n.sharedClientState.setOnlineState(e)}}async function Vfe(t,e,r){const n=et(t);n.sharedClientState.updateQueryState(e,"rejected",r);const i=n.Au.get(e),a=i&&i.key;if(a){let s=new Xt(qe.comparator);s=s.insert(a,dn.newNoDocument(a,Qe.min()));const o=ot().add(a),c=new Zv(Qe.min(),new Map,new Xt(st),s,o);await Sz(n,c),n.Ru=n.Ru.remove(a),n.Au.delete(e),GP(n)}else await pk(n.localStore,e,!1).then((()=>yk(n,e,r))).catch(Gd)}async function Ufe(t,e){const r=et(t),n=e.batch.batchId;try{const i=await Xde(r.localStore,e);Az(r,n,null),Tz(r,n),r.sharedClientState.updateMutationState(n,"acknowledged"),await rm(r,i)}catch(i){await Gd(i)}}async function qfe(t,e,r){const n=et(t);try{const i=await(function(s,o){const c=et(s);return c.persistence.runTransaction("Reject batch","readwrite-primary",(d=>{let f;return c.mutationQueue.lookupMutationBatch(d,o).next((p=>(wt(p!==null,37113),f=p.keys(),c.mutationQueue.removeMutationBatch(d,p)))).next((()=>c.mutationQueue.performConsistencyCheck(d))).next((()=>c.documentOverlayCache.removeOverlaysForBatchId(d,f,o))).next((()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,f))).next((()=>c.localDocuments.getDocuments(d,f)))}))})(n.localStore,e);Az(n,e,r),Tz(n,e),n.sharedClientState.updateMutationState(e,"rejected",r),await rm(n,i)}catch(i){await Gd(i)}}function Tz(t,e){(t.mu.get(e)||[]).forEach((r=>{r.resolve()})),t.mu.delete(e)}function Az(t,e,r){const n=et(t);let i=n.du[n.currentUser.toKey()];if(i){const a=i.get(e);a&&(r?a.reject(r):a.resolve(),i=i.remove(e)),n.du[n.currentUser.toKey()]=i}}function yk(t,e,r=null){t.sharedClientState.removeLocalQueryTarget(e);for(const n of t.Iu.get(e))t.Tu.delete(n),r&&t.Pu.yu(n,r);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach((n=>{t.Vu.containsKey(n)||kz(t,n)}))}function kz(t,e){t.Eu.delete(e.path.canonicalString());const r=t.Ru.get(e);r!==null&&($P(t.remoteStore,r),t.Ru=t.Ru.remove(e),t.Au.delete(r),GP(t))}function r3(t,e,r){for(const n of r)n instanceof wz?(t.Vu.addReference(n.key,e),zfe(t,n)):n instanceof _z?(ke(HP,"Document no longer in limbo: "+n.key),t.Vu.removeReference(n.key,e),t.Vu.containsKey(n.key)||kz(t,n.key)):Ge(19791,{wu:n})}function zfe(t,e){const r=e.key,n=r.path.canonicalString();t.Ru.get(r)||t.Eu.has(n)||(ke(HP,"New document in limbo: "+r),t.Eu.add(n),GP(t))}function GP(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const r=new qe(Kt.fromString(e)),n=t.fu.next();t.Au.set(n,new Rfe(r)),t.Ru=t.Ru.insert(r,n),fz(t.remoteStore,new Bo(Ga(Kv(r.path)),n,"TargetPurposeLimboResolution",Bv.ce))}}async function rm(t,e,r){const n=et(t),i=[],a=[],s=[];n.Tu.isEmpty()||(n.Tu.forEach(((o,c)=>{s.push(n.pu(c,e,r).then((d=>{if((d||r)&&n.isPrimaryClient){const f=d?!d.fromCache:r?.targetChanges.get(c.targetId)?.current;n.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){i.push(d);const f=LP.Es(c.targetId,d);a.push(f)}})))})),await Promise.all(s),n.Pu.J_(i),await(async function(c,d){const f=et(c);try{await f.persistence.runTransaction("notifyLocalViewChanges","readwrite",(p=>de.forEach(d,(g=>de.forEach(g.Ts,(b=>f.persistence.referenceDelegate.addReference(p,g.targetId,b))).next((()=>de.forEach(g.Is,(b=>f.persistence.referenceDelegate.removeReference(p,g.targetId,b)))))))))}catch(p){if(!Kd(p))throw p;ke(FP,"Failed to update sequence numbers: "+p)}for(const p of d){const g=p.targetId;if(!p.fromCache){const b=f.vs.get(g),w=b.snapshotVersion,_=b.withLastLimboFreeSnapshotVersion(w);f.vs=f.vs.insert(g,_)}}})(n.localStore,a))}async function Bfe(t,e){const r=et(t);if(!r.currentUser.isEqual(e)){ke(HP,"User change. New user:",e.toKey());const n=await lz(r.localStore,e);r.currentUser=e,(function(a,s){a.mu.forEach((o=>{o.forEach((c=>{c.reject(new je(pe.CANCELLED,s))}))})),a.mu.clear()})(r,"'waitForPendingWrites' promise is rejected due to a user change."),r.sharedClientState.handleUserChange(e,n.removedBatchIds,n.addedBatchIds),await rm(r,n.Ns)}}function Wfe(t,e){const r=et(t),n=r.Au.get(e);if(n&&n.hu)return ot().add(n.key);{let i=ot();const a=r.Iu.get(e);if(!a)return i;for(const s of a){const o=r.Tu.get(s);i=i.unionWith(o.view.nu)}return i}}function Iz(t){const e=et(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Sz.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Wfe.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Vfe.bind(null,e),e.Pu.J_=Ife.bind(null,e.eventManager),e.Pu.yu=Pfe.bind(null,e.eventManager),e}function Hfe(t){const e=et(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Ufe.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=qfe.bind(null,e),e}class xy{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=eb(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,r){return null}Mu(e,r){return null}vu(e){return Yde(this.persistence,new Hde,e.initialUser,this.serializer)}Cu(e){return new oz(MP.Vi,this.serializer)}Du(e){return new rfe}async terminate(){this.gcScheduler?.stop(),this.indexBackfillerScheduler?.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}xy.provider={build:()=>new xy};class Gfe extends xy{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,r){wt(this.persistence.referenceDelegate instanceof vy,46915);const n=this.persistence.referenceDelegate.garbageCollector;return new Nde(n,e.asyncQueue,r)}Cu(e){const r=this.cacheSizeBytes!==void 0?Mn.withCacheSize(this.cacheSizeBytes):Mn.DEFAULT;return new oz((n=>vy.Vi(n,r)),this.serializer)}}class vk{async initialize(e,r){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=n=>t3(this.syncEngine,n,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bfe.bind(null,this.syncEngine),await Tfe(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new kfe})()}createDatastore(e){const r=eb(e.databaseInfo.databaseId),n=ofe(e.databaseInfo);return ffe(e.authCredentials,e.appCheckCredentials,n,r)}createRemoteStore(e){return(function(n,i,a,s,o){return new pfe(n,i,a,s,o)})(this.localStore,this.datastore,e.asyncQueue,(r=>t3(this.syncEngine,r,0)),(function(){return Y5.v()?new Y5:new nfe})())}createSyncEngine(e,r){return(function(i,a,s,o,c,d,f){const p=new Ofe(i,a,s,o,c,d);return f&&(p.gu=!0),p})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,r)}async terminate(){await(async function(r){const n=et(r);ke(kc,"RemoteStore shutting down."),n.Ea.add(5),await tm(n),n.Aa.shutdown(),n.Va.set("Unknown")})(this.remoteStore),this.datastore?.terminate(),this.eventManager?.terminate()}}vk.provider={build:()=>new vk};class Pz{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ks("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,r){setTimeout((()=>{this.muted||e(r)}),0)}}const ul="FirestoreClient";class Kfe{constructor(e,r,n,i,a){this.authCredentials=e,this.appCheckCredentials=r,this.asyncQueue=n,this._databaseInfo=i,this.user=un.UNAUTHENTICATED,this.clientId=SP.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(n,(async s=>{ke(ul,"Received user=",s.uid),await this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(n,(s=>(ke(ul,"Received new app check token=",s),this.appCheckCredentialListener(s,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new el;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(r){const n=BP(r,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function t_(t,e){t.asyncQueue.verifyOperationInProgress(),ke(ul,"Initializing OfflineComponentProvider");const r=t.configuration;await e.initialize(r);let n=r.initialUser;t.setCredentialChangeListener((async i=>{n.isEqual(i)||(await lz(e.localStore,i),n=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function n3(t,e){t.asyncQueue.verifyOperationInProgress();const r=await Yfe(t);ke(ul,"Initializing OnlineComponentProvider"),await e.initialize(r,t.configuration),t.setCredentialChangeListener((n=>Q5(e.remoteStore,n))),t.setAppCheckTokenChangeListener(((n,i)=>Q5(e.remoteStore,i))),t._onlineComponents=e}async function Yfe(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ke(ul,"Using user provided OfflineComponentProvider");try{await t_(t,t._uninitializedComponentsProvider._offline)}catch(e){const r=e;if(!(function(i){return i.name==="FirebaseError"?i.code===pe.FAILED_PRECONDITION||i.code===pe.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11})(r))throw r;Ac("Error using user provided cache. Falling back to memory cache: "+r),await t_(t,new xy)}}else ke(ul,"Using default OfflineComponentProvider"),await t_(t,new Gfe(void 0));return t._offlineComponents}async function Cz(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ke(ul,"Using user provided OnlineComponentProvider"),await n3(t,t._uninitializedComponentsProvider._online)):(ke(ul,"Using default OnlineComponentProvider"),await n3(t,new vk))),t._onlineComponents}function Xfe(t){return Cz(t).then((e=>e.syncEngine))}async function bk(t){const e=await Cz(t),r=e.eventManager;return r.onListen=jfe.bind(null,e.syncEngine),r.onUnlisten=Lfe.bind(null,e.syncEngine),r.onFirstRemoteStoreListen=Dfe.bind(null,e.syncEngine),r.onLastRemoteStoreUnlisten=Ffe.bind(null,e.syncEngine),r}function Qfe(t,e,r,n){const i=new Pz(n),a=new xz(e,i,r);return t.asyncQueue.enqueueAndForget((async()=>vz(await bk(t),a))),()=>{i.Nu(),t.asyncQueue.enqueueAndForget((async()=>bz(await bk(t),a)))}}function Jfe(t,e,r={}){const n=new el;return t.asyncQueue.enqueueAndForget((async()=>(function(a,s,o,c,d){const f=new Pz({next:g=>{f.Nu(),s.enqueueAndForget((()=>bz(a,p)));const b=g.docs.has(o);!b&&g.fromCache?d.reject(new je(pe.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&g.fromCache&&c&&c.source==="server"?d.reject(new je(pe.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(g)},error:g=>d.reject(g)}),p=new xz(Kv(o.path),f,{includeMetadataChanges:!0,Ka:!0});return vz(a,p)})(await bk(t),t.asyncQueue,e,r,n))),n.promise}function Zfe(t,e){const r=new el;return t.asyncQueue.enqueueAndForget((async()=>$fe(await Xfe(t),e,r))),r.promise}function Nz(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}const ehe="ComponentProvider",i3=new Map;function the(t,e,r,n,i){return new wue(t,e,r,i.host,i.ssl,i.experimentalForceLongPolling,i.experimentalAutoDetectLongPolling,Nz(i.experimentalLongPollingOptions),i.useFetchStreams,i.isUsingEmulator,n)}const Rz="firestore.googleapis.com",a3=!0;class s3{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new je(pe.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=Rz,this.ssl=a3}else this.host=e.host,this.ssl=e.ssl??a3;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=sz;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Pde)throw new je(pe.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}uue("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Nz(e.experimentalLongPollingOptions??{}),(function(n){if(n.timeoutSeconds!==void 0){if(isNaN(n.timeoutSeconds))throw new je(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (must not be NaN)`);if(n.timeoutSeconds<5)throw new je(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (minimum allowed value is 5)`);if(n.timeoutSeconds>30)throw new je(pe.INVALID_ARGUMENT,`invalid long polling timeout: ${n.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(n,i){return n.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class KP{constructor(e,r,n,i){this._authCredentials=e,this._appCheckCredentials=r,this._databaseId=n,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new s3({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new je(pe.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new je(pe.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new s3(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=(function(n){if(!n)return new Zce;switch(n.type){case"firstParty":return new nue(n.sessionIndex||"0",n.iamToken||null,n.authTokenFactory||null);case"provider":return n.client;default:throw new je(pe.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(r){const n=i3.get(r);n&&(ke(ehe,"Removing Datastore"),i3.delete(r),n.terminate())})(this),Promise.resolve()}}function rhe(t,e,r,n={}){t=Ha(t,KP);const i=Fd(e),a=t._getSettings(),s={...a,emulatorOptions:t._getEmulatorOptions()},o=`${e}:${r}`;i&&(EV(`https://${o}`),SV("Firestore",!0)),a.host!==Rz&&a.host!==o&&Ac("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...a,host:o,ssl:i,emulatorOptions:n};if(!Ja(c,s)&&(t._setSettings(c),n.mockUserToken)){let d,f;if(typeof n.mockUserToken=="string")d=n.mockUserToken,f=un.MOCK_USER;else{d=Cne(n.mockUserToken,t._app?.options.projectId);const p=n.mockUserToken.sub||n.mockUserToken.user_id;if(!p)throw new je(pe.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new un(p)}t._authCredentials=new eue(new yq(d,f))}}class nb{constructor(e,r,n){this.converter=r,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new nb(this.firestore,e,this._query)}}class yr{constructor(e,r,n){this.converter=r,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new dp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new yr(this.firestore,e,this._key)}toJSON(){return{type:yr._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,r,n){if(Jp(r,yr._jsonSchema))return new yr(e,n||null,new qe(Kt.fromString(r.referencePath)))}}yr._jsonSchemaVersion="firestore/documentReference/1.0",yr._jsonSchema={type:gr("string",yr._jsonSchemaVersion),referencePath:gr("string")};class dp extends nb{constructor(e,r,n){super(e,r,Kv(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new yr(this.firestore,null,new qe(e))}withConverter(e){return new dp(this.firestore,e,this._path)}}function ac(t,e,...r){if(t=ze(t),arguments.length===1&&(e=SP.newId()),cue("doc","path",e),t instanceof KP){const n=Kt.fromString(e,...r);return x5(n),new yr(t,null,new qe(n))}{if(!(t instanceof yr||t instanceof dp))throw new je(pe.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=t._path.child(Kt.fromString(e,...r));return x5(n),new yr(t.firestore,t instanceof dp?t.converter:null,new qe(n))}}const o3="AsyncQueue";class l3{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new uz(this,"async_queue_retry"),this._c=()=>{const n=e_();n&&ke(o3,"Visibility state changed to "+n.visibilityState),this.M_.w_()},this.ac=e;const r=e_();r&&typeof r.addEventListener=="function"&&r.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const r=e_();r&&typeof r.removeEventListener=="function"&&r.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise((()=>{}));const r=new el;return this.cc((()=>this.ec&&this.sc?Promise.resolve():(e().then(r.resolve,r.reject),r.promise))).then((()=>r.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Yu.push(e),this.lc())))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Kd(e))throw e;ke(o3,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_((()=>this.lc()))}}cc(e){const r=this.ac.then((()=>(this.rc=!0,e().catch((n=>{throw this.nc=n,this.rc=!1,Ks("INTERNAL UNHANDLED ERROR: ",c3(n)),n})).then((n=>(this.rc=!1,n))))));return this.ac=r,r}enqueueAfterDelay(e,r,n){this.uc(),this.oc.indexOf(e)>-1&&(r=0);const i=zP.createAndSchedule(this,e,r,n,(a=>this.hc(a)));return this.tc.push(i),i}uc(){this.nc&&Ge(47125,{Pc:c3(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const r of this.tc)if(r.timerId===e)return!0;return!1}Ec(e){return this.Tc().then((()=>{this.tc.sort(((r,n)=>r.targetTimeMs-n.targetTimeMs));for(const r of this.tc)if(r.skipDelay(),e!=="all"&&r.timerId===e)break;return this.Tc()}))}Rc(e){this.oc.push(e)}hc(e){const r=this.tc.indexOf(e);this.tc.splice(r,1)}}function c3(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class wd extends KP{constructor(e,r,n,i){super(e,r,n,i),this.type="firestore",this._queue=new l3,this._persistenceKey=i?.name||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new l3(e),this._firestoreClient=void 0,await e}}}function nhe(t,e){const r=typeof t=="object"?t:JI(),n=typeof t=="string"?t:dy,i=Wc(r,"firestore").getImmediate({identifier:n});if(!i._initialized){const a=Ine("firestore");a&&rhe(i,...a)}return i}function YP(t){if(t._terminated)throw new je(pe.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||ihe(t),t._firestoreClient}function ihe(t){const e=t._freezeSettings(),r=the(t._databaseId,t._app?.options.appId||"",t._persistenceKey,t._app?.options.apiKey,e);t._componentsProvider||e.localCache?._offlineComponentProvider&&e.localCache?._onlineComponentProvider&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Kfe(t._authCredentials,t._appCheckCredentials,t._queue,r,t._componentsProvider&&(function(i){const a=i?._online.build();return{_offline:i?._offline.build(a),_online:a}})(t._componentsProvider))}class Ci{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ci(Zr.fromBase64String(e))}catch(r){throw new je(pe.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+r)}}static fromUint8Array(e){return new Ci(Zr.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ci._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Jp(e,Ci._jsonSchema))return Ci.fromBase64String(e.bytes)}}Ci._jsonSchemaVersion="firestore/bytes/1.0",Ci._jsonSchema={type:gr("string",Ci._jsonSchemaVersion),bytes:gr("string")};class XP{constructor(...e){for(let r=0;r<e.length;++r)if(e[r].length===0)throw new je(pe.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Xr(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class nm{constructor(e){this._methodName=e}}class Xa{constructor(e,r){if(!isFinite(e)||e<-90||e>90)throw new je(pe.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(r)||r<-180||r>180)throw new je(pe.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+r);this._lat=e,this._long=r}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return st(this._lat,e._lat)||st(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:Xa._jsonSchemaVersion}}static fromJSON(e){if(Jp(e,Xa._jsonSchema))return new Xa(e.latitude,e.longitude)}}Xa._jsonSchemaVersion="firestore/geoPoint/1.0",Xa._jsonSchema={type:gr("string",Xa._jsonSchemaVersion),latitude:gr("number"),longitude:gr("number")};class ia{constructor(e){this._values=(e||[]).map((r=>r))}toArray(){return this._values.map((e=>e))}isEqual(e){return(function(n,i){if(n.length!==i.length)return!1;for(let a=0;a<n.length;++a)if(n[a]!==i[a])return!1;return!0})(this._values,e._values)}toJSON(){return{type:ia._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Jp(e,ia._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every((r=>typeof r=="number")))return new ia(e.vectorValues);throw new je(pe.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}ia._jsonSchemaVersion="firestore/vectorValue/1.0",ia._jsonSchema={type:gr("string",ia._jsonSchemaVersion),vectorValues:gr("object")};const ahe=/^__.*__$/;class she{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return this.fieldMask!==null?new vl(e,this.data,this.fieldMask,r,this.fieldTransforms):new Zp(e,this.data,r,this.fieldTransforms)}}class Oz{constructor(e,r,n){this.data=e,this.fieldMask=r,this.fieldTransforms=n}toMutation(e,r){return new vl(e,this.data,this.fieldMask,r,this.fieldTransforms)}}function jz(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Ge(40011,{dataSource:t})}}class ib{constructor(e,r,n,i,a,s){this.settings=e,this.databaseId=r,this.serializer=n,this.ignoreUndefinedProperties=i,a===void 0&&this.validatePath(),this.fieldTransforms=a||[],this.fieldMask=s||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new ib({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){const r=this.path?.child(e),n=this.contextWith({path:r,arrayElement:!1});return n.validatePathSegment(e),n}childContextForFieldPath(e){const r=this.path?.child(e),n=this.contextWith({path:r,arrayElement:!1});return n.validatePath(),n}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return wy(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find((r=>e.isPrefixOf(r)))!==void 0||this.fieldTransforms.find((r=>e.isPrefixOf(r.field)))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(jz(this.dataSource)&&ahe.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class ohe{constructor(e,r,n){this.databaseId=e,this.ignoreUndefinedProperties=r,this.serializer=n||eb(e)}createContext(e,r,n,i=!1){return new ib({dataSource:e,methodName:r,targetDoc:n,path:Xr.emptyPath(),arrayElement:!1,hasConverter:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Dz(t){const e=t._freezeSettings(),r=eb(t._databaseId);return new ohe(t._databaseId,!!e.ignoreUndefinedProperties,r)}function lhe(t,e,r,n,i,a={}){const s=t.createContext(a.merge||a.mergeFields?2:0,e,r,i);ZP("Data must be an object, but it was:",s,n);const o=Lz(n,s);let c,d;if(a.merge)c=new oi(s.fieldMask),d=s.fieldTransforms;else if(a.mergeFields){const f=[];for(const p of a.mergeFields){const g=fp(e,p,r);if(!s.contains(g))throw new je(pe.INVALID_ARGUMENT,`Field '${g}' is specified in your field mask but missing from your input data.`);Vz(f,g)||f.push(g)}c=new oi(f),d=s.fieldTransforms.filter((p=>c.covers(p.field)))}else c=null,d=s.fieldTransforms;return new she(new $n(o),c,d)}class ab extends nm{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof ab}}function Mz(t,e,r){return new ib({dataSource:3,targetDoc:e.settings.targetDoc,methodName:t._methodName,arrayElement:r},e.databaseId,e.serializer,e.ignoreUndefinedProperties)}class QP extends nm{constructor(e,r){super(e),this.Ac=r}_toFieldTransform(e){const r=Mz(this,e,!0),n=this.Ac.map((a=>Xd(a,r))),i=new yd(n);return new Wq(e.path,i)}isEqual(e){return e instanceof QP&&Ja(this.Ac,e.Ac)}}class JP extends nm{constructor(e,r){super(e),this.Ac=r}_toFieldTransform(e){const r=Mz(this,e,!0),n=this.Ac.map((a=>Xd(a,r))),i=new vd(n);return new Wq(e.path,i)}isEqual(e){return e instanceof JP&&Ja(this.Ac,e.Ac)}}function che(t,e,r,n){const i=t.createContext(1,e,r);ZP("Data must be an object, but it was:",i,n);const a=[],s=$n.empty();yl(n,((c,d)=>{const f=$z(e,c,r);d=ze(d);const p=i.childContextForFieldPath(f);if(d instanceof ab)a.push(f);else{const g=Xd(d,p);g!=null&&(a.push(f),s.set(f,g))}}));const o=new oi(a);return new Oz(s,o,i.fieldTransforms)}function uhe(t,e,r,n,i,a){const s=t.createContext(1,e,r),o=[fp(e,n,r)],c=[i];if(a.length%2!=0)throw new je(pe.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let g=0;g<a.length;g+=2)o.push(fp(e,a[g])),c.push(a[g+1]);const d=[],f=$n.empty();for(let g=o.length-1;g>=0;--g)if(!Vz(d,o[g])){const b=o[g];let w=c[g];w=ze(w);const _=s.childContextForFieldPath(b);if(w instanceof ab)d.push(b);else{const x=Xd(w,_);x!=null&&(d.push(b),f.set(b,x))}}const p=new oi(d);return new Oz(f,p,s.fieldTransforms)}function Xd(t,e){if(Fz(t=ze(t)))return ZP("Unsupported field value:",e,t),Lz(t,e);if(t instanceof nm)return(function(n,i){if(!jz(i.dataSource))throw i.createError(`${n._methodName}() can only be used with update() and set()`);if(!i.path)throw i.createError(`${n._methodName}() is not currently supported inside arrays`);const a=n._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return(function(n,i){const a=[];let s=0;for(const o of n){let c=Xd(o,i.childContextForArray(s));c==null&&(c={nullValue:"NULL_VALUE"}),a.push(c),s++}return{arrayValue:{values:a}}})(t,e)}return(function(n,i){if((n=ze(n))===null)return{nullValue:"NULL_VALUE"};if(typeof n=="number")return Gue(i.serializer,n);if(typeof n=="boolean")return{booleanValue:n};if(typeof n=="string")return{stringValue:n};if(n instanceof Date){const a=Dt.fromDate(n);return{timestampValue:yy(i.serializer,a)}}if(n instanceof Dt){const a=new Dt(n.seconds,1e3*Math.floor(n.nanoseconds/1e3));return{timestampValue:yy(i.serializer,a)}}if(n instanceof Xa)return{geoPointValue:{latitude:n.latitude,longitude:n.longitude}};if(n instanceof Ci)return{bytesValue:Jq(i.serializer,n._byteString)};if(n instanceof yr){const a=i.databaseId,s=n.firestore._databaseId;if(!s.isEqual(a))throw i.createError(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:jP(n.firestore._databaseId||i.databaseId,n._key.path)}}if(n instanceof ia)return(function(s,o){const c=s instanceof ia?s.toArray():s;return{mapValue:{fields:{[Aq]:{stringValue:kq},[fy]:{arrayValue:{values:c.map((f=>{if(typeof f!="number")throw o.createError("VectorValues must only contain numeric values.");return NP(o.serializer,f)}))}}}}}})(n,i);if(az(n))return n._toProto(i.serializer);throw i.createError(`Unsupported field value: ${TP(n)}`)})(t,e)}function Lz(t,e){const r={};return xq(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):yl(t,((n,i)=>{const a=Xd(i,e.childContextForField(n));a!=null&&(r[n]=a)})),{mapValue:{fields:r}}}function Fz(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Dt||t instanceof Xa||t instanceof Ci||t instanceof yr||t instanceof nm||t instanceof ia||az(t))}function ZP(t,e,r){if(!Fz(r)||!vq(r)){const n=TP(r);throw n==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+n)}}function fp(t,e,r){if((e=ze(e))instanceof XP)return e._internalPath;if(typeof e=="string")return $z(t,e);throw wy("Field path arguments must be of type string or ",t,!1,void 0,r)}const dhe=new RegExp("[~\\*/\\[\\]]");function $z(t,e,r){if(e.search(dhe)>=0)throw wy(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,r);try{return new XP(...e.split("."))._internalPath}catch{throw wy(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,r)}}function wy(t,e,r,n,i){const a=n&&!n.isEmpty(),s=i!==void 0;let o=`Function ${e}() called with invalid data`;r&&(o+=" (via `toFirestore()`)"),o+=". ";let c="";return(a||s)&&(c+=" (found",a&&(c+=` in field ${n}`),s&&(c+=` in document ${i}`),c+=")"),new je(pe.INVALID_ARGUMENT,o+t+c)}function Vz(t,e){return t.some((r=>r.isEqual(e)))}class fhe{convertValue(e,r="none"){switch(ll(e)){case 0:return null;case 1:return e.booleanValue;case 2:return sr(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,r);case 5:return e.stringValue;case 6:return this.convertBytes(ol(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,r);case 11:return this.convertObject(e.mapValue,r);case 10:return this.convertVectorValue(e.mapValue);default:throw Ge(62114,{value:e})}}convertObject(e,r){return this.convertObjectMap(e.fields,r)}convertObjectMap(e,r="none"){const n={};return yl(e,((i,a)=>{n[i]=this.convertValue(a,r)})),n}convertVectorValue(e){const r=e.fields?.[fy].arrayValue?.values?.map((n=>sr(n.doubleValue)));return new ia(r)}convertGeoPoint(e){return new Xa(sr(e.latitude),sr(e.longitude))}convertArray(e,r){return(e.values||[]).map((n=>this.convertValue(n,r)))}convertServerTimestamp(e,r){switch(r){case"previous":const n=Hv(e);return n==null?null:this.convertValue(n,r);case"estimate":return this.convertTimestamp(lp(e));default:return null}}convertTimestamp(e){const r=sl(e);return new Dt(r.seconds,r.nanos)}convertDocumentKey(e,r){const n=Kt.fromString(e);wt(iz(n),9688,{name:e});const i=new cp(n.get(1),n.get(3)),a=new qe(n.popFirst(5));return i.isEqual(r)||Ks(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${r.projectId}/${r.database}) instead.`),a}}class Uz extends fhe{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ci(e)}convertReference(e){const r=this.convertDocumentKey(e,this.firestore._databaseId);return new yr(this.firestore,null,r)}}function hhe(...t){return new QP("arrayUnion",t)}function phe(...t){return new JP("arrayRemove",t)}const u3="@firebase/firestore",d3="4.11.0";function f3(t){return(function(r,n){if(typeof r!="object"||r===null)return!1;const i=r;for(const a of n)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class qz{constructor(e,r,n,i,a){this._firestore=e,this._userDataWriter=r,this._key=n,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new yr(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new mhe(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){return this._document?.data.clone().value.mapValue.fields??void 0}get(e){if(this._document){const r=this._document.data.field(fp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r)}}}class mhe extends qz{data(){return super.data()}}function ghe(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new je(pe.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}function yhe(t,e,r){let n;return n=t?r&&(r.merge||r.mergeFields)?t.toFirestore(e,r):t.toFirestore(e):e,n}class Ph{constructor(e,r){this.hasPendingWrites=e,this.fromCache=r}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class pc extends qz{constructor(e,r,n,i,a,s){super(e,r,n,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const r=new F0(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(r,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,r={}){if(this._document){const n=this._document.data.field(fp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n,r.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new je(pe.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,r={};return r.type=pc._jsonSchemaVersion,r.bundle="",r.bundleSource="DocumentSnapshot",r.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?r:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),r.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),r)}}pc._jsonSchemaVersion="firestore/documentSnapshot/1.0",pc._jsonSchema={type:gr("string",pc._jsonSchemaVersion),bundleSource:gr("string","DocumentSnapshot"),bundleName:gr("string"),bundle:gr("string")};class F0 extends pc{data(e={}){return super.data(e)}}class id{constructor(e,r,n,i){this._firestore=e,this._userDataWriter=r,this._snapshot=i,this.metadata=new Ph(i.hasPendingWrites,i.fromCache),this.query=n}get docs(){const e=[];return this.forEach((r=>e.push(r))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,r){this._snapshot.docs.forEach((n=>{e.call(r,new F0(this._firestore,this._userDataWriter,n.key,n,new Ph(this._snapshot.mutatedKeys.has(n.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const r=!!e.includeMetadataChanges;if(r&&this._snapshot.excludesMetadataChanges)throw new je(pe.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===r||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map((o=>{const c=new F0(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Ph(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);return o.doc,{type:"added",doc:c,oldIndex:-1,newIndex:s++}}))}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((o=>a||o.type!==3)).map((o=>{const c=new F0(i._firestore,i._userDataWriter,o.doc.key,o.doc,new Ph(i._snapshot.mutatedKeys.has(o.doc.key),i._snapshot.fromCache),i.query.converter);let d=-1,f=-1;return o.type!==0&&(d=s.indexOf(o.doc.key),s=s.delete(o.doc.key)),o.type!==1&&(s=s.add(o.doc),f=s.indexOf(o.doc.key)),{type:vhe(o.type),doc:c,oldIndex:d,newIndex:f}}))}})(this,r),this._cachedChangesIncludeMetadataChanges=r),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new je(pe.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=id._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=SP.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const r=[],n=[],i=[];return this.docs.forEach((a=>{a._document!==null&&(r.push(a._document),n.push(this._userDataWriter.convertObjectMap(a._document.data.value.mapValue.fields,"previous")),i.push(a.ref.path))})),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function vhe(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Ge(61501,{type:t})}}id._jsonSchemaVersion="firestore/querySnapshot/1.0",id._jsonSchema={type:gr("string",id._jsonSchemaVersion),bundleSource:gr("string","QuerySnapshot"),bundleName:gr("string"),bundle:gr("string")};function Gh(t){t=Ha(t,yr);const e=Ha(t.firestore,wd),r=YP(e);return Jfe(r,t._key).then((n=>Bz(e,t,n)))}function _y(t,e,r){t=Ha(t,yr);const n=Ha(t.firestore,wd),i=yhe(t.converter,e,r),a=Dz(n);return zz(n,[lhe(a,"setDoc",t._key,i,t.converter!==null,r).toMutation(t._key,Ka.none())])}function h3(t,e,r,...n){t=Ha(t,yr);const i=Ha(t.firestore,wd),a=Dz(i);let s;return s=typeof(e=ze(e))=="string"||e instanceof XP?uhe(a,"updateDoc",t._key,e,r,n):che(a,"updateDoc",t._key,e),zz(i,[s.toMutation(t._key,Ka.exists(!0))])}function bhe(t,...e){t=ze(t);let r={includeMetadataChanges:!1,source:"default"},n=0;typeof e[n]!="object"||f3(e[n])||(r=e[n++]);const i={includeMetadataChanges:r.includeMetadataChanges,source:r.source};if(f3(e[n])){const d=e[n];e[n]=d.next?.bind(d),e[n+1]=d.error?.bind(d),e[n+2]=d.complete?.bind(d)}let a,s,o;if(t instanceof yr)s=Ha(t.firestore,wd),o=Kv(t._key.path),a={next:d=>{e[n]&&e[n](Bz(s,t,d))},error:e[n+1],complete:e[n+2]};else{const d=Ha(t,nb);s=Ha(d.firestore,wd),o=d._query;const f=new Uz(s);a={next:p=>{e[n]&&e[n](new id(s,f,d,p))},error:e[n+1],complete:e[n+2]},ghe(t._query)}const c=YP(s);return Qfe(c,o,i,a)}function zz(t,e){const r=YP(t);return Zfe(r,e)}function Bz(t,e,r){const n=r.docs.get(e._key),i=new Uz(t);return new pc(t,i,e._key,n,new Ph(r.hasPendingWrites,r.fromCache),e.converter)}(function(e,r=!0){Jce(Vd),Za(new la("firestore",((n,{instanceIdentifier:i,options:a})=>{const s=n.getProvider("app").getImmediate(),o=new wd(new tue(n.getProvider("auth-internal")),new iue(s,n.getProvider("app-check-internal")),_ue(s,i),s);return a={useFetchStreams:r,...a},o._setSettings(a),o}),"PUBLIC").setMultipleInstances(!0)),Di(u3,d3,e),Di(u3,d3,"esm2020")})();const xhe={apiKey:"AIzaSyDJGNUFZBC7AUn8qhk-F6-b0CkEwaQE1p4",authDomain:"global-markets-bd748.firebaseapp.com",projectId:"global-markets-bd748",storageBucket:"global-markets-bd748.firebasestorage.app",messagingSenderId:"339392801144",appId:"1:339392801144:web:2f52cf054ee9450346008d",measurementId:"G-1KVB7V9GYQ"},eC=NV(xhe);Gce(eC);const Hu=Wd(eC),whe=new qa,sc=nhe(eC),r_={holdings:[],totalValue:0,totalCost:0,totalGainLoss:0,totalGainLossPercent:0,lastUpdated:new Date().toISOString()},n_={correlationLookback:90,aiExplanations:!0,aiDetailLevel:"detailed",refreshInterval:30,showAfterHoursGrayscale:!0,alertSound:"default",alertDuration:5e3,exportFormat:"csv",exportMetadata:!0,notifications:{correlationAlerts:!0,priceAlerts:!1,marketNews:!0,volumeSpikes:!1}},i_={theme:"dark",historicalAssetType:"crypto",historicalSymbol:"BTC",historicalTimeframe:90};function Wz(t){return ac(sc,"users",t)}async function sb(t){if(!t)return null;try{const e=await Gh(Wz(t));return e.exists()?e.data():null}catch(e){return console.error("Error fetching user data:",e),null}}async function ob(t,e,r){if(t)try{await _y(Wz(t),{[e]:r,updatedAt:new Date().toISOString()},{merge:!0})}catch(n){throw console.error(`Error updating ${e}:`,n),n}}async function _he(t){if(!t)return{...r_};try{return(await sb(t))?.portfolio||{...r_}}catch{return{...r_}}}async function Ehe(t,e){e.lastUpdated=new Date().toISOString(),await ob(t,"portfolio",e)}async function tC(t){if(!t)return[];try{return(await sb(t))?.priceAlerts||[]}catch{return[]}}async function lb(t,e){await ob(t,"priceAlerts",e)}async function She(t,e){const r=await tC(t),n={id:Date.now(),created_at:Date.now(),triggered:!1,...e};return r.push(n),await lb(t,r),n}async function The(t,e){const n=(await tC(t)).filter(i=>i.id!==e);return await lb(t,n),n}async function Ahe(t){return await lb(t,[]),[]}async function khe(t){if(!t)return{...n_};try{return(await sb(t))?.settings||{...n_}}catch{return{...n_}}}async function a_(t,e){await ob(t,"settings",e)}async function Ku(t){if(!t)return{...i_};try{return(await sb(t))?.preferences||{...i_}}catch{return{...i_}}}async function $0(t,e){await ob(t,"preferences",e)}const hp=XI(gV((t,e)=>({theme:"dark",isDarkMode:!0,toggleTheme:()=>{const r=e().theme==="dark"?"light":"dark";t({theme:r,isDarkMode:r==="dark"}),t0(r);const n=Wd();n.currentUser&&Ku(n.currentUser.uid).then(i=>{$0(n.currentUser.uid,{...i,theme:r})})},setTheme:r=>{t({theme:r,isDarkMode:r==="dark"}),t0(r)},loadFromFirestore:async r=>{if(r)try{const n=await Ku(r);n?.theme&&e().setTheme(n.theme)}catch(n){console.error("Failed to load theme from Firestore:",n)}},clearUserData:()=>{t({theme:"dark",isDarkMode:!0}),t0("dark")},initTheme:()=>{const{theme:r}=e();t0(r)}}),{name:"marketvue_theme"}));function t0(t){t==="dark"?document.documentElement.classList.add("dark"):document.documentElement.classList.remove("dark")}if(typeof window<"u")try{const t=Wd();Mv(t,e=>{e?hp.getState().loadFromFirestore(e.uid):hp.getState().clearUserData()})}catch{}function Ihe(t){if(!t||!Array.isArray(t)||t.length<2)return[];const e=[];for(let r=0;r<t.length;r++)for(let n=r+1;n<t.length;n++){const i=t[r],a=t[n],s=i.change_percent??i.change??0,o=a.change_percent??a.change??0;if(Math.abs(s)<.5&&Math.abs(o)<.5||!(s>0&&o<0||s<0&&o>0))continue;const d=Math.abs(s-o);let f;d>3?f="strong":d>=1.5?f="moderate":f="low";const[p,g]=s<0?[i,a]:[a,i],b=s<0?s:o,w=s<0?o:s;e.push({asset1:p.symbol,asset1_change:Math.round(b*100)/100,asset2:g.symbol,asset2_change:Math.round(w*100)/100,divergence_score:Math.round(d*100)/100,opposite_strength:f})}return e.sort((r,n)=>n.divergence_score-r.divergence_score).slice(0,10)}function s_(t,e={}){const r=Ihe(t);if(r.length===0)return[];const n=[];for(const i of r){const a=`${i.asset1}-${i.asset2}`,s=`${i.asset2}-${i.asset1}`,o=e[a]??e[s]??null;let c,d;o===null?(c="DIVERGENCE_DETECTED",d=`${i.asset1} ${i.asset1_change>=0?"up":"down"} ${i.asset1_change}% while ${i.asset2} ${i.asset2_change>=0?"up":"down"} ${i.asset2_change}%`):Math.abs(o)>.5?(c="DIVERGENCE_WARNING",d=`Unusual! ${i.asset1} and ${i.asset2} usually move together (${o.toFixed(2)}) but are currently diverging!`):Math.abs(o)<.3?(c="HEDGE_OPPORTUNITY",d=`Natural hedge: ${i.asset1}  ${i.asset1_change}% | ${i.asset2}  +${i.asset2_change}%`):(c="DIVERGENCE_DETECTED",d=`${i.asset1} and ${i.asset2} showing ${i.divergence_score.toFixed(1)}% divergence today`),n.push({asset1:i.asset1,asset1_change:i.asset1_change,asset2:i.asset2,asset2_change:i.asset2_change,divergence:i.divergence_score,historical_correlation:o!==null?o:"unknown",alert_type:c,message:d,strength:i.opposite_strength})}return n.sort((i,a)=>a.divergence-i.divergence)}async function Phe(){try{const t=await Hz(),e=o_(t.stocks,2),r=o_(t.crypto,2),n=o_(t.commodities,2);return[...e,...r,...n]}catch(t){return console.error("Failed to get dashboard volatility alerts:",t),[]}}function o_(t,e){const r=[],n=new Set;for(const i of t){if(r.length>=e)break;n.has(i.asset1)||n.has(i.asset2)||(r.push(i),n.add(i.asset1),n.add(i.asset2))}return r}async function Hz(){try{const[t,e,r]=await Promise.all([Sn.getMarketData("crypto"),Sn.getMarketData("stocks"),Sn.getMarketData("commodities")]),n={"AAPL-MSFT":.78,"NVDA-AMD":.82,"GOOGL-META":.72,"AMZN-MSFT":.68,"TSLA-NVDA":.55,"JPM-V":.45,"WMT-MA":.35,"BTC-ETH":.85,"ETH-SOL":.8,"BTC-SOL":.75,"BTC-ADA":.7,"ETH-ADA":.72,"BTC-XRP":.65,"GOLD-SILVER":.92,"OIL-NATGAS":.45,"GOLD-OIL":.25,"SILVER-OIL":.28,"BTC-GOLD":.25,"BTC-AAPL":.35,"ETH-AAPL":.28},i=e.map(f=>({symbol:f.symbol,change_percent:f.change,name:f.name,market:"stocks"})),a=t.map(f=>({symbol:f.symbol,change_percent:f.change,name:f.name,market:"crypto"})),s=r.map(f=>({symbol:f.symbol,change_percent:f.change,name:f.name,market:"commodities"})),o=s_(i,n).map(f=>({...f,market:"stocks"})),c=s_(a,n).map(f=>({...f,market:"crypto"})),d=s_(s,n).map(f=>({...f,market:"commodities"}));return{stocks:o,crypto:c,commodities:d}}catch(t){return console.error("Failed to get volatility alerts by market:",t),{stocks:[],crypto:[],commodities:[]}}}const Che="modulepreload",Nhe=function(t){return"/"+t},p3={},Rhe=function(e,r,n){let i=Promise.resolve();if(r&&r.length>0){let d=function(f){return Promise.all(f.map(p=>Promise.resolve(p).then(g=>({status:"fulfilled",value:g}),g=>({status:"rejected",reason:g}))))};var s=d;document.getElementsByTagName("link");const o=document.querySelector("meta[property=csp-nonce]"),c=o?.nonce||o?.getAttribute("nonce");i=d(r.map(f=>{if(f=Nhe(f),f in p3)return;p3[f]=!0;const p=f.endsWith(".css"),g=p?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${f}"]${g}`))return;const b=document.createElement("link");if(b.rel=p?"stylesheet":Che,p||(b.as="script"),b.crossOrigin="",b.href=f,c&&b.setAttribute("nonce",c),document.head.appendChild(b),p)return new Promise((w,_)=>{b.addEventListener("load",w),b.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${f}`)))})}))}function a(o){const c=new Event("vite:preloadError",{cancelable:!0});if(c.payload=o,window.dispatchEvent(c),!c.defaultPrevented)throw o}return i.then(o=>{for(const c of o||[])c.status==="rejected"&&a(c.reason);return e().catch(a)})},Gz=E.createContext();function Vi(){return E.useContext(Gz)}function Ohe({children:t}){const[e,r]=E.useState(null),[n,i]=E.useState(!0);async function a(p,g,b){try{const w=await gU(Hu,p,g);if(console.log("Signup Auth Success:",w.user.uid),b){const{updateProfile:_}=await Rhe(async()=>{const{updateProfile:x}=await Promise.resolve().then(()=>Ile);return{updateProfile:x}},[]);await _(w.user,{displayName:b}),console.log("User profile updated with name:",b)}await ek(w.user),console.log("Verification Email Sent");try{await _y(ac(sc,"users",w.user.uid),{email:p,name:b||"",createdAt:new Date().toISOString(),role:"user",plan:"free"}),console.log("Firestore User Doc Created")}catch(_){console.error("Firestore Error (Check if Firestore is enabled in Console):",_)}return w}catch(w){throw console.error("Signup Auth Error:",w),w}}function s(p,g){return yU(Hu,p,g)}function o(){return["portfolio","watchlist","marketvue_price_alerts","marketvue_settings","marketvue_theme","hms_historical_assetType","hms_historical_symbol","hms_historical_timeframe"].forEach(g=>localStorage.removeItem(g)),_U(Hu)}function c(p){return ek(p)}async function d(){try{const p=await OU(Hu,whe),g=p.user;console.log("Google Auth Success:",g.uid);try{const b=ac(sc,"users",g.uid);(await Gh(b)).exists()||(await _y(b,{email:g.email,name:g.displayName,photoURL:g.photoURL,createdAt:new Date().toISOString(),role:"user",plan:"free"}),console.log("Firestore User Doc Created (Google)"))}catch(b){console.error("Firestore Error (Check if Firestore is enabled in Console):",b)}return p}catch(p){throw console.error("Google Sign-In Error:",p),p}}E.useEffect(()=>Mv(Hu,g=>{r(g),i(!1)}),[]);const f={currentUser:e,signup:a,login:s,logout:o,googleSignIn:d,resendVerificationEmail:c};return h.jsx(Gz.Provider,{value:f,children:!n&&t})}function jhe(){const t=pl(),[e,r]=E.useState(new Date),{isDarkMode:n,toggleTheme:i}=hp(),[a,s]=E.useState([]),[o,c]=E.useState(!1),[d,f]=E.useState(!1),{currentUser:p,logout:g}=Vi(),b=async()=>{try{await g(),t("/login")}catch(x){console.error("Failed to log out",x)}};ai.useEffect(()=>{const x=setInterval(()=>{r(new Date)},1e3);return()=>clearInterval(x)},[]),ai.useEffect(()=>{const x=async()=>{const I=await Phe();s(I)};x();const T=setInterval(x,6e4);return()=>clearInterval(T)},[]);const w=x=>x.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",second:"2-digit",hour12:!1}),_=x=>x.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return h.jsxs("header",{className:"h-16 bg-surface border-b border-border flex items-center justify-between px-6 sticky top-0 z-10 transition-colors duration-300",children:[h.jsx("div",{className:"flex-1 max-w-xl",children:h.jsx(yne,{onSelect:x=>t(`/asset/${x.market}/${x.symbol}`)})}),h.jsxs("div",{className:"flex items-center gap-6",children:[h.jsx("button",{onClick:i,className:"p-2 text-secondary hover:text-primary hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors",children:n?h.jsx(B$,{className:"w-5 h-5"}):h.jsx(q$,{className:"w-5 h-5"})}),h.jsxs("div",{className:"text-right",children:[h.jsx("div",{className:"text-lg font-mono text-primary",children:w(e)}),h.jsxs("div",{className:"text-xs font-mono text-secondary",children:[_(e)," EST"]})]}),h.jsxs("div",{className:"relative",children:[h.jsxs("button",{onClick:()=>c(!o),className:"p-2 text-secondary hover:text-primary hover:bg-slate-100 dark:hover:bg-slate-800 rounded-lg transition-colors relative",children:[h.jsx(ud,{className:"w-5 h-5"}),a.length>0&&h.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full animate-pulse"})]}),o&&h.jsxs("div",{className:"absolute right-0 mt-2 w-80 bg-surface border border-border rounded-xl shadow-xl overflow-hidden z-50 animate-fadeIn",children:[h.jsxs("div",{className:"p-3 border-b border-border bg-slate-50 dark:bg-slate-900/50 flex justify-between items-center",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("h3",{className:"font-semibold text-sm",children:"Volatility Alerts"}),h.jsxs("span",{className:"text-xs text-slate-500",children:[a.length," active"]})]}),a.length>0&&h.jsx("button",{onClick:x=>{x.stopPropagation(),s([])},className:"text-xs text-blue-500 hover:text-blue-600 font-medium hover:underline",children:"Clear All"})]}),h.jsx("div",{className:"max-h-64 overflow-y-auto",children:a.length>0?a.map((x,T)=>h.jsxs("div",{className:"p-3 border-b border-border last:border-0 hover:bg-slate-50 dark:hover:bg-slate-800/50 transition-colors",children:[h.jsxs("div",{className:"flex justify-between items-start mb-1",children:[h.jsx("span",{className:`text-xs font-bold uppercase ${x.alert_type==="HEDGE_OPPORTUNITY"?"text-emerald-500":x.alert_type==="DIVERGENCE_WARNING"?"text-amber-500":"text-blue-500"}`,children:x.alert_type.replace("_"," ")}),h.jsx("span",{className:"text-[10px] text-slate-400",children:"Just now"})]}),h.jsx("p",{className:"text-sm text-primary leading-tight",children:x.message})]},T)):h.jsx("div",{className:"p-4 text-center text-slate-500 text-sm",children:"No active alerts"})})]})]}),h.jsxs("div",{className:"relative",children:[h.jsxs("button",{onClick:()=>f(!d),className:"flex items-center gap-3 hover:bg-slate-100 dark:hover:bg-slate-800 p-2 rounded-xl transition-colors",children:[p?.photoURL?h.jsx("img",{src:p.photoURL,alt:"Profile",className:"w-9 h-9 rounded-full border border-slate-600"}):h.jsx("div",{className:"w-9 h-9 bg-gradient-to-br from-blue-500 to-purple-600 rounded-full flex items-center justify-center text-white shadow-lg shadow-blue-500/20",children:h.jsx("span",{className:"text-sm font-bold",children:p?.email?.charAt(0).toUpperCase()||"U"})}),h.jsxs("div",{className:"hidden md:block text-left",children:[h.jsx("div",{className:"text-sm font-medium text-slate-200",children:p?.displayName||p?.email?.split("@")[0]||"User"}),h.jsxs("div",{className:"text-[10px] text-slate-500 flex items-center gap-1",children:[p?.emailVerified?"Verified":"Free Plan",h.jsx(lee,{className:"w-3 h-3"})]})]})]}),d&&h.jsxs("div",{className:"absolute right-0 mt-2 w-48 bg-surface border border-border rounded-xl shadow-xl overflow-hidden z-50 animate-fadeIn",children:[h.jsxs("div",{className:"p-3 border-b border-border bg-slate-50 dark:bg-slate-900/50",children:[h.jsx("p",{className:"text-xs text-slate-500 font-medium",children:"Signed in as"}),h.jsx("p",{className:"text-sm font-bold truncate text-primary",children:p?.email})]}),h.jsxs("div",{className:"p-1",children:[h.jsxs("button",{onClick:()=>t("/settings"),className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-slate-400 hover:text-white hover:bg-slate-800 rounded-lg transition-colors",children:[h.jsx(W$,{className:"w-4 h-4"})," Profile"]}),h.jsxs("button",{onClick:b,className:"w-full flex items-center gap-2 px-3 py-2 text-sm text-red-400 hover:text-red-300 hover:bg-red-500/10 rounded-lg transition-colors",children:[h.jsx(U$,{className:"w-4 h-4"})," Sign Out"]})]})]})]})]})]})}const Dhe={BTC:"bitcoin",ETH:"ethereum",SOL:"solana",BNB:"binancecoin",XRP:"ripple",ADA:"cardano",DOGE:"dogecoin",AVAX:"avalanche-2",DOT:"polkadot",MATIC:"matic-network",LINK:"chainlink",UNI:"uniswap",USDT:"tether",USDC:"usd-coin",SHIB:"shiba-inu",LTC:"litecoin",BCH:"bitcoin-cash",ATOM:"cosmos",FIL:"filecoin",NEAR:"near",ARB:"arbitrum",OP:"optimism",APT:"aptos",TRX:"tron",TON:"the-open-network",AAVE:"aave",ETC:"ethereum-classic",XLM:"stellar",ALGO:"algorand",SAND:"the-sandbox",MANA:"decentraland",ICP:"internet-computer",VET:"vechain",GRT:"the-graph",FTM:"fantom",EOS:"eos",HBAR:"hedera-hashgraph",THETA:"theta-token",FLOW:"flow",XMR:"monero",CAKE:"pancakeswap-token",CHZ:"chiliz",AXS:"axie-infinity",ZEC:"zcash",WBTC:"wrapped-bitcoin",DAI:"dai",QNT:"quant-network",XTZ:"tezos"},Mhe={AAPL:"apple.com",MSFT:"microsoft.com",GOOGL:"google.com",AMZN:"amazon.com",NVDA:"nvidia.com",META:"meta.com",TSLA:"tesla.com","BRK.B":"berkshirehathaway.com",JPM:"jpmorganchase.com",V:"visa.com",WMT:"walmart.com",MA:"mastercard.com",JNJ:"jnj.com",PG:"pg.com",UNH:"unitedhealthgroup.com",HD:"homedepot.com",DIS:"disney.com",NFLX:"netflix.com",INTC:"intel.com",AMD:"amd.com",CRM:"salesforce.com",PYPL:"paypal.com",ADBE:"adobe.com",CSCO:"cisco.com",PEP:"pepsico.com",KO:"coca-cola.com",COST:"costco.com",ABBV:"abbvie.com",MRK:"merck.com",PFE:"pfizer.com",BA:"boeing.com",IBM:"ibm.com"},Lhe={GOLD:"",SILVER:"",CL:"",NG:"",COPPER:"",PLATINUM:"",WHEAT:"",CORN:"",COFFEE:""};function Fhe(t,e){const r=t?.toUpperCase();if(e==="crypto"){const n=Dhe[r];if(n)return{type:"url",value:`https://assets.coingecko.com/coins/images/1/small/${n}.png`,fallback:`https://cryptofonts.com/img/icons/${n}.svg`}}if(e==="stocks"){const n=Mhe[r];if(n)return{type:"url",value:`https://logo.clearbit.com/${n}`,fallback:null}}if(e==="commodities"){const n=Lhe[r];if(n)return{type:"emoji",value:n}}return{type:"letter",value:(r||"?").charAt(0)}}function Kz({symbol:t,market:e,size:r=28,className:n=""}){const[i,a]=E.useState(!1),s=Fhe(t,e),o={width:r,height:r,minWidth:r};if(s.type==="emoji")return h.jsx("span",{className:`flex items-center justify-center ${n}`,style:{...o,fontSize:r*.7},role:"img","aria-label":t,children:s.value});if(s.type==="letter"||i){const c=["from-blue-500 to-purple-600","from-emerald-500 to-teal-600","from-orange-500 to-red-600","from-pink-500 to-rose-600","from-cyan-500 to-blue-600","from-violet-500 to-purple-600"],d=(t||"").charCodeAt(0)%c.length;return h.jsx("div",{className:`rounded-full bg-gradient-to-br ${c[d]} flex items-center justify-center text-white font-bold shadow-md ${n}`,style:{...o,fontSize:r*.45},children:(t||"?").charAt(0)})}return h.jsx("img",{src:s.value,alt:`${t} icon`,className:`rounded-full object-cover bg-white/10 ${n}`,style:o,onError:c=>{s.fallback&&c.target.src!==s.fallback?c.target.src=s.fallback:a(!0)},loading:"lazy"})}function $he(){const t=pl(),e=si(T=>T.marketData),[r,n]=E.useState(null),[i,a]=E.useState("stocks"),[s,o]=E.useState([]),[c,d]=E.useState({stocks:{total:0,change:0},crypto:{total:0,change:0},commodities:{total:0,change:0}});E.useEffect(()=>{f(),p()},[e,i]);const f=()=>{const T=e.stocks||[],I=e.crypto||[],P=e.commodities||[],j=T.reduce((F,D)=>F+(D.marketCap||0),0),O=T.length>0?T.reduce((F,D)=>F+(D.change||0),0)/T.length:0,V=I.reduce((F,D)=>F+(D.marketCap||0),0),C=I.length>0?I.reduce((F,D)=>F+(D.change||0),0)/I.length:0,N=P.reduce((F,D)=>F+(D.marketCap||0),0),M=P.length>0?P.reduce((F,D)=>F+(D.change||0),0)/P.length:0;d({stocks:{total:j,change:O},crypto:{total:V,change:C},commodities:{total:N,change:M}})},p=()=>{let T=[];switch(i){case"stocks":T=(e.stocks||[]).map(P=>({...P,market:"stocks"}));break;case"crypto":T=(e.crypto||[]).map(P=>({...P,market:"crypto"}));break;case"commodities":T=(e.commodities||[]).map(P=>({...P,market:"commodities"}));break;default:T=[]}const I=T.filter(P=>P.change!==void 0).sort((P,j)=>Math.abs(j.change)-Math.abs(P.change)).slice(0,6);o(I)},g=T=>T>=1e12?`$${(T/1e12).toFixed(2)}T`:T>=1e9?`$${(T/1e9).toFixed(2)}B`:T>=1e6?`$${(T/1e6).toFixed(2)}M`:`$${T.toFixed(0)}`,b=[{id:"heatmap",title:"Market Heatmap",icon:dd,description:"View all markets (Stocks, Crypto, Commodities)",actionText:"View heatmap",color:"from-blue-500 to-purple-500",route:"/heatmap"},{id:"compare",title:"Compare Assets",icon:D$,description:"Side-by-side asset comparison",actionText:"Compare now",color:"from-green-500 to-emerald-500",route:"/compare"},{id:"watchlist",title:"My Watchlist",icon:Zee,description:"Your custom tracked assets",actionText:"View watchlist",color:"from-orange-500 to-red-500",route:"/watchlist"}],w=()=>{const T=new Date,I=T.toLocaleTimeString("en-US",{timeZone:"America/New_York",hour:"2-digit",minute:"2-digit",hour12:!1}),P=T.toLocaleDateString("en-US",{weekday:"short",month:"short",day:"numeric"});return{time:I,date:P}},{time:_,date:x}=w();return h.jsx("div",{className:"min-h-screen bg-gradient-to-br from-slate-50 via-white to-slate-100 dark:from-slate-950 dark:via-slate-900 dark:to-slate-950 p-4 md:p-6",children:h.jsxs("div",{className:"max-w-[1920px] mx-auto space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-3xl font-bold bg-gradient-to-r from-blue-600 via-purple-600 to-pink-600 bg-clip-text text-transparent",children:"MarketVue PRO"}),h.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mt-1",children:x})]}),h.jsx("div",{className:"flex items-center gap-3",children:h.jsx("div",{className:"px-4 py-2 bg-slate-900/5 dark:bg-white/5 rounded-lg border border-slate-200 dark:border-slate-700",children:h.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[h.jsx(j$,{className:"w-4 h-4 text-blue-600 dark:text-blue-400"}),h.jsxs("span",{className:"font-semibold text-slate-900 dark:text-slate-100",children:["Time: ",_," EST"]})]})})})]}),h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold text-slate-900 dark:text-white mb-4",children:"Market Overview"}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all duration-300 hover:scale-105",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("span",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400",children:"Stocks"}),h.jsx(lr,{className:"w-5 h-5 text-blue-600 dark:text-blue-400"})]}),h.jsx("div",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:g(c.stocks.total)}),h.jsxs("div",{className:`flex items-center gap-1 text-sm font-semibold ${c.stocks.change>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:[c.stocks.change>=0?"":""," ",Math.abs(c.stocks.change).toFixed(2),"%"]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all duration-300 hover:scale-105",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("span",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400",children:"Crypto"}),h.jsx(Cw,{className:"w-5 h-5 text-purple-600 dark:text-purple-400"})]}),h.jsx("div",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:g(c.crypto.total)}),h.jsxs("div",{className:`flex items-center gap-1 text-sm font-semibold ${c.crypto.change>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:[c.crypto.change>=0?"":""," ",Math.abs(c.crypto.change).toFixed(2),"%"]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-6 border border-slate-200 dark:border-slate-700 hover:shadow-xl transition-all duration-300 hover:scale-105",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("span",{className:"text-sm font-semibold text-slate-600 dark:text-slate-400",children:"Commodity"}),h.jsx(ji,{className:"w-5 h-5 text-amber-600 dark:text-amber-400"})]}),h.jsx("div",{className:"text-3xl font-bold text-slate-900 dark:text-white mb-2",children:g(c.commodities.total)}),h.jsxs("div",{className:`flex items-center gap-1 text-sm font-semibold ${c.commodities.change>=0?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:[c.commodities.change>=0?"":""," ",Math.abs(c.commodities.change).toFixed(2),"%"]})]})]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-800 rounded-2xl p-8 border border-slate-200 dark:border-slate-700 shadow-lg",children:[h.jsxs("div",{className:"text-center mb-6",children:[h.jsx("h2",{className:"text-2xl font-bold text-slate-900 dark:text-white mb-2",children:'"Which Markets Are Hot?"'}),h.jsx("p",{className:"text-slate-600 dark:text-slate-400",children:"Select a category to explore"})]}),h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-6",children:b.map(T=>{const I=T.icon;return h.jsxs("button",{onClick:()=>t(T.route),className:"group relative bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-800 dark:to-slate-900 rounded-xl p-6 border-2 border-slate-200 dark:border-slate-700 hover:border-blue-500 dark:hover:border-blue-400 transition-all duration-300 hover:shadow-2xl hover:scale-105 text-left",children:[h.jsx("div",{className:`absolute inset-0 bg-gradient-to-br ${T.color} opacity-0 group-hover:opacity-10 rounded-xl transition-opacity duration-300`}),h.jsxs("div",{className:"relative",children:[h.jsxs("div",{className:"flex items-center gap-3 mb-3",children:[h.jsx("div",{className:`p-2 rounded-lg bg-gradient-to-br ${T.color}`,children:h.jsx(I,{className:"w-5 h-5 text-white"})}),h.jsx("h3",{className:"font-bold text-lg text-slate-900 dark:text-white",children:T.title})]}),h.jsx("p",{className:"text-sm text-slate-600 dark:text-slate-400 mb-2",children:T.description}),h.jsxs("div",{className:"flex items-center text-blue-600 dark:text-blue-400 text-sm font-semibold group-hover:translate-x-2 transition-transform",children:[T.actionText," ",h.jsx(zg,{className:"w-4 h-4 ml-1"})]})]})]},T.id)})})]}),h.jsx("div",{className:"bg-gradient-to-br from-blue-50 to-indigo-50 dark:from-blue-950/20 dark:to-indigo-950/20 rounded-2xl p-6 border border-blue-200 dark:border-blue-800",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"p-3 bg-blue-500 rounded-xl",children:h.jsx(Oee,{className:"w-6 h-6 text-white"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"text-lg font-bold text-slate-900 dark:text-white mb-3",children:"How to Read the Heatmap"}),h.jsxs("div",{className:"flex flex-wrap gap-6 text-sm text-slate-700 dark:text-slate-300",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-4 h-4 bg-emerald-500 rounded"}),h.jsxs("span",{children:[h.jsx("strong",{children:"Green"})," = Stock up"]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-4 h-4 bg-red-500 rounded"}),h.jsxs("span",{children:[h.jsx("strong",{children:"Red"})," = Stock down"]})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-8 h-4 bg-slate-400 rounded"}),h.jsxs("span",{children:[h.jsx("strong",{children:"Size"})," = Market cap"]})]})]})]})]})}),h.jsxs("div",{className:"bg-white dark:bg-slate-800/80 rounded-2xl p-6 border border-slate-200 dark:border-slate-700 shadow-lg backdrop-blur-sm overflow-hidden",children:[h.jsxs("div",{className:"flex items-center justify-between mb-5",children:[h.jsxs("h2",{className:"text-xl font-bold text-slate-900 dark:text-white flex items-center gap-2",children:[h.jsx(lr,{className:"w-6 h-6 text-orange-500"}),"Top Trending",h.jsx("span",{className:"text-xs font-medium text-slate-400 dark:text-slate-500 ml-1",children:"24h"})]}),h.jsx("div",{className:"flex gap-1 bg-slate-100 dark:bg-slate-900/60 rounded-xl p-1",children:[{key:"stocks",label:"Stocks",icon:lr,activeColor:"bg-blue-600"},{key:"crypto",label:"Crypto",icon:Cw,activeColor:"bg-purple-600"},{key:"commodities",label:"Commodities",icon:ji,activeColor:"bg-amber-600"}].map(T=>{const I=T.icon,P=i===T.key;return h.jsxs("button",{onClick:()=>a(T.key),className:`flex items-center gap-1.5 px-4 py-1.5 rounded-lg text-xs font-semibold transition-all duration-200 ${P?`${T.activeColor} text-white shadow-md`:"text-slate-500 dark:text-slate-400 hover:text-slate-900 dark:hover:text-white"}`,children:[h.jsx(I,{className:"w-3.5 h-3.5"}),T.label]},T.key)})})]}),h.jsx("div",{className:"flex gap-4 overflow-x-auto pb-2 scrollbar-thin scrollbar-thumb-slate-300 dark:scrollbar-thumb-slate-600 scrollbar-track-transparent snap-x snap-mandatory",style:{scrollbarWidth:"thin"},children:s.map((T,I)=>{const P=T.change>=0,j=P?"emerald":"red",O=P?"hover:shadow-emerald-500/20 dark:hover:shadow-emerald-500/10":"hover:shadow-red-500/20 dark:hover:shadow-red-500/10",V=[];let C=50;for(let M=0;M<20;M++)C=Math.max(10,Math.min(90,C+(Math.random()-(P?.4:.6))*15)),V.push(`${M/19*140},${C}`);const N=V.join(" ");return h.jsxs(or,{to:`/asset/${T.market}/${T.symbol}`,className:`group snap-start flex-shrink-0 w-56 relative bg-gradient-to-br from-slate-50 to-slate-100 dark:from-slate-900 dark:to-slate-800 rounded-xl border border-slate-200/80 dark:border-slate-700/60 p-4 hover:border-${j}-400 dark:hover:border-${j}-500 hover:shadow-xl ${O} transition-all duration-300 hover:-translate-y-1`,children:[h.jsx("div",{className:`absolute top-3 right-3 w-6 h-6 rounded-full flex items-center justify-center text-[10px] font-bold ${I===0?"bg-gradient-to-br from-yellow-400 to-orange-500 text-white shadow-lg shadow-orange-500/30":I===1?"bg-gradient-to-br from-slate-300 to-slate-400 text-white":I===2?"bg-gradient-to-br from-amber-600 to-amber-700 text-white":"bg-slate-200 dark:bg-slate-700 text-slate-500 dark:text-slate-400"}`,children:I+1}),h.jsxs("div",{className:"mb-1",children:[h.jsx("div",{className:"font-bold text-lg text-slate-900 dark:text-white group-hover:text-blue-600 dark:group-hover:text-blue-400 transition-colors",children:T.symbol}),h.jsx("div",{className:"text-[11px] text-slate-400 dark:text-slate-500 truncate max-w-[120px]",children:T.name||T.symbol})]}),h.jsx("div",{className:"my-2 -mx-1",children:h.jsxs("svg",{width:"148",height:"40",viewBox:"0 0 148 100",preserveAspectRatio:"none",className:"w-full h-10",children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:`spark-grad-${T.symbol}-${I}`,x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"0%",stopColor:P?"#10b981":"#ef4444",stopOpacity:"0.3"}),h.jsx("stop",{offset:"100%",stopColor:P?"#10b981":"#ef4444",stopOpacity:"0"})]})}),h.jsx("polyline",{points:N,fill:"none",stroke:P?"#10b981":"#ef4444",strokeWidth:"2.5",strokeLinecap:"round",strokeLinejoin:"round"}),h.jsx("polygon",{points:`0,100 ${N} 140,100`,fill:`url(#spark-grad-${T.symbol}-${I})`})]})}),h.jsxs("div",{className:"flex items-end justify-between mt-1",children:[h.jsxs("div",{className:"text-base font-bold text-slate-900 dark:text-white",children:["$",T.price?.toFixed(2)||"0.00"]}),h.jsxs("div",{className:`flex items-center gap-1 text-sm font-bold ${P?"text-emerald-600 dark:text-emerald-400":"text-red-600 dark:text-red-400"}`,children:[P?h.jsx(lr,{className:"w-3.5 h-3.5"}):h.jsx(wc,{className:"w-3.5 h-3.5"}),Math.abs(T.change).toFixed(2),"%"]})]})]},`${T.symbol}-${I}`)})})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[h.jsxs(or,{to:"/portfolio",className:"group bg-gradient-to-br from-purple-500 to-pink-500 rounded-2xl p-6 text-white hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[h.jsx(Cw,{className:"w-8 h-8 mb-3 opacity-80"}),h.jsx("h3",{className:"text-xl font-bold mb-2",children:"Portfolio"}),h.jsx("p",{className:"text-sm opacity-90 mb-3",children:"Track your investments"}),h.jsxs("div",{className:"flex items-center text-sm font-semibold group-hover:translate-x-2 transition-transform",children:["View Portfolio ",h.jsx(zg,{className:"w-4 h-4 ml-1"})]})]}),h.jsxs(or,{to:"/analytics",className:"group bg-gradient-to-br from-blue-500 to-cyan-500 rounded-2xl p-6 text-white hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[h.jsx(dd,{className:"w-8 h-8 mb-3 opacity-80"}),h.jsx("h3",{className:"text-xl font-bold mb-2",children:"Analytics"}),h.jsx("p",{className:"text-sm opacity-90 mb-3",children:"Advanced insights"}),h.jsxs("div",{className:"flex items-center text-sm font-semibold group-hover:translate-x-2 transition-transform",children:["View Analytics ",h.jsx(zg,{className:"w-4 h-4 ml-1"})]})]}),h.jsxs(or,{to:"/alerts",className:"group bg-gradient-to-br from-orange-500 to-red-500 rounded-2xl p-6 text-white hover:shadow-2xl transition-all duration-300 hover:scale-105",children:[h.jsx(ji,{className:"w-8 h-8 mb-3 opacity-80"}),h.jsx("h3",{className:"text-xl font-bold mb-2",children:"Alerts"}),h.jsx("p",{className:"text-sm opacity-90 mb-3",children:"Price notifications"}),h.jsxs("div",{className:"flex items-center text-sm font-semibold group-hover:translate-x-2 transition-transform",children:["Manage Alerts ",h.jsx(zg,{className:"w-4 h-4 ml-1"})]})]})]})]})})}var l_={exports:{}},c_,m3;function Vhe(){if(m3)return c_;m3=1;var t="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";return c_=t,c_}var u_,g3;function Uhe(){if(g3)return u_;g3=1;var t=Vhe();function e(){}function r(){}return r.resetWarningCache=e,u_=function(){function n(s,o,c,d,f,p){if(p!==t){var g=new Error("Calling PropTypes validators directly is not supported by the `prop-types` package. Use PropTypes.checkPropTypes() to call them. Read more at http://fb.me/use-check-prop-types");throw g.name="Invariant Violation",g}}n.isRequired=n;function i(){return n}var a={array:n,bigint:n,bool:n,func:n,number:n,object:n,string:n,symbol:n,any:n,arrayOf:i,element:n,elementType:n,instanceOf:i,node:n,objectOf:i,oneOf:i,oneOfType:i,shape:i,exact:i,checkPropTypes:r,resetWarningCache:e};return a.PropTypes=a,a},u_}var y3;function qhe(){return y3||(y3=1,l_.exports=Uhe()()),l_.exports}var zhe=qhe();const ne=Qt(zhe);var rC=am(),tt=t=>im(t,rC),nC=am();tt.write=t=>im(t,nC);var cb=am();tt.onStart=t=>im(t,cb);var iC=am();tt.onFrame=t=>im(t,iC);var aC=am();tt.onFinish=t=>im(t,aC);var ad=[];tt.setTimeout=(t,e)=>{const r=tt.now()+e,n=()=>{const a=ad.findIndex(s=>s.cancel==n);~a&&ad.splice(a,1),Ho-=~a?1:0},i={time:r,handler:t,cancel:n};return ad.splice(Yz(r),0,i),Ho+=1,Xz(),i};var Yz=t=>~(~ad.findIndex(e=>e.time>t)||~ad.length);tt.cancel=t=>{cb.delete(t),iC.delete(t),aC.delete(t),rC.delete(t),nC.delete(t)};tt.sync=t=>{xk=!0,tt.batchedUpdates(t),xk=!1};tt.throttle=t=>{let e;function r(){try{t(...e)}finally{e=null}}function n(...i){e=i,tt.onStart(r)}return n.handler=t,n.cancel=()=>{cb.delete(r),e=null},n};var sC=typeof window<"u"?window.requestAnimationFrame:(()=>{});tt.use=t=>sC=t;tt.now=typeof performance<"u"?()=>performance.now():Date.now;tt.batchedUpdates=t=>t();tt.catch=console.error;tt.frameLoop="always";tt.advance=()=>{tt.frameLoop!=="demand"?console.warn("Cannot call the manual advancement of rafz whilst frameLoop is not set as demand"):Jz()};var Wo=-1,Ho=0,xk=!1;function im(t,e){xk?(e.delete(t),t(0)):(e.add(t),Xz())}function Xz(){Wo<0&&(Wo=0,tt.frameLoop!=="demand"&&sC(Qz))}function Bhe(){Wo=-1}function Qz(){~Wo&&(sC(Qz),tt.batchedUpdates(Jz))}function Jz(){const t=Wo;Wo=tt.now();const e=Yz(Wo);if(e&&(Zz(ad.splice(0,e),r=>r.handler()),Ho-=e),!Ho){Bhe();return}cb.flush(),rC.flush(t?Math.min(64,Wo-t):16.667),iC.flush(),nC.flush(),aC.flush()}function am(){let t=new Set,e=t;return{add(r){Ho+=e==t&&!t.has(r)?1:0,t.add(r)},delete(r){return Ho-=e==t&&t.has(r)?1:0,t.delete(r)},flush(r){e.size&&(t=new Set,Ho-=e.size,Zz(e,n=>n(r)&&t.add(n)),Ho+=t.size,e=t)}}}function Zz(t,e){t.forEach(r=>{try{e(r)}catch(n){tt.catch(n)}})}var Whe=Object.defineProperty,Hhe=(t,e)=>{for(var r in e)Whe(t,r,{get:e[r],enumerable:!0})},ca={};Hhe(ca,{assign:()=>Khe,colors:()=>tl,createStringInterpolator:()=>lC,skipAnimation:()=>tB,to:()=>eB,willAdvance:()=>cC});function wk(){}var Ghe=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0}),ye={arr:Array.isArray,obj:t=>!!t&&t.constructor.name==="Object",fun:t=>typeof t=="function",str:t=>typeof t=="string",num:t=>typeof t=="number",und:t=>t===void 0};function Cs(t,e){if(ye.arr(t)){if(!ye.arr(e)||t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return t===e}var Je=(t,e)=>t.forEach(e);function ns(t,e,r){if(ye.arr(t)){for(let n=0;n<t.length;n++)e.call(r,t[n],`${n}`);return}for(const n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n)}var wn=t=>ye.und(t)?[]:ye.arr(t)?t:[t];function Kh(t,e){if(t.size){const r=Array.from(t);t.clear(),Je(r,e)}}var Ch=(t,...e)=>Kh(t,r=>r(...e)),oC=()=>typeof window>"u"||!window.navigator||/ServerSideRendering|^Deno\//.test(window.navigator.userAgent),lC,eB,tl=null,tB=!1,cC=wk,Khe=t=>{t.to&&(eB=t.to),t.now&&(tt.now=t.now),t.colors!==void 0&&(tl=t.colors),t.skipAnimation!=null&&(tB=t.skipAnimation),t.createStringInterpolator&&(lC=t.createStringInterpolator),t.requestAnimationFrame&&tt.use(t.requestAnimationFrame),t.batchedUpdates&&(tt.batchedUpdates=t.batchedUpdates),t.willAdvance&&(cC=t.willAdvance),t.frameLoop&&(tt.frameLoop=t.frameLoop)},Yh=new Set,Ni=[],d_=[],Ey=0,ub={get idle(){return!Yh.size&&!Ni.length},start(t){Ey>t.priority?(Yh.add(t),tt.onStart(Yhe)):(rB(t),tt(_k))},advance:_k,sort(t){if(Ey)tt.onFrame(()=>ub.sort(t));else{const e=Ni.indexOf(t);~e&&(Ni.splice(e,1),nB(t))}},clear(){Ni=[],Yh.clear()}};function Yhe(){Yh.forEach(rB),Yh.clear(),tt(_k)}function rB(t){Ni.includes(t)||nB(t)}function nB(t){Ni.splice(Xhe(Ni,e=>e.priority>t.priority),0,t)}function _k(t){const e=d_;for(let r=0;r<Ni.length;r++){const n=Ni[r];Ey=n.priority,n.idle||(cC(n),n.advance(t),n.idle||e.push(n))}return Ey=0,d_=Ni,d_.length=0,Ni=e,Ni.length>0}function Xhe(t,e){const r=t.findIndex(e);return r<0?t.length:r}var Qhe={transparent:0,aliceblue:4042850303,antiquewhite:4209760255,aqua:16777215,aquamarine:2147472639,azure:4043309055,beige:4126530815,bisque:4293182719,black:255,blanchedalmond:4293643775,blue:65535,blueviolet:2318131967,brown:2771004159,burlywood:3736635391,burntsienna:3934150143,cadetblue:1604231423,chartreuse:2147418367,chocolate:3530104575,coral:4286533887,cornflowerblue:1687547391,cornsilk:4294499583,crimson:3692313855,cyan:16777215,darkblue:35839,darkcyan:9145343,darkgoldenrod:3095792639,darkgray:2846468607,darkgreen:6553855,darkgrey:2846468607,darkkhaki:3182914559,darkmagenta:2332068863,darkolivegreen:1433087999,darkorange:4287365375,darkorchid:2570243327,darkred:2332033279,darksalmon:3918953215,darkseagreen:2411499519,darkslateblue:1211993087,darkslategray:793726975,darkslategrey:793726975,darkturquoise:13554175,darkviolet:2483082239,deeppink:4279538687,deepskyblue:12582911,dimgray:1768516095,dimgrey:1768516095,dodgerblue:512819199,firebrick:2988581631,floralwhite:4294635775,forestgreen:579543807,fuchsia:4278255615,gainsboro:3705462015,ghostwhite:4177068031,gold:4292280575,goldenrod:3668254975,gray:2155905279,green:8388863,greenyellow:2919182335,grey:2155905279,honeydew:4043305215,hotpink:4285117695,indianred:3445382399,indigo:1258324735,ivory:4294963455,khaki:4041641215,lavender:3873897215,lavenderblush:4293981695,lawngreen:2096890111,lemonchiffon:4294626815,lightblue:2916673279,lightcoral:4034953471,lightcyan:3774873599,lightgoldenrodyellow:4210742015,lightgray:3553874943,lightgreen:2431553791,lightgrey:3553874943,lightpink:4290167295,lightsalmon:4288707327,lightseagreen:548580095,lightskyblue:2278488831,lightslategray:2005441023,lightslategrey:2005441023,lightsteelblue:2965692159,lightyellow:4294959359,lime:16711935,limegreen:852308735,linen:4210091775,magenta:4278255615,maroon:2147483903,mediumaquamarine:1724754687,mediumblue:52735,mediumorchid:3126187007,mediumpurple:2473647103,mediumseagreen:1018393087,mediumslateblue:2070474495,mediumspringgreen:16423679,mediumturquoise:1221709055,mediumvioletred:3340076543,midnightblue:421097727,mintcream:4127193855,mistyrose:4293190143,moccasin:4293178879,navajowhite:4292783615,navy:33023,oldlace:4260751103,olive:2155872511,olivedrab:1804477439,orange:4289003775,orangered:4282712319,orchid:3664828159,palegoldenrod:4008225535,palegreen:2566625535,paleturquoise:2951671551,palevioletred:3681588223,papayawhip:4293907967,peachpuff:4292524543,peru:3448061951,pink:4290825215,plum:3718307327,powderblue:2967529215,purple:2147516671,rebeccapurple:1714657791,red:4278190335,rosybrown:3163525119,royalblue:1097458175,saddlebrown:2336560127,salmon:4202722047,sandybrown:4104413439,seagreen:780883967,seashell:4294307583,sienna:2689740287,silver:3233857791,skyblue:2278484991,slateblue:1784335871,slategray:1887473919,slategrey:1887473919,snow:4294638335,springgreen:16744447,steelblue:1182971135,tan:3535047935,teal:8421631,thistle:3636451583,tomato:4284696575,turquoise:1088475391,violet:4001558271,wheat:4125012991,white:4294967295,whitesmoke:4126537215,yellow:4294902015,yellowgreen:2597139199},ra="[-+]?\\d*\\.?\\d+",Sy=ra+"%";function db(...t){return"\\(\\s*("+t.join(")\\s*,\\s*(")+")\\s*\\)"}var Jhe=new RegExp("rgb"+db(ra,ra,ra)),Zhe=new RegExp("rgba"+db(ra,ra,ra,ra)),epe=new RegExp("hsl"+db(ra,Sy,Sy)),tpe=new RegExp("hsla"+db(ra,Sy,Sy,ra)),rpe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,npe=/^#([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})([0-9a-fA-F]{1})$/,ipe=/^#([0-9a-fA-F]{6})$/,ape=/^#([0-9a-fA-F]{8})$/;function spe(t){let e;return typeof t=="number"?t>>>0===t&&t>=0&&t<=4294967295?t:null:(e=ipe.exec(t))?parseInt(e[1]+"ff",16)>>>0:tl&&tl[t]!==void 0?tl[t]:(e=Jhe.exec(t))?(Mu(e[1])<<24|Mu(e[2])<<16|Mu(e[3])<<8|255)>>>0:(e=Zhe.exec(t))?(Mu(e[1])<<24|Mu(e[2])<<16|Mu(e[3])<<8|x3(e[4]))>>>0:(e=rpe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+"ff",16)>>>0:(e=ape.exec(t))?parseInt(e[1],16)>>>0:(e=npe.exec(t))?parseInt(e[1]+e[1]+e[2]+e[2]+e[3]+e[3]+e[4]+e[4],16)>>>0:(e=epe.exec(t))?(v3(b3(e[1]),r0(e[2]),r0(e[3]))|255)>>>0:(e=tpe.exec(t))?(v3(b3(e[1]),r0(e[2]),r0(e[3]))|x3(e[4]))>>>0:null}function f_(t,e,r){return r<0&&(r+=1),r>1&&(r-=1),r<1/6?t+(e-t)*6*r:r<1/2?e:r<2/3?t+(e-t)*(2/3-r)*6:t}function v3(t,e,r){const n=r<.5?r*(1+e):r+e-r*e,i=2*r-n,a=f_(i,n,t+1/3),s=f_(i,n,t),o=f_(i,n,t-1/3);return Math.round(a*255)<<24|Math.round(s*255)<<16|Math.round(o*255)<<8}function Mu(t){const e=parseInt(t,10);return e<0?0:e>255?255:e}function b3(t){return(parseFloat(t)%360+360)%360/360}function x3(t){const e=parseFloat(t);return e<0?0:e>1?255:Math.round(e*255)}function r0(t){const e=parseFloat(t);return e<0?0:e>100?1:e/100}function w3(t){let e=spe(t);if(e===null)return t;e=e||0;const r=(e&4278190080)>>>24,n=(e&16711680)>>>16,i=(e&65280)>>>8,a=(e&255)/255;return`rgba(${r}, ${n}, ${i}, ${a})`}var pp=(t,e,r)=>{if(ye.fun(t))return t;if(ye.arr(t))return pp({range:t,output:e,extrapolate:r});if(ye.str(t.output[0]))return lC(t);const n=t,i=n.output,a=n.range||[0,1],s=n.extrapolateLeft||n.extrapolate||"extend",o=n.extrapolateRight||n.extrapolate||"extend",c=n.easing||(d=>d);return d=>{const f=lpe(d,a);return ope(d,a[f],a[f+1],i[f],i[f+1],c,s,o,n.map)}};function ope(t,e,r,n,i,a,s,o,c){let d=c?c(t):t;if(d<e){if(s==="identity")return d;s==="clamp"&&(d=e)}if(d>r){if(o==="identity")return d;o==="clamp"&&(d=r)}return n===i?n:e===r?t<=e?n:i:(e===-1/0?d=-d:r===1/0?d=d-e:d=(d-e)/(r-e),d=a(d),n===-1/0?d=-d:i===1/0?d=d+n:d=d*(i-n)+n,d)}function lpe(t,e){for(var r=1;r<e.length-1&&!(e[r]>=t);++r);return r-1}var cpe={linear:t=>t},mp=Symbol.for("FluidValue.get"),_d=Symbol.for("FluidValue.observers"),Pi=t=>!!(t&&t[mp]),Ln=t=>t&&t[mp]?t[mp]():t,_3=t=>t[_d]||null;function upe(t,e){t.eventObserved?t.eventObserved(e):t(e)}function gp(t,e){const r=t[_d];r&&r.forEach(n=>{upe(n,e)})}var iB=class{constructor(t){if(!t&&!(t=this.get))throw Error("Unknown getter");dpe(this,t)}},dpe=(t,e)=>aB(t,mp,e);function Qd(t,e){if(t[mp]){let r=t[_d];r||aB(t,_d,r=new Set),r.has(e)||(r.add(e),t.observerAdded&&t.observerAdded(r.size,e))}return e}function yp(t,e){const r=t[_d];if(r&&r.has(e)){const n=r.size-1;n?r.delete(e):t[_d]=null,t.observerRemoved&&t.observerRemoved(n,e)}}var aB=(t,e,r)=>Object.defineProperty(t,e,{value:r,writable:!0,configurable:!0}),V0=/[+\-]?(?:0|[1-9]\d*)(?:\.\d*)?(?:[eE][+\-]?\d+)?/g,fpe=/(#(?:[0-9a-f]{2}){2,4}|(#[0-9a-f]{3})|(rgb|hsl)a?\((-?\d+%?[,\s]+){2,3}\s*[\d\.]+%?\))/gi,E3=new RegExp(`(${V0.source})(%|[a-z]+)`,"i"),hpe=/rgba\(([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+), ([0-9\.-]+)\)/gi,fb=/var\((--[a-zA-Z0-9-_]+),? ?([a-zA-Z0-9 ()%#.,-]+)?\)/,sB=t=>{const[e,r]=ppe(t);if(!e||oC())return t;const n=window.getComputedStyle(document.documentElement).getPropertyValue(e);if(n)return n.trim();if(r&&r.startsWith("--")){const i=window.getComputedStyle(document.documentElement).getPropertyValue(r);return i||t}else{if(r&&fb.test(r))return sB(r);if(r)return r}return t},ppe=t=>{const e=fb.exec(t);if(!e)return[,];const[,r,n]=e;return[r,n]},h_,mpe=(t,e,r,n,i)=>`rgba(${Math.round(e)}, ${Math.round(r)}, ${Math.round(n)}, ${i})`,oB=t=>{h_||(h_=tl?new RegExp(`(${Object.keys(tl).join("|")})(?!\\w)`,"g"):/^\b$/);const e=t.output.map(a=>Ln(a).replace(fb,sB).replace(fpe,w3).replace(h_,w3)),r=e.map(a=>a.match(V0).map(Number)),i=r[0].map((a,s)=>r.map(o=>{if(!(s in o))throw Error('The arity of each "output" value must be equal');return o[s]})).map(a=>pp({...t,output:a}));return a=>{const s=!E3.test(e[0])&&e.find(c=>E3.test(c))?.replace(V0,"");let o=0;return e[0].replace(V0,()=>`${i[o++](a)}${s||""}`).replace(hpe,mpe)}},uC="react-spring: ",lB=t=>{const e=t;let r=!1;if(typeof e!="function")throw new TypeError(`${uC}once requires a function parameter`);return(...n)=>{r||(e(...n),r=!0)}},gpe=lB(console.warn);function ype(){gpe(`${uC}The "interpolate" function is deprecated in v9 (use "to" instead)`)}var vpe=lB(console.warn);function bpe(){vpe(`${uC}Directly calling start instead of using the api object is deprecated in v9 (use ".start" instead), this will be removed in later 0.X.0 versions`)}function hb(t){return ye.str(t)&&(t[0]=="#"||/\d/.test(t)||!oC()&&fb.test(t)||t in(tl||{}))}var oc=oC()?E.useEffect:E.useLayoutEffect,xpe=()=>{const t=E.useRef(!1);return oc(()=>(t.current=!0,()=>{t.current=!1}),[]),t};function dC(){const t=E.useState()[1],e=xpe();return()=>{e.current&&t(Math.random())}}function wpe(t,e){const[r]=E.useState(()=>({inputs:e,result:t()})),n=E.useRef(),i=n.current;let a=i;return a?e&&a.inputs&&_pe(e,a.inputs)||(a={inputs:e,result:t()}):a=r,E.useEffect(()=>{n.current=a,i==r&&(r.inputs=r.result=void 0)},[a]),a.result}function _pe(t,e){if(t.length!==e.length)return!1;for(let r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}var fC=t=>E.useEffect(t,Epe),Epe=[];function Ek(t){const e=E.useRef();return E.useEffect(()=>{e.current=t}),e.current}var vp=Symbol.for("Animated:node"),Spe=t=>!!t&&t[vp]===t,Va=t=>t&&t[vp],hC=(t,e)=>Ghe(t,vp,e),pb=t=>t&&t[vp]&&t[vp].getPayload(),cB=class{constructor(){hC(this,this)}getPayload(){return this.payload||[]}},sm=class extends cB{constructor(t){super(),this._value=t,this.done=!0,this.durationProgress=0,ye.num(this._value)&&(this.lastPosition=this._value)}static create(t){return new sm(t)}getPayload(){return[this]}getValue(){return this._value}setValue(t,e){return ye.num(t)&&(this.lastPosition=t,e&&(t=Math.round(t/e)*e,this.done&&(this.lastPosition=t))),this._value===t?!1:(this._value=t,!0)}reset(){const{done:t}=this;this.done=!1,ye.num(this._value)&&(this.elapsedTime=0,this.durationProgress=0,this.lastPosition=this._value,t&&(this.lastVelocity=null),this.v0=null)}},bp=class extends sm{constructor(t){super(0),this._string=null,this._toString=pp({output:[t,t]})}static create(t){return new bp(t)}getValue(){const t=this._string;return t??(this._string=this._toString(this._value))}setValue(t){if(ye.str(t)){if(t==this._string)return!1;this._string=t,this._value=1}else if(super.setValue(t))this._string=null;else return!1;return!0}reset(t){t&&(this._toString=pp({output:[this.getValue(),t]})),this._value=0,super.reset()}},Ty={dependencies:null},mb=class extends cB{constructor(t){super(),this.source=t,this.setValue(t)}getValue(t){const e={};return ns(this.source,(r,n)=>{Spe(r)?e[n]=r.getValue(t):Pi(r)?e[n]=Ln(r):t||(e[n]=r)}),e}setValue(t){this.source=t,this.payload=this._makePayload(t)}reset(){this.payload&&Je(this.payload,t=>t.reset())}_makePayload(t){if(t){const e=new Set;return ns(t,this._addToPayload,e),Array.from(e)}}_addToPayload(t){Ty.dependencies&&Pi(t)&&Ty.dependencies.add(t);const e=pb(t);e&&Je(e,r=>this.add(r))}},uB=class extends mb{constructor(t){super(t)}static create(t){return new uB(t)}getValue(){return this.source.map(t=>t.getValue())}setValue(t){const e=this.getPayload();return t.length==e.length?e.map((r,n)=>r.setValue(t[n])).some(Boolean):(super.setValue(t.map(Tpe)),!0)}};function Tpe(t){return(hb(t)?bp:sm).create(t)}function Sk(t){const e=Va(t);return e?e.constructor:ye.arr(t)?uB:hb(t)?bp:sm}var S3=(t,e)=>{const r=!ye.fun(t)||t.prototype&&t.prototype.isReactComponent;return E.forwardRef((n,i)=>{const a=E.useRef(null),s=r&&E.useCallback(w=>{a.current=Ipe(i,w)},[i]),[o,c]=kpe(n,e),d=dC(),f=()=>{const w=a.current;if(r&&!w)return;(w?e.applyAnimatedValues(w,o.getValue(!0)):!1)===!1&&d()},p=new Ape(f,c),g=E.useRef();oc(()=>(g.current=p,Je(c,w=>Qd(w,p)),()=>{g.current&&(Je(g.current.deps,w=>yp(w,g.current)),tt.cancel(g.current.update))})),E.useEffect(f,[]),fC(()=>()=>{const w=g.current;Je(w.deps,_=>yp(_,w))});const b=e.getComponentProps(o.getValue());return E.createElement(t,{...b,ref:s})})},Ape=class{constructor(t,e){this.update=t,this.deps=e}eventObserved(t){t.type=="change"&&tt.write(this.update)}};function kpe(t,e){const r=new Set;return Ty.dependencies=r,t.style&&(t={...t,style:e.createAnimatedStyle(t.style)}),t=new mb(t),Ty.dependencies=null,[t,r]}function Ipe(t,e){return t&&(ye.fun(t)?t(e):t.current=e),e}var T3=Symbol.for("AnimatedComponent"),Ppe=(t,{applyAnimatedValues:e=()=>!1,createAnimatedStyle:r=i=>new mb(i),getComponentProps:n=i=>i}={})=>{const i={applyAnimatedValues:e,createAnimatedStyle:r,getComponentProps:n},a=s=>{const o=A3(s)||"Anonymous";return ye.str(s)?s=a[s]||(a[s]=S3(s,i)):s=s[T3]||(s[T3]=S3(s,i)),s.displayName=`Animated(${o})`,s};return ns(t,(s,o)=>{ye.arr(t)&&(o=A3(s)),a[o]=a(s)}),{animated:a}},A3=t=>ye.str(t)?t:t&&ye.str(t.displayName)?t.displayName:ye.fun(t)&&t.name||null;function Fn(t,...e){return ye.fun(t)?t(...e):t}var Xh=(t,e)=>t===!0||!!(e&&t&&(ye.fun(t)?t(e):wn(t).includes(e))),dB=(t,e)=>ye.obj(t)?e&&t[e]:t,fB=(t,e)=>t.default===!0?t[e]:t.default?t.default[e]:void 0,Cpe=t=>t,gb=(t,e=Cpe)=>{let r=Npe;t.default&&t.default!==!0&&(t=t.default,r=Object.keys(t));const n={};for(const i of r){const a=e(t[i],i);ye.und(a)||(n[i]=a)}return n},Npe=["config","onProps","onStart","onChange","onPause","onResume","onRest"],Rpe={config:1,from:1,to:1,ref:1,loop:1,reset:1,pause:1,cancel:1,reverse:1,immediate:1,default:1,delay:1,onProps:1,onStart:1,onChange:1,onPause:1,onResume:1,onRest:1,onResolve:1,items:1,trail:1,sort:1,expires:1,initial:1,enter:1,update:1,leave:1,children:1,onDestroyed:1,keys:1,callId:1,parentId:1};function Ope(t){const e={};let r=0;if(ns(t,(n,i)=>{Rpe[i]||(e[i]=n,r++)}),r)return e}function pC(t){const e=Ope(t);if(e){const r={to:e};return ns(t,(n,i)=>i in e||(r[i]=n)),r}return{...t}}function xp(t){return t=Ln(t),ye.arr(t)?t.map(xp):hb(t)?ca.createStringInterpolator({range:[0,1],output:[t,t]})(1):t}function hB(t){for(const e in t)return!0;return!1}function Tk(t){return ye.fun(t)||ye.arr(t)&&ye.obj(t[0])}function Ak(t,e){t.ref?.delete(t),e?.delete(t)}function pB(t,e){e&&t.ref!==e&&(t.ref?.delete(t),e.add(t),t.ref=e)}var mC={default:{tension:170,friction:26},gentle:{tension:120,friction:14},wobbly:{tension:180,friction:12},stiff:{tension:210,friction:20},slow:{tension:280,friction:60},molasses:{tension:280,friction:120}},kk={...mC.default,mass:1,damping:1,easing:cpe.linear,clamp:!1},jpe=class{constructor(){this.velocity=0,Object.assign(this,kk)}};function Dpe(t,e,r){r&&(r={...r},k3(r,e),e={...r,...e}),k3(t,e),Object.assign(t,e);for(const s in kk)t[s]==null&&(t[s]=kk[s]);let{frequency:n,damping:i}=t;const{mass:a}=t;return ye.und(n)||(n<.01&&(n=.01),i<0&&(i=0),t.tension=Math.pow(2*Math.PI/n,2)*a,t.friction=4*Math.PI*i*a/n),t}function k3(t,e){if(!ye.und(e.decay))t.duration=void 0;else{const r=!ye.und(e.tension)||!ye.und(e.friction);(r||!ye.und(e.frequency)||!ye.und(e.damping)||!ye.und(e.mass))&&(t.duration=void 0,t.decay=void 0),r&&(t.frequency=void 0)}}var I3=[],Mpe=class{constructor(){this.changed=!1,this.values=I3,this.toValues=null,this.fromValues=I3,this.config=new jpe,this.immediate=!1}};function mB(t,{key:e,props:r,defaultProps:n,state:i,actions:a}){return new Promise((s,o)=>{let c,d,f=Xh(r.cancel??n?.cancel,e);if(f)b();else{ye.und(r.pause)||(i.paused=Xh(r.pause,e));let w=n?.pause;w!==!0&&(w=i.paused||Xh(w,e)),c=Fn(r.delay||0,e),w?(i.resumeQueue.add(g),a.pause()):(a.resume(),g())}function p(){i.resumeQueue.add(g),i.timeouts.delete(d),d.cancel(),c=d.time-tt.now()}function g(){c>0&&!ca.skipAnimation?(i.delayed=!0,d=tt.setTimeout(b,c),i.pauseQueue.add(p),i.timeouts.add(d)):b()}function b(){i.delayed&&(i.delayed=!1),i.pauseQueue.delete(p),i.timeouts.delete(d),t<=(i.cancelId||0)&&(f=!0);try{a.start({...r,callId:t,cancel:f},s)}catch(w){o(w)}}})}var gC=(t,e)=>e.length==1?e[0]:e.some(r=>r.cancelled)?sd(t.get()):e.every(r=>r.noop)?gB(t.get()):Qi(t.get(),e.every(r=>r.finished)),gB=t=>({value:t,noop:!0,finished:!0,cancelled:!1}),Qi=(t,e,r=!1)=>({value:t,finished:e,cancelled:r}),sd=t=>({value:t,cancelled:!0,finished:!1});function yB(t,e,r,n){const{callId:i,parentId:a,onRest:s}=e,{asyncTo:o,promise:c}=r;return!a&&t===o&&!e.reset?c:r.promise=(async()=>{r.asyncId=i,r.asyncTo=t;const d=gb(e,(x,T)=>T==="onRest"?void 0:x);let f,p;const g=new Promise((x,T)=>(f=x,p=T)),b=x=>{const T=i<=(r.cancelId||0)&&sd(n)||i!==r.asyncId&&Qi(n,!1);if(T)throw x.result=T,p(x),x},w=(x,T)=>{const I=new P3,P=new C3;return(async()=>{if(ca.skipAnimation)throw wp(r),P.result=Qi(n,!1),p(P),P;b(I);const j=ye.obj(x)?{...x}:{...T,to:x};j.parentId=i,ns(d,(V,C)=>{ye.und(j[C])&&(j[C]=V)});const O=await n.start(j);return b(I),r.paused&&await new Promise(V=>{r.resumeQueue.add(V)}),O})()};let _;if(ca.skipAnimation)return wp(r),Qi(n,!1);try{let x;ye.arr(t)?x=(async T=>{for(const I of T)await w(I)})(t):x=Promise.resolve(t(w,n.stop.bind(n))),await Promise.all([x.then(f),g]),_=Qi(n.get(),!0,!1)}catch(x){if(x instanceof P3)_=x.result;else if(x instanceof C3)_=x.result;else throw x}finally{i==r.asyncId&&(r.asyncId=a,r.asyncTo=a?o:void 0,r.promise=a?c:void 0)}return ye.fun(s)&&tt.batchedUpdates(()=>{s(_,n,n.item)}),_})()}function wp(t,e){Kh(t.timeouts,r=>r.cancel()),t.pauseQueue.clear(),t.resumeQueue.clear(),t.asyncId=t.asyncTo=t.promise=void 0,e&&(t.cancelId=e)}var P3=class extends Error{constructor(){super("An async animation has been interrupted. You see this error because you forgot to use `await` or `.catch(...)` on its returned promise.")}},C3=class extends Error{constructor(){super("SkipAnimationSignal")}},Ik=t=>t instanceof yC,Lpe=1,yC=class extends iB{constructor(){super(...arguments),this.id=Lpe++,this._priority=0}get priority(){return this._priority}set priority(t){this._priority!=t&&(this._priority=t,this._onPriorityChange(t))}get(){const t=Va(this);return t&&t.getValue()}to(...t){return ca.to(this,t)}interpolate(...t){return ype(),ca.to(this,t)}toJSON(){return this.get()}observerAdded(t){t==1&&this._attach()}observerRemoved(t){t==0&&this._detach()}_attach(){}_detach(){}_onChange(t,e=!1){gp(this,{type:"change",parent:this,value:t,idle:e})}_onPriorityChange(t){this.idle||ub.sort(this),gp(this,{type:"priority",parent:this,priority:t})}},Ic=Symbol.for("SpringPhase"),vB=1,Pk=2,Ck=4,p_=t=>(t[Ic]&vB)>0,$o=t=>(t[Ic]&Pk)>0,oh=t=>(t[Ic]&Ck)>0,N3=(t,e)=>e?t[Ic]|=Pk|vB:t[Ic]&=~Pk,R3=(t,e)=>e?t[Ic]|=Ck:t[Ic]&=~Ck,Fpe=class extends yC{constructor(t,e){if(super(),this.animation=new Mpe,this.defaultProps={},this._state={paused:!1,delayed:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._pendingCalls=new Set,this._lastCallId=0,this._lastToId=0,this._memoizedDuration=0,!ye.und(t)||!ye.und(e)){const r=ye.obj(t)?{...t}:{...e,from:t};ye.und(r.default)&&(r.default=!0),this.start(r)}}get idle(){return!($o(this)||this._state.asyncTo)||oh(this)}get goal(){return Ln(this.animation.to)}get velocity(){const t=Va(this);return t instanceof sm?t.lastVelocity||0:t.getPayload().map(e=>e.lastVelocity||0)}get hasAnimated(){return p_(this)}get isAnimating(){return $o(this)}get isPaused(){return oh(this)}get isDelayed(){return this._state.delayed}advance(t){let e=!0,r=!1;const n=this.animation;let{toValues:i}=n;const{config:a}=n,s=pb(n.to);!s&&Pi(n.to)&&(i=wn(Ln(n.to))),n.values.forEach((d,f)=>{if(d.done)return;const p=d.constructor==bp?1:s?s[f].lastPosition:i[f];let g=n.immediate,b=p;if(!g){if(b=d.lastPosition,a.tension<=0){d.done=!0;return}let w=d.elapsedTime+=t;const _=n.fromValues[f],x=d.v0!=null?d.v0:d.v0=ye.arr(a.velocity)?a.velocity[f]:a.velocity;let T;const I=a.precision||(_==p?.005:Math.min(1,Math.abs(p-_)*.001));if(ye.und(a.duration))if(a.decay){const P=a.decay===!0?.998:a.decay,j=Math.exp(-(1-P)*w);b=_+x/(1-P)*(1-j),g=Math.abs(d.lastPosition-b)<=I,T=x*j}else{T=d.lastVelocity==null?x:d.lastVelocity;const P=a.restVelocity||I/10,j=a.clamp?0:a.bounce,O=!ye.und(j),V=_==p?d.v0>0:_<p;let C,N=!1;const M=1,F=Math.ceil(t/M);for(let D=0;D<F&&(C=Math.abs(T)>P,!(!C&&(g=Math.abs(p-b)<=I,g)));++D){O&&(N=b==p||b>p==V,N&&(T=-T*j,b=p));const U=-a.tension*1e-6*(b-p),$=-a.friction*.001*T,G=(U+$)/a.mass;T=T+G*M,b=b+T*M}}else{let P=1;a.duration>0&&(this._memoizedDuration!==a.duration&&(this._memoizedDuration=a.duration,d.durationProgress>0&&(d.elapsedTime=a.duration*d.durationProgress,w=d.elapsedTime+=t)),P=(a.progress||0)+w/this._memoizedDuration,P=P>1?1:P<0?0:P,d.durationProgress=P),b=_+a.easing(P)*(p-_),T=(b-d.lastPosition)/t,g=P==1}d.lastVelocity=T,Number.isNaN(b)&&(console.warn("Got NaN while animating:",this),g=!0)}s&&!s[f].done&&(g=!1),g?d.done=!0:e=!1,d.setValue(b,a.round)&&(r=!0)});const o=Va(this),c=o.getValue();if(e){const d=Ln(n.to);(c!==d||r)&&!a.decay?(o.setValue(d),this._onChange(d)):r&&a.decay&&this._onChange(c),this._stop()}else r&&this._onChange(c)}set(t){return tt.batchedUpdates(()=>{this._stop(),this._focus(t),this._set(t)}),this}pause(){this._update({pause:!0})}resume(){this._update({pause:!1})}finish(){if($o(this)){const{to:t,config:e}=this.animation;tt.batchedUpdates(()=>{this._onStart(),e.decay||this._set(t,!1),this._stop()})}return this}update(t){return(this.queue||(this.queue=[])).push(t),this}start(t,e){let r;return ye.und(t)?(r=this.queue||[],this.queue=[]):r=[ye.obj(t)?t:{...e,to:t}],Promise.all(r.map(n=>this._update(n))).then(n=>gC(this,n))}stop(t){const{to:e}=this.animation;return this._focus(this.get()),wp(this._state,t&&this._lastCallId),tt.batchedUpdates(()=>this._stop(e,t)),this}reset(){this._update({reset:!0})}eventObserved(t){t.type=="change"?this._start():t.type=="priority"&&(this.priority=t.priority+1)}_prepareNode(t){const e=this.key||"";let{to:r,from:n}=t;r=ye.obj(r)?r[e]:r,(r==null||Tk(r))&&(r=void 0),n=ye.obj(n)?n[e]:n,n==null&&(n=void 0);const i={to:r,from:n};return p_(this)||(t.reverse&&([r,n]=[n,r]),n=Ln(n),ye.und(n)?Va(this)||this._set(r):this._set(n)),i}_update({...t},e){const{key:r,defaultProps:n}=this;t.default&&Object.assign(n,gb(t,(s,o)=>/^on/.test(o)?dB(s,r):s)),j3(this,t,"onProps"),ch(this,"onProps",t,this);const i=this._prepareNode(t);if(Object.isFrozen(this))throw Error("Cannot animate a `SpringValue` object that is frozen. Did you forget to pass your component to `animated(...)` before animating its props?");const a=this._state;return mB(++this._lastCallId,{key:r,props:t,defaultProps:n,state:a,actions:{pause:()=>{oh(this)||(R3(this,!0),Ch(a.pauseQueue),ch(this,"onPause",Qi(this,lh(this,this.animation.to)),this))},resume:()=>{oh(this)&&(R3(this,!1),$o(this)&&this._resume(),Ch(a.resumeQueue),ch(this,"onResume",Qi(this,lh(this,this.animation.to)),this))},start:this._merge.bind(this,i)}}).then(s=>{if(t.loop&&s.finished&&!(e&&s.noop)){const o=bB(t);if(o)return this._update(o,!0)}return s})}_merge(t,e,r){if(e.cancel)return this.stop(!0),r(sd(this));const n=!ye.und(t.to),i=!ye.und(t.from);if(n||i)if(e.callId>this._lastToId)this._lastToId=e.callId;else return r(sd(this));const{key:a,defaultProps:s,animation:o}=this,{to:c,from:d}=o;let{to:f=c,from:p=d}=t;i&&!n&&(!e.default||ye.und(f))&&(f=p),e.reverse&&([f,p]=[p,f]);const g=!Cs(p,d);g&&(o.from=p),p=Ln(p);const b=!Cs(f,c);b&&this._focus(f);const w=Tk(e.to),{config:_}=o,{decay:x,velocity:T}=_;(n||i)&&(_.velocity=0),e.config&&!w&&Dpe(_,Fn(e.config,a),e.config!==s.config?Fn(s.config,a):void 0);let I=Va(this);if(!I||ye.und(f))return r(Qi(this,!0));const P=ye.und(e.reset)?i&&!e.default:!ye.und(p)&&Xh(e.reset,a),j=P?p:this.get(),O=xp(f),V=ye.num(O)||ye.arr(O)||hb(O),C=!w&&(!V||Xh(s.immediate||e.immediate,a));if(b){const D=Sk(f);if(D!==I.constructor)if(C)I=this._set(O);else throw Error(`Cannot animate between ${I.constructor.name} and ${D.name}, as the "to" prop suggests`)}const N=I.constructor;let M=Pi(f),F=!1;if(!M){const D=P||!p_(this)&&g;(b||D)&&(F=Cs(xp(j),O),M=!F),(!Cs(o.immediate,C)&&!C||!Cs(_.decay,x)||!Cs(_.velocity,T))&&(M=!0)}if(F&&$o(this)&&(o.changed&&!P?M=!0:M||this._stop(c)),!w&&((M||Pi(c))&&(o.values=I.getPayload(),o.toValues=Pi(f)?null:N==bp?[1]:wn(O)),o.immediate!=C&&(o.immediate=C,!C&&!P&&this._set(c)),M)){const{onRest:D}=o;Je(Vpe,$=>j3(this,e,$));const U=Qi(this,lh(this,c));Ch(this._pendingCalls,U),this._pendingCalls.add(r),o.changed&&tt.batchedUpdates(()=>{o.changed=!P,D?.(U,this),P?Fn(s.onRest,U):o.onStart?.(U,this)})}P&&this._set(j),w?r(yB(e.to,e,this._state,this)):M?this._start():$o(this)&&!b?this._pendingCalls.add(r):r(gB(j))}_focus(t){const e=this.animation;t!==e.to&&(_3(this)&&this._detach(),e.to=t,_3(this)&&this._attach())}_attach(){let t=0;const{to:e}=this.animation;Pi(e)&&(Qd(e,this),Ik(e)&&(t=e.priority+1)),this.priority=t}_detach(){const{to:t}=this.animation;Pi(t)&&yp(t,this)}_set(t,e=!0){const r=Ln(t);if(!ye.und(r)){const n=Va(this);if(!n||!Cs(r,n.getValue())){const i=Sk(r);!n||n.constructor!=i?hC(this,i.create(r)):n.setValue(r),n&&tt.batchedUpdates(()=>{this._onChange(r,e)})}}return Va(this)}_onStart(){const t=this.animation;t.changed||(t.changed=!0,ch(this,"onStart",Qi(this,lh(this,t.to)),this))}_onChange(t,e){e||(this._onStart(),Fn(this.animation.onChange,t,this)),Fn(this.defaultProps.onChange,t,this),super._onChange(t,e)}_start(){const t=this.animation;Va(this).reset(Ln(t.to)),t.immediate||(t.fromValues=t.values.map(e=>e.lastPosition)),$o(this)||(N3(this,!0),oh(this)||this._resume())}_resume(){ca.skipAnimation?this.finish():ub.start(this)}_stop(t,e){if($o(this)){N3(this,!1);const r=this.animation;Je(r.values,i=>{i.done=!0}),r.toValues&&(r.onChange=r.onPause=r.onResume=void 0),gp(this,{type:"idle",parent:this});const n=e?sd(this.get()):Qi(this.get(),lh(this,t??r.to));Ch(this._pendingCalls,n),r.changed&&(r.changed=!1,ch(this,"onRest",n,this))}}};function lh(t,e){const r=xp(e),n=xp(t.get());return Cs(n,r)}function bB(t,e=t.loop,r=t.to){const n=Fn(e);if(n){const i=n!==!0&&pC(n),a=(i||t).reverse,s=!i||i.reset;return _p({...t,loop:e,default:!1,pause:void 0,to:!a||Tk(r)?r:void 0,from:s?t.from:void 0,reset:s,...i})}}function _p(t){const{to:e,from:r}=t=pC(t),n=new Set;return ye.obj(e)&&O3(e,n),ye.obj(r)&&O3(r,n),t.keys=n.size?Array.from(n):null,t}function $pe(t){const e=_p(t);return ye.und(e.default)&&(e.default=gb(e)),e}function O3(t,e){ns(t,(r,n)=>r!=null&&e.add(n))}var Vpe=["onStart","onRest","onChange","onPause","onResume"];function j3(t,e,r){t.animation[r]=e[r]!==fB(e,r)?dB(e[r],t.key):void 0}function ch(t,e,...r){t.animation[e]?.(...r),t.defaultProps[e]?.(...r)}var Upe=["onStart","onChange","onRest"],qpe=1,xB=class{constructor(t,e){this.id=qpe++,this.springs={},this.queue=[],this._lastAsyncId=0,this._active=new Set,this._changed=new Set,this._started=!1,this._state={paused:!1,pauseQueue:new Set,resumeQueue:new Set,timeouts:new Set},this._events={onStart:new Map,onChange:new Map,onRest:new Map},this._onFrame=this._onFrame.bind(this),e&&(this._flush=e),t&&this.start({default:!0,...t})}get idle(){return!this._state.asyncTo&&Object.values(this.springs).every(t=>t.idle&&!t.isDelayed&&!t.isPaused)}get item(){return this._item}set item(t){this._item=t}get(){const t={};return this.each((e,r)=>t[r]=e.get()),t}set(t){for(const e in t){const r=t[e];ye.und(r)||this.springs[e].set(r)}}update(t){return t&&this.queue.push(_p(t)),this}start(t){let{queue:e}=this;return t?e=wn(t).map(_p):this.queue=[],this._flush?this._flush(this,e):(TB(this,e),Nk(this,e))}stop(t,e){if(t!==!!t&&(e=t),e){const r=this.springs;Je(wn(e),n=>r[n].stop(!!t))}else wp(this._state,this._lastAsyncId),this.each(r=>r.stop(!!t));return this}pause(t){if(ye.und(t))this.start({pause:!0});else{const e=this.springs;Je(wn(t),r=>e[r].pause())}return this}resume(t){if(ye.und(t))this.start({pause:!1});else{const e=this.springs;Je(wn(t),r=>e[r].resume())}return this}each(t){ns(this.springs,t)}_onFrame(){const{onStart:t,onChange:e,onRest:r}=this._events,n=this._active.size>0,i=this._changed.size>0;(n&&!this._started||i&&!this._started)&&(this._started=!0,Kh(t,([o,c])=>{c.value=this.get(),o(c,this,this._item)}));const a=!n&&this._started,s=i||a&&r.size?this.get():null;i&&e.size&&Kh(e,([o,c])=>{c.value=s,o(c,this,this._item)}),a&&(this._started=!1,Kh(r,([o,c])=>{c.value=s,o(c,this,this._item)}))}eventObserved(t){if(t.type=="change")this._changed.add(t.parent),t.idle||this._active.add(t.parent);else if(t.type=="idle")this._active.delete(t.parent);else return;tt.onFrame(this._onFrame)}};function Nk(t,e){return Promise.all(e.map(r=>wB(t,r))).then(r=>gC(t,r))}async function wB(t,e,r){const{keys:n,to:i,from:a,loop:s,onRest:o,onResolve:c}=e,d=ye.obj(e.default)&&e.default;s&&(e.loop=!1),i===!1&&(e.to=null),a===!1&&(e.from=null);const f=ye.arr(i)||ye.fun(i)?i:void 0;f?(e.to=void 0,e.onRest=void 0,d&&(d.onRest=void 0)):Je(Upe,_=>{const x=e[_];if(ye.fun(x)){const T=t._events[_];e[_]=({finished:I,cancelled:P})=>{const j=T.get(x);j?(I||(j.finished=!1),P&&(j.cancelled=!0)):T.set(x,{value:null,finished:I||!1,cancelled:P||!1})},d&&(d[_]=e[_])}});const p=t._state;e.pause===!p.paused?(p.paused=e.pause,Ch(e.pause?p.pauseQueue:p.resumeQueue)):p.paused&&(e.pause=!0);const g=(n||Object.keys(t.springs)).map(_=>t.springs[_].start(e)),b=e.cancel===!0||fB(e,"cancel")===!0;(f||b&&p.asyncId)&&g.push(mB(++t._lastAsyncId,{props:e,state:p,actions:{pause:wk,resume:wk,start(_,x){b?(wp(p,t._lastAsyncId),x(sd(t))):(_.onRest=o,x(yB(f,_,p,t)))}}})),p.paused&&await new Promise(_=>{p.resumeQueue.add(_)});const w=gC(t,await Promise.all(g));if(s&&w.finished&&!(r&&w.noop)){const _=bB(e,s,i);if(_)return TB(t,[_]),wB(t,_,!0)}return c&&tt.batchedUpdates(()=>c(w,t,t.item)),w}function Rk(t,e){const r={...t.springs};return e&&Je(wn(e),n=>{ye.und(n.keys)&&(n=_p(n)),ye.obj(n.to)||(n={...n,to:void 0}),SB(r,n,i=>EB(i))}),_B(t,r),r}function _B(t,e){ns(e,(r,n)=>{t.springs[n]||(t.springs[n]=r,Qd(r,t))})}function EB(t,e){const r=new Fpe;return r.key=t,e&&Qd(r,e),r}function SB(t,e,r){e.keys&&Je(e.keys,n=>{(t[n]||(t[n]=r(n)))._prepareNode(e)})}function TB(t,e){Je(e,r=>{SB(t.springs,r,n=>EB(n,t))})}var om=({children:t,...e})=>{const r=E.useContext(Ay),n=e.pause||!!r.pause,i=e.immediate||!!r.immediate;e=wpe(()=>({pause:n,immediate:i}),[n,i]);const{Provider:a}=Ay;return E.createElement(a,{value:e},t)},Ay=zpe(om,{});om.Provider=Ay.Provider;om.Consumer=Ay.Consumer;function zpe(t,e){return Object.assign(t,E.createContext(e)),t.Provider._context=t,t.Consumer._context=t,t}var AB=()=>{const t=[],e=function(n){bpe();const i=[];return Je(t,(a,s)=>{if(ye.und(n))i.push(a.start());else{const o=r(n,a,s);o&&i.push(a.start(o))}}),i};e.current=t,e.add=function(n){t.includes(n)||t.push(n)},e.delete=function(n){const i=t.indexOf(n);~i&&t.splice(i,1)},e.pause=function(){return Je(t,n=>n.pause(...arguments)),this},e.resume=function(){return Je(t,n=>n.resume(...arguments)),this},e.set=function(n){Je(t,(i,a)=>{const s=ye.fun(n)?n(a,i):n;s&&i.set(s)})},e.start=function(n){const i=[];return Je(t,(a,s)=>{if(ye.und(n))i.push(a.start());else{const o=this._getProps(n,a,s);o&&i.push(a.start(o))}}),i},e.stop=function(){return Je(t,n=>n.stop(...arguments)),this},e.update=function(n){return Je(t,(i,a)=>i.update(this._getProps(n,i,a))),this};const r=function(n,i,a){return ye.fun(n)?n(a,i):n};return e._getProps=r,e};function Bpe(t,e,r){const n=ye.fun(e)&&e;n&&!r&&(r=[]);const i=E.useMemo(()=>n||arguments.length==3?AB():void 0,[]),a=E.useRef(0),s=dC(),o=E.useMemo(()=>({ctrls:[],queue:[],flush(T,I){const P=Rk(T,I);return a.current>0&&!o.queue.length&&!Object.keys(P).some(O=>!T.springs[O])?Nk(T,I):new Promise(O=>{_B(T,P),o.queue.push(()=>{O(Nk(T,I))}),s()})}}),[]),c=E.useRef([...o.ctrls]),d=[],f=Ek(t)||0;E.useMemo(()=>{Je(c.current.slice(t,f),T=>{Ak(T,i),T.stop(!0)}),c.current.length=t,p(f,t)},[t]),E.useMemo(()=>{p(0,Math.min(f,t))},r);function p(T,I){for(let P=T;P<I;P++){const j=c.current[P]||(c.current[P]=new xB(null,o.flush)),O=n?n(P,j):e[P];O&&(d[P]=$pe(O))}}const g=c.current.map((T,I)=>Rk(T,d[I])),b=E.useContext(om),w=Ek(b),_=b!==w&&hB(b);oc(()=>{a.current++,o.ctrls=c.current;const{queue:T}=o;T.length&&(o.queue=[],Je(T,I=>I())),Je(c.current,(I,P)=>{i?.add(I),_&&I.start({default:b});const j=d[P];j&&(pB(I,j.ref),I.ref?I.queue.push(j):I.start(j))})}),fC(()=>()=>{Je(o.ctrls,T=>T.stop(!0))});const x=g.map(T=>({...T}));return i?[x,i]:x}function vC(t,e){const r=ye.fun(t),[[n],i]=Bpe(1,r?t:[t],r?[]:e);return r||arguments.length==2?[n,i]:n}function Wpe(t,e,r){const n=ye.fun(e)&&e,{reset:i,sort:a,trail:s=0,expires:o=!0,exitBeforeEnter:c=!1,onDestroyed:d,ref:f,config:p}=n?n():e,g=E.useMemo(()=>n||arguments.length==3?AB():void 0,[]),b=wn(t),w=[],_=E.useRef(null),x=i?null:_.current;oc(()=>{_.current=w}),fC(()=>(Je(w,G=>{g?.add(G.ctrl),G.ctrl.ref=g}),()=>{Je(_.current,G=>{G.expired&&clearTimeout(G.expirationId),Ak(G.ctrl,g),G.ctrl.stop(!0)})}));const T=Gpe(b,n?n():e,x),I=i&&_.current||[];oc(()=>Je(I,({ctrl:G,item:ue,key:ce})=>{Ak(G,g),Fn(d,ue,ce)}));const P=[];if(x&&Je(x,(G,ue)=>{G.expired?(clearTimeout(G.expirationId),I.push(G)):(ue=P[ue]=T.indexOf(G.key),~ue&&(w[ue]=G))}),Je(b,(G,ue)=>{w[ue]||(w[ue]={key:T[ue],item:G,phase:"mount",ctrl:new xB},w[ue].ctrl.item=G)}),P.length){let G=-1;const{leave:ue}=n?n():e;Je(P,(ce,se)=>{const Q=x[se];~ce?(G=w.indexOf(Q),w[G]={...Q,item:b[ce]}):ue&&w.splice(++G,0,Q)})}ye.fun(a)&&w.sort((G,ue)=>a(G.item,ue.item));let j=-s;const O=dC(),V=gb(e),C=new Map,N=E.useRef(new Map),M=E.useRef(!1);Je(w,(G,ue)=>{const ce=G.key,se=G.phase,Q=n?n():e;let X,ie;const B=Fn(Q.delay||0,ce);if(se=="mount")X=Q.enter,ie="enter";else{const xe=T.indexOf(ce)<0;if(se!="leave")if(xe)X=Q.leave,ie="leave";else if(X=Q.update)ie="update";else return;else if(!xe)X=Q.enter,ie="enter";else return}if(X=Fn(X,G.item,ue),X=ye.obj(X)?pC(X):{to:X},!X.config){const xe=p||V.config;X.config=Fn(xe,G.item,ue,ie)}j+=s;const Z={...V,delay:B+j,ref:f,immediate:Q.immediate,reset:!1,...X};if(ie=="enter"&&ye.und(Z.from)){const xe=n?n():e,Ee=ye.und(xe.initial)||x?xe.from:xe.initial;Z.from=Fn(Ee,G.item,ue)}const{onResolve:_e}=Z;Z.onResolve=xe=>{Fn(_e,xe);const Ee=_.current,Se=Ee.find(De=>De.key===ce);if(Se&&!(xe.cancelled&&Se.phase!="update")&&Se.ctrl.idle){const De=Ee.every(re=>re.ctrl.idle);if(Se.phase=="leave"){const re=Fn(o,Se.item);if(re!==!1){const Ae=re===!0?0:re;if(Se.expired=!0,!De&&Ae>0){Ae<=2147483647&&(Se.expirationId=setTimeout(O,Ae));return}}}De&&Ee.some(re=>re.expired)&&(N.current.delete(Se),c&&(M.current=!0),O())}};const oe=Rk(G.ctrl,Z);ie==="leave"&&c?N.current.set(G,{phase:ie,springs:oe,payload:Z}):C.set(G,{phase:ie,springs:oe,payload:Z})});const F=E.useContext(om),D=Ek(F),U=F!==D&&hB(F);oc(()=>{U&&Je(w,G=>{G.ctrl.start({default:F})})},[F]),Je(C,(G,ue)=>{if(N.current.size){const ce=w.findIndex(se=>se.key===ue.key);w.splice(ce,1)}}),oc(()=>{Je(N.current.size?N.current:C,({phase:G,payload:ue},ce)=>{const{ctrl:se}=ce;ce.phase=G,g?.add(se),U&&G=="enter"&&se.start({default:F}),ue&&(pB(se,ue.ref),(se.ref||g)&&!M.current?se.update(ue):(se.start(ue),M.current&&(M.current=!1)))})},i?void 0:r);const $=G=>E.createElement(E.Fragment,null,w.map((ue,ce)=>{const{springs:se}=C.get(ue)||ue.ctrl,Q=G({...se},ue.item,ue,ce);return Q&&Q.type?E.createElement(Q.type,{...Q.props,key:ye.str(ue.key)||ye.num(ue.key)?ue.key:ue.ctrl.id,ref:Q.ref}):Q}));return g?[$,g]:$}var Hpe=1;function Gpe(t,{key:e,keys:r=e},n){if(r===null){const i=new Set;return t.map(a=>{const s=n&&n.find(o=>o.item===a&&o.phase!=="leave"&&!i.has(o));return s?(i.add(s),s.key):Hpe++})}return ye.und(r)?t:ye.fun(r)?t.map(r):wn(r)}var kB=class extends yC{constructor(t,e){super(),this.source=t,this.idle=!0,this._active=new Set,this.calc=pp(...e);const r=this._get(),n=Sk(r);hC(this,n.create(r))}advance(t){const e=this._get(),r=this.get();Cs(e,r)||(Va(this).setValue(e),this._onChange(e,this.idle)),!this.idle&&D3(this._active)&&m_(this)}_get(){const t=ye.arr(this.source)?this.source.map(Ln):wn(Ln(this.source));return this.calc(...t)}_start(){this.idle&&!D3(this._active)&&(this.idle=!1,Je(pb(this),t=>{t.done=!1}),ca.skipAnimation?(tt.batchedUpdates(()=>this.advance()),m_(this)):ub.start(this))}_attach(){let t=1;Je(wn(this.source),e=>{Pi(e)&&Qd(e,this),Ik(e)&&(e.idle||this._active.add(e),t=Math.max(t,e.priority+1))}),this.priority=t,this._start()}_detach(){Je(wn(this.source),t=>{Pi(t)&&yp(t,this)}),this._active.clear(),m_(this)}eventObserved(t){t.type=="change"?t.idle?this.advance():(this._active.add(t.parent),this._start()):t.type=="idle"?this._active.delete(t.parent):t.type=="priority"&&(this.priority=wn(this.source).reduce((e,r)=>Math.max(e,(Ik(r)?r.priority:0)+1),0))}};function Kpe(t){return t.idle!==!1}function D3(t){return!t.size||Array.from(t).every(Kpe)}function m_(t){t.idle||(t.idle=!0,Je(pb(t),e=>{e.done=!0}),gp(t,{type:"idle",parent:t}))}var Pc=(t,...e)=>new kB(t,e);ca.assign({createStringInterpolator:oB,to:(t,e)=>new kB(t,e)});var IB=/^--/;function Ype(t,e){return e==null||typeof e=="boolean"||e===""?"":typeof e=="number"&&e!==0&&!IB.test(t)&&!(Qh.hasOwnProperty(t)&&Qh[t])?e+"px":(""+e).trim()}var M3={};function Xpe(t,e){if(!t.nodeType||!t.setAttribute)return!1;const r=t.nodeName==="filter"||t.parentNode&&t.parentNode.nodeName==="filter",{className:n,style:i,children:a,scrollTop:s,scrollLeft:o,viewBox:c,...d}=e,f=Object.values(d),p=Object.keys(d).map(g=>r||t.hasAttribute(g)?g:M3[g]||(M3[g]=g.replace(/([A-Z])/g,b=>"-"+b.toLowerCase())));a!==void 0&&(t.textContent=a);for(const g in i)if(i.hasOwnProperty(g)){const b=Ype(g,i[g]);IB.test(g)?t.style.setProperty(g,b):t.style[g]=b}p.forEach((g,b)=>{t.setAttribute(g,f[b])}),n!==void 0&&(t.className=n),s!==void 0&&(t.scrollTop=s),o!==void 0&&(t.scrollLeft=o),c!==void 0&&t.setAttribute("viewBox",c)}var Qh={animationIterationCount:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},Qpe=(t,e)=>t+e.charAt(0).toUpperCase()+e.substring(1),Jpe=["Webkit","Ms","Moz","O"];Qh=Object.keys(Qh).reduce((t,e)=>(Jpe.forEach(r=>t[Qpe(r,e)]=t[e]),t),Qh);var Zpe=/^(matrix|translate|scale|rotate|skew)/,eme=/^(translate)/,tme=/^(rotate|skew)/,g_=(t,e)=>ye.num(t)&&t!==0?t+e:t,U0=(t,e)=>ye.arr(t)?t.every(r=>U0(r,e)):ye.num(t)?t===e:parseFloat(t)===e,rme=class extends mb{constructor({x:t,y:e,z:r,...n}){const i=[],a=[];(t||e||r)&&(i.push([t||0,e||0,r||0]),a.push(s=>[`translate3d(${s.map(o=>g_(o,"px")).join(",")})`,U0(s,0)])),ns(n,(s,o)=>{if(o==="transform")i.push([s||""]),a.push(c=>[c,c===""]);else if(Zpe.test(o)){if(delete n[o],ye.und(s))return;const c=eme.test(o)?"px":tme.test(o)?"deg":"";i.push(wn(s)),a.push(o==="rotate3d"?([d,f,p,g])=>[`rotate3d(${d},${f},${p},${g_(g,c)})`,U0(g,0)]:d=>[`${o}(${d.map(f=>g_(f,c)).join(",")})`,U0(d,o.startsWith("scale")?1:0)])}}),i.length&&(n.transform=new nme(i,a)),super(n)}},nme=class extends iB{constructor(t,e){super(),this.inputs=t,this.transforms=e,this._value=null}get(){return this._value||(this._value=this._get())}_get(){let t="",e=!0;return Je(this.inputs,(r,n)=>{const i=Ln(r[0]),[a,s]=this.transforms[n](ye.arr(i)?i:r.map(Ln));t+=" "+a,e=e&&s}),e?"none":t}observerAdded(t){t==1&&Je(this.inputs,e=>Je(e,r=>Pi(r)&&Qd(r,this)))}observerRemoved(t){t==0&&Je(this.inputs,e=>Je(e,r=>Pi(r)&&yp(r,this)))}eventObserved(t){t.type=="change"&&(this._value=null),gp(this,t)}},ime=["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"];ca.assign({batchedUpdates:Md.unstable_batchedUpdates,createStringInterpolator:oB,colors:Qhe});var ame=Ppe(ime,{applyAnimatedValues:Xpe,createAnimatedStyle:t=>new rme(t),getComponentProps:({scrollTop:t,scrollLeft:e,...r})=>r}),na=ame.animated;function Cc(){return Cc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Cc.apply(this,arguments)}var sme={pointerEvents:"none",position:"absolute",zIndex:10,top:0,left:0},L3=function(t,e){return"translate("+t+"px, "+e+"px)"},PB=E.memo((function(t){var e,r=t.position,n=t.anchor,i=t.children,a=fs(),s=gx(),o=s.animate,c=s.config,d=EH(),f=d[0],p=d[1],g=E.useRef(!1),b=void 0,w=!1,_=p.width>0&&p.height>0,x=Math.round(r[0]),T=Math.round(r[1]);_&&(n==="top"?(x-=p.width/2,T-=p.height+14):n==="right"?(x+=14,T-=p.height/2):n==="bottom"?(x-=p.width/2,T+=14):n==="left"?(x-=p.width+14,T-=p.height/2):n==="center"&&(x-=p.width/2,T-=p.height/2),b={transform:L3(x,T)},g.current||(w=!0),g.current=[x,T]);var I=vC({to:b,config:c,immediate:!o||w}),P=Cc({},sme,a.tooltip.wrapper,{transform:(e=I.transform)!=null?e:L3(x,T),opacity:I.transform?1:0});return h.jsx(na.div,{ref:f,style:P,children:i})}));PB.displayName="TooltipWrapper";var ome=E.memo((function(t){var e=t.size,r=e===void 0?12:e,n=t.color,i=t.style;return h.jsx("span",{style:Cc({display:"block",width:r,height:r,background:n},i===void 0?{}:i)})})),lme=E.memo((function(t){var e,r=t.id,n=t.value,i=t.format,a=t.enableChip,s=a!==void 0&&a,o=t.color,c=t.renderContent,d=fs(),f=SH(i);if(typeof c=="function")e=c();else{var p=n;f!==void 0&&p!==void 0&&(p=f(p)),e=h.jsxs("div",{style:d.tooltip.basic,children:[s&&h.jsx(ome,{color:o,style:d.tooltip.chip}),p!==void 0?h.jsxs("span",{children:[r,": ",h.jsx("strong",{children:""+p})]}):r]})}return h.jsx("div",{style:d.tooltip.container,children:e})})),cme={width:"100%",borderCollapse:"collapse"},ume=E.memo((function(t){var e,r=t.title,n=t.rows,i=n===void 0?[]:n,a=t.renderContent,s=fs();return i.length?(e=typeof a=="function"?a():h.jsxs("div",{children:[r&&r,h.jsx("table",{style:Cc({},cme,s.tooltip.table),children:h.jsx("tbody",{children:i.map((function(o,c){return h.jsx("tr",{children:o.map((function(d,f){return h.jsx("td",{style:s.tooltip.tableCell,children:d},f)}))},c)}))})})]}),h.jsx("div",{style:s.tooltip.container,children:e})):null}));ume.displayName="TableTooltip";var Ok=E.memo((function(t){var e=t.x0,r=t.x1,n=t.y0,i=t.y1,a=fs(),s=gx(),o=s.animate,c=s.config,d=E.useMemo((function(){return Cc({},a.crosshair.line,{pointerEvents:"none"})}),[a.crosshair.line]),f=vC({x1:e,x2:r,y1:n,y2:i,config:c,immediate:!o});return h.jsx(na.line,Cc({},f,{fill:"none",style:d}))}));Ok.displayName="CrosshairLine";var dme=E.memo((function(t){var e,r,n=t.width,i=t.height,a=t.type,s=t.x,o=t.y;return a==="cross"?(e={x0:s,x1:s,y0:0,y1:i},r={x0:0,x1:n,y0:o,y1:o}):a==="top-left"?(e={x0:s,x1:s,y0:0,y1:o},r={x0:0,x1:s,y0:o,y1:o}):a==="top"?e={x0:s,x1:s,y0:0,y1:o}:a==="top-right"?(e={x0:s,x1:s,y0:0,y1:o},r={x0:s,x1:n,y0:o,y1:o}):a==="right"?r={x0:s,x1:n,y0:o,y1:o}:a==="bottom-right"?(e={x0:s,x1:s,y0:o,y1:i},r={x0:s,x1:n,y0:o,y1:o}):a==="bottom"?e={x0:s,x1:s,y0:o,y1:i}:a==="bottom-left"?(e={x0:s,x1:s,y0:o,y1:i},r={x0:0,x1:s,y0:o,y1:o}):a==="left"?r={x0:0,x1:s,y0:o,y1:o}:a==="x"?e={x0:s,x1:s,y0:0,y1:i}:a==="y"&&(r={x0:0,x1:n,y0:o,y1:o}),h.jsxs(h.Fragment,{children:[e&&h.jsx(Ok,{x0:e.x0,x1:e.x1,y0:e.y0,y1:e.y1}),r&&h.jsx(Ok,{x0:r.x0,x1:r.x1,y0:r.y0,y1:r.y1})]})}));dme.displayName="Crosshair";var CB=E.createContext({showTooltipAt:function(){},showTooltipFromEvent:function(){},hideTooltip:function(){}}),jk={isVisible:!1,position:[null,null],content:null,anchor:null},NB=E.createContext(jk),fme=function(t){var e=E.useState(jk),r=e[0],n=e[1],i=E.useCallback((function(o,c,d){var f=c[0],p=c[1];d===void 0&&(d="top"),n({isVisible:!0,position:[f,p],anchor:d,content:o})}),[n]),a=E.useCallback((function(o,c,d){d===void 0&&(d="top");var f=t.current.getBoundingClientRect(),p=t.current.offsetWidth,g=p===f.width?1:p/f.width,b="touches"in c?c.touches[0]:c,w=b.clientX,_=b.clientY,x=(w-f.left)*g,T=(_-f.top)*g;d!=="left"&&d!=="right"||(d=x<f.width/2?"right":"left"),n({isVisible:!0,position:[x,T],anchor:d,content:o})}),[t,n]),s=E.useCallback((function(){n(jk)}),[n]);return{actions:E.useMemo((function(){return{showTooltipAt:i,showTooltipFromEvent:a,hideTooltip:s}}),[i,a,s]),state:r}},hme=function(){var t=E.useContext(CB);if(t===void 0)throw new Error("useTooltip must be used within a TooltipProvider");return t},pme=function(){var t=E.useContext(NB);if(t===void 0)throw new Error("useTooltipState must be used within a TooltipProvider");return t},mme=function(t){return t.isVisible},gme=function(){var t=pme();return mme(t)?h.jsx(PB,{position:t.position,anchor:t.anchor,children:t.content}):null},yme=function(t){var e=t.container,r=t.children,n=fme(e),i=n.actions,a=n.state;return h.jsx(CB.Provider,{value:i,children:h.jsx(NB.Provider,{value:a,children:r})})},y_,F3;function vme(){if(F3)return y_;F3=1;function t(){this.__data__=[],this.size=0}return y_=t,y_}var v_,$3;function lm(){if($3)return v_;$3=1;function t(e,r){return e===r||e!==e&&r!==r}return v_=t,v_}var b_,V3;function yb(){if(V3)return b_;V3=1;var t=lm();function e(r,n){for(var i=r.length;i--;)if(t(r[i][0],n))return i;return-1}return b_=e,b_}var x_,U3;function bme(){if(U3)return x_;U3=1;var t=yb(),e=Array.prototype,r=e.splice;function n(i){var a=this.__data__,s=t(a,i);if(s<0)return!1;var o=a.length-1;return s==o?a.pop():r.call(a,s,1),--this.size,!0}return x_=n,x_}var w_,q3;function xme(){if(q3)return w_;q3=1;var t=yb();function e(r){var n=this.__data__,i=t(n,r);return i<0?void 0:n[i][1]}return w_=e,w_}var __,z3;function wme(){if(z3)return __;z3=1;var t=yb();function e(r){return t(this.__data__,r)>-1}return __=e,__}var E_,B3;function _me(){if(B3)return E_;B3=1;var t=yb();function e(r,n){var i=this.__data__,a=t(i,r);return a<0?(++this.size,i.push([r,n])):i[a][1]=n,this}return E_=e,E_}var S_,W3;function vb(){if(W3)return S_;W3=1;var t=vme(),e=bme(),r=xme(),n=wme(),i=_me();function a(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var d=s[o];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,S_=a,S_}var T_,H3;function Eme(){if(H3)return T_;H3=1;var t=vb();function e(){this.__data__=new t,this.size=0}return T_=e,T_}var A_,G3;function Sme(){if(G3)return A_;G3=1;function t(e){var r=this.__data__,n=r.delete(e);return this.size=r.size,n}return A_=t,A_}var k_,K3;function Tme(){if(K3)return k_;K3=1;function t(e){return this.__data__.get(e)}return k_=t,k_}var I_,Y3;function Ame(){if(Y3)return I_;Y3=1;function t(e){return this.__data__.has(e)}return I_=t,I_}var P_,X3;function RB(){if(X3)return P_;X3=1;var t=typeof Vg=="object"&&Vg&&Vg.Object===Object&&Vg;return P_=t,P_}var C_,Q3;function us(){if(Q3)return C_;Q3=1;var t=RB(),e=typeof self=="object"&&self&&self.Object===Object&&self,r=t||e||Function("return this")();return C_=r,C_}var N_,J3;function Jd(){if(J3)return N_;J3=1;var t=us(),e=t.Symbol;return N_=e,N_}var R_,Z3;function kme(){if(Z3)return R_;Z3=1;var t=Jd(),e=Object.prototype,r=e.hasOwnProperty,n=e.toString,i=t?t.toStringTag:void 0;function a(s){var o=r.call(s,i),c=s[i];try{s[i]=void 0;var d=!0}catch{}var f=n.call(s);return d&&(o?s[i]=c:delete s[i]),f}return R_=a,R_}var O_,eD;function Ime(){if(eD)return O_;eD=1;var t=Object.prototype,e=t.toString;function r(n){return e.call(n)}return O_=r,O_}var j_,tD;function Yc(){if(tD)return j_;tD=1;var t=Jd(),e=kme(),r=Ime(),n="[object Null]",i="[object Undefined]",a=t?t.toStringTag:void 0;function s(o){return o==null?o===void 0?i:n:a&&a in Object(o)?e(o):r(o)}return j_=s,j_}var D_,rD;function no(){if(rD)return D_;rD=1;function t(e){var r=typeof e;return e!=null&&(r=="object"||r=="function")}return D_=t,D_}var M_,nD;function bb(){if(nD)return M_;nD=1;var t=Yc(),e=no(),r="[object AsyncFunction]",n="[object Function]",i="[object GeneratorFunction]",a="[object Proxy]";function s(o){if(!e(o))return!1;var c=t(o);return c==n||c==i||c==r||c==a}return M_=s,M_}var L_,iD;function Pme(){if(iD)return L_;iD=1;var t=us(),e=t["__core-js_shared__"];return L_=e,L_}var F_,aD;function Cme(){if(aD)return F_;aD=1;var t=Pme(),e=(function(){var n=/[^.]+$/.exec(t&&t.keys&&t.keys.IE_PROTO||"");return n?"Symbol(src)_1."+n:""})();function r(n){return!!e&&e in n}return F_=r,F_}var $_,sD;function OB(){if(sD)return $_;sD=1;var t=Function.prototype,e=t.toString;function r(n){if(n!=null){try{return e.call(n)}catch{}try{return n+""}catch{}}return""}return $_=r,$_}var V_,oD;function Nme(){if(oD)return V_;oD=1;var t=bb(),e=Cme(),r=no(),n=OB(),i=/[\\^$.*+?()[\]{}|]/g,a=/^\[object .+?Constructor\]$/,s=Function.prototype,o=Object.prototype,c=s.toString,d=o.hasOwnProperty,f=RegExp("^"+c.call(d).replace(i,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");function p(g){if(!r(g)||e(g))return!1;var b=t(g)?f:a;return b.test(n(g))}return V_=p,V_}var U_,lD;function Rme(){if(lD)return U_;lD=1;function t(e,r){return e?.[r]}return U_=t,U_}var q_,cD;function Xc(){if(cD)return q_;cD=1;var t=Nme(),e=Rme();function r(n,i){var a=e(n,i);return t(a)?a:void 0}return q_=r,q_}var z_,uD;function bC(){if(uD)return z_;uD=1;var t=Xc(),e=us(),r=t(e,"Map");return z_=r,z_}var B_,dD;function xb(){if(dD)return B_;dD=1;var t=Xc(),e=t(Object,"create");return B_=e,B_}var W_,fD;function Ome(){if(fD)return W_;fD=1;var t=xb();function e(){this.__data__=t?t(null):{},this.size=0}return W_=e,W_}var H_,hD;function jme(){if(hD)return H_;hD=1;function t(e){var r=this.has(e)&&delete this.__data__[e];return this.size-=r?1:0,r}return H_=t,H_}var G_,pD;function Dme(){if(pD)return G_;pD=1;var t=xb(),e="__lodash_hash_undefined__",r=Object.prototype,n=r.hasOwnProperty;function i(a){var s=this.__data__;if(t){var o=s[a];return o===e?void 0:o}return n.call(s,a)?s[a]:void 0}return G_=i,G_}var K_,mD;function Mme(){if(mD)return K_;mD=1;var t=xb(),e=Object.prototype,r=e.hasOwnProperty;function n(i){var a=this.__data__;return t?a[i]!==void 0:r.call(a,i)}return K_=n,K_}var Y_,gD;function Lme(){if(gD)return Y_;gD=1;var t=xb(),e="__lodash_hash_undefined__";function r(n,i){var a=this.__data__;return this.size+=this.has(n)?0:1,a[n]=t&&i===void 0?e:i,this}return Y_=r,Y_}var X_,yD;function Fme(){if(yD)return X_;yD=1;var t=Ome(),e=jme(),r=Dme(),n=Mme(),i=Lme();function a(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var d=s[o];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,X_=a,X_}var Q_,vD;function $me(){if(vD)return Q_;vD=1;var t=Fme(),e=vb(),r=bC();function n(){this.size=0,this.__data__={hash:new t,map:new(r||e),string:new t}}return Q_=n,Q_}var J_,bD;function Vme(){if(bD)return J_;bD=1;function t(e){var r=typeof e;return r=="string"||r=="number"||r=="symbol"||r=="boolean"?e!=="__proto__":e===null}return J_=t,J_}var Z_,xD;function wb(){if(xD)return Z_;xD=1;var t=Vme();function e(r,n){var i=r.__data__;return t(n)?i[typeof n=="string"?"string":"hash"]:i.map}return Z_=e,Z_}var e2,wD;function Ume(){if(wD)return e2;wD=1;var t=wb();function e(r){var n=t(this,r).delete(r);return this.size-=n?1:0,n}return e2=e,e2}var t2,_D;function qme(){if(_D)return t2;_D=1;var t=wb();function e(r){return t(this,r).get(r)}return t2=e,t2}var r2,ED;function zme(){if(ED)return r2;ED=1;var t=wb();function e(r){return t(this,r).has(r)}return r2=e,r2}var n2,SD;function Bme(){if(SD)return n2;SD=1;var t=wb();function e(r,n){var i=t(this,r),a=i.size;return i.set(r,n),this.size+=i.size==a?0:1,this}return n2=e,n2}var i2,TD;function xC(){if(TD)return i2;TD=1;var t=$me(),e=Ume(),r=qme(),n=zme(),i=Bme();function a(s){var o=-1,c=s==null?0:s.length;for(this.clear();++o<c;){var d=s[o];this.set(d[0],d[1])}}return a.prototype.clear=t,a.prototype.delete=e,a.prototype.get=r,a.prototype.has=n,a.prototype.set=i,i2=a,i2}var a2,AD;function Wme(){if(AD)return a2;AD=1;var t=vb(),e=bC(),r=xC(),n=200;function i(a,s){var o=this.__data__;if(o instanceof t){var c=o.__data__;if(!e||c.length<n-1)return c.push([a,s]),this.size=++o.size,this;o=this.__data__=new r(c)}return o.set(a,s),this.size=o.size,this}return a2=i,a2}var s2,kD;function wC(){if(kD)return s2;kD=1;var t=vb(),e=Eme(),r=Sme(),n=Tme(),i=Ame(),a=Wme();function s(o){var c=this.__data__=new t(o);this.size=c.size}return s.prototype.clear=e,s.prototype.delete=r,s.prototype.get=n,s.prototype.has=i,s.prototype.set=a,s2=s,s2}var o2,ID;function jB(){if(ID)return o2;ID=1;var t=Xc(),e=(function(){try{var r=t(Object,"defineProperty");return r({},"",{}),r}catch{}})();return o2=e,o2}var l2,PD;function _C(){if(PD)return l2;PD=1;var t=jB();function e(r,n,i){n=="__proto__"&&t?t(r,n,{configurable:!0,enumerable:!0,value:i,writable:!0}):r[n]=i}return l2=e,l2}var c2,CD;function DB(){if(CD)return c2;CD=1;var t=_C(),e=lm();function r(n,i,a){(a!==void 0&&!e(n[i],a)||a===void 0&&!(i in n))&&t(n,i,a)}return c2=r,c2}var u2,ND;function Hme(){if(ND)return u2;ND=1;function t(e){return function(r,n,i){for(var a=-1,s=Object(r),o=i(r),c=o.length;c--;){var d=o[e?c:++a];if(n(s[d],d,s)===!1)break}return r}}return u2=t,u2}var d2,RD;function Gme(){if(RD)return d2;RD=1;var t=Hme(),e=t();return d2=e,d2}var Nh={exports:{}};Nh.exports;var OD;function MB(){return OD||(OD=1,(function(t,e){var r=us(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a?r.Buffer:void 0,o=s?s.allocUnsafe:void 0;function c(d,f){if(f)return d.slice();var p=d.length,g=o?o(p):new d.constructor(p);return d.copy(g),g}t.exports=c})(Nh,Nh.exports)),Nh.exports}var f2,jD;function LB(){if(jD)return f2;jD=1;var t=us(),e=t.Uint8Array;return f2=e,f2}var h2,DD;function EC(){if(DD)return h2;DD=1;var t=LB();function e(r){var n=new r.constructor(r.byteLength);return new t(n).set(new t(r)),n}return h2=e,h2}var p2,MD;function FB(){if(MD)return p2;MD=1;var t=EC();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.length)}return p2=e,p2}var m2,LD;function $B(){if(LD)return m2;LD=1;function t(e,r){var n=-1,i=e.length;for(r||(r=Array(i));++n<i;)r[n]=e[n];return r}return m2=t,m2}var g2,FD;function Kme(){if(FD)return g2;FD=1;var t=no(),e=Object.create,r=(function(){function n(){}return function(i){if(!t(i))return{};if(e)return e(i);n.prototype=i;var a=new n;return n.prototype=void 0,a}})();return g2=r,g2}var y2,$D;function VB(){if($D)return y2;$D=1;function t(e,r){return function(n){return e(r(n))}}return y2=t,y2}var v2,VD;function SC(){if(VD)return v2;VD=1;var t=VB(),e=t(Object.getPrototypeOf,Object);return v2=e,v2}var b2,UD;function TC(){if(UD)return b2;UD=1;var t=Object.prototype;function e(r){var n=r&&r.constructor,i=typeof n=="function"&&n.prototype||t;return r===i}return b2=e,b2}var x2,qD;function UB(){if(qD)return x2;qD=1;var t=Kme(),e=SC(),r=TC();function n(i){return typeof i.constructor=="function"&&!r(i)?t(e(i)):{}}return x2=n,x2}var w2,zD;function ds(){if(zD)return w2;zD=1;function t(e){return e!=null&&typeof e=="object"}return w2=t,w2}var _2,BD;function Yme(){if(BD)return _2;BD=1;var t=Yc(),e=ds(),r="[object Arguments]";function n(i){return e(i)&&t(i)==r}return _2=n,_2}var E2,WD;function _b(){if(WD)return E2;WD=1;var t=Yme(),e=ds(),r=Object.prototype,n=r.hasOwnProperty,i=r.propertyIsEnumerable,a=t((function(){return arguments})())?t:function(s){return e(s)&&n.call(s,"callee")&&!i.call(s,"callee")};return E2=a,E2}var S2,HD;function Ui(){if(HD)return S2;HD=1;var t=Array.isArray;return S2=t,S2}var T2,GD;function AC(){if(GD)return T2;GD=1;var t=9007199254740991;function e(r){return typeof r=="number"&&r>-1&&r%1==0&&r<=t}return T2=e,T2}var A2,KD;function Eb(){if(KD)return A2;KD=1;var t=bb(),e=AC();function r(n){return n!=null&&e(n.length)&&!t(n)}return A2=r,A2}var k2,YD;function qB(){if(YD)return k2;YD=1;var t=Eb(),e=ds();function r(n){return e(n)&&t(n)}return k2=r,k2}var Rh={exports:{}},I2,XD;function Xme(){if(XD)return I2;XD=1;function t(){return!1}return I2=t,I2}Rh.exports;var QD;function Sb(){return QD||(QD=1,(function(t,e){var r=us(),n=Xme(),i=e&&!e.nodeType&&e,a=i&&!0&&t&&!t.nodeType&&t,s=a&&a.exports===i,o=s?r.Buffer:void 0,c=o?o.isBuffer:void 0,d=c||n;t.exports=d})(Rh,Rh.exports)),Rh.exports}var P2,JD;function kC(){if(JD)return P2;JD=1;var t=Yc(),e=SC(),r=ds(),n="[object Object]",i=Function.prototype,a=Object.prototype,s=i.toString,o=a.hasOwnProperty,c=s.call(Object);function d(f){if(!r(f)||t(f)!=n)return!1;var p=e(f);if(p===null)return!0;var g=o.call(p,"constructor")&&p.constructor;return typeof g=="function"&&g instanceof g&&s.call(g)==c}return P2=d,P2}var C2,ZD;function Qme(){if(ZD)return C2;ZD=1;var t=Yc(),e=AC(),r=ds(),n="[object Arguments]",i="[object Array]",a="[object Boolean]",s="[object Date]",o="[object Error]",c="[object Function]",d="[object Map]",f="[object Number]",p="[object Object]",g="[object RegExp]",b="[object Set]",w="[object String]",_="[object WeakMap]",x="[object ArrayBuffer]",T="[object DataView]",I="[object Float32Array]",P="[object Float64Array]",j="[object Int8Array]",O="[object Int16Array]",V="[object Int32Array]",C="[object Uint8Array]",N="[object Uint8ClampedArray]",M="[object Uint16Array]",F="[object Uint32Array]",D={};D[I]=D[P]=D[j]=D[O]=D[V]=D[C]=D[N]=D[M]=D[F]=!0,D[n]=D[i]=D[x]=D[a]=D[T]=D[s]=D[o]=D[c]=D[d]=D[f]=D[p]=D[g]=D[b]=D[w]=D[_]=!1;function U($){return r($)&&e($.length)&&!!D[t($)]}return C2=U,C2}var N2,eM;function Tb(){if(eM)return N2;eM=1;function t(e){return function(r){return e(r)}}return N2=t,N2}var Oh={exports:{}};Oh.exports;var tM;function IC(){return tM||(tM=1,(function(t,e){var r=RB(),n=e&&!e.nodeType&&e,i=n&&!0&&t&&!t.nodeType&&t,a=i&&i.exports===n,s=a&&r.process,o=(function(){try{var c=i&&i.require&&i.require("util").types;return c||s&&s.binding&&s.binding("util")}catch{}})();t.exports=o})(Oh,Oh.exports)),Oh.exports}var R2,rM;function PC(){if(rM)return R2;rM=1;var t=Qme(),e=Tb(),r=IC(),n=r&&r.isTypedArray,i=n?e(n):t;return R2=i,R2}var O2,nM;function zB(){if(nM)return O2;nM=1;function t(e,r){if(!(r==="constructor"&&typeof e[r]=="function")&&r!="__proto__")return e[r]}return O2=t,O2}var j2,iM;function CC(){if(iM)return j2;iM=1;var t=_C(),e=lm(),r=Object.prototype,n=r.hasOwnProperty;function i(a,s,o){var c=a[s];(!(n.call(a,s)&&e(c,o))||o===void 0&&!(s in a))&&t(a,s,o)}return j2=i,j2}var D2,aM;function Zd(){if(aM)return D2;aM=1;var t=CC(),e=_C();function r(n,i,a,s){var o=!a;a||(a={});for(var c=-1,d=i.length;++c<d;){var f=i[c],p=s?s(a[f],n[f],f,a,n):void 0;p===void 0&&(p=n[f]),o?e(a,f,p):t(a,f,p)}return a}return D2=r,D2}var M2,sM;function Jme(){if(sM)return M2;sM=1;function t(e,r){for(var n=-1,i=Array(e);++n<e;)i[n]=r(n);return i}return M2=t,M2}var L2,oM;function Ab(){if(oM)return L2;oM=1;var t=9007199254740991,e=/^(?:0|[1-9]\d*)$/;function r(n,i){var a=typeof n;return i=i??t,!!i&&(a=="number"||a!="symbol"&&e.test(n))&&n>-1&&n%1==0&&n<i}return L2=r,L2}var F2,lM;function BB(){if(lM)return F2;lM=1;var t=Jme(),e=_b(),r=Ui(),n=Sb(),i=Ab(),a=PC(),s=Object.prototype,o=s.hasOwnProperty;function c(d,f){var p=r(d),g=!p&&e(d),b=!p&&!g&&n(d),w=!p&&!g&&!b&&a(d),_=p||g||b||w,x=_?t(d.length,String):[],T=x.length;for(var I in d)(f||o.call(d,I))&&!(_&&(I=="length"||b&&(I=="offset"||I=="parent")||w&&(I=="buffer"||I=="byteLength"||I=="byteOffset")||i(I,T)))&&x.push(I);return x}return F2=c,F2}var $2,cM;function Zme(){if(cM)return $2;cM=1;function t(e){var r=[];if(e!=null)for(var n in Object(e))r.push(n);return r}return $2=t,$2}var V2,uM;function ege(){if(uM)return V2;uM=1;var t=no(),e=TC(),r=Zme(),n=Object.prototype,i=n.hasOwnProperty;function a(s){if(!t(s))return r(s);var o=e(s),c=[];for(var d in s)d=="constructor"&&(o||!i.call(s,d))||c.push(d);return c}return V2=a,V2}var U2,dM;function cm(){if(dM)return U2;dM=1;var t=BB(),e=ege(),r=Eb();function n(i){return r(i)?t(i,!0):e(i)}return U2=n,U2}var q2,fM;function tge(){if(fM)return q2;fM=1;var t=Zd(),e=cm();function r(n){return t(n,e(n))}return q2=r,q2}var z2,hM;function rge(){if(hM)return z2;hM=1;var t=DB(),e=MB(),r=FB(),n=$B(),i=UB(),a=_b(),s=Ui(),o=qB(),c=Sb(),d=bb(),f=no(),p=kC(),g=PC(),b=zB(),w=tge();function _(x,T,I,P,j,O,V){var C=b(x,I),N=b(T,I),M=V.get(N);if(M){t(x,I,M);return}var F=O?O(C,N,I+"",x,T,V):void 0,D=F===void 0;if(D){var U=s(N),$=!U&&c(N),G=!U&&!$&&g(N);F=N,U||$||G?s(C)?F=C:o(C)?F=n(C):$?(D=!1,F=e(N,!0)):G?(D=!1,F=r(N,!0)):F=[]:p(N)||a(N)?(F=C,a(C)?F=w(C):(!f(C)||d(C))&&(F=i(N))):D=!1}D&&(V.set(N,F),j(F,N,P,O,V),V.delete(N)),t(x,I,F)}return z2=_,z2}var B2,pM;function nge(){if(pM)return B2;pM=1;var t=wC(),e=DB(),r=Gme(),n=rge(),i=no(),a=cm(),s=zB();function o(c,d,f,p,g){c!==d&&r(d,function(b,w){if(g||(g=new t),i(b))n(c,d,w,f,o,p,g);else{var _=p?p(s(c,w),b,w+"",c,d,g):void 0;_===void 0&&(_=b),e(c,w,_)}},a)}return B2=o,B2}var W2,mM;function WB(){if(mM)return W2;mM=1;function t(e){return e}return W2=t,W2}var H2,gM;function ige(){if(gM)return H2;gM=1;function t(e,r,n){switch(n.length){case 0:return e.call(r);case 1:return e.call(r,n[0]);case 2:return e.call(r,n[0],n[1]);case 3:return e.call(r,n[0],n[1],n[2])}return e.apply(r,n)}return H2=t,H2}var G2,yM;function HB(){if(yM)return G2;yM=1;var t=ige(),e=Math.max;function r(n,i,a){return i=e(i===void 0?n.length-1:i,0),function(){for(var s=arguments,o=-1,c=e(s.length-i,0),d=Array(c);++o<c;)d[o]=s[i+o];o=-1;for(var f=Array(i+1);++o<i;)f[o]=s[o];return f[i]=a(d),t(n,this,f)}}return G2=r,G2}var K2,vM;function age(){if(vM)return K2;vM=1;function t(e){return function(){return e}}return K2=t,K2}var Y2,bM;function sge(){if(bM)return Y2;bM=1;var t=age(),e=jB(),r=WB(),n=e?function(i,a){return e(i,"toString",{configurable:!0,enumerable:!1,value:t(a),writable:!0})}:r;return Y2=n,Y2}var X2,xM;function oge(){if(xM)return X2;xM=1;var t=800,e=16,r=Date.now;function n(i){var a=0,s=0;return function(){var o=r(),c=e-(o-s);if(s=o,c>0){if(++a>=t)return arguments[0]}else a=0;return i.apply(void 0,arguments)}}return X2=n,X2}var Q2,wM;function GB(){if(wM)return Q2;wM=1;var t=sge(),e=oge(),r=e(t);return Q2=r,Q2}var J2,_M;function KB(){if(_M)return J2;_M=1;var t=WB(),e=HB(),r=GB();function n(i,a){return r(e(i,a,t),i+"")}return J2=n,J2}var Z2,EM;function lge(){if(EM)return Z2;EM=1;var t=lm(),e=Eb(),r=Ab(),n=no();function i(a,s,o){if(!n(o))return!1;var c=typeof s;return(c=="number"?e(o)&&r(s,o.length):c=="string"&&s in o)?t(o[s],a):!1}return Z2=i,Z2}var eE,SM;function cge(){if(SM)return eE;SM=1;var t=KB(),e=lge();function r(n){return t(function(i,a){var s=-1,o=a.length,c=o>1?a[o-1]:void 0,d=o>2?a[2]:void 0;for(c=n.length>3&&typeof c=="function"?(o--,c):void 0,d&&e(a[0],a[1],d)&&(c=o<3?void 0:c,o=1),i=Object(i);++s<o;){var f=a[s];f&&n(i,f,s,c)}return i})}return eE=r,eE}var tE,TM;function uge(){if(TM)return tE;TM=1;var t=nge(),e=cge(),r=e(function(n,i,a){t(n,i,a)});return tE=r,tE}var dge=uge();const fge=Qt(dge);var rE,AM;function NC(){if(AM)return rE;AM=1;var t=Yc(),e=ds(),r="[object Symbol]";function n(i){return typeof i=="symbol"||e(i)&&t(i)==r}return rE=n,rE}var nE,kM;function hge(){if(kM)return nE;kM=1;var t=Ui(),e=NC(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){if(t(a))return!1;var o=typeof a;return o=="number"||o=="symbol"||o=="boolean"||a==null||e(a)?!0:n.test(a)||!r.test(a)||s!=null&&a in Object(s)}return nE=i,nE}var iE,IM;function pge(){if(IM)return iE;IM=1;var t=xC(),e="Expected a function";function r(n,i){if(typeof n!="function"||i!=null&&typeof i!="function")throw new TypeError(e);var a=function(){var s=arguments,o=i?i.apply(this,s):s[0],c=a.cache;if(c.has(o))return c.get(o);var d=n.apply(this,s);return a.cache=c.set(o,d)||c,d};return a.cache=new(r.Cache||t),a}return r.Cache=t,iE=r,iE}var aE,PM;function mge(){if(PM)return aE;PM=1;var t=pge(),e=500;function r(n){var i=t(n,function(s){return a.size===e&&a.clear(),s}),a=i.cache;return i}return aE=r,aE}var sE,CM;function gge(){if(CM)return sE;CM=1;var t=mge(),e=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,n=t(function(i){var a=[];return i.charCodeAt(0)===46&&a.push(""),i.replace(e,function(s,o,c,d){a.push(c?d.replace(r,"$1"):o||s)}),a});return sE=n,sE}var oE,NM;function RC(){if(NM)return oE;NM=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=Array(i);++n<i;)a[n]=r(e[n],n,e);return a}return oE=t,oE}var lE,RM;function yge(){if(RM)return lE;RM=1;var t=Jd(),e=RC(),r=Ui(),n=NC(),i=t?t.prototype:void 0,a=i?i.toString:void 0;function s(o){if(typeof o=="string")return o;if(r(o))return e(o,s)+"";if(n(o))return a?a.call(o):"";var c=o+"";return c=="0"&&1/o==-1/0?"-0":c}return lE=s,lE}var cE,OM;function kb(){if(OM)return cE;OM=1;var t=yge();function e(r){return r==null?"":t(r)}return cE=e,cE}var uE,jM;function ef(){if(jM)return uE;jM=1;var t=Ui(),e=hge(),r=gge(),n=kb();function i(a,s){return t(a)?a:e(a,s)?[a]:r(n(a))}return uE=i,uE}var dE,DM;function Ib(){if(DM)return dE;DM=1;var t=NC();function e(r){if(typeof r=="string"||t(r))return r;var n=r+"";return n=="0"&&1/r==-1/0?"-0":n}return dE=e,dE}var fE,MM;function OC(){if(MM)return fE;MM=1;var t=ef(),e=Ib();function r(n,i){i=t(i,n);for(var a=0,s=i.length;n!=null&&a<s;)n=n[e(i[a++])];return a&&a==s?n:void 0}return fE=r,fE}var hE,LM;function vge(){if(LM)return hE;LM=1;var t=OC();function e(r,n,i){var a=r==null?void 0:t(r,n);return a===void 0?i:a}return hE=e,hE}var bge=vge();const Xs=Qt(bge);var pE,FM;function YB(){if(FM)return pE;FM=1;var t=CC(),e=ef(),r=Ab(),n=no(),i=Ib();function a(s,o,c,d){if(!n(s))return s;o=e(o,s);for(var f=-1,p=o.length,g=p-1,b=s;b!=null&&++f<p;){var w=i(o[f]),_=c;if(w==="__proto__"||w==="constructor"||w==="prototype")return s;if(f!=g){var x=b[w];_=d?d(x,w,b):void 0,_===void 0&&(_=n(x)?x:r(o[f+1])?[]:{})}t(b,w,_),b=b[w]}return s}return pE=a,pE}var mE,$M;function xge(){if($M)return mE;$M=1;var t=YB();function e(r,n,i){return r==null?r:t(r,n,i)}return mE=e,mE}var wge=xge();const jh=Qt(wge);function Pb(t,e,r){t.prototype=e.prototype=r,r.constructor=t}function jC(t,e){var r=Object.create(t.prototype);for(var n in e)r[n]=e[n];return r}function tf(){}var Nc=.7,Ed=1/Nc,od="\\s*([+-]?\\d+)\\s*",Ep="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Qa="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",_ge=/^#([0-9a-f]{3,8})$/,Ege=new RegExp(`^rgb\\(${od},${od},${od}\\)$`),Sge=new RegExp(`^rgb\\(${Qa},${Qa},${Qa}\\)$`),Tge=new RegExp(`^rgba\\(${od},${od},${od},${Ep}\\)$`),Age=new RegExp(`^rgba\\(${Qa},${Qa},${Qa},${Ep}\\)$`),kge=new RegExp(`^hsl\\(${Ep},${Qa},${Qa}\\)$`),Ige=new RegExp(`^hsla\\(${Ep},${Qa},${Qa},${Ep}\\)$`),VM={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};Pb(tf,Sp,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:UM,formatHex:UM,formatHex8:Pge,formatHsl:Cge,formatRgb:qM,toString:qM});function UM(){return this.rgb().formatHex()}function Pge(){return this.rgb().formatHex8()}function Cge(){return QB(this).formatHsl()}function qM(){return this.rgb().formatRgb()}function Sp(t){var e,r;return t=(t+"").trim().toLowerCase(),(e=_ge.exec(t))?(r=e[1].length,e=parseInt(e[1],16),r===6?zM(e):r===3?new pn(e>>8&15|e>>4&240,e>>4&15|e&240,(e&15)<<4|e&15,1):r===8?n0(e>>24&255,e>>16&255,e>>8&255,(e&255)/255):r===4?n0(e>>12&15|e>>8&240,e>>8&15|e>>4&240,e>>4&15|e&240,((e&15)<<4|e&15)/255):null):(e=Ege.exec(t))?new pn(e[1],e[2],e[3],1):(e=Sge.exec(t))?new pn(e[1]*255/100,e[2]*255/100,e[3]*255/100,1):(e=Tge.exec(t))?n0(e[1],e[2],e[3],e[4]):(e=Age.exec(t))?n0(e[1]*255/100,e[2]*255/100,e[3]*255/100,e[4]):(e=kge.exec(t))?HM(e[1],e[2]/100,e[3]/100,1):(e=Ige.exec(t))?HM(e[1],e[2]/100,e[3]/100,e[4]):VM.hasOwnProperty(t)?zM(VM[t]):t==="transparent"?new pn(NaN,NaN,NaN,0):null}function zM(t){return new pn(t>>16&255,t>>8&255,t&255,1)}function n0(t,e,r,n){return n<=0&&(t=e=r=NaN),new pn(t,e,r,n)}function XB(t){return t instanceof tf||(t=Sp(t)),t?(t=t.rgb(),new pn(t.r,t.g,t.b,t.opacity)):new pn}function Sd(t,e,r,n){return arguments.length===1?XB(t):new pn(t,e,r,n??1)}function pn(t,e,r,n){this.r=+t,this.g=+e,this.b=+r,this.opacity=+n}Pb(pn,Sd,jC(tf,{brighter(t){return t=t==null?Ed:Math.pow(Ed,t),new pn(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=t==null?Nc:Math.pow(Nc,t),new pn(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new pn(mc(this.r),mc(this.g),mc(this.b),ky(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:BM,formatHex:BM,formatHex8:Nge,formatRgb:WM,toString:WM}));function BM(){return`#${lc(this.r)}${lc(this.g)}${lc(this.b)}`}function Nge(){return`#${lc(this.r)}${lc(this.g)}${lc(this.b)}${lc((isNaN(this.opacity)?1:this.opacity)*255)}`}function WM(){const t=ky(this.opacity);return`${t===1?"rgb(":"rgba("}${mc(this.r)}, ${mc(this.g)}, ${mc(this.b)}${t===1?")":`, ${t})`}`}function ky(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function mc(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function lc(t){return t=mc(t),(t<16?"0":"")+t.toString(16)}function HM(t,e,r,n){return n<=0?t=e=r=NaN:r<=0||r>=1?t=e=NaN:e<=0&&(t=NaN),new Ji(t,e,r,n)}function QB(t){if(t instanceof Ji)return new Ji(t.h,t.s,t.l,t.opacity);if(t instanceof tf||(t=Sp(t)),!t)return new Ji;if(t instanceof Ji)return t;t=t.rgb();var e=t.r/255,r=t.g/255,n=t.b/255,i=Math.min(e,r,n),a=Math.max(e,r,n),s=NaN,o=a-i,c=(a+i)/2;return o?(e===a?s=(r-n)/o+(r<n)*6:r===a?s=(n-e)/o+2:s=(e-r)/o+4,o/=c<.5?a+i:2-a-i,s*=60):o=c>0&&c<1?0:s,new Ji(s,o,c,t.opacity)}function Rge(t,e,r,n){return arguments.length===1?QB(t):new Ji(t,e,r,n??1)}function Ji(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Pb(Ji,Rge,jC(tf,{brighter(t){return t=t==null?Ed:Math.pow(Ed,t),new Ji(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Nc:Math.pow(Nc,t),new Ji(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+(this.h<0)*360,e=isNaN(t)||isNaN(this.s)?0:this.s,r=this.l,n=r+(r<.5?r:1-r)*e,i=2*r-n;return new pn(gE(t>=240?t-240:t+120,i,n),gE(t,i,n),gE(t<120?t+240:t-120,i,n),this.opacity)},clamp(){return new Ji(GM(this.h),i0(this.s),i0(this.l),ky(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=ky(this.opacity);return`${t===1?"hsl(":"hsla("}${GM(this.h)}, ${i0(this.s)*100}%, ${i0(this.l)*100}%${t===1?")":`, ${t})`}`}}));function GM(t){return t=(t||0)%360,t<0?t+360:t}function i0(t){return Math.max(0,Math.min(1,t||0))}function gE(t,e,r){return(t<60?e+(r-e)*t/60:t<180?r:t<240?e+(r-e)*(240-t)/60:e)*255}const Oge=Math.PI/180,jge=180/Math.PI;var JB=-.14861,DC=1.78277,MC=-.29227,Cb=-.90649,Tp=1.97294,KM=Tp*Cb,YM=Tp*DC,XM=DC*MC-Cb*JB;function Dge(t){if(t instanceof gc)return new gc(t.h,t.s,t.l,t.opacity);t instanceof pn||(t=XB(t));var e=t.r/255,r=t.g/255,n=t.b/255,i=(XM*n+KM*e-YM*r)/(XM+KM-YM),a=n-i,s=(Tp*(r-i)-MC*a)/Cb,o=Math.sqrt(s*s+a*a)/(Tp*i*(1-i)),c=o?Math.atan2(s,a)*jge-120:NaN;return new gc(c<0?c+360:c,o,i,t.opacity)}function is(t,e,r,n){return arguments.length===1?Dge(t):new gc(t,e,r,n??1)}function gc(t,e,r,n){this.h=+t,this.s=+e,this.l=+r,this.opacity=+n}Pb(gc,is,jC(tf,{brighter(t){return t=t==null?Ed:Math.pow(Ed,t),new gc(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=t==null?Nc:Math.pow(Nc,t),new gc(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=isNaN(this.h)?0:(this.h+120)*Oge,e=+this.l,r=isNaN(this.s)?0:this.s*e*(1-e),n=Math.cos(t),i=Math.sin(t);return new pn(255*(e+r*(JB*n+DC*i)),255*(e+r*(MC*n+Cb*i)),255*(e+r*(Tp*n)),this.opacity)}}));function Mge(t,e,r,n,i){var a=t*t,s=a*t;return((1-3*t+3*a-s)*e+(4-6*a+3*s)*r+(1+3*t+3*a-3*s)*n+s*i)/6}function Lge(t){var e=t.length-1;return function(r){var n=r<=0?r=0:r>=1?(r=1,e-1):Math.floor(r*e),i=t[n],a=t[n+1],s=n>0?t[n-1]:2*i-a,o=n<e-1?t[n+2]:2*a-i;return Mge((r-n/e)*e,s,i,a,o)}}const Nb=t=>()=>t;function ZB(t,e){return function(r){return t+r*e}}function Fge(t,e,r){return t=Math.pow(t,r),e=Math.pow(e,r)-t,r=1/r,function(n){return Math.pow(t+n*e,r)}}function $ge(t,e){var r=e-t;return r?ZB(t,r>180||r<-180?r-360*Math.round(r/360):r):Nb(isNaN(t)?e:t)}function Vge(t){return(t=+t)==1?ld:function(e,r){return r-e?Fge(e,r,t):Nb(isNaN(e)?r:e)}}function ld(t,e){var r=e-t;return r?ZB(t,r):Nb(isNaN(t)?e:t)}const QM=(function t(e){var r=Vge(e);function n(i,a){var s=r((i=Sd(i)).r,(a=Sd(a)).r),o=r(i.g,a.g),c=r(i.b,a.b),d=ld(i.opacity,a.opacity);return function(f){return i.r=s(f),i.g=o(f),i.b=c(f),i.opacity=d(f),i+""}}return n.gamma=t,n})(1);function Uge(t){return function(e){var r=e.length,n=new Array(r),i=new Array(r),a=new Array(r),s,o;for(s=0;s<r;++s)o=Sd(e[s]),n[s]=o.r||0,i[s]=o.g||0,a[s]=o.b||0;return n=t(n),i=t(i),a=t(a),o.opacity=1,function(c){return o.r=n(c),o.g=i(c),o.b=a(c),o+""}}}var qge=Uge(Lge);function zge(t,e){e||(e=[]);var r=t?Math.min(e.length,t.length):0,n=e.slice(),i;return function(a){for(i=0;i<r;++i)n[i]=t[i]*(1-a)+e[i]*a;return n}}function Bge(t){return ArrayBuffer.isView(t)&&!(t instanceof DataView)}function Wge(t,e){var r=e?e.length:0,n=t?Math.min(r,t.length):0,i=new Array(n),a=new Array(r),s;for(s=0;s<n;++s)i[s]=rf(t[s],e[s]);for(;s<r;++s)a[s]=e[s];return function(o){for(s=0;s<n;++s)a[s]=i[s](o);return a}}function Hge(t,e){var r=new Date;return t=+t,e=+e,function(n){return r.setTime(t*(1-n)+e*n),r}}function Iy(t,e){return t=+t,e=+e,function(r){return t*(1-r)+e*r}}function Gge(t,e){var r={},n={},i;(t===null||typeof t!="object")&&(t={}),(e===null||typeof e!="object")&&(e={});for(i in e)i in t?r[i]=rf(t[i],e[i]):n[i]=e[i];return function(a){for(i in r)n[i]=r[i](a);return n}}var Dk=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,yE=new RegExp(Dk.source,"g");function Kge(t){return function(){return t}}function Yge(t){return function(e){return t(e)+""}}function Xge(t,e){var r=Dk.lastIndex=yE.lastIndex=0,n,i,a,s=-1,o=[],c=[];for(t=t+"",e=e+"";(n=Dk.exec(t))&&(i=yE.exec(e));)(a=i.index)>r&&(a=e.slice(r,a),o[s]?o[s]+=a:o[++s]=a),(n=n[0])===(i=i[0])?o[s]?o[s]+=i:o[++s]=i:(o[++s]=null,c.push({i:s,x:Iy(n,i)})),r=yE.lastIndex;return r<e.length&&(a=e.slice(r),o[s]?o[s]+=a:o[++s]=a),o.length<2?c[0]?Yge(c[0].x):Kge(e):(e=c.length,function(d){for(var f=0,p;f<e;++f)o[(p=c[f]).i]=p.x(d);return o.join("")})}function rf(t,e){var r=typeof e,n;return e==null||r==="boolean"?Nb(e):(r==="number"?Iy:r==="string"?(n=Sp(e))?(e=n,QM):Xge:e instanceof Sp?QM:e instanceof Date?Hge:Bge(e)?zge:Array.isArray(e)?Wge:typeof e.valueOf!="function"&&typeof e.toString!="function"||isNaN(e)?Gge:Iy)(t,e)}function LC(t,e){return t=+t,e=+e,function(r){return Math.round(t*(1-r)+e*r)}}function eW(t){return(function e(r){r=+r;function n(i,a){var s=t((i=is(i)).h,(a=is(a)).h),o=ld(i.s,a.s),c=ld(i.l,a.l),d=ld(i.opacity,a.opacity);return function(f){return i.h=s(f),i.s=o(f),i.l=c(Math.pow(f,r)),i.opacity=d(f),i+""}}return n.gamma=e,n})(1)}eW($ge);var FC=eW(ld);function Qge(t,e){e===void 0&&(e=t,t=rf);for(var r=0,n=e.length-1,i=e[0],a=new Array(n<0?0:n);r<n;)a[r]=t(i,i=e[++r]);return function(s){var o=Math.max(0,Math.min(n-1,Math.floor(s*=n)));return a[o](s-o)}}var vE,JM;function Jge(){if(JM)return vE;JM=1;var t=Yc(),e=Ui(),r=ds(),n="[object String]";function i(a){return typeof a=="string"||!e(a)&&r(a)&&t(a)==n}return vE=i,vE}var Zge=Jge();const e0e=Qt(Zge);var bE,ZM;function tW(){if(ZM)return bE;ZM=1;function t(e){var r=e==null?0:e.length;return r?e[r-1]:void 0}return bE=t,bE}var t0e=tW();const Fe=Qt(t0e);Ui();function rl(t,e){return t==null||e==null?NaN:t<e?-1:t>e?1:t>=e?0:NaN}function r0e(t,e){return t==null||e==null?NaN:e<t?-1:e>t?1:e>=t?0:NaN}function $C(t){let e,r,n;t.length!==2?(e=rl,r=(o,c)=>rl(t(o),c),n=(o,c)=>t(o)-c):(e=t===rl||t===r0e?t:n0e,r=t,n=t);function i(o,c,d=0,f=o.length){if(d<f){if(e(c,c)!==0)return f;do{const p=d+f>>>1;r(o[p],c)<0?d=p+1:f=p}while(d<f)}return d}function a(o,c,d=0,f=o.length){if(d<f){if(e(c,c)!==0)return f;do{const p=d+f>>>1;r(o[p],c)<=0?d=p+1:f=p}while(d<f)}return d}function s(o,c,d=0,f=o.length){const p=i(o,c,d,f-1);return p>d&&n(o[p-1],c)>-n(o[p],c)?p-1:p}return{left:i,center:s,right:a}}function n0e(){return 0}function rW(t){return t===null?NaN:+t}function*i0e(t,e){for(let r of t)r!=null&&(r=+r)>=r&&(yield r)}const a0e=$C(rl),um=a0e.right;$C(rW).center;class e6 extends Map{constructor(e,r=l0e){if(super(),Object.defineProperties(this,{_intern:{value:new Map},_key:{value:r}}),e!=null)for(const[n,i]of e)this.set(n,i)}get(e){return super.get(t6(this,e))}has(e){return super.has(t6(this,e))}set(e,r){return super.set(s0e(this,e),r)}delete(e){return super.delete(o0e(this,e))}}function t6({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):r}function s0e({_intern:t,_key:e},r){const n=e(r);return t.has(n)?t.get(n):(t.set(n,r),r)}function o0e({_intern:t,_key:e},r){const n=e(r);return t.has(n)&&(r=t.get(n),t.delete(n)),r}function l0e(t){return t!==null&&typeof t=="object"?t.valueOf():t}function c0e(t=rl){if(t===rl)return nW;if(typeof t!="function")throw new TypeError("compare is not a function");return(e,r)=>{const n=t(e,r);return n||n===0?n:(t(r,r)===0)-(t(e,e)===0)}}function nW(t,e){return(t==null||!(t>=t))-(e==null||!(e>=e))||(t<e?-1:t>e?1:0)}const u0e=Math.sqrt(50),d0e=Math.sqrt(10),f0e=Math.sqrt(2);function Py(t,e,r){const n=(e-t)/Math.max(0,r),i=Math.floor(Math.log10(n)),a=n/Math.pow(10,i),s=a>=u0e?10:a>=d0e?5:a>=f0e?2:1;let o,c,d;return i<0?(d=Math.pow(10,-i)/s,o=Math.round(t*d),c=Math.round(e*d),o/d<t&&++o,c/d>e&&--c,d=-d):(d=Math.pow(10,i)*s,o=Math.round(t/d),c=Math.round(e/d),o*d<t&&++o,c*d>e&&--c),c<o&&.5<=r&&r<2?Py(t,e,r*2):[o,c,d]}function Mk(t,e,r){if(e=+e,t=+t,r=+r,!(r>0))return[];if(t===e)return[t];const n=e<t,[i,a,s]=n?Py(e,t,r):Py(t,e,r);if(!(a>=i))return[];const o=a-i+1,c=new Array(o);if(n)if(s<0)for(let d=0;d<o;++d)c[d]=(a-d)/-s;else for(let d=0;d<o;++d)c[d]=(a-d)*s;else if(s<0)for(let d=0;d<o;++d)c[d]=(i+d)/-s;else for(let d=0;d<o;++d)c[d]=(i+d)*s;return c}function Lk(t,e,r){return e=+e,t=+t,r=+r,Py(t,e,r)[2]}function Fk(t,e,r){e=+e,t=+t,r=+r;const n=e<t,i=n?Lk(e,t,r):Lk(t,e,r);return(n?-1:1)*(i<0?1/-i:i)}function r6(t,e){let r;for(const n of t)n!=null&&(r<n||r===void 0&&n>=n)&&(r=n);return r}function n6(t,e){let r;for(const n of t)n!=null&&(r>n||r===void 0&&n>=n)&&(r=n);return r}function iW(t,e,r=0,n=1/0,i){if(e=Math.floor(e),r=Math.floor(Math.max(0,r)),n=Math.floor(Math.min(t.length-1,n)),!(r<=e&&e<=n))return t;for(i=i===void 0?nW:c0e(i);n>r;){if(n-r>600){const c=n-r+1,d=e-r+1,f=Math.log(c),p=.5*Math.exp(2*f/3),g=.5*Math.sqrt(f*p*(c-p)/c)*(d-c/2<0?-1:1),b=Math.max(r,Math.floor(e-d*p/c+g)),w=Math.min(n,Math.floor(e+(c-d)*p/c+g));iW(t,e,b,w,i)}const a=t[e];let s=r,o=n;for(uh(t,r,e),i(t[n],a)>0&&uh(t,r,n);s<o;){for(uh(t,s,o),++s,--o;i(t[s],a)<0;)++s;for(;i(t[o],a)>0;)--o}i(t[r],a)===0?uh(t,r,o):(++o,uh(t,o,n)),o<=e&&(r=o+1),e<=o&&(n=o-1)}return t}function uh(t,e,r){const n=t[e];t[e]=t[r],t[r]=n}function h0e(t,e,r){if(t=Float64Array.from(i0e(t)),!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return n6(t);if(e>=1)return r6(t);var n,i=(n-1)*e,a=Math.floor(i),s=r6(iW(t,a).subarray(0,a+1)),o=n6(t.subarray(a+1));return s+(o-s)*(i-a)}}function p0e(t,e,r=rW){if(!(!(n=t.length)||isNaN(e=+e))){if(e<=0||n<2)return+r(t[0],0,t);if(e>=1)return+r(t[n-1],n-1,t);var n,i=(n-1)*e,a=Math.floor(i),s=+r(t[a],a,t),o=+r(t[a+1],a+1,t);return s+(o-s)*(i-a)}}function m0e(t,e,r){t=+t,e=+e,r=(i=arguments.length)<2?(e=t,t=0,1):i<3?1:+r;for(var n=-1,i=Math.max(0,Math.ceil((e-t)/r))|0,a=new Array(i);++n<i;)a[n]=t+n*r;return a}function qi(t,e){switch(arguments.length){case 0:break;case 1:this.range(t);break;default:this.range(e).domain(t);break}return this}function io(t,e){switch(arguments.length){case 0:break;case 1:{typeof t=="function"?this.interpolator(t):this.range(t);break}default:{this.domain(t),typeof e=="function"?this.interpolator(e):this.range(e);break}}return this}const $k=Symbol("implicit");function Go(){var t=new e6,e=[],r=[],n=$k;function i(a){let s=t.get(a);if(s===void 0){if(n!==$k)return n;t.set(a,s=e.push(a)-1)}return r[s%r.length]}return i.domain=function(a){if(!arguments.length)return e.slice();e=[],t=new e6;for(const s of a)t.has(s)||t.set(s,e.push(s)-1);return i},i.range=function(a){return arguments.length?(r=Array.from(a),i):r.slice()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return Go(e,r).unknown(n)},qi.apply(i,arguments),i}function VC(){var t=Go().unknown(void 0),e=t.domain,r=t.range,n=0,i=1,a,s,o=!1,c=0,d=0,f=.5;delete t.unknown;function p(){var g=e().length,b=i<n,w=b?i:n,_=b?n:i;a=(_-w)/Math.max(1,g-c+d*2),o&&(a=Math.floor(a)),w+=(_-w-a*(g-c))*f,s=a*(1-c),o&&(w=Math.round(w),s=Math.round(s));var x=m0e(g).map(function(T){return w+a*T});return r(b?x.reverse():x)}return t.domain=function(g){return arguments.length?(e(g),p()):e()},t.range=function(g){return arguments.length?([n,i]=g,n=+n,i=+i,p()):[n,i]},t.rangeRound=function(g){return[n,i]=g,n=+n,i=+i,o=!0,p()},t.bandwidth=function(){return s},t.step=function(){return a},t.round=function(g){return arguments.length?(o=!!g,p()):o},t.padding=function(g){return arguments.length?(c=Math.min(1,d=+g),p()):c},t.paddingInner=function(g){return arguments.length?(c=Math.min(1,g),p()):c},t.paddingOuter=function(g){return arguments.length?(d=+g,p()):d},t.align=function(g){return arguments.length?(f=Math.max(0,Math.min(1,g)),p()):f},t.copy=function(){return VC(e(),[n,i]).round(o).paddingInner(c).paddingOuter(d).align(f)},qi.apply(p(),arguments)}function aW(t){var e=t.copy;return t.padding=t.paddingOuter,delete t.paddingInner,delete t.paddingOuter,t.copy=function(){return aW(e())},t}function g0e(){return aW(VC.apply(null,arguments).paddingInner(1))}function y0e(t){return function(){return t}}function Cy(t){return+t}var i6=[0,1];function _n(t){return t}function Vk(t,e){return(e-=t=+t)?function(r){return(r-t)/e}:y0e(isNaN(e)?NaN:.5)}function v0e(t,e){var r;return t>e&&(r=t,t=e,e=r),function(n){return Math.max(t,Math.min(e,n))}}function b0e(t,e,r){var n=t[0],i=t[1],a=e[0],s=e[1];return i<n?(n=Vk(i,n),a=r(s,a)):(n=Vk(n,i),a=r(a,s)),function(o){return a(n(o))}}function x0e(t,e,r){var n=Math.min(t.length,e.length)-1,i=new Array(n),a=new Array(n),s=-1;for(t[n]<t[0]&&(t=t.slice().reverse(),e=e.slice().reverse());++s<n;)i[s]=Vk(t[s],t[s+1]),a[s]=r(e[s],e[s+1]);return function(o){var c=um(t,o,1,n)-1;return a[c](i[c](o))}}function dm(t,e){return e.domain(t.domain()).range(t.range()).interpolate(t.interpolate()).clamp(t.clamp()).unknown(t.unknown())}function Rb(){var t=i6,e=i6,r=rf,n,i,a,s=_n,o,c,d;function f(){var g=Math.min(t.length,e.length);return s!==_n&&(s=v0e(t[0],t[g-1])),o=g>2?x0e:b0e,c=d=null,p}function p(g){return g==null||isNaN(g=+g)?a:(c||(c=o(t.map(n),e,r)))(n(s(g)))}return p.invert=function(g){return s(i((d||(d=o(e,t.map(n),Iy)))(g)))},p.domain=function(g){return arguments.length?(t=Array.from(g,Cy),f()):t.slice()},p.range=function(g){return arguments.length?(e=Array.from(g),f()):e.slice()},p.rangeRound=function(g){return e=Array.from(g),r=LC,f()},p.clamp=function(g){return arguments.length?(s=g?!0:_n,f()):s!==_n},p.interpolate=function(g){return arguments.length?(r=g,f()):r},p.unknown=function(g){return arguments.length?(a=g,p):a},function(g,b){return n=g,i=b,f()}}function UC(){return Rb()(_n,_n)}function w0e(t){return Math.abs(t=Math.round(t))>=1e21?t.toLocaleString("en").replace(/,/g,""):t.toString(10)}function Ny(t,e){if((r=(t=e?t.toExponential(e-1):t.toExponential()).indexOf("e"))<0)return null;var r,n=t.slice(0,r);return[n.length>1?n[0]+n.slice(2):n,+t.slice(r+1)]}function Td(t){return t=Ny(Math.abs(t)),t?t[1]:NaN}function _0e(t,e){return function(r,n){for(var i=r.length,a=[],s=0,o=t[0],c=0;i>0&&o>0&&(c+o+1>n&&(o=Math.max(1,n-c)),a.push(r.substring(i-=o,i+o)),!((c+=o+1)>n));)o=t[s=(s+1)%t.length];return a.reverse().join(e)}}function E0e(t){return function(e){return e.replace(/[0-9]/g,function(r){return t[+r]})}}var S0e=/^(?:(.)?([<>=^]))?([+\-( ])?([$#])?(0)?(\d+)?(,)?(\.\d+)?(~)?([a-z%])?$/i;function Ap(t){if(!(e=S0e.exec(t)))throw new Error("invalid format: "+t);var e;return new qC({fill:e[1],align:e[2],sign:e[3],symbol:e[4],zero:e[5],width:e[6],comma:e[7],precision:e[8]&&e[8].slice(1),trim:e[9],type:e[10]})}Ap.prototype=qC.prototype;function qC(t){this.fill=t.fill===void 0?" ":t.fill+"",this.align=t.align===void 0?">":t.align+"",this.sign=t.sign===void 0?"-":t.sign+"",this.symbol=t.symbol===void 0?"":t.symbol+"",this.zero=!!t.zero,this.width=t.width===void 0?void 0:+t.width,this.comma=!!t.comma,this.precision=t.precision===void 0?void 0:+t.precision,this.trim=!!t.trim,this.type=t.type===void 0?"":t.type+""}qC.prototype.toString=function(){return this.fill+this.align+this.sign+this.symbol+(this.zero?"0":"")+(this.width===void 0?"":Math.max(1,this.width|0))+(this.comma?",":"")+(this.precision===void 0?"":"."+Math.max(0,this.precision|0))+(this.trim?"~":"")+this.type};function T0e(t){e:for(var e=t.length,r=1,n=-1,i;r<e;++r)switch(t[r]){case".":n=i=r;break;case"0":n===0&&(n=r),i=r;break;default:if(!+t[r])break e;n>0&&(n=0);break}return n>0?t.slice(0,n)+t.slice(i+1):t}var sW;function A0e(t,e){var r=Ny(t,e);if(!r)return t+"";var n=r[0],i=r[1],a=i-(sW=Math.max(-8,Math.min(8,Math.floor(i/3)))*3)+1,s=n.length;return a===s?n:a>s?n+new Array(a-s+1).join("0"):a>0?n.slice(0,a)+"."+n.slice(a):"0."+new Array(1-a).join("0")+Ny(t,Math.max(0,e+a-1))[0]}function a6(t,e){var r=Ny(t,e);if(!r)return t+"";var n=r[0],i=r[1];return i<0?"0."+new Array(-i).join("0")+n:n.length>i+1?n.slice(0,i+1)+"."+n.slice(i+1):n+new Array(i-n.length+2).join("0")}const s6={"%":function(t,e){return(t*100).toFixed(e)},b:function(t){return Math.round(t).toString(2)},c:function(t){return t+""},d:w0e,e:function(t,e){return t.toExponential(e)},f:function(t,e){return t.toFixed(e)},g:function(t,e){return t.toPrecision(e)},o:function(t){return Math.round(t).toString(8)},p:function(t,e){return a6(t*100,e)},r:a6,s:A0e,X:function(t){return Math.round(t).toString(16).toUpperCase()},x:function(t){return Math.round(t).toString(16)}};function o6(t){return t}var l6=Array.prototype.map,c6=["y","z","a","f","p","n","","m","","k","M","G","T","P","E","Z","Y"];function k0e(t){var e=t.grouping===void 0||t.thousands===void 0?o6:_0e(l6.call(t.grouping,Number),t.thousands+""),r=t.currency===void 0?"":t.currency[0]+"",n=t.currency===void 0?"":t.currency[1]+"",i=t.decimal+"",a=t.numerals===void 0?o6:E0e(l6.call(t.numerals,String)),s=t.percent===void 0?"%":t.percent+"",o=t.minus+"",c=t.nan===void 0?"NaN":t.nan+"";function d(p){p=Ap(p);var g=p.fill,b=p.align,w=p.sign,_=p.symbol,x=p.zero,T=p.width,I=p.comma,P=p.precision,j=p.trim,O=p.type;O==="n"?(I=!0,O="g"):s6[O]||(P===void 0&&(P=12),j=!0,O="g"),(x||g==="0"&&b==="=")&&(x=!0,g="0",b="=");var V=_==="$"?r:_==="#"&&/[boxX]/.test(O)?"0"+O.toLowerCase():"",C=_==="$"?n:/[%p]/.test(O)?s:"",N=s6[O],M=/[defgprs%]/.test(O);P=P===void 0?6:/[gprs]/.test(O)?Math.max(1,Math.min(21,P)):Math.max(0,Math.min(20,P));function F(D){var U=V,$=C,G,ue,ce;if(O==="c")$=N(D)+$,D="";else{D=+D;var se=D<0||1/D<0;if(D=isNaN(D)?c:N(Math.abs(D),P),j&&(D=T0e(D)),se&&+D==0&&w!=="+"&&(se=!1),U=(se?w==="("?w:o:w==="-"||w==="("?"":w)+U,$=(O==="s"?c6[8+sW/3]:"")+$+(se&&w==="("?")":""),M){for(G=-1,ue=D.length;++G<ue;)if(ce=D.charCodeAt(G),48>ce||ce>57){$=(ce===46?i+D.slice(G+1):D.slice(G))+$,D=D.slice(0,G);break}}}I&&!x&&(D=e(D,1/0));var Q=U.length+D.length+$.length,X=Q<T?new Array(T-Q+1).join(g):"";switch(I&&x&&(D=e(X+D,X.length?T-$.length:1/0),X=""),b){case"<":D=U+D+$+X;break;case"=":D=U+X+D+$;break;case"^":D=X.slice(0,Q=X.length>>1)+U+D+$+X.slice(Q);break;default:D=X+U+D+$;break}return a(D)}return F.toString=function(){return p+""},F}function f(p,g){var b=d((p=Ap(p),p.type="f",p)),w=Math.max(-8,Math.min(8,Math.floor(Td(g)/3)))*3,_=Math.pow(10,-w),x=c6[8+w/3];return function(T){return b(_*T)+x}}return{format:d,formatPrefix:f}}var a0,Ob,oW;I0e({decimal:".",thousands:",",grouping:[3],currency:["$",""],minus:"-"});function I0e(t){return a0=k0e(t),Ob=a0.format,oW=a0.formatPrefix,a0}function P0e(t){return Math.max(0,-Td(Math.abs(t)))}function C0e(t,e){return Math.max(0,Math.max(-8,Math.min(8,Math.floor(Td(e)/3)))*3-Td(Math.abs(t)))}function N0e(t,e){return t=Math.abs(t),e=Math.abs(e)-t,Math.max(0,Td(e)-Td(t))+1}function lW(t,e,r,n){var i=Fk(t,e,r),a;switch(n=Ap(n??",f"),n.type){case"s":{var s=Math.max(Math.abs(t),Math.abs(e));return n.precision==null&&!isNaN(a=C0e(i,s))&&(n.precision=a),oW(n,s)}case"":case"e":case"g":case"p":case"r":{n.precision==null&&!isNaN(a=N0e(i,Math.max(Math.abs(t),Math.abs(e))))&&(n.precision=a-(n.type==="e"));break}case"f":case"%":{n.precision==null&&!isNaN(a=P0e(i))&&(n.precision=a-(n.type==="%")*2);break}}return Ob(n)}function bl(t){var e=t.domain;return t.ticks=function(r){var n=e();return Mk(n[0],n[n.length-1],r??10)},t.tickFormat=function(r,n){var i=e();return lW(i[0],i[i.length-1],r??10,n)},t.nice=function(r){r==null&&(r=10);var n=e(),i=0,a=n.length-1,s=n[i],o=n[a],c,d,f=10;for(o<s&&(d=s,s=o,o=d,d=i,i=a,a=d);f-- >0;){if(d=Lk(s,o,r),d===c)return n[i]=s,n[a]=o,e(n);if(d>0)s=Math.floor(s/d)*d,o=Math.ceil(o/d)*d;else if(d<0)s=Math.ceil(s*d)/d,o=Math.floor(o*d)/d;else break;c=d}return t},t}function cW(){var t=UC();return t.copy=function(){return dm(t,cW())},qi.apply(t,arguments),bl(t)}function uW(t){var e;function r(n){return n==null||isNaN(n=+n)?e:n}return r.invert=r,r.domain=r.range=function(n){return arguments.length?(t=Array.from(n,Cy),r):t.slice()},r.unknown=function(n){return arguments.length?(e=n,r):e},r.copy=function(){return uW(t).unknown(e)},t=arguments.length?Array.from(t,Cy):[0,1],bl(r)}function dW(t,e){t=t.slice();var r=0,n=t.length-1,i=t[r],a=t[n],s;return a<i&&(s=r,r=n,n=s,s=i,i=a,a=s),t[r]=e.floor(i),t[n]=e.ceil(a),t}function u6(t){return Math.log(t)}function d6(t){return Math.exp(t)}function R0e(t){return-Math.log(-t)}function O0e(t){return-Math.exp(-t)}function j0e(t){return isFinite(t)?+("1e"+t):t<0?0:t}function D0e(t){return t===10?j0e:t===Math.E?Math.exp:e=>Math.pow(t,e)}function M0e(t){return t===Math.E?Math.log:t===10&&Math.log10||t===2&&Math.log2||(t=Math.log(t),e=>Math.log(e)/t)}function f6(t){return(e,r)=>-t(-e,r)}function zC(t){const e=t(u6,d6),r=e.domain;let n=10,i,a;function s(){return i=M0e(n),a=D0e(n),r()[0]<0?(i=f6(i),a=f6(a),t(R0e,O0e)):t(u6,d6),e}return e.base=function(o){return arguments.length?(n=+o,s()):n},e.domain=function(o){return arguments.length?(r(o),s()):r()},e.ticks=o=>{const c=r();let d=c[0],f=c[c.length-1];const p=f<d;p&&([d,f]=[f,d]);let g=i(d),b=i(f),w,_;const x=o==null?10:+o;let T=[];if(!(n%1)&&b-g<x){if(g=Math.floor(g),b=Math.ceil(b),d>0){for(;g<=b;++g)for(w=1;w<n;++w)if(_=g<0?w/a(-g):w*a(g),!(_<d)){if(_>f)break;T.push(_)}}else for(;g<=b;++g)for(w=n-1;w>=1;--w)if(_=g>0?w/a(-g):w*a(g),!(_<d)){if(_>f)break;T.push(_)}T.length*2<x&&(T=Mk(d,f,x))}else T=Mk(g,b,Math.min(b-g,x)).map(a);return p?T.reverse():T},e.tickFormat=(o,c)=>{if(o==null&&(o=10),c==null&&(c=n===10?"s":","),typeof c!="function"&&(!(n%1)&&(c=Ap(c)).precision==null&&(c.trim=!0),c=Ob(c)),o===1/0)return c;const d=Math.max(1,n*o/e.ticks().length);return f=>{let p=f/a(Math.round(i(f)));return p*n<n-.5&&(p*=n),p<=d?c(f):""}},e.nice=()=>r(dW(r(),{floor:o=>a(Math.floor(i(o))),ceil:o=>a(Math.ceil(i(o)))})),e}function fW(){const t=zC(Rb()).domain([1,10]);return t.copy=()=>dm(t,fW()).base(t.base()),qi.apply(t,arguments),t}function h6(t){return function(e){return Math.sign(e)*Math.log1p(Math.abs(e/t))}}function p6(t){return function(e){return Math.sign(e)*Math.expm1(Math.abs(e))*t}}function BC(t){var e=1,r=t(h6(e),p6(e));return r.constant=function(n){return arguments.length?t(h6(e=+n),p6(e)):e},bl(r)}function hW(){var t=BC(Rb());return t.copy=function(){return dm(t,hW()).constant(t.constant())},qi.apply(t,arguments)}function m6(t){return function(e){return e<0?-Math.pow(-e,t):Math.pow(e,t)}}function L0e(t){return t<0?-Math.sqrt(-t):Math.sqrt(t)}function F0e(t){return t<0?-t*t:t*t}function WC(t){var e=t(_n,_n),r=1;function n(){return r===1?t(_n,_n):r===.5?t(L0e,F0e):t(m6(r),m6(1/r))}return e.exponent=function(i){return arguments.length?(r=+i,n()):r},bl(e)}function HC(){var t=WC(Rb());return t.copy=function(){return dm(t,HC()).exponent(t.exponent())},qi.apply(t,arguments),t}function $0e(){return HC.apply(null,arguments).exponent(.5)}function g6(t){return Math.sign(t)*t*t}function V0e(t){return Math.sign(t)*Math.sqrt(Math.abs(t))}function pW(){var t=UC(),e=[0,1],r=!1,n;function i(a){var s=V0e(t(a));return isNaN(s)?n:r?Math.round(s):s}return i.invert=function(a){return t.invert(g6(a))},i.domain=function(a){return arguments.length?(t.domain(a),i):t.domain()},i.range=function(a){return arguments.length?(t.range((e=Array.from(a,Cy)).map(g6)),i):e.slice()},i.rangeRound=function(a){return i.range(a).round(!0)},i.round=function(a){return arguments.length?(r=!!a,i):r},i.clamp=function(a){return arguments.length?(t.clamp(a),i):t.clamp()},i.unknown=function(a){return arguments.length?(n=a,i):n},i.copy=function(){return pW(t.domain(),e).round(r).clamp(t.clamp()).unknown(n)},qi.apply(i,arguments),bl(i)}function mW(){var t=[],e=[],r=[],n;function i(){var s=0,o=Math.max(1,e.length);for(r=new Array(o-1);++s<o;)r[s-1]=p0e(t,s/o);return a}function a(s){return s==null||isNaN(s=+s)?n:e[um(r,s)]}return a.invertExtent=function(s){var o=e.indexOf(s);return o<0?[NaN,NaN]:[o>0?r[o-1]:t[0],o<r.length?r[o]:t[t.length-1]]},a.domain=function(s){if(!arguments.length)return t.slice();t=[];for(let o of s)o!=null&&!isNaN(o=+o)&&t.push(o);return t.sort(rl),i()},a.range=function(s){return arguments.length?(e=Array.from(s),i()):e.slice()},a.unknown=function(s){return arguments.length?(n=s,a):n},a.quantiles=function(){return r.slice()},a.copy=function(){return mW().domain(t).range(e).unknown(n)},qi.apply(a,arguments)}function gW(){var t=0,e=1,r=1,n=[.5],i=[0,1],a;function s(c){return c!=null&&c<=c?i[um(n,c,0,r)]:a}function o(){var c=-1;for(n=new Array(r);++c<r;)n[c]=((c+1)*e-(c-r)*t)/(r+1);return s}return s.domain=function(c){return arguments.length?([t,e]=c,t=+t,e=+e,o()):[t,e]},s.range=function(c){return arguments.length?(r=(i=Array.from(c)).length-1,o()):i.slice()},s.invertExtent=function(c){var d=i.indexOf(c);return d<0?[NaN,NaN]:d<1?[t,n[0]]:d>=r?[n[r-1],e]:[n[d-1],n[d]]},s.unknown=function(c){return arguments.length&&(a=c),s},s.thresholds=function(){return n.slice()},s.copy=function(){return gW().domain([t,e]).range(i).unknown(a)},qi.apply(bl(s),arguments)}function yW(){var t=[.5],e=[0,1],r,n=1;function i(a){return a!=null&&a<=a?e[um(t,a,0,n)]:r}return i.domain=function(a){return arguments.length?(t=Array.from(a),n=Math.min(t.length,e.length-1),i):t.slice()},i.range=function(a){return arguments.length?(e=Array.from(a),n=Math.min(t.length,e.length-1),i):e.slice()},i.invertExtent=function(a){var s=e.indexOf(a);return[t[s-1],t[s]]},i.unknown=function(a){return arguments.length?(r=a,i):r},i.copy=function(){return yW().domain(t).range(e).unknown(r)},qi.apply(i,arguments)}const xE=new Date,wE=new Date;function Tr(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=a=>(t(a=new Date(+a)),a),i.ceil=a=>(t(a=new Date(a-1)),e(a,1),t(a),a),i.round=a=>{const s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=(a,s)=>(e(a=new Date(+a),s==null?1:Math.floor(s)),a),i.range=(a,s,o)=>{const c=[];if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return c;let d;do c.push(d=new Date(+a)),e(a,o),t(a);while(d<a&&a<s);return c},i.filter=a=>Tr(s=>{if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},(s,o)=>{if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););}),r&&(i.count=(a,s)=>(xE.setTime(+a),wE.setTime(+s),t(xE),t(wE),Math.floor(r(xE,wE))),i.every=a=>(a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?s=>n(s)%a===0:s=>i.count(0,s)%a===0):i)),i}const Ry=Tr(()=>{},(t,e)=>{t.setTime(+t+e)},(t,e)=>e-t);Ry.every=t=>(t=Math.floor(t),!isFinite(t)||!(t>0)?null:t>1?Tr(e=>{e.setTime(Math.floor(e/t)*t)},(e,r)=>{e.setTime(+e+r*t)},(e,r)=>(r-e)/t):Ry);Ry.range;const Fs=1e3,Ri=Fs*60,$s=Ri*60,Qs=$s*24,GC=Qs*7,y6=Qs*30,_E=Qs*365,cc=Tr(t=>{t.setTime(t-t.getMilliseconds())},(t,e)=>{t.setTime(+t+e*Fs)},(t,e)=>(e-t)/Fs,t=>t.getUTCSeconds());cc.range;const KC=Tr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fs)},(t,e)=>{t.setTime(+t+e*Ri)},(t,e)=>(e-t)/Ri,t=>t.getMinutes());KC.range;const YC=Tr(t=>{t.setUTCSeconds(0,0)},(t,e)=>{t.setTime(+t+e*Ri)},(t,e)=>(e-t)/Ri,t=>t.getUTCMinutes());YC.range;const XC=Tr(t=>{t.setTime(t-t.getMilliseconds()-t.getSeconds()*Fs-t.getMinutes()*Ri)},(t,e)=>{t.setTime(+t+e*$s)},(t,e)=>(e-t)/$s,t=>t.getHours());XC.range;const QC=Tr(t=>{t.setUTCMinutes(0,0,0)},(t,e)=>{t.setTime(+t+e*$s)},(t,e)=>(e-t)/$s,t=>t.getUTCHours());QC.range;const JC=Tr(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*Ri)/Qs,t=>t.getDate()-1);JC.range;const vW=Tr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qs,t=>t.getUTCDate()-1);vW.range;const bW=Tr(t=>{t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCDate(t.getUTCDate()+e)},(t,e)=>(e-t)/Qs,t=>Math.floor(t/Qs));bW.range;function Qc(t){return Tr(e=>{e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},(e,r)=>{e.setDate(e.getDate()+r*7)},(e,r)=>(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*Ri)/GC)}const ZC=Qc(0),U0e=Qc(1),q0e=Qc(2),z0e=Qc(3),B0e=Qc(4),W0e=Qc(5),H0e=Qc(6);ZC.range;U0e.range;q0e.range;z0e.range;B0e.range;W0e.range;H0e.range;function Jc(t){return Tr(e=>{e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCDate(e.getUTCDate()+r*7)},(e,r)=>(r-e)/GC)}const eN=Jc(0),G0e=Jc(1),K0e=Jc(2),Y0e=Jc(3),X0e=Jc(4),Q0e=Jc(5),J0e=Jc(6);eN.range;G0e.range;K0e.range;Y0e.range;X0e.range;Q0e.range;J0e.range;const tN=Tr(t=>{t.setDate(1),t.setHours(0,0,0,0)},(t,e)=>{t.setMonth(t.getMonth()+e)},(t,e)=>e.getMonth()-t.getMonth()+(e.getFullYear()-t.getFullYear())*12,t=>t.getMonth());tN.range;const rN=Tr(t=>{t.setUTCDate(1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCMonth(t.getUTCMonth()+e)},(t,e)=>e.getUTCMonth()-t.getUTCMonth()+(e.getUTCFullYear()-t.getUTCFullYear())*12,t=>t.getUTCMonth());rN.range;const jb=Tr(t=>{t.setMonth(0,1),t.setHours(0,0,0,0)},(t,e)=>{t.setFullYear(t.getFullYear()+e)},(t,e)=>e.getFullYear()-t.getFullYear(),t=>t.getFullYear());jb.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tr(e=>{e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},(e,r)=>{e.setFullYear(e.getFullYear()+r*t)});jb.range;const Db=Tr(t=>{t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},(t,e)=>{t.setUTCFullYear(t.getUTCFullYear()+e)},(t,e)=>e.getUTCFullYear()-t.getUTCFullYear(),t=>t.getUTCFullYear());Db.every=t=>!isFinite(t=Math.floor(t))||!(t>0)?null:Tr(e=>{e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},(e,r)=>{e.setUTCFullYear(e.getUTCFullYear()+r*t)});Db.range;function xW(t,e,r,n,i,a){const s=[[cc,1,Fs],[cc,5,5*Fs],[cc,15,15*Fs],[cc,30,30*Fs],[a,1,Ri],[a,5,5*Ri],[a,15,15*Ri],[a,30,30*Ri],[i,1,$s],[i,3,3*$s],[i,6,6*$s],[i,12,12*$s],[n,1,Qs],[n,2,2*Qs],[r,1,GC],[e,1,y6],[e,3,3*y6],[t,1,_E]];function o(d,f,p){const g=f<d;g&&([d,f]=[f,d]);const b=p&&typeof p.range=="function"?p:c(d,f,p),w=b?b.range(d,+f+1):[];return g?w.reverse():w}function c(d,f,p){const g=Math.abs(f-d)/p,b=$C(([,,x])=>x).right(s,g);if(b===s.length)return t.every(Fk(d/_E,f/_E,p));if(b===0)return Ry.every(Math.max(Fk(d,f,p),1));const[w,_]=s[g/s[b-1][2]<s[b][2]/g?b-1:b];return w.every(_)}return[o,c]}const[Z0e,eye]=xW(Db,rN,eN,bW,QC,YC),[tye,rye]=xW(jb,tN,ZC,JC,XC,KC);var EE=new Date,SE=new Date;function ao(t,e,r,n){function i(a){return t(a=arguments.length===0?new Date:new Date(+a)),a}return i.floor=function(a){return t(a=new Date(+a)),a},i.ceil=function(a){return t(a=new Date(a-1)),e(a,1),t(a),a},i.round=function(a){var s=i(a),o=i.ceil(a);return a-s<o-a?s:o},i.offset=function(a,s){return e(a=new Date(+a),s==null?1:Math.floor(s)),a},i.range=function(a,s,o){var c=[],d;if(a=i.ceil(a),o=o==null?1:Math.floor(o),!(a<s)||!(o>0))return c;do c.push(d=new Date(+a)),e(a,o),t(a);while(d<a&&a<s);return c},i.filter=function(a){return ao(function(s){if(s>=s)for(;t(s),!a(s);)s.setTime(s-1)},function(s,o){if(s>=s)if(o<0)for(;++o<=0;)for(;e(s,-1),!a(s););else for(;--o>=0;)for(;e(s,1),!a(s););})},r&&(i.count=function(a,s){return EE.setTime(+a),SE.setTime(+s),t(EE),t(SE),Math.floor(r(EE,SE))},i.every=function(a){return a=Math.floor(a),!isFinite(a)||!(a>0)?null:a>1?i.filter(n?function(s){return n(s)%a===0}:function(s){return i.count(0,s)%a===0}):i}),i}const nye=1e3,nN=nye*60,iye=nN*60,iN=iye*24,wW=iN*7;var aN=ao(t=>t.setHours(0,0,0,0),(t,e)=>t.setDate(t.getDate()+e),(t,e)=>(e-t-(e.getTimezoneOffset()-t.getTimezoneOffset())*nN)/iN,t=>t.getDate()-1);aN.range;function Zc(t){return ao(function(e){e.setDate(e.getDate()-(e.getDay()+7-t)%7),e.setHours(0,0,0,0)},function(e,r){e.setDate(e.getDate()+r*7)},function(e,r){return(r-e-(r.getTimezoneOffset()-e.getTimezoneOffset())*nN)/wW})}var _W=Zc(0),Oy=Zc(1),aye=Zc(2),sye=Zc(3),Ad=Zc(4),oye=Zc(5),lye=Zc(6);_W.range;Oy.range;aye.range;sye.range;Ad.range;oye.range;lye.range;var Rc=ao(function(t){t.setMonth(0,1),t.setHours(0,0,0,0)},function(t,e){t.setFullYear(t.getFullYear()+e)},function(t,e){return e.getFullYear()-t.getFullYear()},function(t){return t.getFullYear()});Rc.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:ao(function(e){e.setFullYear(Math.floor(e.getFullYear()/t)*t),e.setMonth(0,1),e.setHours(0,0,0,0)},function(e,r){e.setFullYear(e.getFullYear()+r*t)})};Rc.range;var sN=ao(function(t){t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCDate(t.getUTCDate()+e)},function(t,e){return(e-t)/iN},function(t){return t.getUTCDate()-1});sN.range;function eu(t){return ao(function(e){e.setUTCDate(e.getUTCDate()-(e.getUTCDay()+7-t)%7),e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCDate(e.getUTCDate()+r*7)},function(e,r){return(r-e)/wW})}var EW=eu(0),jy=eu(1),cye=eu(2),uye=eu(3),kd=eu(4),dye=eu(5),fye=eu(6);EW.range;jy.range;cye.range;uye.range;kd.range;dye.range;fye.range;var Oc=ao(function(t){t.setUTCMonth(0,1),t.setUTCHours(0,0,0,0)},function(t,e){t.setUTCFullYear(t.getUTCFullYear()+e)},function(t,e){return e.getUTCFullYear()-t.getUTCFullYear()},function(t){return t.getUTCFullYear()});Oc.every=function(t){return!isFinite(t=Math.floor(t))||!(t>0)?null:ao(function(e){e.setUTCFullYear(Math.floor(e.getUTCFullYear()/t)*t),e.setUTCMonth(0,1),e.setUTCHours(0,0,0,0)},function(e,r){e.setUTCFullYear(e.getUTCFullYear()+r*t)})};Oc.range;function TE(t){if(0<=t.y&&t.y<100){var e=new Date(-1,t.m,t.d,t.H,t.M,t.S,t.L);return e.setFullYear(t.y),e}return new Date(t.y,t.m,t.d,t.H,t.M,t.S,t.L)}function AE(t){if(0<=t.y&&t.y<100){var e=new Date(Date.UTC(-1,t.m,t.d,t.H,t.M,t.S,t.L));return e.setUTCFullYear(t.y),e}return new Date(Date.UTC(t.y,t.m,t.d,t.H,t.M,t.S,t.L))}function dh(t,e,r){return{y:t,m:e,d:r,H:0,M:0,S:0,L:0}}function hye(t){var e=t.dateTime,r=t.date,n=t.time,i=t.periods,a=t.days,s=t.shortDays,o=t.months,c=t.shortMonths,d=fh(i),f=hh(i),p=fh(a),g=hh(a),b=fh(s),w=hh(s),_=fh(o),x=hh(o),T=fh(c),I=hh(c),P={a:se,A:Q,b:X,B:ie,c:null,d:E6,e:E6,f:Mye,g:Hye,G:Kye,H:Oye,I:jye,j:Dye,L:SW,m:Lye,M:Fye,p:B,q:Z,Q:A6,s:k6,S:$ye,u:Vye,U:Uye,V:qye,w:zye,W:Bye,x:null,X:null,y:Wye,Y:Gye,Z:Yye,"%":T6},j={a:_e,A:oe,b:xe,B:Ee,c:null,d:S6,e:S6,f:Zye,g:cve,G:dve,H:Xye,I:Qye,j:Jye,L:AW,m:eve,M:tve,p:Se,q:De,Q:A6,s:k6,S:rve,u:nve,U:ive,V:ave,w:sve,W:ove,x:null,X:null,y:lve,Y:uve,Z:fve,"%":T6},O={a:F,A:D,b:U,B:$,c:G,d:w6,e:w6,f:Pye,g:x6,G:b6,H:_6,I:_6,j:Tye,L:Iye,m:Sye,M:Aye,p:M,q:Eye,Q:Nye,s:Rye,S:kye,u:vye,U:bye,V:xye,w:yye,W:wye,x:ue,X:ce,y:x6,Y:b6,Z:_ye,"%":Cye};P.x=V(r,P),P.X=V(n,P),P.c=V(e,P),j.x=V(r,j),j.X=V(n,j),j.c=V(e,j);function V(re,Ae){return function(He){var fe=[],ft=-1,Ye=0,Me=re.length,ht,Be,rr;for(He instanceof Date||(He=new Date(+He));++ft<Me;)re.charCodeAt(ft)===37&&(fe.push(re.slice(Ye,ft)),(Be=v6[ht=re.charAt(++ft)])!=null?ht=re.charAt(++ft):Be=ht==="e"?" ":"0",(rr=Ae[ht])&&(ht=rr(He,Be)),fe.push(ht),Ye=ft+1);return fe.push(re.slice(Ye,ft)),fe.join("")}}function C(re,Ae){return function(He){var fe=dh(1900,void 0,1),ft=N(fe,re,He+="",0),Ye,Me;if(ft!=He.length)return null;if("Q"in fe)return new Date(fe.Q);if("s"in fe)return new Date(fe.s*1e3+("L"in fe?fe.L:0));if(Ae&&!("Z"in fe)&&(fe.Z=0),"p"in fe&&(fe.H=fe.H%12+fe.p*12),fe.m===void 0&&(fe.m="q"in fe?fe.q:0),"V"in fe){if(fe.V<1||fe.V>53)return null;"w"in fe||(fe.w=1),"Z"in fe?(Ye=AE(dh(fe.y,0,1)),Me=Ye.getUTCDay(),Ye=Me>4||Me===0?jy.ceil(Ye):jy(Ye),Ye=sN.offset(Ye,(fe.V-1)*7),fe.y=Ye.getUTCFullYear(),fe.m=Ye.getUTCMonth(),fe.d=Ye.getUTCDate()+(fe.w+6)%7):(Ye=TE(dh(fe.y,0,1)),Me=Ye.getDay(),Ye=Me>4||Me===0?Oy.ceil(Ye):Oy(Ye),Ye=aN.offset(Ye,(fe.V-1)*7),fe.y=Ye.getFullYear(),fe.m=Ye.getMonth(),fe.d=Ye.getDate()+(fe.w+6)%7)}else("W"in fe||"U"in fe)&&("w"in fe||(fe.w="u"in fe?fe.u%7:"W"in fe?1:0),Me="Z"in fe?AE(dh(fe.y,0,1)).getUTCDay():TE(dh(fe.y,0,1)).getDay(),fe.m=0,fe.d="W"in fe?(fe.w+6)%7+fe.W*7-(Me+5)%7:fe.w+fe.U*7-(Me+6)%7);return"Z"in fe?(fe.H+=fe.Z/100|0,fe.M+=fe.Z%100,AE(fe)):TE(fe)}}function N(re,Ae,He,fe){for(var ft=0,Ye=Ae.length,Me=He.length,ht,Be;ft<Ye;){if(fe>=Me)return-1;if(ht=Ae.charCodeAt(ft++),ht===37){if(ht=Ae.charAt(ft++),Be=O[ht in v6?Ae.charAt(ft++):ht],!Be||(fe=Be(re,He,fe))<0)return-1}else if(ht!=He.charCodeAt(fe++))return-1}return fe}function M(re,Ae,He){var fe=d.exec(Ae.slice(He));return fe?(re.p=f.get(fe[0].toLowerCase()),He+fe[0].length):-1}function F(re,Ae,He){var fe=b.exec(Ae.slice(He));return fe?(re.w=w.get(fe[0].toLowerCase()),He+fe[0].length):-1}function D(re,Ae,He){var fe=p.exec(Ae.slice(He));return fe?(re.w=g.get(fe[0].toLowerCase()),He+fe[0].length):-1}function U(re,Ae,He){var fe=T.exec(Ae.slice(He));return fe?(re.m=I.get(fe[0].toLowerCase()),He+fe[0].length):-1}function $(re,Ae,He){var fe=_.exec(Ae.slice(He));return fe?(re.m=x.get(fe[0].toLowerCase()),He+fe[0].length):-1}function G(re,Ae,He){return N(re,e,Ae,He)}function ue(re,Ae,He){return N(re,r,Ae,He)}function ce(re,Ae,He){return N(re,n,Ae,He)}function se(re){return s[re.getDay()]}function Q(re){return a[re.getDay()]}function X(re){return c[re.getMonth()]}function ie(re){return o[re.getMonth()]}function B(re){return i[+(re.getHours()>=12)]}function Z(re){return 1+~~(re.getMonth()/3)}function _e(re){return s[re.getUTCDay()]}function oe(re){return a[re.getUTCDay()]}function xe(re){return c[re.getUTCMonth()]}function Ee(re){return o[re.getUTCMonth()]}function Se(re){return i[+(re.getUTCHours()>=12)]}function De(re){return 1+~~(re.getUTCMonth()/3)}return{format:function(re){var Ae=V(re+="",P);return Ae.toString=function(){return re},Ae},parse:function(re){var Ae=C(re+="",!1);return Ae.toString=function(){return re},Ae},utcFormat:function(re){var Ae=V(re+="",j);return Ae.toString=function(){return re},Ae},utcParse:function(re){var Ae=C(re+="",!0);return Ae.toString=function(){return re},Ae}}}var v6={"-":"",_:" ",0:"0"},Mr=/^\s*\d+/,pye=/^%/,mye=/[\\^$*+?|[\]().{}]/g;function yt(t,e,r){var n=t<0?"-":"",i=(n?-t:t)+"",a=i.length;return n+(a<r?new Array(r-a+1).join(e)+i:i)}function gye(t){return t.replace(mye,"\\$&")}function fh(t){return new RegExp("^(?:"+t.map(gye).join("|")+")","i")}function hh(t){return new Map(t.map((e,r)=>[e.toLowerCase(),r]))}function yye(t,e,r){var n=Mr.exec(e.slice(r,r+1));return n?(t.w=+n[0],r+n[0].length):-1}function vye(t,e,r){var n=Mr.exec(e.slice(r,r+1));return n?(t.u=+n[0],r+n[0].length):-1}function bye(t,e,r){var n=Mr.exec(e.slice(r,r+2));return n?(t.U=+n[0],r+n[0].length):-1}function xye(t,e,r){var n=Mr.exec(e.slice(r,r+2));return n?(t.V=+n[0],r+n[0].length):-1}function wye(t,e,r){var n=Mr.exec(e.slice(r,r+2));return n?(t.W=+n[0],r+n[0].length):-1}function b6(t,e,r){var n=Mr.exec(e.slice(r,r+4));return n?(t.y=+n[0],r+n[0].length):-1}function x6(t,e,r){var n=Mr.exec(e.slice(r,r+2));return n?(t.y=+n[0]+(+n[0]>68?1900:2e3),r+n[0].length):-1}function _ye(t,e,r){var n=/^(Z)|([+-]\d\d)(?::?(\d\d))?/.exec(e.slice(r,r+6));return n?(t.Z=n[1]?0:-(n[2]+(n[3]||"00")),r+n[0].length):-1}function Eye(t,e,r){var n=Mr.exec(e.slice(r,r+1));return n?(t.q=n[0]*3-3,r+n[0].length):-1}function Sye(t,e,r){var n=Mr.exec(e.slice(r,r+2));return n?(t.m=n[0]-1,r+n[0].length):-1}function w6(t,e,r){var n=Mr.exec(e.slice(r,r+2));return n?(t.d=+n[0],r+n[0].length):-1}function Tye(t,e,r){var n=Mr.exec(e.slice(r,r+3));return n?(t.m=0,t.d=+n[0],r+n[0].length):-1}function _6(t,e,r){var n=Mr.exec(e.slice(r,r+2));return n?(t.H=+n[0],r+n[0].length):-1}function Aye(t,e,r){var n=Mr.exec(e.slice(r,r+2));return n?(t.M=+n[0],r+n[0].length):-1}function kye(t,e,r){var n=Mr.exec(e.slice(r,r+2));return n?(t.S=+n[0],r+n[0].length):-1}function Iye(t,e,r){var n=Mr.exec(e.slice(r,r+3));return n?(t.L=+n[0],r+n[0].length):-1}function Pye(t,e,r){var n=Mr.exec(e.slice(r,r+6));return n?(t.L=Math.floor(n[0]/1e3),r+n[0].length):-1}function Cye(t,e,r){var n=pye.exec(e.slice(r,r+1));return n?r+n[0].length:-1}function Nye(t,e,r){var n=Mr.exec(e.slice(r));return n?(t.Q=+n[0],r+n[0].length):-1}function Rye(t,e,r){var n=Mr.exec(e.slice(r));return n?(t.s=+n[0],r+n[0].length):-1}function E6(t,e){return yt(t.getDate(),e,2)}function Oye(t,e){return yt(t.getHours(),e,2)}function jye(t,e){return yt(t.getHours()%12||12,e,2)}function Dye(t,e){return yt(1+aN.count(Rc(t),t),e,3)}function SW(t,e){return yt(t.getMilliseconds(),e,3)}function Mye(t,e){return SW(t,e)+"000"}function Lye(t,e){return yt(t.getMonth()+1,e,2)}function Fye(t,e){return yt(t.getMinutes(),e,2)}function $ye(t,e){return yt(t.getSeconds(),e,2)}function Vye(t){var e=t.getDay();return e===0?7:e}function Uye(t,e){return yt(_W.count(Rc(t)-1,t),e,2)}function TW(t){var e=t.getDay();return e>=4||e===0?Ad(t):Ad.ceil(t)}function qye(t,e){return t=TW(t),yt(Ad.count(Rc(t),t)+(Rc(t).getDay()===4),e,2)}function zye(t){return t.getDay()}function Bye(t,e){return yt(Oy.count(Rc(t)-1,t),e,2)}function Wye(t,e){return yt(t.getFullYear()%100,e,2)}function Hye(t,e){return t=TW(t),yt(t.getFullYear()%100,e,2)}function Gye(t,e){return yt(t.getFullYear()%1e4,e,4)}function Kye(t,e){var r=t.getDay();return t=r>=4||r===0?Ad(t):Ad.ceil(t),yt(t.getFullYear()%1e4,e,4)}function Yye(t){var e=t.getTimezoneOffset();return(e>0?"-":(e*=-1,"+"))+yt(e/60|0,"0",2)+yt(e%60,"0",2)}function S6(t,e){return yt(t.getUTCDate(),e,2)}function Xye(t,e){return yt(t.getUTCHours(),e,2)}function Qye(t,e){return yt(t.getUTCHours()%12||12,e,2)}function Jye(t,e){return yt(1+sN.count(Oc(t),t),e,3)}function AW(t,e){return yt(t.getUTCMilliseconds(),e,3)}function Zye(t,e){return AW(t,e)+"000"}function eve(t,e){return yt(t.getUTCMonth()+1,e,2)}function tve(t,e){return yt(t.getUTCMinutes(),e,2)}function rve(t,e){return yt(t.getUTCSeconds(),e,2)}function nve(t){var e=t.getUTCDay();return e===0?7:e}function ive(t,e){return yt(EW.count(Oc(t)-1,t),e,2)}function kW(t){var e=t.getUTCDay();return e>=4||e===0?kd(t):kd.ceil(t)}function ave(t,e){return t=kW(t),yt(kd.count(Oc(t),t)+(Oc(t).getUTCDay()===4),e,2)}function sve(t){return t.getUTCDay()}function ove(t,e){return yt(jy.count(Oc(t)-1,t),e,2)}function lve(t,e){return yt(t.getUTCFullYear()%100,e,2)}function cve(t,e){return t=kW(t),yt(t.getUTCFullYear()%100,e,2)}function uve(t,e){return yt(t.getUTCFullYear()%1e4,e,4)}function dve(t,e){var r=t.getUTCDay();return t=r>=4||r===0?kd(t):kd.ceil(t),yt(t.getUTCFullYear()%1e4,e,4)}function fve(){return"+0000"}function T6(){return"%"}function A6(t){return+t}function k6(t){return Math.floor(+t/1e3)}var Lu,oN,IW;hve({dateTime:"%x, %X",date:"%-m/%-d/%Y",time:"%-I:%M:%S %p",periods:["AM","PM"],days:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],shortDays:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],months:["January","February","March","April","May","June","July","August","September","October","November","December"],shortMonths:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"]});function hve(t){return Lu=hye(t),oN=Lu.format,Lu.parse,IW=Lu.utcFormat,Lu.utcParse,Lu}function pve(t){return new Date(t)}function mve(t){return t instanceof Date?+t:+new Date(+t)}function lN(t,e,r,n,i,a,s,o,c,d){var f=UC(),p=f.invert,g=f.domain,b=d(".%L"),w=d(":%S"),_=d("%I:%M"),x=d("%I %p"),T=d("%a %d"),I=d("%b %d"),P=d("%B"),j=d("%Y");function O(V){return(c(V)<V?b:o(V)<V?w:s(V)<V?_:a(V)<V?x:n(V)<V?i(V)<V?T:I:r(V)<V?P:j)(V)}return f.invert=function(V){return new Date(p(V))},f.domain=function(V){return arguments.length?g(Array.from(V,mve)):g().map(pve)},f.ticks=function(V){var C=g();return t(C[0],C[C.length-1],V??10)},f.tickFormat=function(V,C){return C==null?O:d(C)},f.nice=function(V){var C=g();return(!V||typeof V.range!="function")&&(V=e(C[0],C[C.length-1],V??10)),V?g(dW(C,V)):f},f.copy=function(){return dm(f,lN(t,e,r,n,i,a,s,o,c,d))},f}function gve(){return qi.apply(lN(tye,rye,jb,tN,ZC,JC,XC,KC,cc,oN).domain([new Date(2e3,0,1),new Date(2e3,0,2)]),arguments)}function yve(){return qi.apply(lN(Z0e,eye,Db,rN,eN,vW,QC,YC,cc,IW).domain([Date.UTC(2e3,0,1),Date.UTC(2e3,0,2)]),arguments)}function Mb(){var t=0,e=1,r,n,i,a,s=_n,o=!1,c;function d(p){return p==null||isNaN(p=+p)?c:s(i===0?.5:(p=(a(p)-r)*i,o?Math.max(0,Math.min(1,p)):p))}d.domain=function(p){return arguments.length?([t,e]=p,r=a(t=+t),n=a(e=+e),i=r===n?0:1/(n-r),d):[t,e]},d.clamp=function(p){return arguments.length?(o=!!p,d):o},d.interpolator=function(p){return arguments.length?(s=p,d):s};function f(p){return function(g){var b,w;return arguments.length?([b,w]=g,s=p(b,w),d):[s(0),s(1)]}}return d.range=f(rf),d.rangeRound=f(LC),d.unknown=function(p){return arguments.length?(c=p,d):c},function(p){return a=p,r=p(t),n=p(e),i=r===n?0:1/(n-r),d}}function xl(t,e){return e.domain(t.domain()).interpolator(t.interpolator()).clamp(t.clamp()).unknown(t.unknown())}function PW(){var t=bl(Mb()(_n));return t.copy=function(){return xl(t,PW())},io.apply(t,arguments)}function CW(){var t=zC(Mb()).domain([1,10]);return t.copy=function(){return xl(t,CW()).base(t.base())},io.apply(t,arguments)}function NW(){var t=BC(Mb());return t.copy=function(){return xl(t,NW()).constant(t.constant())},io.apply(t,arguments)}function cN(){var t=WC(Mb());return t.copy=function(){return xl(t,cN()).exponent(t.exponent())},io.apply(t,arguments)}function vve(){return cN.apply(null,arguments).exponent(.5)}function RW(){var t=[],e=_n;function r(n){if(n!=null&&!isNaN(n=+n))return e((um(t,n,1)-1)/(t.length-1))}return r.domain=function(n){if(!arguments.length)return t.slice();t=[];for(let i of n)i!=null&&!isNaN(i=+i)&&t.push(i);return t.sort(rl),r},r.interpolator=function(n){return arguments.length?(e=n,r):e},r.range=function(){return t.map((n,i)=>e(i/(t.length-1)))},r.quantiles=function(n){return Array.from({length:n+1},(i,a)=>h0e(t,a/n))},r.copy=function(){return RW(e).domain(t)},io.apply(r,arguments)}function Lb(){var t=0,e=.5,r=1,n=1,i,a,s,o,c,d=_n,f,p=!1,g;function b(_){return isNaN(_=+_)?g:(_=.5+((_=+f(_))-a)*(n*_<n*a?o:c),d(p?Math.max(0,Math.min(1,_)):_))}b.domain=function(_){return arguments.length?([t,e,r]=_,i=f(t=+t),a=f(e=+e),s=f(r=+r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,b):[t,e,r]},b.clamp=function(_){return arguments.length?(p=!!_,b):p},b.interpolator=function(_){return arguments.length?(d=_,b):d};function w(_){return function(x){var T,I,P;return arguments.length?([T,I,P]=x,d=Qge(_,[T,I,P]),b):[d(0),d(.5),d(1)]}}return b.range=w(rf),b.rangeRound=w(LC),b.unknown=function(_){return arguments.length?(g=_,b):g},function(_){return f=_,i=_(t),a=_(e),s=_(r),o=i===a?0:.5/(a-i),c=a===s?0:.5/(s-a),n=a<i?-1:1,b}}function OW(){var t=bl(Lb()(_n));return t.copy=function(){return xl(t,OW())},io.apply(t,arguments)}function jW(){var t=zC(Lb()).domain([.1,1,10]);return t.copy=function(){return xl(t,jW()).base(t.base())},io.apply(t,arguments)}function DW(){var t=BC(Lb());return t.copy=function(){return xl(t,DW()).constant(t.constant())},io.apply(t,arguments)}function uN(){var t=WC(Lb());return t.copy=function(){return xl(t,uN()).exponent(t.exponent())},io.apply(t,arguments)}function bve(){return uN.apply(null,arguments).exponent(.5)}function rt(t){for(var e=t.length/6|0,r=new Array(e),n=0;n<e;)r[n]="#"+t.slice(n*6,++n*6);return r}const xve=rt("1f77b4ff7f0e2ca02cd627289467bd8c564be377c27f7f7fbcbd2217becf"),wve=rt("7fc97fbeaed4fdc086ffff99386cb0f0027fbf5b17666666"),_ve=rt("1b9e77d95f027570b3e7298a66a61ee6ab02a6761d666666"),Eve=rt("a6cee31f78b4b2df8a33a02cfb9a99e31a1cfdbf6fff7f00cab2d66a3d9affff99b15928"),Sve=rt("fbb4aeb3cde3ccebc5decbe4fed9a6ffffcce5d8bdfddaecf2f2f2"),Tve=rt("b3e2cdfdcdaccbd5e8f4cae4e6f5c9fff2aef1e2cccccccc"),Ave=rt("e41a1c377eb84daf4a984ea3ff7f00ffff33a65628f781bf999999"),kve=rt("66c2a5fc8d628da0cbe78ac3a6d854ffd92fe5c494b3b3b3"),MW=rt("8dd3c7ffffb3bebadafb807280b1d3fdb462b3de69fccde5d9d9d9bc80bdccebc5ffed6f"),Ive=rt("4e79a7f28e2ce1575976b7b259a14fedc949af7aa1ff9da79c755fbab0ab"),It=t=>qge(t[t.length-1]);var Fb=new Array(3).concat("d8b365f5f5f55ab4ac","a6611adfc27d80cdc1018571","a6611adfc27df5f5f580cdc1018571","8c510ad8b365f6e8c3c7eae55ab4ac01665e","8c510ad8b365f6e8c3f5f5f5c7eae55ab4ac01665e","8c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e","8c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e","5430058c510abf812ddfc27df6e8c3c7eae580cdc135978f01665e003c30","5430058c510abf812ddfc27df6e8c3f5f5f5c7eae580cdc135978f01665e003c30").map(rt);const Pve=It(Fb);var $b=new Array(3).concat("af8dc3f7f7f77fbf7b","7b3294c2a5cfa6dba0008837","7b3294c2a5cff7f7f7a6dba0008837","762a83af8dc3e7d4e8d9f0d37fbf7b1b7837","762a83af8dc3e7d4e8f7f7f7d9f0d37fbf7b1b7837","762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b7837","762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b7837","40004b762a839970abc2a5cfe7d4e8d9f0d3a6dba05aae611b783700441b","40004b762a839970abc2a5cfe7d4e8f7f7f7d9f0d3a6dba05aae611b783700441b").map(rt);const Cve=It($b);var Vb=new Array(3).concat("e9a3c9f7f7f7a1d76a","d01c8bf1b6dab8e1864dac26","d01c8bf1b6daf7f7f7b8e1864dac26","c51b7de9a3c9fde0efe6f5d0a1d76a4d9221","c51b7de9a3c9fde0eff7f7f7e6f5d0a1d76a4d9221","c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221","c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221","8e0152c51b7dde77aef1b6dafde0efe6f5d0b8e1867fbc414d9221276419","8e0152c51b7dde77aef1b6dafde0eff7f7f7e6f5d0b8e1867fbc414d9221276419").map(rt);const Nve=It(Vb);var Ub=new Array(3).concat("998ec3f7f7f7f1a340","5e3c99b2abd2fdb863e66101","5e3c99b2abd2f7f7f7fdb863e66101","542788998ec3d8daebfee0b6f1a340b35806","542788998ec3d8daebf7f7f7fee0b6f1a340b35806","5427888073acb2abd2d8daebfee0b6fdb863e08214b35806","5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b35806","2d004b5427888073acb2abd2d8daebfee0b6fdb863e08214b358067f3b08","2d004b5427888073acb2abd2d8daebf7f7f7fee0b6fdb863e08214b358067f3b08").map(rt);const Rve=It(Ub);var qb=new Array(3).concat("ef8a62f7f7f767a9cf","ca0020f4a58292c5de0571b0","ca0020f4a582f7f7f792c5de0571b0","b2182bef8a62fddbc7d1e5f067a9cf2166ac","b2182bef8a62fddbc7f7f7f7d1e5f067a9cf2166ac","b2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac","b2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac","67001fb2182bd6604df4a582fddbc7d1e5f092c5de4393c32166ac053061","67001fb2182bd6604df4a582fddbc7f7f7f7d1e5f092c5de4393c32166ac053061").map(rt);const Ove=It(qb);var zb=new Array(3).concat("ef8a62ffffff999999","ca0020f4a582bababa404040","ca0020f4a582ffffffbababa404040","b2182bef8a62fddbc7e0e0e09999994d4d4d","b2182bef8a62fddbc7ffffffe0e0e09999994d4d4d","b2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d","b2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d","67001fb2182bd6604df4a582fddbc7e0e0e0bababa8787874d4d4d1a1a1a","67001fb2182bd6604df4a582fddbc7ffffffe0e0e0bababa8787874d4d4d1a1a1a").map(rt);const jve=It(zb);var Bb=new Array(3).concat("fc8d59ffffbf91bfdb","d7191cfdae61abd9e92c7bb6","d7191cfdae61ffffbfabd9e92c7bb6","d73027fc8d59fee090e0f3f891bfdb4575b4","d73027fc8d59fee090ffffbfe0f3f891bfdb4575b4","d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4","d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4","a50026d73027f46d43fdae61fee090e0f3f8abd9e974add14575b4313695","a50026d73027f46d43fdae61fee090ffffbfe0f3f8abd9e974add14575b4313695").map(rt);const Dve=It(Bb);var Wb=new Array(3).concat("fc8d59ffffbf91cf60","d7191cfdae61a6d96a1a9641","d7191cfdae61ffffbfa6d96a1a9641","d73027fc8d59fee08bd9ef8b91cf601a9850","d73027fc8d59fee08bffffbfd9ef8b91cf601a9850","d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850","d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850","a50026d73027f46d43fdae61fee08bd9ef8ba6d96a66bd631a9850006837","a50026d73027f46d43fdae61fee08bffffbfd9ef8ba6d96a66bd631a9850006837").map(rt);const Mve=It(Wb);var Hb=new Array(3).concat("fc8d59ffffbf99d594","d7191cfdae61abdda42b83ba","d7191cfdae61ffffbfabdda42b83ba","d53e4ffc8d59fee08be6f59899d5943288bd","d53e4ffc8d59fee08bffffbfe6f59899d5943288bd","d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd","d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd","9e0142d53e4ff46d43fdae61fee08be6f598abdda466c2a53288bd5e4fa2","9e0142d53e4ff46d43fdae61fee08bffffbfe6f598abdda466c2a53288bd5e4fa2").map(rt);const Lve=It(Hb);var Gb=new Array(3).concat("e5f5f999d8c92ca25f","edf8fbb2e2e266c2a4238b45","edf8fbb2e2e266c2a42ca25f006d2c","edf8fbccece699d8c966c2a42ca25f006d2c","edf8fbccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45005824","f7fcfde5f5f9ccece699d8c966c2a441ae76238b45006d2c00441b").map(rt);const Fve=It(Gb);var Kb=new Array(3).concat("e0ecf49ebcda8856a7","edf8fbb3cde38c96c688419d","edf8fbb3cde38c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68856a7810f7c","edf8fbbfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d6e016b","f7fcfde0ecf4bfd3e69ebcda8c96c68c6bb188419d810f7c4d004b").map(rt);const $ve=It(Kb);var Yb=new Array(3).concat("e0f3dba8ddb543a2ca","f0f9e8bae4bc7bccc42b8cbe","f0f9e8bae4bc7bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc443a2ca0868ac","f0f9e8ccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe08589e","f7fcf0e0f3dbccebc5a8ddb57bccc44eb3d32b8cbe0868ac084081").map(rt);const Vve=It(Yb);var Xb=new Array(3).concat("fee8c8fdbb84e34a33","fef0d9fdcc8afc8d59d7301f","fef0d9fdcc8afc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59e34a33b30000","fef0d9fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301f990000","fff7ecfee8c8fdd49efdbb84fc8d59ef6548d7301fb300007f0000").map(rt);const Uve=It(Xb);var Qb=new Array(3).concat("ece2f0a6bddb1c9099","f6eff7bdc9e167a9cf02818a","f6eff7bdc9e167a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf1c9099016c59","f6eff7d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016450","fff7fbece2f0d0d1e6a6bddb67a9cf3690c002818a016c59014636").map(rt);const qve=It(Qb);var Jb=new Array(3).concat("ece7f2a6bddb2b8cbe","f1eef6bdc9e174a9cf0570b0","f1eef6bdc9e174a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf2b8cbe045a8d","f1eef6d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0034e7b","fff7fbece7f2d0d1e6a6bddb74a9cf3690c00570b0045a8d023858").map(rt);const zve=It(Jb);var Zb=new Array(3).concat("e7e1efc994c7dd1c77","f1eef6d7b5d8df65b0ce1256","f1eef6d7b5d8df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0dd1c77980043","f1eef6d4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125691003f","f7f4f9e7e1efd4b9dac994c7df65b0e7298ace125698004367001f").map(rt);const Bve=It(Zb);var ex=new Array(3).concat("fde0ddfa9fb5c51b8a","feebe2fbb4b9f768a1ae017e","feebe2fbb4b9f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1c51b8a7a0177","feebe2fcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a0177","fff7f3fde0ddfcc5c0fa9fb5f768a1dd3497ae017e7a017749006a").map(rt);const Wve=It(ex);var tx=new Array(3).concat("edf8b17fcdbb2c7fb8","ffffcca1dab441b6c4225ea8","ffffcca1dab441b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c42c7fb8253494","ffffccc7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea80c2c84","ffffd9edf8b1c7e9b47fcdbb41b6c41d91c0225ea8253494081d58").map(rt);const Hve=It(tx);var rx=new Array(3).concat("f7fcb9addd8e31a354","ffffccc2e69978c679238443","ffffccc2e69978c67931a354006837","ffffccd9f0a3addd8e78c67931a354006837","ffffccd9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443005a32","ffffe5f7fcb9d9f0a3addd8e78c67941ab5d238443006837004529").map(rt);const Gve=It(rx);var nx=new Array(3).concat("fff7bcfec44fd95f0e","ffffd4fed98efe9929cc4c02","ffffd4fed98efe9929d95f0e993404","ffffd4fee391fec44ffe9929d95f0e993404","ffffd4fee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c028c2d04","ffffe5fff7bcfee391fec44ffe9929ec7014cc4c02993404662506").map(rt);const Kve=It(nx);var ix=new Array(3).concat("ffeda0feb24cf03b20","ffffb2fecc5cfd8d3ce31a1c","ffffb2fecc5cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cf03b20bd0026","ffffb2fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cb10026","ffffccffeda0fed976feb24cfd8d3cfc4e2ae31a1cbd0026800026").map(rt);const Yve=It(ix);var ax=new Array(3).concat("deebf79ecae13182bd","eff3ffbdd7e76baed62171b5","eff3ffbdd7e76baed63182bd08519c","eff3ffc6dbef9ecae16baed63182bd08519c","eff3ffc6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b5084594","f7fbffdeebf7c6dbef9ecae16baed64292c62171b508519c08306b").map(rt);const Xve=It(ax);var sx=new Array(3).concat("e5f5e0a1d99b31a354","edf8e9bae4b374c476238b45","edf8e9bae4b374c47631a354006d2c","edf8e9c7e9c0a1d99b74c47631a354006d2c","edf8e9c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45005a32","f7fcf5e5f5e0c7e9c0a1d99b74c47641ab5d238b45006d2c00441b").map(rt);const Qve=It(sx);var ox=new Array(3).concat("f0f0f0bdbdbd636363","f7f7f7cccccc969696525252","f7f7f7cccccc969696636363252525","f7f7f7d9d9d9bdbdbd969696636363252525","f7f7f7d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525","fffffff0f0f0d9d9d9bdbdbd969696737373525252252525000000").map(rt);const Jve=It(ox);var lx=new Array(3).concat("efedf5bcbddc756bb1","f2f0f7cbc9e29e9ac86a51a3","f2f0f7cbc9e29e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8756bb154278f","f2f0f7dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a34a1486","fcfbfdefedf5dadaebbcbddc9e9ac8807dba6a51a354278f3f007d").map(rt);const Zve=It(lx);var cx=new Array(3).concat("fee0d2fc9272de2d26","fee5d9fcae91fb6a4acb181d","fee5d9fcae91fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4ade2d26a50f15","fee5d9fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181d99000d","fff5f0fee0d2fcbba1fc9272fb6a4aef3b2ccb181da50f1567000d").map(rt);const ebe=It(cx);var ux=new Array(3).concat("fee6cefdae6be6550d","feeddefdbe85fd8d3cd94701","feeddefdbe85fd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3ce6550da63603","feeddefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d948018c2d04","fff5ebfee6cefdd0a2fdae6bfd8d3cf16913d94801a636037f2704").map(rt);const tbe=It(ux);function rbe(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(-4.54-t*(35.34-t*(2381.73-t*(6402.7-t*(7024.72-t*2710.57)))))))+", "+Math.max(0,Math.min(255,Math.round(32.49+t*(170.73+t*(52.82-t*(131.46-t*(176.58-t*67.37)))))))+", "+Math.max(0,Math.min(255,Math.round(81.24+t*(442.36-t*(2482.43-t*(6167.24-t*(6614.94-t*2475.67)))))))+")"}const nbe=FC(is(300,.5,0),is(-240,.5,1));var ibe=FC(is(-100,.75,.35),is(80,1.5,.8)),abe=FC(is(260,.75,.35),is(80,1.5,.8)),s0=is();function sbe(t){(t<0||t>1)&&(t-=Math.floor(t));var e=Math.abs(t-.5);return s0.h=360*t-100,s0.s=1.5-1.5*e,s0.l=.8-.9*e,s0+""}var o0=Sd(),obe=Math.PI/3,lbe=Math.PI*2/3;function cbe(t){var e;return t=(.5-t)*Math.PI,o0.r=255*(e=Math.sin(t))*e,o0.g=255*(e=Math.sin(t+obe))*e,o0.b=255*(e=Math.sin(t+lbe))*e,o0+""}function ube(t){return t=Math.max(0,Math.min(1,t)),"rgb("+Math.max(0,Math.min(255,Math.round(34.61+t*(1172.33-t*(10793.56-t*(33300.12-t*(38394.49-t*14825.05)))))))+", "+Math.max(0,Math.min(255,Math.round(23.31+t*(557.33+t*(1225.33-t*(3574.96-t*(1073.77+t*707.56)))))))+", "+Math.max(0,Math.min(255,Math.round(27.2+t*(3211.1-t*(15327.97-t*(27814-t*(22569.18-t*6838.66)))))))+")"}function dx(t){var e=t.length;return function(r){return t[Math.max(0,Math.min(e-1,Math.floor(r*e)))]}}const dbe=dx(rt("44015444025645045745055946075a46085c460a5d460b5e470d60470e6147106347116447136548146748166848176948186a481a6c481b6d481c6e481d6f481f70482071482173482374482475482576482677482878482979472a7a472c7a472d7b472e7c472f7d46307e46327e46337f463480453581453781453882443983443a83443b84433d84433e85423f854240864241864142874144874045884046883f47883f48893e49893e4a893e4c8a3d4d8a3d4e8a3c4f8a3c508b3b518b3b528b3a538b3a548c39558c39568c38588c38598c375a8c375b8d365c8d365d8d355e8d355f8d34608d34618d33628d33638d32648e32658e31668e31678e31688e30698e306a8e2f6b8e2f6c8e2e6d8e2e6e8e2e6f8e2d708e2d718e2c718e2c728e2c738e2b748e2b758e2a768e2a778e2a788e29798e297a8e297b8e287c8e287d8e277e8e277f8e27808e26818e26828e26828e25838e25848e25858e24868e24878e23888e23898e238a8d228b8d228c8d228d8d218e8d218f8d21908d21918c20928c20928c20938c1f948c1f958b1f968b1f978b1f988b1f998a1f9a8a1e9b8a1e9c891e9d891f9e891f9f881fa0881fa1881fa1871fa28720a38620a48621a58521a68522a78522a88423a98324aa8325ab8225ac8226ad8127ad8128ae8029af7f2ab07f2cb17e2db27d2eb37c2fb47c31b57b32b67a34b67935b77937b87838b9773aba763bbb753dbc743fbc7340bd7242be7144bf7046c06f48c16e4ac16d4cc26c4ec36b50c46a52c56954c56856c66758c7655ac8645cc8635ec96260ca6063cb5f65cb5e67cc5c69cd5b6ccd5a6ece5870cf5773d05675d05477d1537ad1517cd2507fd34e81d34d84d44b86d54989d5488bd6468ed64590d74393d74195d84098d83e9bd93c9dd93ba0da39a2da37a5db36a8db34aadc32addc30b0dd2fb2dd2db5de2bb8de29bade28bddf26c0df25c2df23c5e021c8e020cae11fcde11dd0e11cd2e21bd5e21ad8e219dae319dde318dfe318e2e418e5e419e7e419eae51aece51befe51cf1e51df4e61ef6e620f8e621fbe723fde725"));var fbe=dx(rt("00000401000501010601010802010902020b02020d03030f03031204041405041606051806051a07061c08071e0907200a08220b09240c09260d0a290e0b2b100b2d110c2f120d31130d34140e36150e38160f3b180f3d19103f1a10421c10441d11471e114920114b21114e22115024125325125527125829115a2a115c2c115f2d11612f116331116533106734106936106b38106c390f6e3b0f703d0f713f0f72400f74420f75440f764510774710784910784a10794c117a4e117b4f127b51127c52137c54137d56147d57157e59157e5a167e5c167f5d177f5f187f601880621980641a80651a80671b80681c816a1c816b1d816d1d816e1e81701f81721f817320817521817621817822817922827b23827c23827e24828025828125818326818426818627818827818928818b29818c29818e2a81902a81912b81932b80942c80962c80982d80992d809b2e7f9c2e7f9e2f7fa02f7fa1307ea3307ea5317ea6317da8327daa337dab337cad347cae347bb0357bb2357bb3367ab5367ab73779b83779ba3878bc3978bd3977bf3a77c03a76c23b75c43c75c53c74c73d73c83e73ca3e72cc3f71cd4071cf4070d0416fd2426fd3436ed5446dd6456cd8456cd9466bdb476adc4869de4968df4a68e04c67e24d66e34e65e44f64e55064e75263e85362e95462ea5661eb5760ec5860ed5a5fee5b5eef5d5ef05f5ef1605df2625df2645cf3655cf4675cf4695cf56b5cf66c5cf66e5cf7705cf7725cf8745cf8765cf9785df9795df97b5dfa7d5efa7f5efa815ffb835ffb8560fb8761fc8961fc8a62fc8c63fc8e64fc9065fd9266fd9467fd9668fd9869fd9a6afd9b6bfe9d6cfe9f6dfea16efea36ffea571fea772fea973feaa74feac76feae77feb078feb27afeb47bfeb67cfeb77efeb97ffebb81febd82febf84fec185fec287fec488fec68afec88cfeca8dfecc8ffecd90fecf92fed194fed395fed597fed799fed89afdda9cfddc9efddea0fde0a1fde2a3fde3a5fde5a7fde7a9fde9aafdebacfcecaefceeb0fcf0b2fcf2b4fcf4b6fcf6b8fcf7b9fcf9bbfcfbbdfcfdbf")),hbe=dx(rt("00000401000501010601010802010a02020c02020e03021004031204031405041706041907051b08051d09061f0a07220b07240c08260d08290e092b10092d110a30120a32140b34150b37160b39180c3c190c3e1b0c411c0c431e0c451f0c48210c4a230c4c240c4f260c51280b53290b552b0b572d0b592f0a5b310a5c320a5e340a5f3609613809623909633b09643d09653e0966400a67420a68440a68450a69470b6a490b6a4a0c6b4c0c6b4d0d6c4f0d6c510e6c520e6d540f6d550f6d57106e59106e5a116e5c126e5d126e5f136e61136e62146e64156e65156e67166e69166e6a176e6c186e6d186e6f196e71196e721a6e741a6e751b6e771c6d781c6d7a1d6d7c1d6d7d1e6d7f1e6c801f6c82206c84206b85216b87216b88226a8a226a8c23698d23698f24699025689225689326679526679727669827669a28659b29649d29649f2a63a02a63a22b62a32c61a52c60a62d60a82e5fa92e5eab2f5ead305dae305cb0315bb1325ab3325ab43359b63458b73557b93556ba3655bc3754bd3853bf3952c03a51c13a50c33b4fc43c4ec63d4dc73e4cc83f4bca404acb4149cc4248ce4347cf4446d04545d24644d34743d44842d54a41d74b3fd84c3ed94d3dda4e3cdb503bdd513ade5238df5337e05536e15635e25734e35933e45a31e55c30e65d2fe75e2ee8602de9612bea632aeb6429eb6628ec6726ed6925ee6a24ef6c23ef6e21f06f20f1711ff1731df2741cf3761bf37819f47918f57b17f57d15f67e14f68013f78212f78410f8850ff8870ef8890cf98b0bf98c0af98e09fa9008fa9207fa9407fb9606fb9706fb9906fb9b06fb9d07fc9f07fca108fca309fca50afca60cfca80dfcaa0ffcac11fcae12fcb014fcb216fcb418fbb61afbb81dfbba1ffbbc21fbbe23fac026fac228fac42afac62df9c72ff9c932f9cb35f8cd37f8cf3af7d13df7d340f6d543f6d746f5d949f5db4cf4dd4ff4df53f4e156f3e35af3e55df2e661f2e865f2ea69f1ec6df1ed71f1ef75f1f179f2f27df2f482f3f586f3f68af4f88ef5f992f6fa96f8fb9af9fc9dfafda1fcffa4")),pbe=dx(rt("0d088710078813078916078a19068c1b068d1d068e20068f2206902406912605912805922a05932c05942e05952f059631059733059735049837049938049a3a049a3c049b3e049c3f049c41049d43039e44039e46039f48039f4903a04b03a14c02a14e02a25002a25102a35302a35502a45601a45801a45901a55b01a55c01a65e01a66001a66100a76300a76400a76600a76700a86900a86a00a86c00a86e00a86f00a87100a87201a87401a87501a87701a87801a87a02a87b02a87d03a87e03a88004a88104a78305a78405a78606a68707a68808a68a09a58b0aa58d0ba58e0ca48f0da4910ea3920fa39410a29511a19613a19814a099159f9a169f9c179e9d189d9e199da01a9ca11b9ba21d9aa31e9aa51f99a62098a72197a82296aa2395ab2494ac2694ad2793ae2892b02991b12a90b22b8fb32c8eb42e8db52f8cb6308bb7318ab83289ba3388bb3488bc3587bd3786be3885bf3984c03a83c13b82c23c81c33d80c43e7fc5407ec6417dc7427cc8437bc9447aca457acb4679cc4778cc4977cd4a76ce4b75cf4c74d04d73d14e72d24f71d35171d45270d5536fd5546ed6556dd7566cd8576bd9586ada5a6ada5b69db5c68dc5d67dd5e66de5f65de6164df6263e06363e16462e26561e26660e3685fe4695ee56a5de56b5de66c5ce76e5be76f5ae87059e97158e97257ea7457eb7556eb7655ec7754ed7953ed7a52ee7b51ef7c51ef7e50f07f4ff0804ef1814df1834cf2844bf3854bf3874af48849f48948f58b47f58c46f68d45f68f44f79044f79143f79342f89441f89540f9973ff9983ef99a3efa9b3dfa9c3cfa9e3bfb9f3afba139fba238fca338fca537fca636fca835fca934fdab33fdac33fdae32fdaf31fdb130fdb22ffdb42ffdb52efeb72dfeb82cfeba2cfebb2bfebd2afebe2afec029fdc229fdc328fdc527fdc627fdc827fdca26fdcb26fccd25fcce25fcd025fcd225fbd324fbd524fbd724fad824fada24f9dc24f9dd25f8df25f8e125f7e225f7e425f6e626f6e826f5e926f5eb27f4ed27f3ee27f3f027f2f227f1f426f1f525f0f724f0f921")),mbe=bb();const LW=Qt(mbe);var kE,I6;function gbe(){if(I6)return kE;I6=1;var t="__lodash_hash_undefined__";function e(r){return this.__data__.set(r,t),this}return kE=e,kE}var IE,P6;function ybe(){if(P6)return IE;P6=1;function t(e){return this.__data__.has(e)}return IE=t,IE}var PE,C6;function FW(){if(C6)return PE;C6=1;var t=xC(),e=gbe(),r=ybe();function n(i){var a=-1,s=i==null?0:i.length;for(this.__data__=new t;++a<s;)this.add(i[a])}return n.prototype.add=n.prototype.push=e,n.prototype.has=r,PE=n,PE}var CE,N6;function vbe(){if(N6)return CE;N6=1;function t(e,r,n,i){for(var a=e.length,s=n+(i?1:-1);i?s--:++s<a;)if(r(e[s],s,e))return s;return-1}return CE=t,CE}var NE,R6;function bbe(){if(R6)return NE;R6=1;function t(e){return e!==e}return NE=t,NE}var RE,O6;function xbe(){if(O6)return RE;O6=1;function t(e,r,n){for(var i=n-1,a=e.length;++i<a;)if(e[i]===r)return i;return-1}return RE=t,RE}var OE,j6;function wbe(){if(j6)return OE;j6=1;var t=vbe(),e=bbe(),r=xbe();function n(i,a,s){return a===a?r(i,a,s):t(i,e,s)}return OE=n,OE}var jE,D6;function _be(){if(D6)return jE;D6=1;var t=wbe();function e(r,n){var i=r==null?0:r.length;return!!i&&t(r,n,0)>-1}return jE=e,jE}var DE,M6;function Ebe(){if(M6)return DE;M6=1;function t(e,r,n){for(var i=-1,a=e==null?0:e.length;++i<a;)if(n(r,e[i]))return!0;return!1}return DE=t,DE}var ME,L6;function $W(){if(L6)return ME;L6=1;function t(e,r){return e.has(r)}return ME=t,ME}var LE,F6;function Sbe(){if(F6)return LE;F6=1;var t=FW(),e=_be(),r=Ebe(),n=RC(),i=Tb(),a=$W(),s=200;function o(c,d,f,p){var g=-1,b=e,w=!0,_=c.length,x=[],T=d.length;if(!_)return x;f&&(d=n(d,i(f))),p?(b=r,w=!1):d.length>=s&&(b=a,w=!1,d=new t(d));e:for(;++g<_;){var I=c[g],P=f==null?I:f(I);if(I=p||I!==0?I:0,w&&P===P){for(var j=T;j--;)if(d[j]===P)continue e;x.push(I)}else b(d,P,p)||x.push(I)}return x}return LE=o,LE}var FE,$6;function Tbe(){if($6)return FE;$6=1;var t=Sbe(),e=KB(),r=qB(),n=e(function(i,a){return r(i)?t(i,a):[]});return FE=n,FE}var Abe=Tbe();const VW=Qt(Abe);function Ct(t){return function(){return t}}const UW=Math.cos,Dy=Math.sin,pa=Math.sqrt,V6=1e-12,My=Math.PI,fx=2*My,Uk=Math.PI,qk=2*Uk,Jl=1e-6,kbe=qk-Jl;function qW(t){this._+=t[0];for(let e=1,r=t.length;e<r;++e)this._+=arguments[e]+t[e]}function Ibe(t){let e=Math.floor(t);if(!(e>=0))throw new Error(`invalid digits: ${t}`);if(e>15)return qW;const r=10**e;return function(n){this._+=n[0];for(let i=1,a=n.length;i<a;++i)this._+=Math.round(arguments[i]*r)/r+n[i]}}class Pbe{constructor(e){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=e==null?qW:Ibe(e)}moveTo(e,r){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}`}closePath(){this._x1!==null&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(e,r){this._append`L${this._x1=+e},${this._y1=+r}`}quadraticCurveTo(e,r,n,i){this._append`Q${+e},${+r},${this._x1=+n},${this._y1=+i}`}bezierCurveTo(e,r,n,i,a,s){this._append`C${+e},${+r},${+n},${+i},${this._x1=+a},${this._y1=+s}`}arcTo(e,r,n,i,a){if(e=+e,r=+r,n=+n,i=+i,a=+a,a<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,c=n-e,d=i-r,f=s-e,p=o-r,g=f*f+p*p;if(this._x1===null)this._append`M${this._x1=e},${this._y1=r}`;else if(g>Jl)if(!(Math.abs(p*c-d*f)>Jl)||!a)this._append`L${this._x1=e},${this._y1=r}`;else{let b=n-s,w=i-o,_=c*c+d*d,x=b*b+w*w,T=Math.sqrt(_),I=Math.sqrt(g),P=a*Math.tan((Uk-Math.acos((_+g-x)/(2*T*I)))/2),j=P/I,O=P/T;Math.abs(j-1)>Jl&&this._append`L${e+j*f},${r+j*p}`,this._append`A${a},${a},0,0,${+(p*b>f*w)},${this._x1=e+O*c},${this._y1=r+O*d}`}}arc(e,r,n,i,a,s){if(e=+e,r=+r,n=+n,s=!!s,n<0)throw new Error(`negative radius: ${n}`);let o=n*Math.cos(i),c=n*Math.sin(i),d=e+o,f=r+c,p=1^s,g=s?i-a:a-i;this._x1===null?this._append`M${d},${f}`:(Math.abs(this._x1-d)>Jl||Math.abs(this._y1-f)>Jl)&&this._append`L${d},${f}`,n&&(g<0&&(g=g%qk+qk),g>kbe?this._append`A${n},${n},0,1,${p},${e-o},${r-c}A${n},${n},0,1,${p},${this._x1=d},${this._y1=f}`:g>Jl&&this._append`A${n},${n},0,${+(g>=Uk)},${p},${this._x1=e+n*Math.cos(a)},${this._y1=r+n*Math.sin(a)}`)}rect(e,r,n,i){this._append`M${this._x0=this._x1=+e},${this._y0=this._y1=+r}h${n=+n}v${+i}h${-n}Z`}toString(){return this._}}function dN(t){let e=3;return t.digits=function(r){if(!arguments.length)return e;if(r==null)e=null;else{const n=Math.floor(r);if(!(n>=0))throw new RangeError(`invalid digits: ${r}`);e=n}return t},()=>new Pbe(e)}function fN(t){return typeof t=="object"&&"length"in t?t:Array.from(t)}function zW(t){this._context=t}zW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:this._context.lineTo(t,e);break}}};function fm(t){return new zW(t)}function BW(t){return t[0]}function WW(t){return t[1]}function HW(t,e){var r=Ct(!0),n=null,i=fm,a=null,s=dN(o);t=typeof t=="function"?t:t===void 0?BW:Ct(t),e=typeof e=="function"?e:e===void 0?WW:Ct(e);function o(c){var d,f=(c=fN(c)).length,p,g=!1,b;for(n==null&&(a=i(b=s())),d=0;d<=f;++d)!(d<f&&r(p=c[d],d,c))===g&&((g=!g)?a.lineStart():a.lineEnd()),g&&a.point(+t(p,d,c),+e(p,d,c));if(b)return a=null,b+""||null}return o.x=function(c){return arguments.length?(t=typeof c=="function"?c:Ct(+c),o):t},o.y=function(c){return arguments.length?(e=typeof c=="function"?c:Ct(+c),o):e},o.defined=function(c){return arguments.length?(r=typeof c=="function"?c:Ct(!!c),o):r},o.curve=function(c){return arguments.length?(i=c,n!=null&&(a=i(n)),o):i},o.context=function(c){return arguments.length?(c==null?n=a=null:a=i(n=c),o):n},o}function l0(t,e,r){var n=null,i=Ct(!0),a=null,s=fm,o=null,c=dN(d);t=typeof t=="function"?t:t===void 0?BW:Ct(+t),e=typeof e=="function"?e:Ct(e===void 0?0:+e),r=typeof r=="function"?r:r===void 0?WW:Ct(+r);function d(p){var g,b,w,_=(p=fN(p)).length,x,T=!1,I,P=new Array(_),j=new Array(_);for(a==null&&(o=s(I=c())),g=0;g<=_;++g){if(!(g<_&&i(x=p[g],g,p))===T)if(T=!T)b=g,o.areaStart(),o.lineStart();else{for(o.lineEnd(),o.lineStart(),w=g-1;w>=b;--w)o.point(P[w],j[w]);o.lineEnd(),o.areaEnd()}T&&(P[g]=+t(x,g,p),j[g]=+e(x,g,p),o.point(n?+n(x,g,p):P[g],r?+r(x,g,p):j[g]))}if(I)return o=null,I+""||null}function f(){return HW().defined(i).curve(s).context(a)}return d.x=function(p){return arguments.length?(t=typeof p=="function"?p:Ct(+p),n=null,d):t},d.x0=function(p){return arguments.length?(t=typeof p=="function"?p:Ct(+p),d):t},d.x1=function(p){return arguments.length?(n=p==null?null:typeof p=="function"?p:Ct(+p),d):n},d.y=function(p){return arguments.length?(e=typeof p=="function"?p:Ct(+p),r=null,d):e},d.y0=function(p){return arguments.length?(e=typeof p=="function"?p:Ct(+p),d):e},d.y1=function(p){return arguments.length?(r=p==null?null:typeof p=="function"?p:Ct(+p),d):r},d.lineX0=d.lineY0=function(){return f().x(t).y(e)},d.lineY1=function(){return f().x(t).y(r)},d.lineX1=function(){return f().x(n).y(e)},d.defined=function(p){return arguments.length?(i=typeof p=="function"?p:Ct(!!p),d):i},d.curve=function(p){return arguments.length?(s=p,a!=null&&(o=s(a)),d):s},d.context=function(p){return arguments.length?(p==null?a=o=null:o=s(a=p),d):a},d}class GW{constructor(e,r){this._context=e,this._x=r}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line}point(e,r){switch(e=+e,r=+r,this._point){case 0:{this._point=1,this._line?this._context.lineTo(e,r):this._context.moveTo(e,r);break}case 1:this._point=2;default:{this._x?this._context.bezierCurveTo(this._x0=(this._x0+e)/2,this._y0,this._x0,r,e,r):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+r)/2,e,this._y0,e,r);break}}this._x0=e,this._y0=r}}function Cbe(t){return new GW(t,!0)}function Nbe(t){return new GW(t,!1)}const hN={draw(t,e){const r=pa(e/My);t.moveTo(r,0),t.arc(0,0,r,0,fx)}},Rbe={draw(t,e){const r=pa(e/5)/2;t.moveTo(-3*r,-r),t.lineTo(-r,-r),t.lineTo(-r,-3*r),t.lineTo(r,-3*r),t.lineTo(r,-r),t.lineTo(3*r,-r),t.lineTo(3*r,r),t.lineTo(r,r),t.lineTo(r,3*r),t.lineTo(-r,3*r),t.lineTo(-r,r),t.lineTo(-3*r,r),t.closePath()}},KW=pa(1/3),Obe=KW*2,jbe={draw(t,e){const r=pa(e/Obe),n=r*KW;t.moveTo(0,-r),t.lineTo(n,0),t.lineTo(0,r),t.lineTo(-n,0),t.closePath()}},Dbe={draw(t,e){const r=pa(e),n=-r/2;t.rect(n,n,r,r)}},Mbe=.8908130915292852,YW=Dy(My/10)/Dy(7*My/10),Lbe=Dy(fx/10)*YW,Fbe=-UW(fx/10)*YW,$be={draw(t,e){const r=pa(e*Mbe),n=Lbe*r,i=Fbe*r;t.moveTo(0,-r),t.lineTo(n,i);for(let a=1;a<5;++a){const s=fx*a/5,o=UW(s),c=Dy(s);t.lineTo(c*r,-o*r),t.lineTo(o*n-c*i,c*n+o*i)}t.closePath()}},$E=pa(3),Vbe={draw(t,e){const r=-pa(e/($E*3));t.moveTo(0,r*2),t.lineTo(-$E*r,-r),t.lineTo($E*r,-r),t.closePath()}},Ti=-.5,Ai=pa(3)/2,zk=1/pa(12),Ube=(zk/2+1)*3,qbe={draw(t,e){const r=pa(e/Ube),n=r/2,i=r*zk,a=n,s=r*zk+r,o=-a,c=s;t.moveTo(n,i),t.lineTo(a,s),t.lineTo(o,c),t.lineTo(Ti*n-Ai*i,Ai*n+Ti*i),t.lineTo(Ti*a-Ai*s,Ai*a+Ti*s),t.lineTo(Ti*o-Ai*c,Ai*o+Ti*c),t.lineTo(Ti*n+Ai*i,Ti*i-Ai*n),t.lineTo(Ti*a+Ai*s,Ti*s-Ai*a),t.lineTo(Ti*o+Ai*c,Ti*c-Ai*o),t.closePath()}};function zbe(t,e){let r=null,n=dN(i);t=typeof t=="function"?t:Ct(t||hN),e=typeof e=="function"?e:Ct(e===void 0?64:+e);function i(){let a;if(r||(r=a=n()),t.apply(this,arguments).draw(r,+e.apply(this,arguments)),a)return r=null,a+""||null}return i.type=function(a){return arguments.length?(t=typeof a=="function"?a:Ct(a),i):t},i.size=function(a){return arguments.length?(e=typeof a=="function"?a:Ct(+a),i):e},i.context=function(a){return arguments.length?(r=a??null,i):r},i}function dl(){}function Ly(t,e,r){t._context.bezierCurveTo((2*t._x0+t._x1)/3,(2*t._y0+t._y1)/3,(t._x0+2*t._x1)/3,(t._y0+2*t._y1)/3,(t._x0+4*t._x1+e)/6,(t._y0+4*t._y1+r)/6)}function hx(t){this._context=t}hx.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){switch(this._point){case 3:Ly(this,this._x1,this._y1);case 2:this._context.lineTo(this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,this._context.lineTo((5*this._x0+this._x1)/6,(5*this._y0+this._y1)/6);default:Ly(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function XW(t){return new hx(t)}function QW(t){this._context=t}QW.prototype={areaStart:dl,areaEnd:dl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._y0=this._y1=this._y2=this._y3=this._y4=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x2,this._y2),this._context.closePath();break}case 2:{this._context.moveTo((this._x2+2*this._x3)/3,(this._y2+2*this._y3)/3),this._context.lineTo((this._x3+2*this._x2)/3,(this._y3+2*this._y2)/3),this._context.closePath();break}case 3:{this.point(this._x2,this._y2),this.point(this._x3,this._y3),this.point(this._x4,this._y4);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x2=t,this._y2=e;break;case 1:this._point=2,this._x3=t,this._y3=e;break;case 2:this._point=3,this._x4=t,this._y4=e,this._context.moveTo((this._x0+4*this._x1+t)/6,(this._y0+4*this._y1+e)/6);break;default:Ly(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function JW(t){return new QW(t)}function ZW(t){this._context=t}ZW.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3;var r=(this._x0+4*this._x1+t)/6,n=(this._y0+4*this._y1+e)/6;this._line?this._context.lineTo(r,n):this._context.moveTo(r,n);break;case 3:this._point=4;default:Ly(this,t,e);break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e}};function eH(t){return new ZW(t)}function tH(t,e){this._basis=new hx(t),this._beta=e}tH.prototype={lineStart:function(){this._x=[],this._y=[],this._basis.lineStart()},lineEnd:function(){var t=this._x,e=this._y,r=t.length-1;if(r>0)for(var n=t[0],i=e[0],a=t[r]-n,s=e[r]-i,o=-1,c;++o<=r;)c=o/r,this._basis.point(this._beta*t[o]+(1-this._beta)*(n+c*a),this._beta*e[o]+(1-this._beta)*(i+c*s));this._x=this._y=null,this._basis.lineEnd()},point:function(t,e){this._x.push(+t),this._y.push(+e)}};const Bbe=(function t(e){function r(n){return e===1?new hx(n):new tH(n,e)}return r.beta=function(n){return t(+n)},r})(.85);function Fy(t,e,r){t._context.bezierCurveTo(t._x1+t._k*(t._x2-t._x0),t._y1+t._k*(t._y2-t._y0),t._x2+t._k*(t._x1-e),t._y2+t._k*(t._y1-r),t._x2,t._y2)}function pN(t,e){this._context=t,this._k=(1-e)/6}pN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:Fy(this,this._x1,this._y1);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2,this._x1=t,this._y1=e;break;case 2:this._point=3;default:Fy(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Wbe=(function t(e){function r(n){return new pN(n,e)}return r.tension=function(n){return t(+n)},r})(0);function mN(t,e){this._context=t,this._k=(1-e)/6}mN.prototype={areaStart:dl,areaEnd:dl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:Fy(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Hbe=(function t(e){function r(n){return new mN(n,e)}return r.tension=function(n){return t(+n)},r})(0);function gN(t,e){this._context=t,this._k=(1-e)/6}gN.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:Fy(this,t,e);break}this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Gbe=(function t(e){function r(n){return new gN(n,e)}return r.tension=function(n){return t(+n)},r})(0);function yN(t,e,r){var n=t._x1,i=t._y1,a=t._x2,s=t._y2;if(t._l01_a>V6){var o=2*t._l01_2a+3*t._l01_a*t._l12_a+t._l12_2a,c=3*t._l01_a*(t._l01_a+t._l12_a);n=(n*o-t._x0*t._l12_2a+t._x2*t._l01_2a)/c,i=(i*o-t._y0*t._l12_2a+t._y2*t._l01_2a)/c}if(t._l23_a>V6){var d=2*t._l23_2a+3*t._l23_a*t._l12_a+t._l12_2a,f=3*t._l23_a*(t._l23_a+t._l12_a);a=(a*d+t._x1*t._l23_2a-e*t._l12_2a)/f,s=(s*d+t._y1*t._l23_2a-r*t._l12_2a)/f}t._context.bezierCurveTo(n,i,a,s,t._x2,t._y2)}function rH(t,e){this._context=t,this._alpha=e}rH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x2,this._y2);break;case 3:this.point(this._x2,this._y2);break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3;default:yN(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Kbe=(function t(e){function r(n){return e?new rH(n,e):new pN(n,0)}return r.alpha=function(n){return t(+n)},r})(.5);function nH(t,e){this._context=t,this._alpha=e}nH.prototype={areaStart:dl,areaEnd:dl,lineStart:function(){this._x0=this._x1=this._x2=this._x3=this._x4=this._x5=this._y0=this._y1=this._y2=this._y3=this._y4=this._y5=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){switch(this._point){case 1:{this._context.moveTo(this._x3,this._y3),this._context.closePath();break}case 2:{this._context.lineTo(this._x3,this._y3),this._context.closePath();break}case 3:{this.point(this._x3,this._y3),this.point(this._x4,this._y4),this.point(this._x5,this._y5);break}}},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1,this._x3=t,this._y3=e;break;case 1:this._point=2,this._context.moveTo(this._x4=t,this._y4=e);break;case 2:this._point=3,this._x5=t,this._y5=e;break;default:yN(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Ybe=(function t(e){function r(n){return e?new nH(n,e):new mN(n,0)}return r.alpha=function(n){return t(+n)},r})(.5);function iH(t,e){this._context=t,this._alpha=e}iH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._x2=this._y0=this._y1=this._y2=NaN,this._l01_a=this._l12_a=this._l23_a=this._l01_2a=this._l12_2a=this._l23_2a=this._point=0},lineEnd:function(){(this._line||this._line!==0&&this._point===3)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){if(t=+t,e=+e,this._point){var r=this._x2-t,n=this._y2-e;this._l23_a=Math.sqrt(this._l23_2a=Math.pow(r*r+n*n,this._alpha))}switch(this._point){case 0:this._point=1;break;case 1:this._point=2;break;case 2:this._point=3,this._line?this._context.lineTo(this._x2,this._y2):this._context.moveTo(this._x2,this._y2);break;case 3:this._point=4;default:yN(this,t,e);break}this._l01_a=this._l12_a,this._l12_a=this._l23_a,this._l01_2a=this._l12_2a,this._l12_2a=this._l23_2a,this._x0=this._x1,this._x1=this._x2,this._x2=t,this._y0=this._y1,this._y1=this._y2,this._y2=e}};const Xbe=(function t(e){function r(n){return e?new iH(n,e):new gN(n,0)}return r.alpha=function(n){return t(+n)},r})(.5);function aH(t){this._context=t}aH.prototype={areaStart:dl,areaEnd:dl,lineStart:function(){this._point=0},lineEnd:function(){this._point&&this._context.closePath()},point:function(t,e){t=+t,e=+e,this._point?this._context.lineTo(t,e):(this._point=1,this._context.moveTo(t,e))}};function sH(t){return new aH(t)}function U6(t){return t<0?-1:1}function q6(t,e,r){var n=t._x1-t._x0,i=e-t._x1,a=(t._y1-t._y0)/(n||i<0&&-0),s=(r-t._y1)/(i||n<0&&-0),o=(a*i+s*n)/(n+i);return(U6(a)+U6(s))*Math.min(Math.abs(a),Math.abs(s),.5*Math.abs(o))||0}function z6(t,e){var r=t._x1-t._x0;return r?(3*(t._y1-t._y0)/r-e)/2:e}function VE(t,e,r){var n=t._x0,i=t._y0,a=t._x1,s=t._y1,o=(a-n)/3;t._context.bezierCurveTo(n+o,i+o*e,a-o,s-o*r,a,s)}function $y(t){this._context=t}$y.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x0=this._x1=this._y0=this._y1=this._t0=NaN,this._point=0},lineEnd:function(){switch(this._point){case 2:this._context.lineTo(this._x1,this._y1);break;case 3:VE(this,this._t0,z6(this,this._t0));break}(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line=1-this._line},point:function(t,e){var r=NaN;if(t=+t,e=+e,!(t===this._x1&&e===this._y1)){switch(this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;break;case 2:this._point=3,VE(this,z6(this,r=q6(this,t,e)),r);break;default:VE(this,this._t0,r=q6(this,t,e));break}this._x0=this._x1,this._x1=t,this._y0=this._y1,this._y1=e,this._t0=r}}};function oH(t){this._context=new lH(t)}(oH.prototype=Object.create($y.prototype)).point=function(t,e){$y.prototype.point.call(this,e,t)};function lH(t){this._context=t}lH.prototype={moveTo:function(t,e){this._context.moveTo(e,t)},closePath:function(){this._context.closePath()},lineTo:function(t,e){this._context.lineTo(e,t)},bezierCurveTo:function(t,e,r,n,i,a){this._context.bezierCurveTo(e,t,n,r,a,i)}};function cH(t){return new $y(t)}function uH(t){return new oH(t)}function dH(t){this._context=t}dH.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=[],this._y=[]},lineEnd:function(){var t=this._x,e=this._y,r=t.length;if(r)if(this._line?this._context.lineTo(t[0],e[0]):this._context.moveTo(t[0],e[0]),r===2)this._context.lineTo(t[1],e[1]);else for(var n=B6(t),i=B6(e),a=0,s=1;s<r;++a,++s)this._context.bezierCurveTo(n[0][a],i[0][a],n[1][a],i[1][a],t[s],e[s]);(this._line||this._line!==0&&r===1)&&this._context.closePath(),this._line=1-this._line,this._x=this._y=null},point:function(t,e){this._x.push(+t),this._y.push(+e)}};function B6(t){var e,r=t.length-1,n,i=new Array(r),a=new Array(r),s=new Array(r);for(i[0]=0,a[0]=2,s[0]=t[0]+2*t[1],e=1;e<r-1;++e)i[e]=1,a[e]=4,s[e]=4*t[e]+2*t[e+1];for(i[r-1]=2,a[r-1]=7,s[r-1]=8*t[r-1]+t[r],e=1;e<r;++e)n=i[e]/a[e-1],a[e]-=n,s[e]-=n*s[e-1];for(i[r-1]=s[r-1]/a[r-1],e=r-2;e>=0;--e)i[e]=(s[e]-i[e+1])/a[e];for(a[r-1]=(t[r]+i[r-1])/2,e=0;e<r-1;++e)a[e]=2*t[e+1]-i[e+1];return[i,a]}function fH(t){return new dH(t)}function px(t,e){this._context=t,this._t=e}px.prototype={areaStart:function(){this._line=0},areaEnd:function(){this._line=NaN},lineStart:function(){this._x=this._y=NaN,this._point=0},lineEnd:function(){0<this._t&&this._t<1&&this._point===2&&this._context.lineTo(this._x,this._y),(this._line||this._line!==0&&this._point===1)&&this._context.closePath(),this._line>=0&&(this._t=1-this._t,this._line=1-this._line)},point:function(t,e){switch(t=+t,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(t,e):this._context.moveTo(t,e);break;case 1:this._point=2;default:{if(this._t<=0)this._context.lineTo(this._x,e),this._context.lineTo(t,e);else{var r=this._x*(1-this._t)+t*this._t;this._context.lineTo(r,this._y),this._context.lineTo(r,e)}break}}this._x=t,this._y=e}};function hH(t){return new px(t,.5)}function pH(t){return new px(t,0)}function mH(t){return new px(t,1)}function jc(t,e){if((s=t.length)>1)for(var r=1,n,i,a=t[e[0]],s,o=a.length;r<s;++r)for(i=a,a=t[e[r]],n=0;n<o;++n)a[n][1]+=a[n][0]=isNaN(i[n][1])?i[n][0]:i[n][1]}function Bk(t){for(var e=t.length,r=new Array(e);--e>=0;)r[e]=e;return r}function Qbe(t,e){return t[e]}function Jbe(t){const e=[];return e.key=t,e}function Zbe(){var t=Ct([]),e=Bk,r=jc,n=Qbe;function i(a){var s=Array.from(t.apply(this,arguments),Jbe),o,c=s.length,d=-1,f;for(const p of a)for(o=0,++d;o<c;++o)(s[o][d]=[0,+n(p,s[o].key,d,a)]).data=p;for(o=0,f=fN(e(s));o<c;++o)s[f[o]].index=o;return r(s,f),s}return i.keys=function(a){return arguments.length?(t=typeof a=="function"?a:Ct(Array.from(a)),i):t},i.value=function(a){return arguments.length?(n=typeof a=="function"?a:Ct(+a),i):n},i.order=function(a){return arguments.length?(e=a==null?Bk:typeof a=="function"?a:Ct(Array.from(a)),i):e},i.offset=function(a){return arguments.length?(r=a??jc,i):r},i}function exe(t,e){if((n=t.length)>0){for(var r,n,i=0,a=t[0].length,s;i<a;++i){for(s=r=0;r<n;++r)s+=t[r][i][1]||0;if(s)for(r=0;r<n;++r)t[r][i][1]/=s}jc(t,e)}}function txe(t,e){if((i=t.length)>0){for(var r=0,n=t[e[0]],i,a=n.length;r<a;++r){for(var s=0,o=0;s<i;++s)o+=t[s][r][1]||0;n[r][1]+=n[r][0]=-o/2}jc(t,e)}}function rxe(t,e){if(!(!((s=t.length)>0)||!((a=(i=t[e[0]]).length)>0))){for(var r=0,n=1,i,a,s;n<a;++n){for(var o=0,c=0,d=0;o<s;++o){for(var f=t[e[o]],p=f[n][1]||0,g=f[n-1][1]||0,b=(p-g)/2,w=0;w<o;++w){var _=t[e[w]],x=_[n][1]||0,T=_[n-1][1]||0;b+=x-T}c+=p,d+=b*p}i[n-1][1]+=i[n-1][0]=r,c&&(r-=d/c)}i[n-1][1]+=i[n-1][0]=r,jc(t,e)}}var nxe=kC();const vN=Qt(nxe);var UE,W6;function ixe(){if(W6)return UE;W6=1;var t=OC(),e=YB(),r=ef();function n(i,a,s){for(var o=-1,c=a.length,d={};++o<c;){var f=a[o],p=t(i,f);s(p,f)&&e(d,r(f,i),p)}return d}return UE=n,UE}var qE,H6;function axe(){if(H6)return qE;H6=1;function t(e,r){return e!=null&&r in Object(e)}return qE=t,qE}var zE,G6;function sxe(){if(G6)return zE;G6=1;var t=ef(),e=_b(),r=Ui(),n=Ab(),i=AC(),a=Ib();function s(o,c,d){c=t(c,o);for(var f=-1,p=c.length,g=!1;++f<p;){var b=a(c[f]);if(!(g=o!=null&&d(o,b)))break;o=o[b]}return g||++f!=p?g:(p=o==null?0:o.length,!!p&&i(p)&&n(b,p)&&(r(o)||e(o)))}return zE=s,zE}var BE,K6;function oxe(){if(K6)return BE;K6=1;var t=axe(),e=sxe();function r(n,i){return n!=null&&e(n,i,t)}return BE=r,BE}var WE,Y6;function lxe(){if(Y6)return WE;Y6=1;var t=ixe(),e=oxe();function r(n,i){return t(n,i,function(a,s){return e(n,s)})}return WE=r,WE}var HE,X6;function bN(){if(X6)return HE;X6=1;function t(e,r){for(var n=-1,i=r.length,a=e.length;++n<i;)e[a+n]=r[n];return e}return HE=t,HE}var GE,Q6;function cxe(){if(Q6)return GE;Q6=1;var t=Jd(),e=_b(),r=Ui(),n=t?t.isConcatSpreadable:void 0;function i(a){return r(a)||e(a)||!!(n&&a&&a[n])}return GE=i,GE}var KE,J6;function uxe(){if(J6)return KE;J6=1;var t=bN(),e=cxe();function r(n,i,a,s,o){var c=-1,d=n.length;for(a||(a=e),o||(o=[]);++c<d;){var f=n[c];i>0&&a(f)?i>1?r(f,i-1,a,s,o):t(o,f):s||(o[o.length]=f)}return o}return KE=r,KE}var YE,Z6;function dxe(){if(Z6)return YE;Z6=1;var t=uxe();function e(r){var n=r==null?0:r.length;return n?t(r,1):[]}return YE=e,YE}var XE,eL;function gH(){if(eL)return XE;eL=1;var t=dxe(),e=HB(),r=GB();function n(i){return r(e(i,void 0,t),i+"")}return XE=n,XE}var QE,tL;function fxe(){if(tL)return QE;tL=1;var t=lxe(),e=gH(),r=e(function(n,i){return n==null?{}:t(n,i)});return QE=r,QE}var hxe=fxe();const pxe=Qt(hxe);var JE,rL;function mxe(){if(rL)return JE;rL=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i;)if(r(e[n],n,e))return!0;return!1}return JE=t,JE}var ZE,nL;function yH(){if(nL)return ZE;nL=1;var t=FW(),e=mxe(),r=$W(),n=1,i=2;function a(s,o,c,d,f,p){var g=c&n,b=s.length,w=o.length;if(b!=w&&!(g&&w>b))return!1;var _=p.get(s),x=p.get(o);if(_&&x)return _==o&&x==s;var T=-1,I=!0,P=c&i?new t:void 0;for(p.set(s,o),p.set(o,s);++T<b;){var j=s[T],O=o[T];if(d)var V=g?d(O,j,T,o,s,p):d(j,O,T,s,o,p);if(V!==void 0){if(V)continue;I=!1;break}if(P){if(!e(o,function(C,N){if(!r(P,N)&&(j===C||f(j,C,c,d,p)))return P.push(N)})){I=!1;break}}else if(!(j===O||f(j,O,c,d,p))){I=!1;break}}return p.delete(s),p.delete(o),I}return ZE=a,ZE}var eS,iL;function gxe(){if(iL)return eS;iL=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i,a){n[++r]=[a,i]}),n}return eS=t,eS}var tS,aL;function yxe(){if(aL)return tS;aL=1;function t(e){var r=-1,n=Array(e.size);return e.forEach(function(i){n[++r]=i}),n}return tS=t,tS}var rS,sL;function vxe(){if(sL)return rS;sL=1;var t=Jd(),e=LB(),r=lm(),n=yH(),i=gxe(),a=yxe(),s=1,o=2,c="[object Boolean]",d="[object Date]",f="[object Error]",p="[object Map]",g="[object Number]",b="[object RegExp]",w="[object Set]",_="[object String]",x="[object Symbol]",T="[object ArrayBuffer]",I="[object DataView]",P=t?t.prototype:void 0,j=P?P.valueOf:void 0;function O(V,C,N,M,F,D,U){switch(N){case I:if(V.byteLength!=C.byteLength||V.byteOffset!=C.byteOffset)return!1;V=V.buffer,C=C.buffer;case T:return!(V.byteLength!=C.byteLength||!D(new e(V),new e(C)));case c:case d:case g:return r(+V,+C);case f:return V.name==C.name&&V.message==C.message;case b:case _:return V==C+"";case p:var $=i;case w:var G=M&s;if($||($=a),V.size!=C.size&&!G)return!1;var ue=U.get(V);if(ue)return ue==C;M|=o,U.set(V,C);var ce=n($(V),$(C),M,F,D,U);return U.delete(V),ce;case x:if(j)return j.call(V)==j.call(C)}return!1}return rS=O,rS}var nS,oL;function vH(){if(oL)return nS;oL=1;var t=bN(),e=Ui();function r(n,i,a){var s=i(n);return e(n)?s:t(s,a(n))}return nS=r,nS}var iS,lL;function bxe(){if(lL)return iS;lL=1;function t(e,r){for(var n=-1,i=e==null?0:e.length,a=0,s=[];++n<i;){var o=e[n];r(o,n,e)&&(s[a++]=o)}return s}return iS=t,iS}var aS,cL;function bH(){if(cL)return aS;cL=1;function t(){return[]}return aS=t,aS}var sS,uL;function xN(){if(uL)return sS;uL=1;var t=bxe(),e=bH(),r=Object.prototype,n=r.propertyIsEnumerable,i=Object.getOwnPropertySymbols,a=i?function(s){return s==null?[]:(s=Object(s),t(i(s),function(o){return n.call(s,o)}))}:e;return sS=a,sS}var oS,dL;function xxe(){if(dL)return oS;dL=1;var t=VB(),e=t(Object.keys,Object);return oS=e,oS}var lS,fL;function wxe(){if(fL)return lS;fL=1;var t=TC(),e=xxe(),r=Object.prototype,n=r.hasOwnProperty;function i(a){if(!t(a))return e(a);var s=[];for(var o in Object(a))n.call(a,o)&&o!="constructor"&&s.push(o);return s}return lS=i,lS}var cS,hL;function wN(){if(hL)return cS;hL=1;var t=BB(),e=wxe(),r=Eb();function n(i){return r(i)?t(i):e(i)}return cS=n,cS}var uS,pL;function xH(){if(pL)return uS;pL=1;var t=vH(),e=xN(),r=wN();function n(i){return t(i,r,e)}return uS=n,uS}var dS,mL;function _xe(){if(mL)return dS;mL=1;var t=xH(),e=1,r=Object.prototype,n=r.hasOwnProperty;function i(a,s,o,c,d,f){var p=o&e,g=t(a),b=g.length,w=t(s),_=w.length;if(b!=_&&!p)return!1;for(var x=b;x--;){var T=g[x];if(!(p?T in s:n.call(s,T)))return!1}var I=f.get(a),P=f.get(s);if(I&&P)return I==s&&P==a;var j=!0;f.set(a,s),f.set(s,a);for(var O=p;++x<b;){T=g[x];var V=a[T],C=s[T];if(c)var N=p?c(C,V,T,s,a,f):c(V,C,T,a,s,f);if(!(N===void 0?V===C||d(V,C,o,c,f):N)){j=!1;break}O||(O=T=="constructor")}if(j&&!O){var M=a.constructor,F=s.constructor;M!=F&&"constructor"in a&&"constructor"in s&&!(typeof M=="function"&&M instanceof M&&typeof F=="function"&&F instanceof F)&&(j=!1)}return f.delete(a),f.delete(s),j}return dS=i,dS}var fS,gL;function Exe(){if(gL)return fS;gL=1;var t=Xc(),e=us(),r=t(e,"DataView");return fS=r,fS}var hS,yL;function Sxe(){if(yL)return hS;yL=1;var t=Xc(),e=us(),r=t(e,"Promise");return hS=r,hS}var pS,vL;function Txe(){if(vL)return pS;vL=1;var t=Xc(),e=us(),r=t(e,"Set");return pS=r,pS}var mS,bL;function Axe(){if(bL)return mS;bL=1;var t=Xc(),e=us(),r=t(e,"WeakMap");return mS=r,mS}var gS,xL;function mx(){if(xL)return gS;xL=1;var t=Exe(),e=bC(),r=Sxe(),n=Txe(),i=Axe(),a=Yc(),s=OB(),o="[object Map]",c="[object Object]",d="[object Promise]",f="[object Set]",p="[object WeakMap]",g="[object DataView]",b=s(t),w=s(e),_=s(r),x=s(n),T=s(i),I=a;return(t&&I(new t(new ArrayBuffer(1)))!=g||e&&I(new e)!=o||r&&I(r.resolve())!=d||n&&I(new n)!=f||i&&I(new i)!=p)&&(I=function(P){var j=a(P),O=j==c?P.constructor:void 0,V=O?s(O):"";if(V)switch(V){case b:return g;case w:return o;case _:return d;case x:return f;case T:return p}return j}),gS=I,gS}var yS,wL;function kxe(){if(wL)return yS;wL=1;var t=wC(),e=yH(),r=vxe(),n=_xe(),i=mx(),a=Ui(),s=Sb(),o=PC(),c=1,d="[object Arguments]",f="[object Array]",p="[object Object]",g=Object.prototype,b=g.hasOwnProperty;function w(_,x,T,I,P,j){var O=a(_),V=a(x),C=O?f:i(_),N=V?f:i(x);C=C==d?p:C,N=N==d?p:N;var M=C==p,F=N==p,D=C==N;if(D&&s(_)){if(!s(x))return!1;O=!0,M=!1}if(D&&!M)return j||(j=new t),O||o(_)?e(_,x,T,I,P,j):r(_,x,C,T,I,P,j);if(!(T&c)){var U=M&&b.call(_,"__wrapped__"),$=F&&b.call(x,"__wrapped__");if(U||$){var G=U?_.value():_,ue=$?x.value():x;return j||(j=new t),P(G,ue,T,I,j)}}return D?(j||(j=new t),n(_,x,T,I,P,j)):!1}return yS=w,yS}var vS,_L;function Ixe(){if(_L)return vS;_L=1;var t=kxe(),e=ds();function r(n,i,a,s,o){return n===i?!0:n==null||i==null||!e(n)&&!e(i)?n!==n&&i!==i:t(n,i,a,s,r,o)}return vS=r,vS}var bS,EL;function Pxe(){if(EL)return bS;EL=1;var t=Ixe();function e(r,n){return t(r,n)}return bS=e,bS}var Cxe=Pxe();const Nxe=Qt(Cxe);var Rxe={background:"transparent",text:{fontFamily:"sans-serif",fontSize:11,fill:"#333333",outlineWidth:0,outlineColor:"transparent",outlineOpacity:1},axis:{domain:{line:{stroke:"transparent",strokeWidth:1}},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{}},legend:{text:{fontSize:12}}},grid:{line:{stroke:"#dddddd",strokeWidth:1}},legends:{hidden:{symbol:{fill:"#333333",opacity:.6},text:{fill:"#333333",opacity:.6}},text:{},ticks:{line:{stroke:"#777777",strokeWidth:1},text:{fontSize:10}},title:{text:{}}},labels:{text:{}},markers:{lineColor:"#000000",lineStrokeWidth:1,text:{}},dots:{text:{}},tooltip:{container:{background:"white",color:"inherit",fontSize:"inherit",borderRadius:"2px",boxShadow:"0 1px 2px rgba(0, 0, 0, 0.25)",padding:"5px 9px"},basic:{whiteSpace:"pre",display:"flex",alignItems:"center"},chip:{marginRight:7},table:{},tableCell:{padding:"3px 5px"},tableCellValue:{fontWeight:"bold"}},crosshair:{line:{stroke:"#000000",strokeWidth:1,strokeOpacity:.75,strokeDasharray:"6 6"}},annotations:{text:{fontSize:13,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},link:{stroke:"#000000",strokeWidth:1,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},outline:{fill:"none",stroke:"#000000",strokeWidth:2,outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1},symbol:{fill:"#000000",outlineWidth:2,outlineColor:"#ffffff",outlineOpacity:1}}};function aa(){return aa=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},aa.apply(this,arguments)}function _N(t,e){if(t==null)return{};var r,n,i={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}var Oxe=["axis.ticks.text","axis.legend.text","legends.title.text","legends.text","legends.ticks.text","legends.title.text","labels.text","dots.text","markers.text","annotations.text"],jxe=function(t,e){return aa({},e,t)},Dxe=function(t,e){var r=fge({},t,e);return Oxe.forEach((function(n){jh(r,n,jxe(Xs(r,n),r.text))})),r},wH=E.createContext(),_H=function(t){var e=t.children,r=t.animate,n=r===void 0||r,i=t.config,a=i===void 0?"default":i,s=E.useMemo((function(){var o=e0e(a)?mC[a]:a;return{animate:n,config:o}}),[n,a]);return h.jsx(wH.Provider,{value:s,children:e})},SL={animate:ne.bool,motionConfig:ne.oneOfType([ne.oneOf(Object.keys(mC)),ne.shape({mass:ne.number,tension:ne.number,friction:ne.number,clamp:ne.bool,precision:ne.number,velocity:ne.number,duration:ne.number,easing:ne.func})])};_H.propTypes={children:ne.node.isRequired,animate:SL.animate,config:SL.motionConfig};var gx=function(){return E.useContext(wH)},Mxe={nivo:["#d76445","#f47560","#e8c1a0","#97e3d5","#61cdbb","#00b0a7"],BrBG:Fe(Fb),PRGn:Fe($b),PiYG:Fe(Vb),PuOr:Fe(Ub),RdBu:Fe(qb),RdGy:Fe(zb),RdYlBu:Fe(Bb),RdYlGn:Fe(Wb),spectral:Fe(Hb),blues:Fe(ax),greens:Fe(sx),greys:Fe(ox),oranges:Fe(ux),purples:Fe(lx),reds:Fe(cx),BuGn:Fe(Gb),BuPu:Fe(Kb),GnBu:Fe(Yb),OrRd:Fe(Xb),PuBuGn:Fe(Qb),PuBu:Fe(Jb),PuRd:Fe(Zb),RdPu:Fe(ex),YlGnBu:Fe(tx),YlGn:Fe(rx),YlOrBr:Fe(nx),YlOrRd:Fe(ix)},Lxe=Object.keys(Mxe);Fe(Fb),Fe($b),Fe(Vb),Fe(Ub),Fe(qb),Fe(zb),Fe(Bb),Fe(Wb),Fe(Hb),Fe(ax),Fe(sx),Fe(ox),Fe(ux),Fe(lx),Fe(cx),Fe(Gb),Fe(Kb),Fe(Yb),Fe(Xb),Fe(Qb),Fe(Jb),Fe(Zb),Fe(ex),Fe(tx),Fe(rx),Fe(nx),Fe(ix);ne.oneOfType([ne.oneOf(Lxe),ne.func,ne.arrayOf(ne.string)]);var Fxe={basis:XW,basisClosed:JW,basisOpen:eH,bundle:Bbe,cardinal:Wbe,cardinalClosed:Hbe,cardinalOpen:Gbe,catmullRom:Kbe,catmullRomClosed:Ybe,catmullRomOpen:Xbe,linear:fm,linearClosed:sH,monotoneX:cH,monotoneY:uH,natural:fH,step:hH,stepAfter:mH,stepBefore:pH},EN=Object.keys(Fxe);EN.filter((function(t){return t.endsWith("Closed")}));VW(EN,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed");VW(EN,"bundle","basisClosed","basisOpen","cardinalClosed","cardinalOpen","catmullRomClosed","catmullRomOpen","linearClosed");ne.shape({top:ne.number,right:ne.number,bottom:ne.number,left:ne.number}).isRequired;var $xe=["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"];ne.oneOf($xe);Go(MW);var Vxe={top:0,right:0,bottom:0,left:0},Uxe=function(t,e,r){return r===void 0&&(r={}),E.useMemo((function(){var n=aa({},Vxe,r);return{margin:n,innerWidth:t-n.left-n.right,innerHeight:e-n.top-n.bottom,outerWidth:t,outerHeight:e}}),[t,e,r.top,r.right,r.bottom,r.left])},EH=function(){var t=E.useRef(null),e=E.useState({left:0,top:0,width:0,height:0}),r=e[0],n=e[1],i=E.useState((function(){return typeof ResizeObserver>"u"?null:new ResizeObserver((function(a){var s=a[0];return n(s.contentRect)}))}))[0];return E.useEffect((function(){return t.current&&i!==null&&i.observe(t.current),function(){i!==null&&i.disconnect()}}),[]),[t,r]},qxe=function(t){return E.useMemo((function(){return Dxe(Rxe,t)}),[t])},zxe=function(t){return typeof t=="function"?t:typeof t=="string"?t.indexOf("time:")===0?oN(t.slice("5")):Ob(t):function(e){return""+e}},SH=function(t){return E.useMemo((function(){return zxe(t)}),[t])},TH=E.createContext(),Bxe={},AH=function(t){var e=t.theme,r=e===void 0?Bxe:e,n=t.children,i=qxe(r);return h.jsx(TH.Provider,{value:i,children:n})};AH.propTypes={children:ne.node.isRequired,theme:ne.object};var fs=function(){return E.useContext(TH)},Wxe=["outlineWidth","outlineColor","outlineOpacity"],Hxe=function(t){return t.outlineWidth,t.outlineColor,t.outlineOpacity,_N(t,Wxe)},kH=function(t){var e=t.children,r=t.condition,n=t.wrapper;return r?E.cloneElement(n,{},e):e};kH.propTypes={children:ne.node.isRequired,condition:ne.bool.isRequired,wrapper:ne.element.isRequired};var Gxe={position:"relative"},IH=function(t){var e=t.children,r=t.theme,n=t.renderWrapper,i=n===void 0||n,a=t.isInteractive,s=a===void 0||a,o=t.animate,c=t.motionConfig,d=E.useRef(null);return h.jsx(AH,{theme:r,children:h.jsx(_H,{animate:o,config:c,children:h.jsx(yme,{container:d,children:h.jsxs(kH,{condition:i,wrapper:h.jsx("div",{style:Gxe,ref:d}),children:[e,s&&h.jsx(gme,{})]})})})})};IH.propTypes={children:ne.element.isRequired,isInteractive:ne.bool,renderWrapper:ne.bool,theme:ne.object,animate:ne.bool,motionConfig:ne.string};ne.func.isRequired,ne.bool,ne.bool,ne.object.isRequired,ne.bool.isRequired,ne.string;var PH=function(t){var e=t.children,r=EH(),n=r[0],i=r[1],a=i.width>0&&i.height>0;return h.jsx("div",{ref:n,style:{width:"100%",height:"100%"},children:a&&e({width:i.width,height:i.height})})};PH.propTypes={children:ne.func.isRequired};var Kxe=["id","colors"],CH=function(t){var e=t.id,r=t.colors,n=_N(t,Kxe);return h.jsx("linearGradient",aa({id:e,x1:0,x2:0,y1:0,y2:1},n,{children:r.map((function(i){var a=i.offset,s=i.color,o=i.opacity;return h.jsx("stop",{offset:a+"%",stopColor:s,stopOpacity:o!==void 0?o:1},a)}))}))};CH.propTypes={id:ne.string.isRequired,colors:ne.arrayOf(ne.shape({offset:ne.number.isRequired,color:ne.string.isRequired,opacity:ne.number})).isRequired,gradientTransform:ne.string};var NH={linearGradient:CH},ph={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},Wk=E.memo((function(t){var e=t.id,r=t.background,n=r===void 0?ph.background:r,i=t.color,a=i===void 0?ph.color:i,s=t.size,o=s===void 0?ph.size:s,c=t.padding,d=c===void 0?ph.padding:c,f=t.stagger,p=f===void 0?ph.stagger:f,g=o+d,b=o/2,w=d/2;return p===!0&&(g=2*o+2*d),h.jsxs("pattern",{id:e,width:g,height:g,patternUnits:"userSpaceOnUse",children:[h.jsx("rect",{width:g,height:g,fill:n}),h.jsx("circle",{cx:w+b,cy:w+b,r:b,fill:a}),p&&h.jsx("circle",{cx:1.5*d+o+b,cy:1.5*d+o+b,r:b,fill:a})]})}));Wk.displayName="PatternDots",Wk.propTypes={id:ne.string.isRequired,color:ne.string.isRequired,background:ne.string.isRequired,size:ne.number.isRequired,padding:ne.number.isRequired,stagger:ne.bool.isRequired};var TL=function(t){return t*Math.PI/180},mh={spacing:5,rotation:0,background:"#000000",color:"#ffffff",lineWidth:2},Hk=E.memo((function(t){var e=t.id,r=t.spacing,n=r===void 0?mh.spacing:r,i=t.rotation,a=i===void 0?mh.rotation:i,s=t.background,o=s===void 0?mh.background:s,c=t.color,d=c===void 0?mh.color:c,f=t.lineWidth,p=f===void 0?mh.lineWidth:f,g=Math.round(a)%360,b=Math.abs(n);g>180?g-=360:g>90?g-=180:g<-180?g+=360:g<-90&&(g+=180);var w,_=b,x=b;return g===0?w=`
                M 0 0 L `+_+` 0
                M 0 `+x+" L "+_+" "+x+`
            `:g===90?w=`
                M 0 0 L 0 `+x+`
                M `+_+" 0 L "+_+" "+x+`
            `:(_=Math.abs(b/Math.sin(TL(g))),x=b/Math.sin(TL(90-g)),w=g>0?`
                    M 0 `+-x+" L "+2*_+" "+x+`
                    M `+-_+" "+-x+" L "+_+" "+x+`
                    M `+-_+" 0 L "+_+" "+2*x+`
                `:`
                    M `+-_+" "+x+" L "+_+" "+-x+`
                    M `+-_+" "+2*x+" L "+2*_+" "+-x+`
                    M 0 `+2*x+" L "+2*_+` 0
                `),h.jsxs("pattern",{id:e,width:_,height:x,patternUnits:"userSpaceOnUse",children:[h.jsx("rect",{width:_,height:x,fill:o,stroke:"rgba(255, 0, 0, 0.1)",strokeWidth:0}),h.jsx("path",{d:w,strokeWidth:p,stroke:d,strokeLinecap:"square"})]})}));Hk.displayName="PatternLines",Hk.propTypes={id:ne.string.isRequired,spacing:ne.number.isRequired,rotation:ne.number.isRequired,background:ne.string.isRequired,color:ne.string.isRequired,lineWidth:ne.number.isRequired};var gh={color:"#000000",background:"#ffffff",size:4,padding:4,stagger:!1},Gk=E.memo((function(t){var e=t.id,r=t.color,n=r===void 0?gh.color:r,i=t.background,a=i===void 0?gh.background:i,s=t.size,o=s===void 0?gh.size:s,c=t.padding,d=c===void 0?gh.padding:c,f=t.stagger,p=f===void 0?gh.stagger:f,g=o+d,b=d/2;return p===!0&&(g=2*o+2*d),h.jsxs("pattern",{id:e,width:g,height:g,patternUnits:"userSpaceOnUse",children:[h.jsx("rect",{width:g,height:g,fill:a}),h.jsx("rect",{x:b,y:b,width:o,height:o,fill:n}),p&&h.jsx("rect",{x:1.5*d+o,y:1.5*d+o,width:o,height:o,fill:n})]})}));Gk.displayName="PatternSquares",Gk.propTypes={id:ne.string.isRequired,color:ne.string.isRequired,background:ne.string.isRequired,size:ne.number.isRequired,padding:ne.number.isRequired,stagger:ne.bool.isRequired};var RH={patternDots:Wk,patternLines:Hk,patternSquares:Gk},Yxe=["type"],Kk=aa({},NH,RH),OH=function(t){var e=t.defs;return!e||e.length<1?null:h.jsx("defs",{"aria-hidden":!0,children:e.map((function(r){var n=r.type,i=_N(r,Yxe);return Kk[n]?E.createElement(Kk[n],aa({key:i.id},i)):null}))})};OH.propTypes={defs:ne.arrayOf(ne.shape({type:ne.oneOf(Object.keys(Kk)).isRequired,id:ne.string.isRequired}))};var Xxe=E.memo(OH),jH=function(t){var e=t.width,r=t.height,n=t.margin,i=t.defs,a=t.children,s=t.role,o=t.ariaLabel,c=t.ariaLabelledBy,d=t.ariaDescribedBy,f=t.isFocusable,p=fs();return h.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:e,height:r,role:s,"aria-label":o,"aria-labelledby":c,"aria-describedby":d,focusable:f,tabIndex:f?0:void 0,children:[h.jsx(Xxe,{defs:i}),h.jsx("rect",{width:e,height:r,fill:p.background}),h.jsx("g",{transform:"translate("+n.left+","+n.top+")",children:a})]})};jH.propTypes={width:ne.number.isRequired,height:ne.number.isRequired,margin:ne.shape({top:ne.number.isRequired,left:ne.number.isRequired}).isRequired,defs:ne.array,children:ne.oneOfType([ne.arrayOf(ne.node),ne.node]).isRequired,role:ne.string,isFocusable:ne.bool,ariaLabel:ne.string,ariaLabelledBy:ne.string,ariaDescribedBy:ne.string};var DH=function(t){var e=t.size,r=t.color,n=t.borderWidth,i=t.borderColor;return h.jsx("circle",{r:e/2,fill:r,stroke:i,strokeWidth:n,style:{pointerEvents:"none"}})};DH.propTypes={size:ne.number.isRequired,color:ne.string.isRequired,borderWidth:ne.number.isRequired,borderColor:ne.string.isRequired};var Qxe=E.memo(DH),MH=function(t){var e=t.x,r=t.y,n=t.symbol,i=n===void 0?Qxe:n,a=t.size,s=t.datum,o=t.color,c=t.borderWidth,d=t.borderColor,f=t.label,p=t.labelTextAnchor,g=p===void 0?"middle":p,b=t.labelYOffset,w=b===void 0?-12:b,_=fs(),x=gx(),T=x.animate,I=x.config,P=vC({transform:"translate("+e+", "+r+")",config:I,immediate:!T});return h.jsxs(na.g,{transform:P.transform,style:{pointerEvents:"none"},children:[E.createElement(i,{size:a,color:o,datum:s,borderWidth:c,borderColor:d}),f&&h.jsx("text",{textAnchor:g,y:w,style:Hxe(_.dots.text),children:f})]})};MH.propTypes={x:ne.number.isRequired,y:ne.number.isRequired,datum:ne.object.isRequired,size:ne.number.isRequired,color:ne.string.isRequired,borderWidth:ne.number.isRequired,borderColor:ne.string.isRequired,symbol:ne.oneOfType([ne.func,ne.object]),label:ne.oneOfType([ne.string,ne.number]),labelTextAnchor:ne.oneOf(["start","middle","end"]),labelYOffset:ne.number};E.memo(MH);var LH=function(t){var e=t.width,r=t.height,n=t.axis,i=t.scale,a=t.value,s=t.lineStyle,o=t.textStyle,c=t.legend,d=t.legendPosition,f=d===void 0?"top-right":d,p=t.legendOffsetX,g=p===void 0?14:p,b=t.legendOffsetY,w=b===void 0?14:b,_=t.legendOrientation,x=_===void 0?"horizontal":_,T=fs(),I=0,P=0,j=0,O=0;n==="y"?(j=i(a),P=e):(I=i(a),O=r);var V=null;if(c){var C=(function(N){var M=N.axis,F=N.width,D=N.height,U=N.position,$=N.offsetX,G=N.offsetY,ue=N.orientation,ce=0,se=0,Q=ue==="vertical"?-90:0,X="start";if(M==="x")switch(U){case"top-left":ce=-$,se=G,X="end";break;case"top":se=-G,X=ue==="horizontal"?"middle":"start";break;case"top-right":ce=$,se=G,X=ue==="horizontal"?"start":"end";break;case"right":ce=$,se=D/2,X=ue==="horizontal"?"start":"middle";break;case"bottom-right":ce=$,se=D-G,X="start";break;case"bottom":se=D+G,X=ue==="horizontal"?"middle":"end";break;case"bottom-left":se=D-G,ce=-$,X=ue==="horizontal"?"end":"start";break;case"left":ce=-$,se=D/2,X=ue==="horizontal"?"end":"middle"}else switch(U){case"top-left":ce=$,se=-G,X="start";break;case"top":ce=F/2,se=-G,X=ue==="horizontal"?"middle":"start";break;case"top-right":ce=F-$,se=-G,X=ue==="horizontal"?"end":"start";break;case"right":ce=F+$,X=ue==="horizontal"?"start":"middle";break;case"bottom-right":ce=F-$,se=G,X="end";break;case"bottom":ce=F/2,se=G,X=ue==="horizontal"?"middle":"end";break;case"bottom-left":ce=$,se=G,X=ue==="horizontal"?"start":"end";break;case"left":ce=-$,X=ue==="horizontal"?"end":"middle"}return{x:ce,y:se,rotation:Q,textAnchor:X}})({axis:n,width:e,height:r,position:f,offsetX:g,offsetY:w,orientation:x});V=h.jsx("text",{transform:"translate("+C.x+", "+C.y+") rotate("+C.rotation+")",textAnchor:C.textAnchor,dominantBaseline:"central",style:o,children:c})}return h.jsxs("g",{transform:"translate("+I+", "+j+")",children:[h.jsx("line",{x1:0,x2:P,y1:0,y2:O,stroke:T.markers.lineColor,strokeWidth:T.markers.lineStrokeWidth,style:s}),V]})};LH.propTypes={width:ne.number.isRequired,height:ne.number.isRequired,axis:ne.oneOf(["x","y"]).isRequired,scale:ne.func.isRequired,value:ne.oneOfType([ne.number,ne.string,ne.instanceOf(Date)]).isRequired,lineStyle:ne.object,textStyle:ne.object,legend:ne.string,legendPosition:ne.oneOf(["top-left","top","top-right","right","bottom-right","bottom","bottom-left","left"]),legendOffsetX:ne.number.isRequired,legendOffsetY:ne.number.isRequired,legendOrientation:ne.oneOf(["horizontal","vertical"]).isRequired};var Jxe=E.memo(LH),FH=function(t){var e=t.markers,r=t.width,n=t.height,i=t.xScale,a=t.yScale;return e&&e.length!==0?e.map((function(s,o){return h.jsx(Jxe,aa({},s,{width:r,height:n,scale:s.axis==="y"?a:i}),o)})):null};FH.propTypes={width:ne.number.isRequired,height:ne.number.isRequired,xScale:ne.func.isRequired,yScale:ne.func.isRequired,markers:ne.arrayOf(ne.shape({axis:ne.oneOf(["x","y"]).isRequired,value:ne.oneOfType([ne.number,ne.string,ne.instanceOf(Date)]).isRequired,lineStyle:ne.object,textStyle:ne.object}))};E.memo(FH);var Zxe=function(t){return LW(t)?t:function(e){return Xs(e,t)}},c0=function(t){return E.useMemo((function(){return Zxe(t)}),[t])},e1e=Object.keys(NH),t1e=Object.keys(RH),r1e=function(t,e,r){if(t==="*")return!0;if(LW(t))return t(e);if(vN(t)){var n=r?Xs(e,r):e;return Nxe(pxe(n,Object.keys(t)),t)}return!1},n1e=function(t,e,r,n){var i={},a=i.dataKey,s=i.colorKey,o=s===void 0?"color":s,c=i.targetKey,d=c===void 0?"fill":c,f=[],p={};return t.length&&e.length&&(f=[].concat(t),e.forEach((function(g){for(var b=function(){var _=r[w],x=_.id,T=_.match;if(r1e(T,g,a)){var I=t.find((function(F){return F.id===x}));if(I){if(t1e.includes(I.type))if(I.background==="inherit"||I.color==="inherit"){var P=Xs(g,o),j=I.background,O=I.color,V=x;I.background==="inherit"&&(V=V+".bg."+P,j=P),I.color==="inherit"&&(V=V+".fg."+P,O=P),jh(g,d,"url(#"+V+")"),p[V]||(f.push(aa({},I,{id:V,background:j,color:O})),p[V]=1)}else jh(g,d,"url(#"+x+")");else if(e1e.includes(I.type))if(I.colors.map((function(F){return F.color})).includes("inherit")){var C=Xs(g,o),N=x,M=aa({},I,{colors:I.colors.map((function(F,D){return F.color!=="inherit"?F:(N=N+"."+D+"."+C,aa({},F,{color:F.color==="inherit"?C:F.color}))}))});M.id=N,jh(g,d,"url(#"+N+")"),p[N]||(f.push(M),p[N]=1)}else jh(g,d,"url(#"+x+")")}return"break"}},w=0;w<r.length&&b()!=="break";w++);}))),f},xS,AL;function i1e(){if(AL)return xS;AL=1;function t(e,r){for(var n=-1,i=e==null?0:e.length;++n<i&&r(e[n],n,e)!==!1;);return e}return xS=t,xS}var wS,kL;function a1e(){if(kL)return wS;kL=1;var t=Zd(),e=wN();function r(n,i){return n&&t(i,e(i),n)}return wS=r,wS}var _S,IL;function s1e(){if(IL)return _S;IL=1;var t=Zd(),e=cm();function r(n,i){return n&&t(i,e(i),n)}return _S=r,_S}var ES,PL;function o1e(){if(PL)return ES;PL=1;var t=Zd(),e=xN();function r(n,i){return t(n,e(n),i)}return ES=r,ES}var SS,CL;function $H(){if(CL)return SS;CL=1;var t=bN(),e=SC(),r=xN(),n=bH(),i=Object.getOwnPropertySymbols,a=i?function(s){for(var o=[];s;)t(o,r(s)),s=e(s);return o}:n;return SS=a,SS}var TS,NL;function l1e(){if(NL)return TS;NL=1;var t=Zd(),e=$H();function r(n,i){return t(n,e(n),i)}return TS=r,TS}var AS,RL;function VH(){if(RL)return AS;RL=1;var t=vH(),e=$H(),r=cm();function n(i){return t(i,r,e)}return AS=n,AS}var kS,OL;function c1e(){if(OL)return kS;OL=1;var t=Object.prototype,e=t.hasOwnProperty;function r(n){var i=n.length,a=new n.constructor(i);return i&&typeof n[0]=="string"&&e.call(n,"index")&&(a.index=n.index,a.input=n.input),a}return kS=r,kS}var IS,jL;function u1e(){if(jL)return IS;jL=1;var t=EC();function e(r,n){var i=n?t(r.buffer):r.buffer;return new r.constructor(i,r.byteOffset,r.byteLength)}return IS=e,IS}var PS,DL;function d1e(){if(DL)return PS;DL=1;var t=/\w*$/;function e(r){var n=new r.constructor(r.source,t.exec(r));return n.lastIndex=r.lastIndex,n}return PS=e,PS}var CS,ML;function f1e(){if(ML)return CS;ML=1;var t=Jd(),e=t?t.prototype:void 0,r=e?e.valueOf:void 0;function n(i){return r?Object(r.call(i)):{}}return CS=n,CS}var NS,LL;function h1e(){if(LL)return NS;LL=1;var t=EC(),e=u1e(),r=d1e(),n=f1e(),i=FB(),a="[object Boolean]",s="[object Date]",o="[object Map]",c="[object Number]",d="[object RegExp]",f="[object Set]",p="[object String]",g="[object Symbol]",b="[object ArrayBuffer]",w="[object DataView]",_="[object Float32Array]",x="[object Float64Array]",T="[object Int8Array]",I="[object Int16Array]",P="[object Int32Array]",j="[object Uint8Array]",O="[object Uint8ClampedArray]",V="[object Uint16Array]",C="[object Uint32Array]";function N(M,F,D){var U=M.constructor;switch(F){case b:return t(M);case a:case s:return new U(+M);case w:return e(M,D);case _:case x:case T:case I:case P:case j:case O:case V:case C:return i(M,D);case o:return new U;case c:case p:return new U(M);case d:return r(M);case f:return new U;case g:return n(M)}}return NS=N,NS}var RS,FL;function p1e(){if(FL)return RS;FL=1;var t=mx(),e=ds(),r="[object Map]";function n(i){return e(i)&&t(i)==r}return RS=n,RS}var OS,$L;function m1e(){if($L)return OS;$L=1;var t=p1e(),e=Tb(),r=IC(),n=r&&r.isMap,i=n?e(n):t;return OS=i,OS}var jS,VL;function g1e(){if(VL)return jS;VL=1;var t=mx(),e=ds(),r="[object Set]";function n(i){return e(i)&&t(i)==r}return jS=n,jS}var DS,UL;function y1e(){if(UL)return DS;UL=1;var t=g1e(),e=Tb(),r=IC(),n=r&&r.isSet,i=n?e(n):t;return DS=i,DS}var MS,qL;function UH(){if(qL)return MS;qL=1;var t=wC(),e=i1e(),r=CC(),n=a1e(),i=s1e(),a=MB(),s=$B(),o=o1e(),c=l1e(),d=xH(),f=VH(),p=mx(),g=c1e(),b=h1e(),w=UB(),_=Ui(),x=Sb(),T=m1e(),I=no(),P=y1e(),j=wN(),O=cm(),V=1,C=2,N=4,M="[object Arguments]",F="[object Array]",D="[object Boolean]",U="[object Date]",$="[object Error]",G="[object Function]",ue="[object GeneratorFunction]",ce="[object Map]",se="[object Number]",Q="[object Object]",X="[object RegExp]",ie="[object Set]",B="[object String]",Z="[object Symbol]",_e="[object WeakMap]",oe="[object ArrayBuffer]",xe="[object DataView]",Ee="[object Float32Array]",Se="[object Float64Array]",De="[object Int8Array]",re="[object Int16Array]",Ae="[object Int32Array]",He="[object Uint8Array]",fe="[object Uint8ClampedArray]",ft="[object Uint16Array]",Ye="[object Uint32Array]",Me={};Me[M]=Me[F]=Me[oe]=Me[xe]=Me[D]=Me[U]=Me[Ee]=Me[Se]=Me[De]=Me[re]=Me[Ae]=Me[ce]=Me[se]=Me[Q]=Me[X]=Me[ie]=Me[B]=Me[Z]=Me[He]=Me[fe]=Me[ft]=Me[Ye]=!0,Me[$]=Me[G]=Me[_e]=!1;function ht(Be,rr,mt,_t,cr,We){var it,tn=rr&V,ur=rr&C,ct=rr&N;if(mt&&(it=cr?mt(Be,_t,cr,We):mt(Be)),it!==void 0)return it;if(!I(Be))return Be;var $r=_(Be);if($r){if(it=g(Be),!tn)return s(Be,it)}else{var Wt=p(Be),yn=Wt==G||Wt==ue;if(x(Be))return a(Be,tn);if(Wt==Q||Wt==M||yn&&!cr){if(it=ur||yn?{}:w(Be),!tn)return ur?c(Be,i(it,Be)):o(Be,n(it,Be))}else{if(!Me[Wt])return cr?Be:{};it=b(Be,Wt,tn)}}We||(We=new t);var Vr=We.get(Be);if(Vr)return Vr;We.set(Be,it),P(Be)?Be.forEach(function(nr){it.add(ht(nr,rr,mt,nr,Be,We))}):T(Be)&&Be.forEach(function(nr,dr){it.set(dr,ht(nr,rr,mt,dr,Be,We))});var vn=ct?ur?f:d:ur?O:j,mi=$r?void 0:vn(Be);return e(mi||Be,function(nr,dr){mi&&(dr=nr,nr=Be[dr]),r(it,dr,ht(nr,rr,mt,dr,Be,We))}),it}return MS=ht,MS}var LS,zL;function qH(){if(zL)return LS;zL=1;function t(e,r,n){var i=-1,a=e.length;r<0&&(r=-r>a?0:a+r),n=n>a?a:n,n<0&&(n+=a),a=r>n?0:n-r>>>0,r>>>=0;for(var s=Array(a);++i<a;)s[i]=e[i+r];return s}return LS=t,LS}var FS,BL;function v1e(){if(BL)return FS;BL=1;var t=OC(),e=qH();function r(n,i){return i.length<2?n:t(n,e(i,0,-1))}return FS=r,FS}var $S,WL;function b1e(){if(WL)return $S;WL=1;var t=ef(),e=tW(),r=v1e(),n=Ib(),i=Object.prototype,a=i.hasOwnProperty;function s(o,c){c=t(c,o);var d=-1,f=c.length;if(!f)return!0;for(var p=o==null||typeof o!="object"&&typeof o!="function";++d<f;){var g=c[d];if(typeof g=="string"){if(g==="__proto__"&&!a.call(o,"__proto__"))return!1;if(g==="constructor"&&d+1<f&&typeof c[d+1]=="string"&&c[d+1]==="prototype"){if(p&&d===0)continue;return!1}}}var b=r(o,c);return b==null||delete b[n(e(c))]}return $S=s,$S}var VS,HL;function x1e(){if(HL)return VS;HL=1;var t=kC();function e(r){return t(r)?void 0:r}return VS=e,VS}var US,GL;function w1e(){if(GL)return US;GL=1;var t=RC(),e=UH(),r=b1e(),n=ef(),i=Zd(),a=x1e(),s=gH(),o=VH(),c=1,d=2,f=4,p=s(function(g,b){var w={};if(g==null)return w;var _=!1;b=t(b,function(T){return T=n(T,g),_||(_=T.length>1),T}),i(g,o(g),w),_&&(w=e(w,c|d|f,a));for(var x=b.length;x--;)r(w,b[x]);return w});return US=p,US}var _1e=w1e();const E1e=Qt(_1e);var qS,KL;function S1e(){if(KL)return qS;KL=1;var t=UH(),e=1,r=4;function n(i){return t(i,e|r)}return qS=n,qS}var T1e=S1e();const A1e=Qt(T1e);var zS,YL;function k1e(){if(YL)return zS;YL=1;function t(e,r,n,i){var a=-1,s=e==null?0:e.length;for(i&&s&&(n=e[++a]);++a<s;)n=r(n,e[a],a,e);return n}return zS=t,zS}var BS,XL;function I1e(){if(XL)return BS;XL=1;function t(e){return function(r){return e?.[r]}}return BS=t,BS}var WS,QL;function P1e(){if(QL)return WS;QL=1;var t=I1e(),e={:"A",:"A",:"A",:"A",:"A",:"A",:"a",:"a",:"a",:"a",:"a",:"a",:"C",:"c",:"D",:"d",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"N",:"n",:"O",:"O",:"O",:"O",:"O",:"O",:"o",:"o",:"o",:"o",:"o",:"o",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"Y",:"y",:"y",:"Ae",:"ae",:"Th",:"th",:"ss",:"A",:"A",:"A",:"a",:"a",:"a",:"C",:"C",:"C",:"C",:"c",:"c",:"c",:"c",:"D",:"D",:"d",:"d",:"E",:"E",:"E",:"E",:"E",:"e",:"e",:"e",:"e",:"e",:"G",:"G",:"G",:"G",:"g",:"g",:"g",:"g",:"H",:"H",:"h",:"h",:"I",:"I",:"I",:"I",:"I",:"i",:"i",:"i",:"i",:"i",:"J",:"j",:"K",:"k",:"k",:"L",:"L",:"L",:"L",:"L",:"l",:"l",:"l",:"l",:"l",:"N",:"N",:"N",:"N",:"n",:"n",:"n",:"n",:"O",:"O",:"O",:"o",:"o",:"o",:"R",:"R",:"R",:"r",:"r",:"r",:"S",:"S",:"S",:"S",:"s",:"s",:"s",:"s",:"T",:"T",:"T",:"t",:"t",:"t",:"U",:"U",:"U",:"U",:"U",:"U",:"u",:"u",:"u",:"u",:"u",:"u",:"W",:"w",:"Y",:"y",:"Y",:"Z",:"Z",:"Z",:"z",:"z",:"z",:"IJ",:"ij",:"Oe",:"oe",:"'n",:"s"},r=t(e);return WS=r,WS}var HS,JL;function C1e(){if(JL)return HS;JL=1;var t=P1e(),e=kb(),r=/[\xc0-\xd6\xd8-\xf6\xf8-\xff\u0100-\u017f]/g,n="\\u0300-\\u036f",i="\\ufe20-\\ufe2f",a="\\u20d0-\\u20ff",s=n+i+a,o="["+s+"]",c=RegExp(o,"g");function d(f){return f=e(f),f&&f.replace(r,t).replace(c,"")}return HS=d,HS}var GS,ZL;function N1e(){if(ZL)return GS;ZL=1;var t=/[^\x00-\x2f\x3a-\x40\x5b-\x60\x7b-\x7f]+/g;function e(r){return r.match(t)||[]}return GS=e,GS}var KS,e8;function R1e(){if(e8)return KS;e8=1;var t=/[a-z][A-Z]|[A-Z]{2}[a-z]|[0-9][a-zA-Z]|[a-zA-Z][0-9]|[^a-zA-Z0-9 ]/;function e(r){return t.test(r)}return KS=e,KS}var YS,t8;function O1e(){if(t8)return YS;t8=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\u2700-\\u27bf",s="a-z\\xdf-\\xf6\\xf8-\\xff",o="\\xac\\xb1\\xd7\\xf7",c="\\x00-\\x2f\\x3a-\\x40\\x5b-\\x60\\x7b-\\xbf",d="\\u2000-\\u206f",f=" \\t\\x0b\\f\\xa0\\ufeff\\n\\r\\u2028\\u2029\\u1680\\u180e\\u2000\\u2001\\u2002\\u2003\\u2004\\u2005\\u2006\\u2007\\u2008\\u2009\\u200a\\u202f\\u205f\\u3000",p="A-Z\\xc0-\\xd6\\xd8-\\xde",g="\\ufe0e\\ufe0f",b=o+c+d+f,w="[']",_="["+b+"]",x="["+i+"]",T="\\d+",I="["+a+"]",P="["+s+"]",j="[^"+t+b+T+a+s+p+"]",O="\\ud83c[\\udffb-\\udfff]",V="(?:"+x+"|"+O+")",C="[^"+t+"]",N="(?:\\ud83c[\\udde6-\\uddff]){2}",M="[\\ud800-\\udbff][\\udc00-\\udfff]",F="["+p+"]",D="\\u200d",U="(?:"+P+"|"+j+")",$="(?:"+F+"|"+j+")",G="(?:"+w+"(?:d|ll|m|re|s|t|ve))?",ue="(?:"+w+"(?:D|LL|M|RE|S|T|VE))?",ce=V+"?",se="["+g+"]?",Q="(?:"+D+"(?:"+[C,N,M].join("|")+")"+se+ce+")*",X="\\d*(?:1st|2nd|3rd|(?![123])\\dth)(?=\\b|[A-Z_])",ie="\\d*(?:1ST|2ND|3RD|(?![123])\\dTH)(?=\\b|[a-z_])",B=se+ce+Q,Z="(?:"+[I,N,M].join("|")+")"+B,_e=RegExp([F+"?"+P+"+"+G+"(?="+[_,F,"$"].join("|")+")",$+"+"+ue+"(?="+[_,F+U,"$"].join("|")+")",F+"?"+U+"+"+G,F+"+"+ue,ie,X,T,Z].join("|"),"g");function oe(xe){return xe.match(_e)||[]}return YS=oe,YS}var XS,r8;function j1e(){if(r8)return XS;r8=1;var t=N1e(),e=R1e(),r=kb(),n=O1e();function i(a,s,o){return a=r(a),s=o?void 0:s,s===void 0?e(a)?n(a):t(a):a.match(s)||[]}return XS=i,XS}var QS,n8;function D1e(){if(n8)return QS;n8=1;var t=k1e(),e=C1e(),r=j1e(),n="[']",i=RegExp(n,"g");function a(s){return function(o){return t(r(e(o).replace(i,"")),s,"")}}return QS=a,QS}var JS,i8;function M1e(){if(i8)return JS;i8=1;var t=qH();function e(r,n,i){var a=r.length;return i=i===void 0?a:i,!n&&i>=a?r:t(r,n,i)}return JS=e,JS}var ZS,a8;function zH(){if(a8)return ZS;a8=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="\\u200d",o=RegExp("["+s+t+i+a+"]");function c(d){return o.test(d)}return ZS=c,ZS}var eT,s8;function L1e(){if(s8)return eT;s8=1;function t(e){return e.split("")}return eT=t,eT}var tT,o8;function F1e(){if(o8)return tT;o8=1;var t="\\ud800-\\udfff",e="\\u0300-\\u036f",r="\\ufe20-\\ufe2f",n="\\u20d0-\\u20ff",i=e+r+n,a="\\ufe0e\\ufe0f",s="["+t+"]",o="["+i+"]",c="\\ud83c[\\udffb-\\udfff]",d="(?:"+o+"|"+c+")",f="[^"+t+"]",p="(?:\\ud83c[\\udde6-\\uddff]){2}",g="[\\ud800-\\udbff][\\udc00-\\udfff]",b="\\u200d",w=d+"?",_="["+a+"]?",x="(?:"+b+"(?:"+[f,p,g].join("|")+")"+_+w+")*",T=_+w+x,I="(?:"+[f+o+"?",o,p,g,s].join("|")+")",P=RegExp(c+"(?="+c+")|"+I+T,"g");function j(O){return O.match(P)||[]}return tT=j,tT}var rT,l8;function $1e(){if(l8)return rT;l8=1;var t=L1e(),e=zH(),r=F1e();function n(i){return e(i)?r(i):t(i)}return rT=n,rT}var nT,c8;function V1e(){if(c8)return nT;c8=1;var t=M1e(),e=zH(),r=$1e(),n=kb();function i(a){return function(s){s=n(s);var o=e(s)?r(s):void 0,c=o?o[0]:s.charAt(0),d=o?t(o,1).join(""):s.slice(1);return c[a]()+d}}return nT=i,nT}var iT,u8;function U1e(){if(u8)return iT;u8=1;var t=V1e(),e=t("toUpperCase");return iT=e,iT}var aT,d8;function q1e(){if(d8)return aT;d8=1;var t=D1e(),e=U1e(),r=t(function(n,i,a){return n+(a?" ":"")+e(i)});return aT=r,aT}var z1e=q1e();const B1e=Qt(z1e);function W1e(t){var e=0,r=t.children,n=r&&r.length;if(!n)e=1;else for(;--n>=0;)e+=r[n].value;t.value=e}function H1e(){return this.eachAfter(W1e)}function G1e(t){var e=this,r,n=[e],i,a,s;do for(r=n.reverse(),n=[];e=r.pop();)if(t(e),i=e.children,i)for(a=0,s=i.length;a<s;++a)n.push(i[a]);while(n.length);return this}function K1e(t){for(var e=this,r=[e],n,i;e=r.pop();)if(t(e),n=e.children,n)for(i=n.length-1;i>=0;--i)r.push(n[i]);return this}function Y1e(t){for(var e=this,r=[e],n=[],i,a,s;e=r.pop();)if(n.push(e),i=e.children,i)for(a=0,s=i.length;a<s;++a)r.push(i[a]);for(;e=n.pop();)t(e);return this}function X1e(t){return this.eachAfter(function(e){for(var r=+t(e.data)||0,n=e.children,i=n&&n.length;--i>=0;)r+=n[i].value;e.value=r})}function Q1e(t){return this.eachBefore(function(e){e.children&&e.children.sort(t)})}function J1e(t){for(var e=this,r=Z1e(e,t),n=[e];e!==r;)e=e.parent,n.push(e);for(var i=n.length;t!==r;)n.splice(i,0,t),t=t.parent;return n}function Z1e(t,e){if(t===e)return t;var r=t.ancestors(),n=e.ancestors(),i=null;for(t=r.pop(),e=n.pop();t===e;)i=t,t=r.pop(),e=n.pop();return i}function ewe(){for(var t=this,e=[t];t=t.parent;)e.push(t);return e}function twe(){var t=[];return this.each(function(e){t.push(e)}),t}function rwe(){var t=[];return this.eachBefore(function(e){e.children||t.push(e)}),t}function nwe(){var t=this,e=[];return t.each(function(r){r!==t&&e.push({source:r.parent,target:r})}),e}function SN(t,e){var r=new Vy(t),n=+t.value&&(r.value=t.value),i,a=[r],s,o,c,d;for(e==null&&(e=awe);i=a.pop();)if(n&&(i.value=+i.data.value),(o=e(i.data))&&(d=o.length))for(i.children=new Array(d),c=d-1;c>=0;--c)a.push(s=i.children[c]=new Vy(o[c])),s.parent=i,s.depth=i.depth+1;return r.eachBefore(owe)}function iwe(){return SN(this).eachBefore(swe)}function awe(t){return t.children}function swe(t){t.data=t.data.data}function owe(t){var e=0;do t.height=e;while((t=t.parent)&&t.height<++e)}function Vy(t){this.data=t,this.depth=this.height=0,this.parent=null}Vy.prototype=SN.prototype={constructor:Vy,count:H1e,each:G1e,eachAfter:Y1e,eachBefore:K1e,sum:X1e,sort:Q1e,path:J1e,ancestors:ewe,descendants:twe,leaves:rwe,links:nwe,copy:iwe};function lwe(t){if(typeof t!="function")throw new Error;return t}function yh(){return 0}function vh(t){return function(){return t}}function cwe(t){t.x0=Math.round(t.x0),t.y0=Math.round(t.y0),t.x1=Math.round(t.x1),t.y1=Math.round(t.y1)}function TN(t,e,r,n,i){for(var a=t.children,s,o=-1,c=a.length,d=t.value&&(n-e)/t.value;++o<c;)s=a[o],s.y0=r,s.y1=i,s.x0=e,s.x1=e+=s.value*d}function AN(t,e,r,n,i){for(var a=t.children,s,o=-1,c=a.length,d=t.value&&(i-r)/t.value;++o<c;)s=a[o],s.x0=e,s.x1=n,s.y0=r,s.y1=r+=s.value*d}var uwe=(1+Math.sqrt(5))/2;function dwe(t,e,r,n,i,a){for(var s=[],o=e.children,c,d,f=0,p=0,g=o.length,b,w,_=e.value,x,T,I,P,j,O,V;f<g;){b=i-r,w=a-n;do x=o[p++].value;while(!x&&p<g);for(T=I=x,O=Math.max(w/b,b/w)/(_*t),V=x*x*O,j=Math.max(I/V,V/T);p<g;++p){if(x+=d=o[p].value,d<T&&(T=d),d>I&&(I=d),V=x*x*O,P=Math.max(I/V,V/T),P>j){x-=d;break}j=P}s.push(c={value:x,dice:b<w,children:o.slice(f,p)}),c.dice?TN(c,r,n,i,_?n+=w*x/_:a):AN(c,r,n,_?r+=b*x/_:i,a),_-=x,f=p}return s}const BH=(function t(e){function r(n,i,a,s,o){dwe(e,n,i,a,s,o)}return r.ratio=function(n){return t((n=+n)>1?n:1)},r})(uwe);function fwe(){var t=BH,e=!1,r=1,n=1,i=[0],a=yh,s=yh,o=yh,c=yh,d=yh;function f(g){return g.x0=g.y0=0,g.x1=r,g.y1=n,g.eachBefore(p),i=[0],e&&g.eachBefore(cwe),g}function p(g){var b=i[g.depth],w=g.x0+b,_=g.y0+b,x=g.x1-b,T=g.y1-b;x<w&&(w=x=(w+x)/2),T<_&&(_=T=(_+T)/2),g.x0=w,g.y0=_,g.x1=x,g.y1=T,g.children&&(b=i[g.depth+1]=a(g)/2,w+=d(g)-b,_+=s(g)-b,x-=o(g)-b,T-=c(g)-b,x<w&&(w=x=(w+x)/2),T<_&&(_=T=(_+T)/2),t(g,w,_,x,T))}return f.round=function(g){return arguments.length?(e=!!g,f):e},f.size=function(g){return arguments.length?(r=+g[0],n=+g[1],f):[r,n]},f.tile=function(g){return arguments.length?(t=lwe(g),f):t},f.padding=function(g){return arguments.length?f.paddingInner(g).paddingOuter(g):f.paddingInner()},f.paddingInner=function(g){return arguments.length?(a=typeof g=="function"?g:vh(+g),f):a},f.paddingOuter=function(g){return arguments.length?f.paddingTop(g).paddingRight(g).paddingBottom(g).paddingLeft(g):f.paddingTop()},f.paddingTop=function(g){return arguments.length?(s=typeof g=="function"?g:vh(+g),f):s},f.paddingRight=function(g){return arguments.length?(o=typeof g=="function"?g:vh(+g),f):o},f.paddingBottom=function(g){return arguments.length?(c=typeof g=="function"?g:vh(+g),f):c},f.paddingLeft=function(g){return arguments.length?(d=typeof g=="function"?g:vh(+g),f):d},f}function hwe(t,e,r,n,i){var a=t.children,s,o=a.length,c,d=new Array(o+1);for(d[0]=c=s=0;s<o;++s)d[s+1]=c+=a[s].value;f(0,o,t.value,e,r,n,i);function f(p,g,b,w,_,x,T){if(p>=g-1){var I=a[p];I.x0=w,I.y0=_,I.x1=x,I.y1=T;return}for(var P=d[p],j=b/2+P,O=p+1,V=g-1;O<V;){var C=O+V>>>1;d[C]<j?O=C+1:V=C}j-d[O-1]<d[O]-j&&p+1<O&&--O;var N=d[O]-P,M=b-N;if(x-w>T-_){var F=(w*M+x*N)/b;f(p,O,N,w,_,F,T),f(O,g,M,F,_,x,T)}else{var D=(_*M+T*N)/b;f(p,O,N,w,_,x,D),f(O,g,M,w,D,x,T)}}}function pwe(t,e,r,n,i){(t.depth&1?AN:TN)(t,e,r,n,i)}function Uy(){return Uy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uy.apply(this,arguments)}function f8(t,e){(e==null||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function mwe(t,e){var r=typeof Symbol<"u"&&t[Symbol.iterator]||t["@@iterator"];if(r)return(r=r.call(t)).next.bind(r);if(Array.isArray(t)||(r=(function(i,a){if(i){if(typeof i=="string")return f8(i,a);var s=Object.prototype.toString.call(i).slice(8,-1);return s==="Object"&&i.constructor&&(s=i.constructor.name),s==="Map"||s==="Set"?Array.from(i):s==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(s)?f8(i,a):void 0}})(t))||e){r&&(t=r);var n=0;return function(){return n>=t.length?{done:!0}:{done:!1,value:t[n++]}}}throw new TypeError(`Invalid attempt to iterate non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var WH={nivo:["#e8c1a0","#f47560","#f1e15b","#e8a838","#61cdbb","#97e3d5"],category10:xve,accent:wve,dark2:_ve,paired:Eve,pastel1:Sve,pastel2:Tve,set1:Ave,set2:kve,set3:MW,tableau10:Ive},gwe=Object.keys(WH),HH={brown_blueGreen:Fb,purpleRed_green:$b,pink_yellowGreen:Vb,purple_orange:Ub,red_blue:qb,red_grey:zb,red_yellow_blue:Bb,red_yellow_green:Wb,spectral:Hb},ywe=Object.keys(HH),vwe={brown_blueGreen:Pve,purpleRed_green:Cve,pink_yellowGreen:Nve,purple_orange:Rve,red_blue:Ove,red_grey:jve,red_yellow_blue:Dve,red_yellow_green:Mve,spectral:Lve},GH={blues:ax,greens:sx,greys:ox,oranges:ux,purples:lx,reds:cx,blue_green:Gb,blue_purple:Kb,green_blue:Yb,orange_red:Xb,purple_blue_green:Qb,purple_blue:Jb,purple_red:Zb,red_purple:ex,yellow_green_blue:tx,yellow_green:rx,yellow_orange_brown:nx,yellow_orange_red:ix},bwe=Object.keys(GH),xwe={blues:Xve,greens:Qve,greys:Jve,oranges:tbe,purples:Zve,reds:ebe,turbo:ube,viridis:dbe,inferno:hbe,magma:fbe,plasma:pbe,cividis:rbe,warm:ibe,cool:abe,cubehelixDefault:nbe,blue_green:Fve,blue_purple:$ve,green_blue:Vve,orange_red:Uve,purple_blue_green:qve,purple_blue:zve,purple_red:Bve,red_purple:Wve,yellow_green_blue:Hve,yellow_green:Gve,yellow_orange_brown:Kve,yellow_orange_red:Yve},sT=Uy({},WH,HH,GH),wwe=function(t){return gwe.includes(t)},_we=function(t){return ywe.includes(t)},Ewe=function(t){return bwe.includes(t)},Swe={rainbow:sbe,sinebow:cbe};Uy({},vwe,xwe,Swe);var Twe=function(t,e){if(typeof t=="function")return t;if(vN(t)){if((function(c){return c.theme!==void 0})(t)){if(e===void 0)throw new Error("Unable to use color from theme as no theme was provided");var r=Xs(e,t.theme);if(r===void 0)throw new Error("Color from theme is undefined at path: '"+t.theme+"'");return function(){return r}}if((function(c){return c.from!==void 0})(t)){var n=function(c){return Xs(c,t.from)};if(Array.isArray(t.modifiers)){for(var i,a=[],s=function(){var c=i.value,d=c[0],f=c[1];if(d==="brighter")a.push((function(p){return p.brighter(f)}));else if(d==="darker")a.push((function(p){return p.darker(f)}));else{if(d!=="opacity")throw new Error("Invalid color modifier: '"+d+"', must be one of: 'brighter', 'darker', 'opacity'");a.push((function(p){return p.opacity=f,p}))}},o=mwe(t.modifiers);!(i=o()).done;)s();return a.length===0?n:function(c){return a.reduce((function(d,f){return f(d)}),Sd(n(c))).toString()}}return n}throw new Error("Invalid color spec, you should either specify 'theme' or 'from' when using a config object")}return function(){return t}},oT=function(t,e){return E.useMemo((function(){return Twe(t,e)}),[t,e])};ne.oneOfType([ne.string,ne.func,ne.shape({theme:ne.string.isRequired}),ne.shape({from:ne.string.isRequired,modifiers:ne.arrayOf(ne.array)})]);var Awe=function(t,e){if(typeof t=="function")return t;var r=typeof e=="function"?e:function(p){return Xs(p,e)};if(Array.isArray(t)){var n=Go(t),i=function(p){return n(r(p))};return i.scale=n,i}if(vN(t)){if((function(p){return p.datum!==void 0})(t))return function(p){return Xs(p,t.datum)};if((function(p){return p.scheme!==void 0})(t)){if(wwe(t.scheme)){var a=Go(sT[t.scheme]),s=function(p){return a(r(p))};return s.scale=a,s}if(_we(t.scheme)){if(t.size!==void 0&&(t.size<3||t.size>11))throw new Error("Invalid size '"+t.size+"' for diverging color scheme '"+t.scheme+"', must be between 3~11");var o=Go(sT[t.scheme][t.size||11]),c=function(p){return o(r(p))};return c.scale=o,c}if(Ewe(t.scheme)){if(t.size!==void 0&&(t.size<3||t.size>9))throw new Error("Invalid size '"+t.size+"' for sequential color scheme '"+t.scheme+"', must be between 3~9");var d=Go(sT[t.scheme][t.size||9]),f=function(p){return d(r(p))};return f.scale=d,f}}throw new Error("Invalid colors, when using an object, you should either pass a 'datum' or a 'scheme' property")}return function(){return t}},kwe=function(t,e){return E.useMemo((function(){return Awe(t,e)}),[t,e])};function di(){return di=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},di.apply(this,arguments)}function Iwe(t,e){if(t==null)return{};var r,n,i={},a=Object.keys(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)>=0||(i[r]=t[r]);return i}var Pwe=function(t,e){return Pc([t,e],(function(r,n){return"translate("+r+","+n+")"}))},Cwe=function(t,e){return Pc([t,e],(function(r,n){return"translate("+r+"px, "+n+"px)"}))},h8=function(t,e,r){return Pc([t,e,r],(function(n,i,a){return"translate("+n+","+i+") rotate("+a+")"}))},Nwe=function(t,e,r){return Pc([t,e,r],(function(n,i,a){return"translate("+n+"px,"+i+"px) rotate("+a+"deg)"}))},Rwe=function(t,e,r){return Pc([t,e,r],(function(n,i,a){return"translate("+(n-(a===0?0:5))+"px,"+(i-(a===0?5:0))+"px) rotate("+a+"deg)"}))},Owe=E.memo((function(t){var e=t.node,r=t.animatedProps,n=t.borderWidth,i=t.enableLabel,a=t.enableParentLabel,s=t.labelSkipSize,o=fs(),c=i&&e.isLeaf&&(s===0||Math.min(e.width,e.height)>s),d=a&&e.isParent;return h.jsxs(na.g,{transform:Pwe(r.x,r.y),children:[h.jsx(na.rect,{"data-testid":"node."+e.id,width:Pc(r.width,(function(f){return Math.max(f,0)})),height:Pc(r.height,(function(f){return Math.max(f,0)})),fill:e.fill?e.fill:r.color,strokeWidth:n,stroke:e.borderColor,fillOpacity:e.opacity,onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick}),c&&h.jsx(na.text,{"data-testid":"label."+e.id,textAnchor:"middle",dominantBaseline:"central",style:di({},o.labels.text,{fill:e.labelTextColor,pointerEvents:"none"}),fillOpacity:r.labelOpacity,transform:h8(r.labelX,r.labelY,r.labelRotation),children:e.label}),d&&h.jsx(na.text,{"data-testid":"parentLabel."+e.id,dominantBaseline:"central",style:di({},o.labels.text,{fill:e.parentLabelTextColor,pointerEvents:"none"}),fillOpacity:r.parentLabelOpacity,transform:h8(r.parentLabelX,r.parentLabelY,r.parentLabelRotation),children:e.parentLabel})]})})),jwe=E.memo((function(t){var e=t.node;return h.jsx(lme,{id:e.id,value:e.formattedValue,enableChip:!0,color:e.color})})),Dwe=E.memo((function(t){var e=t.node,r=t.animatedProps,n=t.borderWidth,i=t.enableLabel,a=t.enableParentLabel,s=t.labelSkipSize,o=fs(),c=i&&e.isLeaf&&(s===0||Math.min(e.width,e.height)>s),d=a&&e.isParent;return h.jsxs(na.div,{"data-testid":"node."+e.id,id:e.path.replace(/[^\w]/gi,"-"),style:{boxSizing:"border-box",position:"absolute",top:0,left:0,transform:Cwe(r.x,r.y),width:r.width,height:r.height,borderWidth:n,borderStyle:"solid",borderColor:e.borderColor,overflow:"hidden"},children:[h.jsx(na.div,{style:{boxSizing:"border-box",position:"absolute",top:0,left:0,opacity:e.opacity,width:r.width,height:r.height,background:r.color},onMouseEnter:e.onMouseEnter,onMouseMove:e.onMouseMove,onMouseLeave:e.onMouseLeave,onClick:e.onClick}),c&&h.jsx(na.span,{"data-testid":"label."+e.id,style:di({},o.labels.text,{position:"absolute",display:"flex",top:-5,left:-5,width:10,height:10,justifyContent:"center",alignItems:"center",whiteSpace:"nowrap",color:e.labelTextColor,transformOrigin:"center center",transform:Nwe(r.labelX,r.labelY,r.labelRotation),opacity:r.labelOpacity,pointerEvents:"none"}),children:e.label}),d&&h.jsx(na.span,{"data-testid":"parentLabel."+e.id,style:di({},o.labels.text,{position:"absolute",display:"flex",justifyContent:"flex-start",alignItems:"center",whiteSpace:"nowrap",width:10,height:10,color:e.parentLabelTextColor,transformOrigin:"top left",transform:Rwe(r.parentLabelX,r.parentLabelY,r.parentLabelRotation),opacity:r.parentLabelOpacity,pointerEvents:"none"}),children:e.parentLabel})]})})),Zt={layers:["nodes"],identity:"id",value:"value",tile:"squarify",leavesOnly:!1,innerPadding:0,outerPadding:0,colors:{scheme:"nivo"},colorBy:"pathComponents.1",nodeOpacity:.33,enableLabel:!0,label:"formattedValue",labelSkipSize:0,labelTextColor:{from:"color",modifiers:[["darker",1]]},orientLabel:!0,enableParentLabel:!0,parentLabel:"id",parentLabelSize:20,parentLabelPosition:"top",parentLabelPadding:6,parentLabelTextColor:{from:"color",modifiers:[["darker",1]]},borderWidth:1,borderColor:{from:"color",modifiers:[["darker",1]]},isInteractive:!0,tooltip:jwe,role:"img",animate:!0,motionConfig:"gentle"},bt=di({},Zt,{nodeComponent:Owe,defs:[],fill:[]});di({},Zt,{nodeComponent:Dwe});di({},Zt,{pixelRatio:typeof window<"u"&&window.devicePixelRatio||1});var Mwe={binary:hwe,dice:TN,slice:AN,sliceDice:pwe,squarify:BH},Lwe=function(t){var e=t.root,r=t.getValue;return E.useMemo((function(){return SN(e).sum(r)}),[e,r])},Fwe=function(t){var e=t.data,r=t.width,n=t.height,i=t.identity,a=i===void 0?Zt.identity:i,s=t.value,o=s===void 0?Zt.value:s,c=t.valueFormat,d=t.leavesOnly,f=d===void 0?Zt.leavesOnly:d,p=t.tile,g=p===void 0?Zt.tile:p,b=t.innerPadding,w=b===void 0?Zt.innerPadding:b,_=t.outerPadding,x=_===void 0?Zt.outerPadding:_,T=t.label,I=T===void 0?Zt.label:T,P=t.orientLabel,j=P===void 0?Zt.orientLabel:P,O=t.enableParentLabel,V=O===void 0?Zt.enableParentLabel:O,C=t.parentLabel,N=C===void 0?Zt.parentLabel:C,M=t.parentLabelSize,F=M===void 0?Zt.parentLabelSize:M,D=t.parentLabelPosition,U=D===void 0?Zt.parentLabelPosition:D,$=t.parentLabelPadding,G=$===void 0?Zt.parentLabelPadding:$,ue=t.colors,ce=ue===void 0?Zt.colors:ue,se=t.colorBy,Q=se===void 0?Zt.colorBy:se,X=t.nodeOpacity,ie=X===void 0?Zt.nodeOpacity:X,B=t.borderColor,Z=B===void 0?Zt.borderColor:B,_e=t.labelTextColor,oe=_e===void 0?Zt.labelTextColor:_e,xe=t.parentLabelTextColor,Ee=xe===void 0?Zt.parentLabelTextColor:xe,Se=c0(a),De=c0(o),re=SH(c),Ae=c0(I),He=c0(N),fe=(function(We){var it=We.width,tn=We.height,ur=We.tile,ct=We.innerPadding,$r=We.outerPadding,Wt=We.enableParentLabel,yn=We.parentLabelSize,Vr=We.parentLabelPosition,vn=We.leavesOnly;return E.useMemo((function(){var mi=fwe().size([it,tn]).tile(Mwe[ur]).round(!0).paddingInner(ct).paddingOuter($r);if(Wt&&!vn){var nr=yn+2*$r;mi["padding"+B1e(Vr)](nr)}return mi}),[it,tn,ur,ct,$r,Wt,yn,Vr,vn])})({width:r,height:n,tile:g,innerPadding:w,outerPadding:x,enableParentLabel:V,parentLabelSize:F,parentLabelPosition:U,leavesOnly:f}),ft=Lwe({root:e,getValue:De}),Ye=E.useMemo((function(){var We=A1e(ft);return fe(We),f?We.leaves():We.descendants()}),[ft,fe,f]),Me=E.useMemo((function(){return Ye.map((function(We){var it=(function($r,Wt){var yn=$r.ancestors().map((function(Vr){return Wt(Vr.data)})).reverse();return{path:yn.join("."),pathComponents:yn}})(We,Se),tn=it.path,ur=it.pathComponents,ct={id:Se(We.data),path:tn,pathComponents:ur,data:E1e(We.data,"children"),x:We.x0,y:We.y0,width:We.x1-We.x0,height:We.y1-We.y0,value:We.value,formattedValue:re(We.value),treeDepth:We.depth,treeHeight:We.height,isParent:We.height>0,isLeaf:We.height===0,parentLabelX:0,parentLabelY:0,parentLabelRotation:0};return ct.labelRotation=j&&ct.height>ct.width?-90:0,U==="top"&&(ct.parentLabelX=x+G,ct.parentLabelY=x+F/2),U==="right"&&(ct.parentLabelX=ct.width-x-F/2,ct.parentLabelY=ct.height-x-G,ct.parentLabelRotation=-90),U==="bottom"&&(ct.parentLabelX=x+G,ct.parentLabelY=ct.height-x-F/2),U==="left"&&(ct.parentLabelX=x+F/2,ct.parentLabelY=ct.height-x-G,ct.parentLabelRotation=-90),ct.label=Ae(ct),ct.parentLabel=He(ct),ct}))}),[Ye,Se,re,Ae,j,He,F,U,G,x]),ht=fs(),Be=kwe(ce,Q),rr=oT(Z,ht),mt=oT(oe,ht),_t=oT(Ee,ht),cr=E.useMemo((function(){return Me.map((function(We){var it=di({},We,{color:Be(We),opacity:ie});return it.borderColor=rr(it),it.labelTextColor=mt(it),it.parentLabelTextColor=_t(it),it}))}),[Me,Be,ie,rr,mt,_t]);return{hierarchy:ft,nodes:cr,layout:fe}},$we=function(t){var e=t.nodes;return E.useMemo((function(){return{nodes:e}}),[e])},lT=function(t){return{x:t.x,y:t.y,width:t.width,height:t.height,color:t.color,labelX:t.width/2,labelY:t.height/2,labelRotation:t.labelRotation,labelOpacity:1,parentLabelX:t.parentLabelX,parentLabelY:t.parentLabelY,parentLabelRotation:t.parentLabelRotation,parentLabelOpacity:1}},p8=function(t){return{x:t.x+t.width/2,y:t.y+t.height/2,width:0,height:0,color:t.color,labelX:0,labelY:0,labelRotation:t.labelRotation,labelOpacity:0,parentLabelX:0,parentLabelY:0,parentLabelRotation:t.parentLabelRotation,parentLabelOpacity:0}},Vwe=E.memo((function(t){var e=t.nodes,r=t.nodeComponent,n=t.borderWidth,i=t.enableLabel,a=t.labelSkipSize,s=t.enableParentLabel,o=(function(g,b){var w=b.isInteractive,_=b.onMouseEnter,x=b.onMouseMove,T=b.onMouseLeave,I=b.onClick,P=b.tooltip,j=hme(),O=j.showTooltipFromEvent,V=j.hideTooltip,C=E.useCallback((function(U,$){O(E.createElement(P,{node:U}),$,"left")}),[O,P]),N=E.useCallback((function(U,$){C(U,$),_?.(U,$)}),[_,C]),M=E.useCallback((function(U,$){C(U,$),x?.(U,$)}),[x,C]),F=E.useCallback((function(U,$){V(),T?.(U,$)}),[T,V]),D=E.useCallback((function(U,$){I?.(U,$)}),[I]);return E.useMemo((function(){return g.map((function(U){return w?di({},U,{onMouseEnter:function($){return N(U,$)},onMouseMove:function($){return M(U,$)},onMouseLeave:function($){return F(U,$)},onClick:function($){return D(U,$)}}):U}))}),[w,g,N,M,F,D])})(e,{isInteractive:t.isInteractive,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseLeave:t.onMouseLeave,onClick:t.onClick,tooltip:t.tooltip}),c=gx(),d=c.animate,f=c.config,p=Wpe(o,{keys:function(g){return g.path},initial:lT,from:p8,enter:lT,update:lT,leave:p8,config:f,immediate:!d});return h.jsx(h.Fragment,{children:p((function(g,b){return E.createElement(r,{key:b.path,node:b,animatedProps:g,borderWidth:n,enableLabel:i,labelSkipSize:a,enableParentLabel:s})}))})})),Uwe=["isInteractive","animate","motionConfig","theme","renderWrapper"],qwe=function(t){var e=t.data,r=t.identity,n=r===void 0?bt.identity:r,i=t.value,a=i===void 0?bt.value:i,s=t.valueFormat,o=t.tile,c=o===void 0?bt.tile:o,d=t.nodeComponent,f=d===void 0?bt.nodeComponent:d,p=t.innerPadding,g=p===void 0?bt.innerPadding:p,b=t.outerPadding,w=b===void 0?bt.outerPadding:b,_=t.leavesOnly,x=_===void 0?bt.leavesOnly:_,T=t.width,I=t.height,P=t.margin,j=t.layers,O=j===void 0?bt.layers:j,V=t.colors,C=V===void 0?bt.colors:V,N=t.colorBy,M=N===void 0?bt.colorBy:N,F=t.nodeOpacity,D=F===void 0?bt.nodeOpacity:F,U=t.borderWidth,$=U===void 0?bt.borderWidth:U,G=t.borderColor,ue=G===void 0?bt.borderColor:G,ce=t.defs,se=ce===void 0?bt.defs:ce,Q=t.fill,X=Q===void 0?bt.fill:Q,ie=t.enableLabel,B=ie===void 0?bt.enableLabel:ie,Z=t.label,_e=Z===void 0?bt.label:Z,oe=t.labelTextColor,xe=oe===void 0?bt.labelTextColor:oe,Ee=t.orientLabel,Se=Ee===void 0?bt.orientLabel:Ee,De=t.labelSkipSize,re=De===void 0?bt.labelSkipSize:De,Ae=t.enableParentLabel,He=Ae===void 0?bt.enableParentLabel:Ae,fe=t.parentLabel,ft=fe===void 0?bt.parentLabel:fe,Ye=t.parentLabelSize,Me=Ye===void 0?bt.parentLabelSize:Ye,ht=t.parentLabelPosition,Be=ht===void 0?bt.parentLabelPosition:ht,rr=t.parentLabelPadding,mt=rr===void 0?bt.parentLabelPadding:rr,_t=t.parentLabelTextColor,cr=_t===void 0?bt.parentLabelTextColor:_t,We=t.isInteractive,it=We===void 0?bt.isInteractive:We,tn=t.onMouseEnter,ur=t.onMouseMove,ct=t.onMouseLeave,$r=t.onClick,Wt=t.tooltip,yn=Wt===void 0?bt.tooltip:Wt,Vr=t.role,vn=t.ariaLabel,mi=t.ariaLabelledBy,nr=t.ariaDescribedBy,dr=Uxe(T,I,P),wl=dr.margin,Hn=dr.innerWidth,po=dr.innerHeight,ma=dr.outerWidth,mo=dr.outerHeight,Gn=Fwe({data:e,identity:n,value:a,valueFormat:s,leavesOnly:x,width:Hn,height:po,tile:c,innerPadding:g,outerPadding:w,colors:C,colorBy:M,nodeOpacity:D,borderColor:ue,label:_e,labelTextColor:xe,orientLabel:Se,enableParentLabel:He,parentLabel:ft,parentLabelSize:Me,parentLabelPosition:Be,parentLabelPadding:mt,parentLabelTextColor:cr}).nodes,Kn={nodes:null};O.includes("nodes")&&(Kn.nodes=h.jsx(Vwe,{nodes:Gn,nodeComponent:f,borderWidth:$,enableLabel:B,labelSkipSize:re,enableParentLabel:He,isInteractive:it,onMouseEnter:tn,onMouseMove:ur,onMouseLeave:ct,onClick:$r,tooltip:yn},"nodes"));var Ft=$we({nodes:Gn}),_l=n1e(se,Gn,X);return h.jsx(jH,{width:ma,height:mo,margin:wl,defs:_l,role:Vr,ariaLabel:vn,ariaLabelledBy:mi,ariaDescribedBy:nr,children:O.map((function(gi,ga){var El;return typeof gi=="function"?h.jsx(E.Fragment,{children:E.createElement(gi,Ft)},ga):(El=Kn?.[gi])!=null?El:null}))})},zwe=function(t){var e=t.isInteractive,r=e===void 0?bt.isInteractive:e,n=t.animate,i=n===void 0?bt.animate:n,a=t.motionConfig,s=a===void 0?bt.motionConfig:a,o=t.theme,c=t.renderWrapper,d=Iwe(t,Uwe);return h.jsx(IH,{animate:i,isInteractive:r,motionConfig:s,renderWrapper:c,theme:o,children:h.jsx(qwe,di({isInteractive:r},d))})},Bwe=function(t){return h.jsx(PH,{children:function(e){var r=e.width,n=e.height;return h.jsx(zwe,di({width:r,height:n},t))}})};function Wwe({isConnected:t,isLive:e}){const n=t?e?{color:"bg-green-500",text:"Live",pulse:!0}:{color:"bg-gray-500",text:"After Hours",pulse:!1}:{color:"bg-red-500",text:"Disconnected",pulse:!1};return h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("div",{className:"relative flex items-center",children:[h.jsx("span",{className:`w-2.5 h-2.5 rounded-full ${n.color} ${n.pulse?"live-pulse":""}`}),n.pulse&&h.jsx("span",{className:`absolute w-2.5 h-2.5 rounded-full ${n.color} animate-ping opacity-75`})]}),h.jsx("span",{className:"text-xs text-slate-400 uppercase tracking-wider font-medium",children:n.text})]})}function Hwe({value:t,onChange:e}){const r=[{id:"crypto",label:"Crypto"},{id:"stocks",label:"US Stocks"},{id:"commodities",label:"Commodities"}];return h.jsxs("div",{className:"relative",children:[h.jsx("select",{value:t,onChange:n=>e(n.target.value),className:"appearance-none bg-dark-surface border border-dark-border rounded-lg px-4 py-2 pr-10 text-sm font-mono text-slate-200 cursor-pointer focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all hover:border-slate-500",children:r.map(n=>h.jsx("option",{value:n.id,children:n.label},n.id))}),h.jsx("div",{className:"absolute inset-y-0 right-0 flex items-center pr-3 pointer-events-none",children:h.jsx("svg",{className:"w-4 h-4 text-slate-400",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 9l-7 7-7-7"})})})]})}const Gwe="http://localhost:8080/api";async function Dc(t,e,r){try{let n=r.toLowerCase();n==="stock"&&(n="stocks"),n==="commodity"&&(n="commodities");const i=`${Gwe}/historical/${n}/${t}`,a=await zt.get(i,{params:{days:e}});return a.data.success?a.data.data:(console.warn(`Proxy error for ${t}:`,a.data.error),[])}catch(n){return console.error(`Error fetching historical prices for ${t}:`,n.message),[]}}async function Kwe(t,e,r=90,n=5){const i=[],a=d=>["BTC","ETH","SOL","XRP"].includes(d.toUpperCase())?"crypto":"stocks",o=(await Dc(t,r,a(t))).map(d=>d.close),c=Id(o);for(const d of e)if(d.symbol!==t)try{const p=(await Dc(d.symbol,r,a(d.symbol))).map(x=>x.close),g=Id(p);let b=yc(c,g);typeof b=="object"&&b!==null&&(b=0);const{strength:w,direction:_}=yx(b);i.push({symbol:d.symbol,name:d.name,correlation:b,strength:w,direction:_})}catch(f){console.warn(`Failed to calculate correlation for ${d.symbol}:`,f)}return i.sort((d,f)=>Math.abs(f.correlation)-Math.abs(d.correlation)).slice(0,n)}async function m8(t,e=90,r="crypto"){return await Dc(t,e,r)}function Ywe(t,e){if(!t||!e||t.length===0||e.length===0)return{aligned1:[],aligned2:[],commonDates:[]};const r=new Map(t.map(g=>[g.date.split("T")[0],g.close])),n=new Map(e.map(g=>[g.date.split("T")[0],g.close])),i=new Set([...r.keys(),...n.keys()]),a=Array.from(i).sort(),s=[];t[0].close,e[0].close;for(const g of a)r.has(g)&&r.get(g),n.has(g)&&n.get(g),r.has(g)||s.length>0;const o=[],c=[],d=[];let f=null,p=null;for(const g of a)r.has(g)&&(f=r.get(g)),n.has(g)&&(p=n.get(g)),f!==null&&p!==null&&(o.push(g),c.push(f),d.push(p));return{aligned1:c,aligned2:d,commonDates:o}}function Id(t){if(t==null)return{error:"Input prices array is null or undefined"};if(!Array.isArray(t))return{error:"Input must be an array of prices"};if(t.length<2)return[];const e=[];for(let r=1;r<t.length;r++){const n=t[r-1],i=t[r];if(!n||n<=0||i==null||i<0)continue;const a=(i-n)/n;e.push(Math.round(a*1e4)/1e4)}return e}function yc(t,e){if(t==null)return{error:"First returns array is null or undefined"};if(e==null)return{error:"Second returns array is null or undefined"};if(!Array.isArray(t)||!Array.isArray(e))return{error:"Both inputs must be arrays"};if(t.length<2||e.length<2)return{error:"Both arrays must have at least 2 items"};if(t.length!==e.length)return{error:`Arrays must have same length (got ${t.length} and ${e.length})`};const r=t.length,n=t.reduce((f,p)=>f+p,0)/r,i=e.reduce((f,p)=>f+p,0)/r;let a=0,s=0,o=0;for(let f=0;f<r;f++){const p=t[f]-n,g=e[f]-i;a+=p*g,s+=p*p,o+=g*g}const c=Math.sqrt(s*o);if(c===0)return{error:"Standard deviation is 0 (all values are identical)"};const d=a/c;return d<-1||d>1?Math.max(-1,Math.min(1,Math.round(d*1e4)/1e4)):Math.round(d*1e4)/1e4}function yx(t){const e=Math.abs(t);let r;e>.6?r="high":e>.3?r="moderate":r="low";const n=t>=0?"positive":"negative";return{strength:r,direction:n}}function Xwe(t,e){if(t.length<60||e.length<60){const f=yc(t,e);return{current:f,previous:f,trend:"stable"}}const r=t.slice(-30),n=e.slice(-30),i=t.slice(-60,-30),a=e.slice(-60,-30),s=yc(r,n),o=yc(i,a),c=s-o;let d="stable";return c>.1?d="increasing":c<-.1&&(d="decreasing"),{current:s,previous:o,trend:d}}function Qwe(t,e,r,n,i=90){const a=Math.abs(r),s=r>=0?"positively":"negatively",o=a>.7?"strongly":a>.4?"moderately":"weakly",c=r>=0?"together":"in opposite directions",d=Math.round((.5+a*.5)*100);return`${t} and ${e} are ${o} ${s} correlated and have historically moved ${c} ${d}% of the time over the last ${i} days. ${n==="increasing"?"This relationship has been strengthening recently.":n==="decreasing"?"This relationship has been weakening recently.":"This relationship has remained relatively stable."}`}function g8(t,e,r){if(t.length!==e.length||t.length===0)return{avgMove:0,probability:0,count:0};const n=r/100,i=.02,a=[];for(let d=0;d<t.length;d++){const f=t[d];r>=0?f>=n-i&&f<=n+i&&a.push(e[d]):f<=n+i&&f>=n-i&&a.push(e[d])}if(a.length===0){const d=yc(t,e),f=r/100*d*100;return{avgMove:Math.round(f*100)/100,probability:0,count:0,isEstimate:!0}}const s=a.reduce((d,f)=>d+f,0)/a.length,c=a.filter(d=>r>=0&&d>0||r<0&&d<0).length/a.length;return{avgMove:Math.round(s*1e4)/100,probability:Math.round(c*100),count:a.length,isEstimate:!1}}function y8(t,e,r,n){const i=r>=0?"rises":"drops",a=n.avgMove>=0?"gained":"lost";return n.isEstimate?`Based on historical correlation, when ${t} ${i} ${Math.abs(r)}%, ${e} typically moves approximately ${n.avgMove>=0?"+":""}${n.avgMove.toFixed(2)}%. (Correlation-based estimate)`:n.count===0?`Insufficient historical data to analyze ${t} moves of ${r>=0?"+":""}${r}%.`:`When ${t} ${i} around ${Math.abs(r)}%, ${e} has historically ${a} ${Math.abs(n.avgMove).toFixed(2)}% on average (${n.count} similar events, ${n.probability}% same-direction probability).`}const nl={async getWatchlist(t){if(!t)return[];try{const e=ac(sc,"users",t),r=await Gh(e);return r.exists()?r.data().watchlist||[]:[]}catch(e){return console.error("Error fetching watchlist:",e),[]}},async addToWatchlist(t,e){if(t)try{const r=ac(sc,"users",t);(await Gh(r)).exists()?await h3(r,{watchlist:hhe(e),updatedAt:new Date().toISOString()}):await _y(r,{watchlist:[e],updatedAt:new Date().toISOString()},{merge:!0})}catch(r){throw console.error("Error adding to watchlist:",r),r}},async removeFromWatchlist(t,e){if(t)try{const r=ac(sc,"users",t),n=await Gh(r);if(n.exists()){const a=(n.data().watchlist||[]).find(s=>s.symbol===e);a&&await h3(r,{watchlist:phe(a),updatedAt:new Date().toISOString()})}}catch(r){throw console.error("Error removing from watchlist:",r),r}},subscribeToWatchlist(t,e){if(!t)return()=>{};const r=ac(sc,"users",t);return bhe(r,n=>{n.exists()?e(n.data().watchlist||[]):e([])},n=>{console.error("Watchlist subscription error:",n)})}};function Jwe(t){return t>=1e12?`$${(t/1e12).toFixed(1)}T`:t>=1e9?`$${(t/1e9).toFixed(1)}B`:t>=1e6?`$${(t/1e6).toFixed(1)}M`:t>=1e3?`$${(t/1e3).toFixed(1)}K`:`$${t}`}function Zwe(t){return t<1?`$${t.toFixed(4)}`:t<100?`$${t.toFixed(2)}`:`$${t.toFixed(2)}`}function KH(t){return t>3?"#22c55e":t>0?"#4ade80":t<-3?"#ef4444":t<0?"#f87171":"#64748b"}function e_e(t){return Math.abs(t)>1.5?"#ffffff":"#e2e8f0"}const t_e=({asset:t,correlations:e,onClose:r,position:n})=>{const i=E.useRef(null);if(E.useEffect(()=>{const c=d=>{i.current&&!i.current.contains(d.target)&&r()};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[r]),!t||!e)return null;const a=(c,d)=>c==="high"?d==="positive"?"text-green-400":"text-red-400":c==="moderate"?d==="positive"?"text-green-300":"text-red-300":"text-slate-400",s={left:n.x,top:n.y,position:"fixed",transform:"translateX(-50%)",zIndex:9999};return n.y>window.innerHeight-300&&(s.top="auto",s.bottom=window.innerHeight-n.y+10),Md.createPortal(h.jsxs("div",{ref:i,className:"bg-slate-900 border border-slate-700 rounded-xl shadow-2xl p-4 min-w-[280px] animate-fadeIn",style:s,onClick:c=>c.stopPropagation(),children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-xl",children:""}),h.jsx("span",{className:"font-mono font-bold text-slate-200",children:t.symbol})]}),h.jsx("button",{onClick:c=>{c.stopPropagation(),r()},className:"text-slate-500 hover:text-slate-300 p-1 hover:bg-slate-800 rounded transition-colors",children:""})]}),h.jsx("div",{className:"text-xs text-slate-500 uppercase tracking-wider mb-2",children:"Most Correlated Assets"}),h.jsx("div",{className:"space-y-2",children:e.length>0?e.map((c,d)=>h.jsxs("div",{className:"flex items-center justify-between py-1.5 px-2 bg-slate-800/50 rounded",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("span",{className:"text-xs text-slate-600 w-4",children:[d+1,"."]}),h.jsx("span",{className:"font-mono text-sm text-slate-200",children:c.symbol})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:`font-mono text-sm font-bold ${a(c.strength,c.direction)}`,children:typeof c.correlation=="number"?c.correlation.toFixed(2):"0.00"}),h.jsx("span",{className:"text-xs text-slate-500 capitalize",children:c.strength})]})]},c.symbol)):h.jsxs("div",{className:"text-sm text-slate-500 text-center py-4 flex items-center justify-center gap-2",children:[h.jsxs("svg",{className:"animate-spin h-4 w-4",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]}),h.jsx("span",{children:"Loading analysis..."})]})}),h.jsx("div",{className:"mt-3 pt-3 border-t border-slate-700 text-[10px] text-slate-600 text-center",children:"Based on 90-day correlation"})]}),document.body)},r_e=({asset:t,position:e,isWatchlisted:r,onClose:n,onToggleWatchlist:i,onViewDetails:a})=>{const s=E.useRef(null);if(E.useEffect(()=>{const c=d=>{s.current&&!s.current.contains(d.target)&&n()};return document.addEventListener("mousedown",c),()=>document.removeEventListener("mousedown",c)},[n]),E.useEffect(()=>{const c=d=>{d.key==="Escape"&&n()};return document.addEventListener("keydown",c),()=>document.removeEventListener("keydown",c)},[n]),!t)return null;const o={left:Math.min(e.x,window.innerWidth-220),top:Math.min(e.y,window.innerHeight-150),position:"fixed",zIndex:9999};return Md.createPortal(h.jsxs("div",{ref:s,className:"bg-slate-900 border border-slate-700 rounded-lg shadow-2xl py-2 min-w-[200px] animate-fadeIn",style:o,onClick:c=>c.stopPropagation(),children:[h.jsxs("div",{className:"px-3 py-2 border-b border-slate-700",children:[h.jsx("div",{className:"font-mono font-bold text-slate-200 text-sm",children:t.symbol}),h.jsx("div",{className:"text-xs text-slate-500",children:t.name})]}),h.jsxs("div",{className:"py-1",children:[h.jsx("button",{onClick:c=>{c.stopPropagation(),i(),n()},className:"w-full px-4 py-2 text-left text-sm text-slate-300 hover:bg-slate-800 transition-colors flex items-center gap-3",children:r?h.jsxs(h.Fragment,{children:[h.jsx(L$,{className:"w-4 h-4"}),h.jsx("span",{children:"Remove from Watchlist"})]}):h.jsxs(h.Fragment,{children:[h.jsx(Ev,{className:"w-4 h-4"}),h.jsx("span",{children:"Add to Watchlist"})]})}),h.jsxs("button",{onClick:c=>{c.stopPropagation(),a(),n()},className:"w-full px-4 py-2 text-left text-sm text-slate-300 hover:bg-slate-800 transition-colors flex items-center gap-3",children:[h.jsx(dd,{className:"w-4 h-4"}),h.jsx("span",{children:"View Asset Details"})]})]}),h.jsx("div",{className:"px-3 py-1 text-[10px] text-slate-600 text-center border-t border-slate-700",children:"Right-click for options"})]}),document.body)},n_e=({node:t,onNodeClick:e,onNodeContextMenu:r,isWatchlisted:n})=>{const{data:i}=t;if(!i||i.id==="root")return null;const a=KH(i.change||0),s=e_e(i.change||0),o=i.change>0?"+":"",c=f=>{if(f.stopPropagation(),e){const p=f.target.getBoundingClientRect();e(i,{x:p.left+p.width/2,y:p.bottom+8})}},d=f=>{f.preventDefault(),f.stopPropagation(),r&&r(i,{x:f.clientX,y:f.clientY})};return h.jsxs("g",{transform:`translate(${t.x}, ${t.y})`,onClick:c,onContextMenu:d,style:{cursor:"pointer"},children:[h.jsx("rect",{width:t.width,height:t.height,fill:a,rx:4,className:"treemap-block color-transition hover:brightness-110",style:{stroke:"#0f172a",strokeWidth:2}}),t.width>60&&t.height>50&&h.jsxs(h.Fragment,{children:[h.jsx("text",{x:t.width/2,y:t.height/2-12,textAnchor:"middle",dominantBaseline:"middle",fill:s,fontSize:Math.min(t.width/5,16),fontWeight:"bold",fontFamily:"'JetBrains Mono', monospace",children:i.symbol}),h.jsxs("text",{x:t.width/2,y:t.height/2+8,textAnchor:"middle",dominantBaseline:"middle",fill:s,fontSize:Math.min(t.width/6,14),fontFamily:"'JetBrains Mono', monospace",children:[o,(i.change||0).toFixed(2),"%"]}),t.height>70&&t.width>80&&h.jsx("text",{x:t.width/2,y:t.height/2+26,textAnchor:"middle",dominantBaseline:"middle",fill:s,fontSize:Math.min(t.width/8,11),opacity:.8,fontFamily:"'JetBrains Mono', monospace",children:Zwe(i.price||0)})]}),t.width>30&&t.width<=60&&t.height>25&&h.jsx("text",{x:t.width/2,y:t.height/2,textAnchor:"middle",dominantBaseline:"middle",fill:s,fontSize:10,fontWeight:"bold",fontFamily:"'JetBrains Mono', monospace",children:i.symbol}),t.width>40&&t.height>40&&n&&h.jsxs("g",{transform:`translate(${t.width-18}, 6)`,children:[h.jsx("circle",{r:"10",fill:"rgba(15, 23, 42, 0.8)"}),h.jsx("text",{x:"0",y:"0",textAnchor:"middle",dominantBaseline:"middle",fontSize:"12",fill:"#fbbf24",children:""})]})]})};function v8({paneId:t,title:e}){const r=pl(),n=si(oe=>oe.marketData),i=si(oe=>oe.isConnected),{currentUser:a}=Vi(),[s,o]=E.useState([]),[c,d]=E.useState(!0),[f,p]=E.useState(!0),[g,b]=E.useState(null),[w,_]=E.useState(null),[x,T]=E.useState([]),[I,P]=E.useState({x:0,y:0}),[j,O]=E.useState(!1),[V,C]=E.useState(null),[N,M]=E.useState({x:0,y:0}),[F,D]=E.useState([]),U=si(oe=>t==="left"?oe.leftPane:oe.rightPane),$=si(oe=>oe.setPaneMarket);if(!U)return h.jsx("div",{className:"flex items-center justify-center h-full bg-dark-surface border border-dark-border rounded-xl",children:h.jsx("div",{className:"text-slate-500",children:"Initializing..."})});const G=U.selectedMarket;E.useEffect(()=>{const oe=n[G];oe&&oe.length>0?(o(oe),d(!1),b(new Date),p(Sn.isMarketOpen(G))):oe&&oe.length===0?(o([]),d(!1)):(async()=>{try{const Ee=await Sn.getMarketData(G);Ee&&(o(Ee),d(!1),b(new Date),p(Sn.isMarketOpen(G)))}catch(Ee){console.error(`Failed to fetch ${G} data:`,Ee),d(!1)}})()},[n,G]),E.useEffect(()=>{let oe=()=>{};if(a)oe=nl.subscribeToWatchlist(a.uid,xe=>{D(xe)});else{const xe=JSON.parse(localStorage.getItem("watchlist")||"[]");D(xe)}return()=>oe()},[a]);const ue=E.useCallback(oe=>F.some(xe=>xe.symbol===oe),[F]),ce=E.useCallback(async oe=>{const xe=ue(oe.symbol);if(a)try{xe?await nl.removeFromWatchlist(a.uid,oe.symbol):await nl.addToWatchlist(a.uid,{symbol:oe.symbol,market:G,name:oe.name})}catch(Ee){console.error("Watchlist operation failed:",Ee)}else{let Ee;xe?Ee=F.filter(Se=>Se.symbol!==oe.symbol):Ee=[...F,{symbol:oe.symbol,market:G,name:oe.name}],localStorage.setItem("watchlist",JSON.stringify(Ee)),D(Ee)}},[F,G,ue,a]),se=E.useCallback((oe,xe)=>{C(oe),M(xe),_(null)},[]),Q=E.useCallback(async(oe,xe)=>{if(w?.symbol===oe.symbol){_(null);return}_(oe),P(xe),T([]),O(!0);try{const Ee=s.map(De=>({symbol:De.symbol,name:De.name})),Se=await Kwe(oe.symbol,Ee,90,5);T(Se)}catch(Ee){console.error("Failed to fetch correlations:",Ee)}finally{O(!1)}},[w,s]),X=E.useCallback(()=>{V&&r(`/asset/${G}/${V.symbol}`)},[V,G,r]),ie=E.useMemo(()=>!s||s.length===0?{id:"root",children:[]}:{id:"root",children:s.map(oe=>({id:oe.id||oe.symbol.toLowerCase(),symbol:oe.symbol,name:oe.name,value:oe.marketCap||1e9,price:oe.price,change:oe.change}))},[s]),B=oe=>{$(t,oe),d(!0),_(null)},Z={crypto:"Cryptocurrency",stocks:"US Stocks",commodities:"Commodities"},_e=E.useCallback(oe=>h.jsx(n_e,{...oe,onNodeClick:Q,onNodeContextMenu:se,isWatchlisted:oe.node.data&&ue(oe.node.data.symbol)}),[Q,se,ue]);return h.jsxs("div",{className:"flex flex-col h-full bg-dark-surface rounded-xl border border-dark-border overflow-hidden relative",children:[h.jsxs("div",{className:"flex items-center justify-between px-4 py-3 border-b border-dark-border bg-slate-800/50",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("h2",{className:"text-lg font-semibold text-slate-200",children:e}),h.jsx(Wwe,{isConnected:i,isLive:f})]}),h.jsx(Hwe,{value:G,onChange:B})]}),h.jsxs("div",{className:"px-4 py-2 bg-slate-800/30 border-b border-dark-border flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("span",{className:"text-sm text-slate-400 font-mono",children:Z[G]}),!f&&G==="stocks"&&h.jsx("span",{className:"ml-2 text-xs text-yellow-500 bg-yellow-500/10 px-2 py-0.5 rounded",children:" After Hours"})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-xs text-slate-600",children:"Click asset for correlations"}),g&&h.jsx("span",{className:"text-xs text-slate-600 font-mono",children:g.toLocaleTimeString()})]})]}),h.jsx("div",{className:`flex-1 p-2 relative ${!f&&G==="stocks"?"grayscale-mode":""}`,style:{minHeight:"400px"},onClick:()=>_(null),children:c?h.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("svg",{className:"animate-spin h-5 w-5",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h.jsxs("span",{className:"font-mono text-sm",children:["Loading ",G," data..."]})]})}):s.length>0?h.jsxs(h.Fragment,{children:[h.jsx(Bwe,{data:ie,identity:"id",value:"value",valueFormat:" >-.2s",tile:"squarify",leavesOnly:!0,innerPadding:3,outerPadding:3,borderWidth:0,enableLabel:!1,nodeComponent:_e,colors:oe=>KH(oe.data.change||0),animate:!0,motionConfig:"gentle"}),w&&h.jsx(t_e,{asset:w,correlations:x,onClose:()=>_(null),position:I}),V&&h.jsx(r_e,{asset:V,position:N,isWatchlisted:ue(V.symbol),onClose:()=>C(null),onToggleWatchlist:()=>ce(V),onViewDetails:X})]}):h.jsx("div",{className:"flex items-center justify-center h-full text-slate-500",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"text-2xl mb-2",children:""}),h.jsx("span",{className:"font-mono text-sm",children:"No data available"})]})})}),s.length>0&&h.jsx("div",{className:"px-4 py-2 border-t border-dark-border bg-slate-800/30",children:h.jsxs("div",{className:"flex justify-between text-xs font-mono text-slate-500",children:[h.jsxs("span",{children:[s.length," assets  15-min delayed"]}),h.jsxs("span",{children:["Total: ",Jwe(s.reduce((oe,xe)=>oe+(xe.marketCap||0),0))]})]})})]})}function i_e(){return h.jsxs("div",{className:"p-6 h-[calc(100vh-64px)]",children:[h.jsx("div",{className:"flex items-center justify-between mb-4",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-slate-200",children:"Market Heatmap"}),h.jsx("p",{className:"text-slate-500 text-sm font-mono",children:"Dual-viewport visualization"})]})}),h.jsxs("div",{className:"flex gap-4 h-[calc(100%-60px)]",children:[h.jsx("div",{className:"flex-1 min-w-0",children:h.jsx(v8,{paneId:"left",title:"Left Viewport"})}),h.jsx("div",{className:"w-px bg-dark-border"}),h.jsx("div",{className:"flex-1 min-w-0",children:h.jsx(v8,{paneId:"right",title:"Right Viewport"})})]})]})}function YH(t){var e,r,n="";if(typeof t=="string"||typeof t=="number")n+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(r=YH(t[e]))&&(n&&(n+=" "),n+=r)}else for(r in t)t[r]&&(n&&(n+=" "),n+=r);return n}function kt(){for(var t,e,r=0,n="",i=arguments.length;r<i;r++)(t=arguments[r])&&(e=YH(t))&&(n&&(n+=" "),n+=e);return n}var a_e=["dangerouslySetInnerHTML","onCopy","onCopyCapture","onCut","onCutCapture","onPaste","onPasteCapture","onCompositionEnd","onCompositionEndCapture","onCompositionStart","onCompositionStartCapture","onCompositionUpdate","onCompositionUpdateCapture","onFocus","onFocusCapture","onBlur","onBlurCapture","onChange","onChangeCapture","onBeforeInput","onBeforeInputCapture","onInput","onInputCapture","onReset","onResetCapture","onSubmit","onSubmitCapture","onInvalid","onInvalidCapture","onLoad","onLoadCapture","onError","onErrorCapture","onKeyDown","onKeyDownCapture","onKeyPress","onKeyPressCapture","onKeyUp","onKeyUpCapture","onAbort","onAbortCapture","onCanPlay","onCanPlayCapture","onCanPlayThrough","onCanPlayThroughCapture","onDurationChange","onDurationChangeCapture","onEmptied","onEmptiedCapture","onEncrypted","onEncryptedCapture","onEnded","onEndedCapture","onLoadedData","onLoadedDataCapture","onLoadedMetadata","onLoadedMetadataCapture","onLoadStart","onLoadStartCapture","onPause","onPauseCapture","onPlay","onPlayCapture","onPlaying","onPlayingCapture","onProgress","onProgressCapture","onRateChange","onRateChangeCapture","onSeeked","onSeekedCapture","onSeeking","onSeekingCapture","onStalled","onStalledCapture","onSuspend","onSuspendCapture","onTimeUpdate","onTimeUpdateCapture","onVolumeChange","onVolumeChangeCapture","onWaiting","onWaitingCapture","onAuxClick","onAuxClickCapture","onClick","onClickCapture","onContextMenu","onContextMenuCapture","onDoubleClick","onDoubleClickCapture","onDrag","onDragCapture","onDragEnd","onDragEndCapture","onDragEnter","onDragEnterCapture","onDragExit","onDragExitCapture","onDragLeave","onDragLeaveCapture","onDragOver","onDragOverCapture","onDragStart","onDragStartCapture","onDrop","onDropCapture","onMouseDown","onMouseDownCapture","onMouseEnter","onMouseLeave","onMouseMove","onMouseMoveCapture","onMouseOut","onMouseOutCapture","onMouseOver","onMouseOverCapture","onMouseUp","onMouseUpCapture","onSelect","onSelectCapture","onTouchCancel","onTouchCancelCapture","onTouchEnd","onTouchEndCapture","onTouchMove","onTouchMoveCapture","onTouchStart","onTouchStartCapture","onPointerDown","onPointerDownCapture","onPointerMove","onPointerMoveCapture","onPointerUp","onPointerUpCapture","onPointerCancel","onPointerCancelCapture","onPointerEnter","onPointerEnterCapture","onPointerLeave","onPointerLeaveCapture","onPointerOver","onPointerOverCapture","onPointerOut","onPointerOutCapture","onGotPointerCapture","onGotPointerCaptureCapture","onLostPointerCapture","onLostPointerCaptureCapture","onScroll","onScrollCapture","onWheel","onWheelCapture","onAnimationStart","onAnimationStartCapture","onAnimationEnd","onAnimationEndCapture","onAnimationIteration","onAnimationIterationCapture","onTransitionEnd","onTransitionEndCapture"];function kN(t){if(typeof t!="string")return!1;var e=a_e;return e.includes(t)}var s_e=["aria-activedescendant","aria-atomic","aria-autocomplete","aria-busy","aria-checked","aria-colcount","aria-colindex","aria-colspan","aria-controls","aria-current","aria-describedby","aria-details","aria-disabled","aria-errormessage","aria-expanded","aria-flowto","aria-haspopup","aria-hidden","aria-invalid","aria-keyshortcuts","aria-label","aria-labelledby","aria-level","aria-live","aria-modal","aria-multiline","aria-multiselectable","aria-orientation","aria-owns","aria-placeholder","aria-posinset","aria-pressed","aria-readonly","aria-relevant","aria-required","aria-roledescription","aria-rowcount","aria-rowindex","aria-rowspan","aria-selected","aria-setsize","aria-sort","aria-valuemax","aria-valuemin","aria-valuenow","aria-valuetext","className","color","height","id","lang","max","media","method","min","name","style","target","width","role","tabIndex","accentHeight","accumulate","additive","alignmentBaseline","allowReorder","alphabetic","amplitude","arabicForm","ascent","attributeName","attributeType","autoReverse","azimuth","baseFrequency","baselineShift","baseProfile","bbox","begin","bias","by","calcMode","capHeight","clip","clipPath","clipPathUnits","clipRule","colorInterpolation","colorInterpolationFilters","colorProfile","colorRendering","contentScriptType","contentStyleType","cursor","cx","cy","d","decelerate","descent","diffuseConstant","direction","display","divisor","dominantBaseline","dur","dx","dy","edgeMode","elevation","enableBackground","end","exponent","externalResourcesRequired","fill","fillOpacity","fillRule","filter","filterRes","filterUnits","floodColor","floodOpacity","focusable","fontFamily","fontSize","fontSizeAdjust","fontStretch","fontStyle","fontVariant","fontWeight","format","from","fx","fy","g1","g2","glyphName","glyphOrientationHorizontal","glyphOrientationVertical","glyphRef","gradientTransform","gradientUnits","hanging","horizAdvX","horizOriginX","href","ideographic","imageRendering","in2","in","intercept","k1","k2","k3","k4","k","kernelMatrix","kernelUnitLength","kerning","keyPoints","keySplines","keyTimes","lengthAdjust","letterSpacing","lightingColor","limitingConeAngle","local","markerEnd","markerHeight","markerMid","markerStart","markerUnits","markerWidth","mask","maskContentUnits","maskUnits","mathematical","mode","numOctaves","offset","opacity","operator","order","orient","orientation","origin","overflow","overlinePosition","overlineThickness","paintOrder","panose1","pathLength","patternContentUnits","patternTransform","patternUnits","pointerEvents","pointsAtX","pointsAtY","pointsAtZ","preserveAlpha","preserveAspectRatio","primitiveUnits","r","radius","refX","refY","renderingIntent","repeatCount","repeatDur","requiredExtensions","requiredFeatures","restart","result","rotate","rx","ry","seed","shapeRendering","slope","spacing","specularConstant","specularExponent","speed","spreadMethod","startOffset","stdDeviation","stemh","stemv","stitchTiles","stopColor","stopOpacity","strikethroughPosition","strikethroughThickness","string","stroke","strokeDasharray","strokeDashoffset","strokeLinecap","strokeLinejoin","strokeMiterlimit","strokeOpacity","strokeWidth","surfaceScale","systemLanguage","tableValues","targetX","targetY","textAnchor","textDecoration","textLength","textRendering","to","transform","u1","u2","underlinePosition","underlineThickness","unicode","unicodeBidi","unicodeRange","unitsPerEm","vAlphabetic","values","vectorEffect","version","vertAdvY","vertOriginX","vertOriginY","vHanging","vIdeographic","viewTarget","visibility","vMathematical","widths","wordSpacing","writingMode","x1","x2","x","xChannelSelector","xHeight","xlinkActuate","xlinkArcrole","xlinkHref","xlinkRole","xlinkShow","xlinkTitle","xlinkType","xmlBase","xmlLang","xmlns","xmlnsXlink","xmlSpace","y1","y2","y","yChannelSelector","z","zoomAndPan","ref","key","angle"],o_e=new Set(s_e);function XH(t){return typeof t!="string"?!1:o_e.has(t)}function QH(t){return typeof t=="string"&&t.startsWith("data-")}function ua(t){if(typeof t!="object"||t===null)return{};var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(XH(r)||QH(r))&&(e[r]=t[r]);return e}function vx(t){if(t==null)return null;if(E.isValidElement(t)&&typeof t.props=="object"&&t.props!==null){var e=t.props;return ua(e)}return typeof t=="object"&&!Array.isArray(t)?ua(t):null}function fi(t){var e={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(XH(r)||QH(r)||kN(r))&&(e[r]=t[r]);return e}function l_e(t){return t==null?null:E.isValidElement(t)?fi(t.props):typeof t=="object"&&!Array.isArray(t)?fi(t):null}var c_e=["children","width","height","viewBox","className","style","title","desc"];function Yk(){return Yk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Yk.apply(null,arguments)}function u_e(t,e){if(t==null)return{};var r,n,i=d_e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function d_e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var IN=E.forwardRef((t,e)=>{var{children:r,width:n,height:i,viewBox:a,className:s,style:o,title:c,desc:d}=t,f=u_e(t,c_e),p=a||{width:n,height:i,x:0,y:0},g=kt("recharts-surface",s);return E.createElement("svg",Yk({},fi(f),{className:g,width:n,height:i,style:o,viewBox:"".concat(p.x," ").concat(p.y," ").concat(p.width," ").concat(p.height),ref:e}),E.createElement("title",null,c),E.createElement("desc",null,d),r)}),f_e=["children","className"];function Xk(){return Xk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xk.apply(null,arguments)}function h_e(t,e){if(t==null)return{};var r,n,i=p_e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function p_e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var as=E.forwardRef((t,e)=>{var{children:r,className:n}=t,i=h_e(t,f_e),a=kt("recharts-layer",n);return E.createElement("g",Xk({className:a},fi(i),{ref:e}),r)}),JH=E.createContext(null),m_e=()=>E.useContext(JH),cT={},uT={},b8;function g_e(){return b8||(b8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==="__proto__"}t.isUnsafeProperty=e})(uT)),uT}var dT={},x8;function ZH(){return x8||(x8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){switch(typeof r){case"number":case"symbol":return!1;case"string":return r.includes(".")||r.includes("[")||r.includes("]")}}t.isDeepKey=e})(dT)),dT}var fT={},w8;function PN(){return w8||(w8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="string"||typeof r=="symbol"?r:Object.is(r?.valueOf?.(),-0)?"-0":String(r)}t.toKey=e})(fT)),fT}var hT={},pT={},_8;function y_e(){return _8||(_8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){if(r==null)return"";if(typeof r=="string")return r;if(Array.isArray(r))return r.map(e).join(",");const n=String(r);return n==="0"&&Object.is(Number(r),-0)?"-0":n}t.toString=e})(pT)),pT}var E8;function CN(){return E8||(E8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=y_e(),r=PN();function n(i){if(Array.isArray(i))return i.map(r.toKey);if(typeof i=="symbol")return[i];i=e.toString(i);const a=[],s=i.length;if(s===0)return a;let o=0,c="",d="",f=!1;for(i.charCodeAt(0)===46&&(a.push(""),o++);o<s;){const p=i[o];d?p==="\\"&&o+1<s?(o++,c+=i[o]):p===d?d="":c+=p:f?p==='"'||p==="'"?d=p:p==="]"?(f=!1,a.push(c),c=""):c+=p:p==="["?(f=!0,c&&(a.push(c),c="")):p==="."?c&&(a.push(c),c=""):c+=p,o++}return c&&a.push(c),a}t.toPath=n})(hT)),hT}var S8;function NN(){return S8||(S8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=g_e(),r=ZH(),n=PN(),i=CN();function a(o,c,d){if(o==null)return d;switch(typeof c){case"string":{if(e.isUnsafeProperty(c))return d;const f=o[c];return f===void 0?r.isDeepKey(c)?a(o,i.toPath(c),d):d:f}case"number":case"symbol":{typeof c=="number"&&(c=n.toKey(c));const f=o[c];return f===void 0?d:f}default:{if(Array.isArray(c))return s(o,c,d);if(Object.is(c?.valueOf(),-0)?c="-0":c=String(c),e.isUnsafeProperty(c))return d;const f=o[c];return f===void 0?d:f}}}function s(o,c,d){if(c.length===0)return d;let f=o;for(let p=0;p<c.length;p++){if(f==null||e.isUnsafeProperty(c[p]))return d;f=f[c[p]]}return f===void 0?d:f}t.get=a})(cT)),cT}var mT,T8;function v_e(){return T8||(T8=1,mT=NN().get),mT}var b_e=v_e();const bx=Qt(b_e);var x_e=4;function Ko(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:x_e,r=10**e,n=Math.round(t*r)/r;return Object.is(n,-0)?0:n}function Gr(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return t.reduce((i,a,s)=>{var o=r[s-1];return typeof o=="string"?i+o+a:o!==void 0?i+Ko(o)+a:i+a},"")}var Oi=t=>t===0?0:t>0?1:-1,ss=t=>typeof t=="number"&&t!=+t,Mc=t=>typeof t=="string"&&t.indexOf("%")===t.length-1,Ne=t=>(typeof t=="number"||t instanceof Number)&&!ss(t),os=t=>Ne(t)||typeof t=="string",w_e=0,kp=t=>{var e=++w_e;return"".concat(t||"").concat(e)},fl=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:0,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(!Ne(e)&&typeof e!="string")return n;var a;if(Mc(e)){if(r==null)return n;var s=e.indexOf("%");a=r*parseFloat(e.slice(0,s))/100}else a=+e;return ss(a)&&(a=n),i&&r!=null&&a>r&&(a=r),a},eG=t=>{if(!Array.isArray(t))return!1;for(var e=t.length,r={},n=0;n<e;n++)if(!r[String(t[n])])r[String(t[n])]=!0;else return!0;return!1};function Ua(t,e,r){return Ne(t)&&Ne(e)?Ko(t+r*(e-t)):e}function tG(t,e,r){if(!(!t||!t.length))return t.find(n=>n&&(typeof e=="function"?e(n):bx(n,e))===r)}var gn=t=>t===null||typeof t>"u",hm=t=>gn(t)?t:"".concat(t.charAt(0).toUpperCase()).concat(t.slice(1));function Vn(t){return t!=null}function nf(){}var __e=["type","size","sizeType"];function Qk(){return Qk=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qk.apply(null,arguments)}function A8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function k8(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A8(Object(r),!0).forEach(function(n){E_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function E_e(t,e,r){return(e=S_e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function S_e(t){var e=T_e(t,"string");return typeof e=="symbol"?e:e+""}function T_e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function A_e(t,e){if(t==null)return{};var r,n,i=k_e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function k_e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var rG={symbolCircle:hN,symbolCross:Rbe,symbolDiamond:jbe,symbolSquare:Dbe,symbolStar:$be,symbolTriangle:Vbe,symbolWye:qbe},I_e=Math.PI/180,P_e=t=>{var e="symbol".concat(hm(t));return rG[e]||hN},C_e=(t,e,r)=>{if(e==="area")return t;switch(r){case"cross":return 5*t*t/9;case"diamond":return .5*t*t/Math.sqrt(3);case"square":return t*t;case"star":{var n=18*I_e;return 1.25*t*t*(Math.tan(n)-Math.tan(n*2)*Math.tan(n)**2)}case"triangle":return Math.sqrt(3)*t*t/4;case"wye":return(21-10*Math.sqrt(3))*t*t/8;default:return Math.PI*t*t/4}},N_e=(t,e)=>{rG["symbol".concat(hm(t))]=e},nG=t=>{var{type:e="circle",size:r=64,sizeType:n="area"}=t,i=A_e(t,__e),a=k8(k8({},i),{},{type:e,size:r,sizeType:n}),s="circle";typeof e=="string"&&(s=e);var o=()=>{var g=P_e(s),b=zbe().type(g).size(C_e(r,n,s)),w=b();if(w!==null)return w},{className:c,cx:d,cy:f}=a,p=fi(a);return Ne(d)&&Ne(f)&&Ne(r)?E.createElement("path",Qk({},p,{className:kt("recharts-symbols",c),transform:"translate(".concat(d,", ").concat(f,")"),d:o()})):null};nG.registerSymbol=N_e;var iG=t=>"radius"in t&&"startAngle"in t&&"endAngle"in t,RN=(t,e)=>{if(!t||typeof t=="function"||typeof t=="boolean")return null;var r=t;if(E.isValidElement(t)&&(r=t.props),typeof r!="object"&&typeof r!="function")return null;var n={};return Object.keys(r).forEach(i=>{kN(i)&&(n[i]=(a=>r[i](r,a)))}),n},R_e=(t,e,r)=>n=>(t(e,r,n),null),aG=(t,e,r)=>{if(t===null||typeof t!="object"&&typeof t!="function")return null;var n=null;return Object.keys(t).forEach(i=>{var a=t[i];kN(i)&&typeof a=="function"&&(n||(n={}),n[i]=R_e(a,e,r))}),n};function I8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function O_e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?I8(Object(r),!0).forEach(function(n){j_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):I8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function j_e(t,e,r){return(e=D_e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function D_e(t){var e=M_e(t,"string");return typeof e=="symbol"?e:e+""}function M_e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function In(t,e){var r=O_e({},t),n=e,i=Object.keys(e),a=i.reduce((s,o)=>(s[o]===void 0&&n[o]!==void 0&&(s[o]=n[o]),s),r);return a}function qy(){return qy=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qy.apply(null,arguments)}function P8(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function L_e(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?P8(Object(r),!0).forEach(function(n){F_e(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):P8(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function F_e(t,e,r){return(e=$_e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function $_e(t){var e=V_e(t,"string");return typeof e=="symbol"?e:e+""}function V_e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var Ii=32,U_e={align:"center",iconSize:14,inactiveColor:"#ccc",layout:"horizontal",verticalAlign:"middle"};function q_e(t){var{data:e,iconType:r,inactiveColor:n}=t,i=Ii/2,a=Ii/6,s=Ii/3,o=e.inactive?n:e.color,c=r??e.type;if(c==="none")return null;if(c==="plainline"){var d;return E.createElement("line",{strokeWidth:4,fill:"none",stroke:o,strokeDasharray:(d=e.payload)===null||d===void 0?void 0:d.strokeDasharray,x1:0,y1:i,x2:Ii,y2:i,className:"recharts-legend-icon"})}if(c==="line")return E.createElement("path",{strokeWidth:4,fill:"none",stroke:o,d:"M0,".concat(i,"h").concat(s,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(2*s,",").concat(i,`
            H`).concat(Ii,"M").concat(2*s,",").concat(i,`
            A`).concat(a,",").concat(a,",0,1,1,").concat(s,",").concat(i),className:"recharts-legend-icon"});if(c==="rect")return E.createElement("path",{stroke:"none",fill:o,d:"M0,".concat(Ii/8,"h").concat(Ii,"v").concat(Ii*3/4,"h").concat(-Ii,"z"),className:"recharts-legend-icon"});if(E.isValidElement(e.legendIcon)){var f=L_e({},e);return delete f.legendIcon,E.cloneElement(e.legendIcon,f)}return E.createElement(nG,{fill:o,cx:i,cy:i,size:Ii,sizeType:"diameter",type:c})}function z_e(t){var{payload:e,iconSize:r,layout:n,formatter:i,inactiveColor:a,iconType:s}=t,o={x:0,y:0,width:Ii,height:Ii},c={display:n==="horizontal"?"inline-block":"block",marginRight:10},d={display:"inline-block",verticalAlign:"middle",marginRight:4};return e.map((f,p)=>{var g=f.formatter||i,b=kt({"recharts-legend-item":!0,["legend-item-".concat(p)]:!0,inactive:f.inactive});if(f.type==="none")return null;var w=f.inactive?a:f.color,_=g?g(f.value,f,p):f.value;return E.createElement("li",qy({className:b,style:c,key:"legend-item-".concat(p)},aG(t,f,p)),E.createElement(IN,{width:r,height:r,viewBox:o,style:d,"aria-label":"".concat(_," legend icon")},E.createElement(q_e,{data:f,iconType:s,inactiveColor:a})),E.createElement("span",{className:"recharts-legend-item-text",style:{color:w}},_))})}var B_e=t=>{var e=In(t,U_e),{payload:r,layout:n,align:i}=e;if(!r||!r.length)return null;var a={padding:0,margin:0,textAlign:n==="horizontal"?i:"left"};return E.createElement("ul",{className:"recharts-default-legend",style:a},E.createElement(z_e,qy({},e,{payload:r})))},gT={},yT={},C8;function W_e(){return C8||(C8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){const i=new Map;for(let a=0;a<r.length;a++){const s=r[a],o=n(s,a,r);i.has(o)||i.set(o,s)}return Array.from(i.values())}t.uniqBy=e})(yT)),yT}var vT={},N8;function H_e(){return N8||(N8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return function(...i){return r.apply(this,i.slice(0,n))}}t.ary=e})(vT)),vT}var bT={},R8;function sG(){return R8||(R8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r}t.identity=e})(bT)),bT}var xT={},wT={},_T={},O8;function G_e(){return O8||(O8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Number.isSafeInteger(r)&&r>=0}t.isLength=e})(_T)),_T}var j8;function ON(){return j8||(j8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=G_e();function r(n){return n!=null&&typeof n!="function"&&e.isLength(n.length)}t.isArrayLike=r})(wT)),wT}var ET={},D8;function K_e(){return D8||(D8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="object"&&r!==null}t.isObjectLike=e})(ET)),ET}var M8;function Y_e(){return M8||(M8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ON(),r=K_e();function n(i){return r.isObjectLike(i)&&e.isArrayLike(i)}t.isArrayLikeObject=n})(xT)),xT}var ST={},TT={},L8;function X_e(){return L8||(L8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=NN();function r(n){return function(i){return e.get(i,n)}}t.property=r})(TT)),TT}var AT={},kT={},IT={},PT={},F8;function oG(){return F8||(F8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r!==null&&(typeof r=="object"||typeof r=="function")}t.isObject=e})(PT)),PT}var CT={},$8;function lG(){return $8||($8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null||typeof r!="object"&&typeof r!="function"}t.isPrimitive=e})(CT)),CT}var NT={},V8;function cG(){return V8||(V8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n){return r===n||Number.isNaN(r)&&Number.isNaN(n)}t.isEqualsSameValueZero=e})(NT)),NT}var U8;function Q_e(){return U8||(U8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=oG(),r=lG(),n=cG();function i(f,p,g){return typeof g!="function"?i(f,p,()=>{}):a(f,p,function b(w,_,x,T,I,P){const j=g(w,_,x,T,I,P);return j!==void 0?!!j:a(w,_,b,P)},new Map)}function a(f,p,g,b){if(p===f)return!0;switch(typeof p){case"object":return s(f,p,g,b);case"function":return Object.keys(p).length>0?a(f,{...p},g,b):n.isEqualsSameValueZero(f,p);default:return e.isObject(f)?typeof p=="string"?p==="":!0:n.isEqualsSameValueZero(f,p)}}function s(f,p,g,b){if(p==null)return!0;if(Array.isArray(p))return c(f,p,g,b);if(p instanceof Map)return o(f,p,g,b);if(p instanceof Set)return d(f,p,g,b);const w=Object.keys(p);if(f==null||r.isPrimitive(f))return w.length===0;if(w.length===0)return!0;if(b?.has(p))return b.get(p)===f;b?.set(p,f);try{for(let _=0;_<w.length;_++){const x=w[_];if(!r.isPrimitive(f)&&!(x in f)||p[x]===void 0&&f[x]!==void 0||p[x]===null&&f[x]!==null||!g(f[x],p[x],x,f,p,b))return!1}return!0}finally{b?.delete(p)}}function o(f,p,g,b){if(p.size===0)return!0;if(!(f instanceof Map))return!1;for(const[w,_]of p.entries()){const x=f.get(w);if(g(x,_,w,f,p,b)===!1)return!1}return!0}function c(f,p,g,b){if(p.length===0)return!0;if(!Array.isArray(f))return!1;const w=new Set;for(let _=0;_<p.length;_++){const x=p[_];let T=!1;for(let I=0;I<f.length;I++){if(w.has(I))continue;const P=f[I];let j=!1;if(g(P,x,_,f,p,b)&&(j=!0),j){w.add(I),T=!0;break}}if(!T)return!1}return!0}function d(f,p,g,b){return p.size===0?!0:f instanceof Set?c([...f],[...p],g,b):!1}t.isMatchWith=i,t.isSetMatch=d})(IT)),IT}var q8;function uG(){return q8||(q8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=Q_e();function r(n,i){return e.isMatchWith(n,i,()=>{})}t.isMatch=r})(kT)),kT}var RT={},OT={},jT={},z8;function J_e(){return z8||(z8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Object.getOwnPropertySymbols(r).filter(n=>Object.prototype.propertyIsEnumerable.call(r,n))}t.getSymbols=e})(jT)),jT}var DT={},B8;function jN(){return B8||(B8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r==null?r===void 0?"[object Undefined]":"[object Null]":Object.prototype.toString.call(r)}t.getTag=e})(DT)),DT}var MT={},W8;function dG(){return W8||(W8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e="[object RegExp]",r="[object String]",n="[object Number]",i="[object Boolean]",a="[object Arguments]",s="[object Symbol]",o="[object Date]",c="[object Map]",d="[object Set]",f="[object Array]",p="[object Function]",g="[object ArrayBuffer]",b="[object Object]",w="[object Error]",_="[object DataView]",x="[object Uint8Array]",T="[object Uint8ClampedArray]",I="[object Uint16Array]",P="[object Uint32Array]",j="[object BigUint64Array]",O="[object Int8Array]",V="[object Int16Array]",C="[object Int32Array]",N="[object BigInt64Array]",M="[object Float32Array]",F="[object Float64Array]";t.argumentsTag=a,t.arrayBufferTag=g,t.arrayTag=f,t.bigInt64ArrayTag=N,t.bigUint64ArrayTag=j,t.booleanTag=i,t.dataViewTag=_,t.dateTag=o,t.errorTag=w,t.float32ArrayTag=M,t.float64ArrayTag=F,t.functionTag=p,t.int16ArrayTag=V,t.int32ArrayTag=C,t.int8ArrayTag=O,t.mapTag=c,t.numberTag=n,t.objectTag=b,t.regexpTag=e,t.setTag=d,t.stringTag=r,t.symbolTag=s,t.uint16ArrayTag=I,t.uint32ArrayTag=P,t.uint8ArrayTag=x,t.uint8ClampedArrayTag=T})(MT)),MT}var LT={},H8;function Z_e(){return H8||(H8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return ArrayBuffer.isView(r)&&!(r instanceof DataView)}t.isTypedArray=e})(LT)),LT}var G8;function fG(){return G8||(G8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=J_e(),r=jN(),n=dG(),i=lG(),a=Z_e();function s(f,p){return o(f,void 0,f,new Map,p)}function o(f,p,g,b=new Map,w=void 0){const _=w?.(f,p,g,b);if(_!==void 0)return _;if(i.isPrimitive(f))return f;if(b.has(f))return b.get(f);if(Array.isArray(f)){const x=new Array(f.length);b.set(f,x);for(let T=0;T<f.length;T++)x[T]=o(f[T],T,g,b,w);return Object.hasOwn(f,"index")&&(x.index=f.index),Object.hasOwn(f,"input")&&(x.input=f.input),x}if(f instanceof Date)return new Date(f.getTime());if(f instanceof RegExp){const x=new RegExp(f.source,f.flags);return x.lastIndex=f.lastIndex,x}if(f instanceof Map){const x=new Map;b.set(f,x);for(const[T,I]of f)x.set(T,o(I,T,g,b,w));return x}if(f instanceof Set){const x=new Set;b.set(f,x);for(const T of f)x.add(o(T,void 0,g,b,w));return x}if(typeof Buffer<"u"&&Buffer.isBuffer(f))return f.subarray();if(a.isTypedArray(f)){const x=new(Object.getPrototypeOf(f)).constructor(f.length);b.set(f,x);for(let T=0;T<f.length;T++)x[T]=o(f[T],T,g,b,w);return x}if(f instanceof ArrayBuffer||typeof SharedArrayBuffer<"u"&&f instanceof SharedArrayBuffer)return f.slice(0);if(f instanceof DataView){const x=new DataView(f.buffer.slice(0),f.byteOffset,f.byteLength);return b.set(f,x),c(x,f,g,b,w),x}if(typeof File<"u"&&f instanceof File){const x=new File([f],f.name,{type:f.type});return b.set(f,x),c(x,f,g,b,w),x}if(typeof Blob<"u"&&f instanceof Blob){const x=new Blob([f],{type:f.type});return b.set(f,x),c(x,f,g,b,w),x}if(f instanceof Error){const x=new f.constructor;return b.set(f,x),x.message=f.message,x.name=f.name,x.stack=f.stack,x.cause=f.cause,c(x,f,g,b,w),x}if(f instanceof Boolean){const x=new Boolean(f.valueOf());return b.set(f,x),c(x,f,g,b,w),x}if(f instanceof Number){const x=new Number(f.valueOf());return b.set(f,x),c(x,f,g,b,w),x}if(f instanceof String){const x=new String(f.valueOf());return b.set(f,x),c(x,f,g,b,w),x}if(typeof f=="object"&&d(f)){const x=Object.create(Object.getPrototypeOf(f));return b.set(f,x),c(x,f,g,b,w),x}return f}function c(f,p,g=f,b,w){const _=[...Object.keys(p),...e.getSymbols(p)];for(let x=0;x<_.length;x++){const T=_[x],I=Object.getOwnPropertyDescriptor(f,T);(I==null||I.writable)&&(f[T]=o(p[T],T,g,b,w))}}function d(f){switch(r.getTag(f)){case n.argumentsTag:case n.arrayTag:case n.arrayBufferTag:case n.dataViewTag:case n.booleanTag:case n.dateTag:case n.float32ArrayTag:case n.float64ArrayTag:case n.int8ArrayTag:case n.int16ArrayTag:case n.int32ArrayTag:case n.mapTag:case n.numberTag:case n.objectTag:case n.regexpTag:case n.setTag:case n.stringTag:case n.symbolTag:case n.uint8ArrayTag:case n.uint8ClampedArrayTag:case n.uint16ArrayTag:case n.uint32ArrayTag:return!0;default:return!1}}t.cloneDeepWith=s,t.cloneDeepWithImpl=o,t.copyProperties=c})(OT)),OT}var K8;function e2e(){return K8||(K8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fG();function r(n){return e.cloneDeepWithImpl(n,void 0,n,new Map,void 0)}t.cloneDeep=r})(RT)),RT}var Y8;function t2e(){return Y8||(Y8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uG(),r=e2e();function n(i){return i=r.cloneDeep(i),a=>e.isMatch(a,i)}t.matches=n})(AT)),AT}var FT={},$T={},VT={},X8;function r2e(){return X8||(X8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=fG(),r=jN(),n=dG();function i(a,s){return e.cloneDeepWith(a,(o,c,d,f)=>{const p=s?.(o,c,d,f);if(p!==void 0)return p;if(typeof a=="object"){if(r.getTag(a)===n.objectTag&&typeof a.constructor!="function"){const g={};return f.set(a,g),e.copyProperties(g,a,d,f),g}switch(Object.prototype.toString.call(a)){case n.numberTag:case n.stringTag:case n.booleanTag:{const g=new a.constructor(a?.valueOf());return e.copyProperties(g,a),g}case n.argumentsTag:{const g={};return e.copyProperties(g,a),g.length=a.length,g[Symbol.iterator]=a[Symbol.iterator],g}default:return}}})}t.cloneDeepWith=i})(VT)),VT}var Q8;function n2e(){return Q8||(Q8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=r2e();function r(n){return e.cloneDeepWith(n)}t.cloneDeep=r})($T)),$T}var UT={},qT={},J8;function hG(){return J8||(J8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=/^(?:0|[1-9]\d*)$/;function r(n,i=Number.MAX_SAFE_INTEGER){switch(typeof n){case"number":return Number.isInteger(n)&&n>=0&&n<i;case"symbol":return!1;case"string":return e.test(n)}}t.isIndex=r})(qT)),qT}var zT={},Z8;function i2e(){return Z8||(Z8=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=jN();function r(n){return n!==null&&typeof n=="object"&&e.getTag(n)==="[object Arguments]"}t.isArguments=r})(zT)),zT}var e9;function a2e(){return e9||(e9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=ZH(),r=hG(),n=i2e(),i=CN();function a(s,o){let c;if(Array.isArray(o)?c=o:typeof o=="string"&&e.isDeepKey(o)&&s?.[o]==null?c=i.toPath(o):c=[o],c.length===0)return!1;let d=s;for(let f=0;f<c.length;f++){const p=c[f];if((d==null||!Object.hasOwn(d,p))&&!((Array.isArray(d)||n.isArguments(d))&&r.isIndex(p)&&p<d.length))return!1;d=d[p]}return!0}t.has=a})(UT)),UT}var t9;function s2e(){return t9||(t9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=uG(),r=PN(),n=n2e(),i=NN(),a=a2e();function s(o,c){switch(typeof o){case"object":{Object.is(o?.valueOf(),-0)&&(o="-0");break}case"number":{o=r.toKey(o);break}}return c=n.cloneDeep(c),function(d){const f=i.get(d,o);return f===void 0?a.has(d,o):c===void 0?f===void 0:e.isMatch(f,c)}}t.matchesProperty=s})(FT)),FT}var r9;function o2e(){return r9||(r9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=sG(),r=X_e(),n=t2e(),i=s2e();function a(s){if(s==null)return e.identity;switch(typeof s){case"function":return s;case"object":return Array.isArray(s)&&s.length===2?i.matchesProperty(s[0],s[1]):n.matches(s);case"string":case"symbol":case"number":return r.property(s)}}t.iteratee=a})(ST)),ST}var n9;function l2e(){return n9||(n9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=W_e(),r=H_e(),n=sG(),i=Y_e(),a=o2e();function s(o,c=n.identity){return i.isArrayLikeObject(o)?e.uniqBy(Array.from(o),r.ary(a.iteratee(c),1)):[]}t.uniqBy=s})(gT)),gT}var BT,i9;function c2e(){return i9||(i9=1,BT=l2e().uniqBy),BT}var u2e=c2e();const a9=Qt(u2e);function pG(t,e,r){return e===!0?a9(t,r):typeof e=="function"?a9(t,e):t}var WT={exports:{}},HT={},GT={exports:{}},KT={};var s9;function d2e(){if(s9)return KT;s9=1;var t=Rd();function e(p,g){return p===g&&(p!==0||1/p===1/g)||p!==p&&g!==g}var r=typeof Object.is=="function"?Object.is:e,n=t.useState,i=t.useEffect,a=t.useLayoutEffect,s=t.useDebugValue;function o(p,g){var b=g(),w=n({inst:{value:b,getSnapshot:g}}),_=w[0].inst,x=w[1];return a(function(){_.value=b,_.getSnapshot=g,c(_)&&x({inst:_})},[p,b,g]),i(function(){return c(_)&&x({inst:_}),p(function(){c(_)&&x({inst:_})})},[p]),s(b),b}function c(p){var g=p.getSnapshot;p=p.value;try{var b=g();return!r(p,b)}catch{return!0}}function d(p,g){return g()}var f=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?d:o;return KT.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:f,KT}var o9;function f2e(){return o9||(o9=1,GT.exports=d2e()),GT.exports}var l9;function h2e(){if(l9)return HT;l9=1;var t=Rd(),e=f2e();function r(d,f){return d===f&&(d!==0||1/d===1/f)||d!==d&&f!==f}var n=typeof Object.is=="function"?Object.is:r,i=e.useSyncExternalStore,a=t.useRef,s=t.useEffect,o=t.useMemo,c=t.useDebugValue;return HT.useSyncExternalStoreWithSelector=function(d,f,p,g,b){var w=a(null);if(w.current===null){var _={hasValue:!1,value:null};w.current=_}else _=w.current;w=o(function(){function T(V){if(!I){if(I=!0,P=V,V=g(V),b!==void 0&&_.hasValue){var C=_.value;if(b(C,V))return j=C}return j=V}if(C=j,n(P,V))return C;var N=g(V);return b!==void 0&&b(C,N)?(P=V,C):(P=V,j=N)}var I=!1,P,j,O=p===void 0?null:p;return[function(){return T(f())},O===null?void 0:function(){return T(O())}]},[f,p,g,b]);var x=i(d,w[0],w[1]);return s(function(){_.hasValue=!0,_.value=x},[x]),c(x),x},HT}var c9;function p2e(){return c9||(c9=1,WT.exports=h2e()),WT.exports}var m2e=p2e(),DN=E.createContext(null),g2e=t=>t,br=()=>{var t=E.useContext(DN);return t?t.store.dispatch:g2e},q0=()=>{},y2e=()=>q0,v2e=(t,e)=>t===e;function $e(t){var e=E.useContext(DN),r=E.useMemo(()=>e?n=>{if(n!=null)return t(n)}:q0,[e,t]);return m2e.useSyncExternalStoreWithSelector(e?e.subscription.addNestedSub:y2e,e?e.store.getState:q0,e?e.store.getState:q0,r,v2e)}function b2e(t,e=`expected a function, instead received ${typeof t}`){if(typeof t!="function")throw new TypeError(e)}function x2e(t,e=`expected an object, instead received ${typeof t}`){if(typeof t!="object")throw new TypeError(e)}function w2e(t,e="expected all items to be functions, instead received the following types: "){if(!t.every(r=>typeof r=="function")){const r=t.map(n=>typeof n=="function"?`function ${n.name||"unnamed"}()`:typeof n).join(", ");throw new TypeError(`${e}[${r}]`)}}var u9=t=>Array.isArray(t)?t:[t];function _2e(t){const e=Array.isArray(t[0])?t[0]:t;return w2e(e,"createSelector expects all input-selectors to be functions, but received the following types: "),e}function E2e(t,e){const r=[],{length:n}=t;for(let i=0;i<n;i++)r.push(t[i].apply(null,e));return r}var S2e=class{constructor(t){this.value=t}deref(){return this.value}},T2e=typeof WeakRef<"u"?WeakRef:S2e,A2e=0,d9=1;function u0(){return{s:A2e,v:void 0,o:null,p:null}}function mG(t,e={}){let r=u0();const{resultEqualityCheck:n}=e;let i,a=0;function s(){let o=r;const{length:c}=arguments;for(let p=0,g=c;p<g;p++){const b=arguments[p];if(typeof b=="function"||typeof b=="object"&&b!==null){let w=o.o;w===null&&(o.o=w=new WeakMap);const _=w.get(b);_===void 0?(o=u0(),w.set(b,o)):o=_}else{let w=o.p;w===null&&(o.p=w=new Map);const _=w.get(b);_===void 0?(o=u0(),w.set(b,o)):o=_}}const d=o;let f;if(o.s===d9)f=o.v;else if(f=t.apply(null,arguments),a++,n){const p=i?.deref?.()??i;p!=null&&n(p,f)&&(f=p,a!==0&&a--),i=typeof f=="object"&&f!==null||typeof f=="function"?new T2e(f):f}return d.s=d9,d.v=f,f}return s.clearCache=()=>{r=u0(),s.resetResultsCount()},s.resultsCount=()=>a,s.resetResultsCount=()=>{a=0},s}function k2e(t,...e){const r=typeof t=="function"?{memoize:t,memoizeOptions:e}:t,n=(...i)=>{let a=0,s=0,o,c={},d=i.pop();typeof d=="object"&&(c=d,d=i.pop()),b2e(d,`createSelector expects an output function after the inputs, but received: [${typeof d}]`);const f={...r,...c},{memoize:p,memoizeOptions:g=[],argsMemoize:b=mG,argsMemoizeOptions:w=[]}=f,_=u9(g),x=u9(w),T=_2e(i),I=p(function(){return a++,d.apply(null,arguments)},..._),P=b(function(){s++;const O=E2e(T,arguments);return o=I.apply(null,O),o},...x);return Object.assign(P,{resultFunc:d,memoizedResultFunc:I,dependencies:T,dependencyRecomputations:()=>s,resetDependencyRecomputations:()=>{s=0},lastResult:()=>o,recomputations:()=>a,resetRecomputations:()=>{a=0},memoize:p,argsMemoize:b})};return Object.assign(n,{withTypes:()=>n}),n}var le=k2e(mG),I2e=Object.assign((t,e=le)=>{x2e(t,`createStructuredSelector expects first argument to be an object where each property is a selector, instead received a ${typeof t}`);const r=Object.keys(t),n=r.map(a=>t[a]);return e(n,(...a)=>a.reduce((s,o,c)=>(s[r[c]]=o,s),{}))},{withTypes:()=>I2e}),YT={},XT={},QT={},f9;function P2e(){return f9||(f9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(n){return typeof n=="symbol"?1:n===null?2:n===void 0?3:n!==n?4:0}const r=(n,i,a)=>{if(n!==i){const s=e(n),o=e(i);if(s===o&&s===0){if(n<i)return a==="desc"?1:-1;if(n>i)return a==="desc"?-1:1}return a==="desc"?o-s:s-o}return 0};t.compareValues=r})(QT)),QT}var JT={},ZT={},h9;function gG(){return h9||(h9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return typeof r=="symbol"||r instanceof Symbol}t.isSymbol=e})(ZT)),ZT}var p9;function C2e(){return p9||(p9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gG(),r=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,n=/^\w*$/;function i(a,s){return Array.isArray(a)?!1:typeof a=="number"||typeof a=="boolean"||a==null||e.isSymbol(a)?!0:typeof a=="string"&&(n.test(a)||!r.test(a))||s!=null&&Object.hasOwn(s,a)}t.isKey=i})(JT)),JT}var m9;function N2e(){return m9||(m9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=P2e(),r=C2e(),n=CN();function i(a,s,o,c){if(a==null)return[];o=c?void 0:o,Array.isArray(a)||(a=Object.values(a)),Array.isArray(s)||(s=s==null?[null]:[s]),s.length===0&&(s=[null]),Array.isArray(o)||(o=o==null?[]:[o]),o=o.map(b=>String(b));const d=(b,w)=>{let _=b;for(let x=0;x<w.length&&_!=null;++x)_=_[w[x]];return _},f=(b,w)=>w==null||b==null?w:typeof b=="object"&&"key"in b?Object.hasOwn(w,b.key)?w[b.key]:d(w,b.path):typeof b=="function"?b(w):Array.isArray(b)?d(w,b):typeof w=="object"?w[b]:w,p=s.map(b=>(Array.isArray(b)&&b.length===1&&(b=b[0]),b==null||typeof b=="function"||Array.isArray(b)||r.isKey(b)?b:{key:b,path:n.toPath(b)}));return a.map(b=>({original:b,criteria:p.map(w=>f(w,b))})).slice().sort((b,w)=>{for(let _=0;_<p.length;_++){const x=e.compareValues(b.criteria[_],w.criteria[_],o[_]);if(x!==0)return x}return 0}).map(b=>b.original)}t.orderBy=i})(XT)),XT}var eA={},g9;function R2e(){return g9||(g9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n=1){const i=[],a=Math.floor(n),s=(o,c)=>{for(let d=0;d<o.length;d++){const f=o[d];Array.isArray(f)&&c<a?s(f,c+1):i.push(f)}};return s(r,0),i}t.flatten=e})(eA)),eA}var tA={},y9;function yG(){return y9||(y9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hG(),r=ON(),n=oG(),i=cG();function a(s,o,c){return n.isObject(c)&&(typeof o=="number"&&r.isArrayLike(c)&&e.isIndex(o)&&o<c.length||typeof o=="string"&&o in c)?i.isEqualsSameValueZero(c[o],s):!1}t.isIterateeCall=a})(tA)),tA}var v9;function O2e(){return v9||(v9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=N2e(),r=R2e(),n=yG();function i(a,...s){const o=s.length;return o>1&&n.isIterateeCall(a,s[0],s[1])?s=[]:o>2&&n.isIterateeCall(s[0],s[1],s[2])&&(s=[s[0]]),e.orderBy(a,r.flatten(s),["asc"])}t.sortBy=i})(YT)),YT}var rA,b9;function j2e(){return b9||(b9=1,rA=O2e().sortBy),rA}var D2e=j2e();const xx=Qt(D2e);var vG=t=>t.legend.settings,M2e=t=>t.legend.size,L2e=t=>t.legend.payload,F2e=le([L2e,vG],(t,e)=>{var{itemSorter:r}=e,n=t.flat(1);return r?xx(n,r):n});function $2e(){return $e(F2e)}var d0=1;function bG(){var t=arguments.length>0&&arguments[0]!==void 0?arguments[0]:[],[e,r]=E.useState({height:0,left:0,top:0,width:0}),n=E.useCallback(i=>{if(i!=null){var a=i.getBoundingClientRect(),s={height:a.height,left:a.left,top:a.top,width:a.width};(Math.abs(s.height-e.height)>d0||Math.abs(s.left-e.left)>d0||Math.abs(s.top-e.top)>d0||Math.abs(s.width-e.width)>d0)&&r({height:s.height,left:s.left,top:s.top,width:s.width})}},[e.width,e.height,e.top,e.left,...t]);return[e,n]}function Hr(t){return`Minified Redux error #${t}; visit https://redux.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var V2e=typeof Symbol=="function"&&Symbol.observable||"@@observable",x9=V2e,nA=()=>Math.random().toString(36).substring(7).split("").join("."),U2e={INIT:`@@redux/INIT${nA()}`,REPLACE:`@@redux/REPLACE${nA()}`,PROBE_UNKNOWN_ACTION:()=>`@@redux/PROBE_UNKNOWN_ACTION${nA()}`},zy=U2e;function MN(t){if(typeof t!="object"||t===null)return!1;let e=t;for(;Object.getPrototypeOf(e)!==null;)e=Object.getPrototypeOf(e);return Object.getPrototypeOf(t)===e||Object.getPrototypeOf(t)===null}function xG(t,e,r){if(typeof t!="function")throw new Error(Hr(2));if(typeof e=="function"&&typeof r=="function"||typeof r=="function"&&typeof arguments[3]=="function")throw new Error(Hr(0));if(typeof e=="function"&&typeof r>"u"&&(r=e,e=void 0),typeof r<"u"){if(typeof r!="function")throw new Error(Hr(1));return r(xG)(t,e)}let n=t,i=e,a=new Map,s=a,o=0,c=!1;function d(){s===a&&(s=new Map,a.forEach((x,T)=>{s.set(T,x)}))}function f(){if(c)throw new Error(Hr(3));return i}function p(x){if(typeof x!="function")throw new Error(Hr(4));if(c)throw new Error(Hr(5));let T=!0;d();const I=o++;return s.set(I,x),function(){if(T){if(c)throw new Error(Hr(6));T=!1,d(),s.delete(I),a=null}}}function g(x){if(!MN(x))throw new Error(Hr(7));if(typeof x.type>"u")throw new Error(Hr(8));if(typeof x.type!="string")throw new Error(Hr(17));if(c)throw new Error(Hr(9));try{c=!0,i=n(i,x)}finally{c=!1}return(a=s).forEach(I=>{I()}),x}function b(x){if(typeof x!="function")throw new Error(Hr(10));n=x,g({type:zy.REPLACE})}function w(){const x=p;return{subscribe(T){if(typeof T!="object"||T===null)throw new Error(Hr(11));function I(){const j=T;j.next&&j.next(f())}return I(),{unsubscribe:x(I)}},[x9](){return this}}}return g({type:zy.INIT}),{dispatch:g,subscribe:p,getState:f,replaceReducer:b,[x9]:w}}function q2e(t){Object.keys(t).forEach(e=>{const r=t[e];if(typeof r(void 0,{type:zy.INIT})>"u")throw new Error(Hr(12));if(typeof r(void 0,{type:zy.PROBE_UNKNOWN_ACTION()})>"u")throw new Error(Hr(13))})}function wG(t){const e=Object.keys(t),r={};for(let a=0;a<e.length;a++){const s=e[a];typeof t[s]=="function"&&(r[s]=t[s])}const n=Object.keys(r);let i;try{q2e(r)}catch(a){i=a}return function(s={},o){if(i)throw i;let c=!1;const d={};for(let f=0;f<n.length;f++){const p=n[f],g=r[p],b=s[p],w=g(b,o);if(typeof w>"u")throw o&&o.type,new Error(Hr(14));d[p]=w,c=c||w!==b}return c=c||n.length!==Object.keys(s).length,c?d:s}}function By(...t){return t.length===0?e=>e:t.length===1?t[0]:t.reduce((e,r)=>(...n)=>e(r(...n)))}function z2e(...t){return e=>(r,n)=>{const i=e(r,n);let a=()=>{throw new Error(Hr(15))};const s={getState:i.getState,dispatch:(c,...d)=>a(c,...d)},o=t.map(c=>c(s));return a=By(...o)(i.dispatch),{...i,dispatch:a}}}function _G(t){return MN(t)&&"type"in t&&typeof t.type=="string"}var EG=Symbol.for("immer-nothing"),w9=Symbol.for("immer-draftable"),kn=Symbol.for("immer-state");function Zi(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var li=Object,Pd=li.getPrototypeOf,Wy="constructor",wx="prototype",Jk="configurable",Hy="enumerable",z0="writable",Ip="value",Js=t=>!!t&&!!t[kn];function da(t){return t?SG(t)||Ex(t)||!!t[w9]||!!t[Wy]?.[w9]||Sx(t)||Tx(t):!1}var B2e=li[wx][Wy].toString(),_9=new WeakMap;function SG(t){if(!t||!LN(t))return!1;const e=Pd(t);if(e===null||e===li[wx])return!0;const r=li.hasOwnProperty.call(e,Wy)&&e[Wy];if(r===Object)return!0;if(!Gu(r))return!1;let n=_9.get(r);return n===void 0&&(n=Function.toString.call(r),_9.set(r,n)),n===B2e}function _x(t,e,r=!0){pm(t)===0?(r?Reflect.ownKeys(t):li.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function pm(t){const e=t[kn];return e?e.type_:Ex(t)?1:Sx(t)?2:Tx(t)?3:0}var E9=(t,e,r=pm(t))=>r===2?t.has(e):li[wx].hasOwnProperty.call(t,e),Zk=(t,e,r=pm(t))=>r===2?t.get(e):t[e],Gy=(t,e,r,n=pm(t))=>{n===2?t.set(e,r):n===3?t.add(r):t[e]=r};function W2e(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}var Ex=Array.isArray,Sx=t=>t instanceof Map,Tx=t=>t instanceof Set,LN=t=>typeof t=="object",Gu=t=>typeof t=="function",iA=t=>typeof t=="boolean";function H2e(t){const e=+t;return Number.isInteger(e)&&String(e)===t}var Ns=t=>t.copy_||t.base_,FN=t=>t.modified_?t.copy_:t.base_;function eI(t,e){if(Sx(t))return new Map(t);if(Tx(t))return new Set(t);if(Ex(t))return Array[wx].slice.call(t);const r=SG(t);if(e===!0||e==="class_only"&&!r){const n=li.getOwnPropertyDescriptors(t);delete n[kn];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o[z0]===!1&&(o[z0]=!0,o[Jk]=!0),(o.get||o.set)&&(n[s]={[Jk]:!0,[z0]:!0,[Hy]:o[Hy],[Ip]:t[s]})}return li.create(Pd(t),n)}else{const n=Pd(t);if(n!==null&&r)return{...t};const i=li.create(n);return li.assign(i,t)}}function $N(t,e=!1){return Ax(t)||Js(t)||!da(t)||(pm(t)>1&&li.defineProperties(t,{set:f0,add:f0,clear:f0,delete:f0}),li.freeze(t),e&&_x(t,(r,n)=>{$N(n,!0)},!1)),t}function G2e(){Zi(2)}var f0={[Ip]:G2e};function Ax(t){return t===null||!LN(t)?!0:li.isFrozen(t)}var Ky="MapSet",tI="Patches",S9="ArrayMethods",TG={};function Lc(t){const e=TG[t];return e||Zi(0,t),e}var T9=t=>!!TG[t],Pp,AG=()=>Pp,K2e=(t,e)=>({drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0,handledSet_:new Set,processedForPatches_:new Set,mapSetPlugin_:T9(Ky)?Lc(Ky):void 0,arrayMethodsPlugin_:T9(S9)?Lc(S9):void 0});function A9(t,e){e&&(t.patchPlugin_=Lc(tI),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function rI(t){nI(t),t.drafts_.forEach(Y2e),t.drafts_=null}function nI(t){t===Pp&&(Pp=t.parent_)}var k9=t=>Pp=K2e(Pp,t);function Y2e(t){const e=t[kn];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function I9(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];if(t!==void 0&&t!==r){r[kn].modified_&&(rI(e),Zi(4)),da(t)&&(t=P9(e,t));const{patchPlugin_:i}=e;i&&i.generateReplacementPatches_(r[kn].base_,t,e)}else t=P9(e,r);return X2e(e,t,!0),rI(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==EG?t:void 0}function P9(t,e){if(Ax(e))return e;const r=e[kn];if(!r)return Yy(e,t.handledSet_,t);if(!kx(r,t))return e;if(!r.modified_)return r.base_;if(!r.finalized_){const{callbacks_:n}=r;if(n)for(;n.length>0;)n.pop()(t);PG(r,t)}return r.copy_}function X2e(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&$N(e,r)}function kG(t){t.finalized_=!0,t.scope_.unfinalizedDrafts_--}var kx=(t,e)=>t.scope_===e,Q2e=[];function IG(t,e,r,n){const i=Ns(t),a=t.type_;if(n!==void 0&&Zk(i,n,a)===e){Gy(i,n,r,a);return}if(!t.draftLocations_){const o=t.draftLocations_=new Map;_x(i,(c,d)=>{if(Js(d)){const f=o.get(d)||[];f.push(c),o.set(d,f)}})}const s=t.draftLocations_.get(e)??Q2e;for(const o of s)Gy(i,o,r,a)}function J2e(t,e,r){t.callbacks_.push(function(i){const a=e;if(!a||!kx(a,i))return;i.mapSetPlugin_?.fixSetContents(a);const s=FN(a);IG(t,a.draft_??a,s,r),PG(a,i)})}function PG(t,e){if(t.modified_&&!t.finalized_&&(t.type_===3||t.type_===1&&t.allIndicesReassigned_||(t.assigned_?.size??0)>0)){const{patchPlugin_:n}=e;if(n){const i=n.getPath(t);i&&n.generatePatches_(t,i,e)}kG(t)}}function Z2e(t,e,r){const{scope_:n}=t;if(Js(r)){const i=r[kn];kx(i,n)&&i.callbacks_.push(function(){B0(t);const s=FN(i);IG(t,r,s,e)})}else da(r)&&t.callbacks_.push(function(){const a=Ns(t);t.type_===3?a.has(r)&&Yy(r,n.handledSet_,n):Zk(a,e,t.type_)===r&&n.drafts_.length>1&&(t.assigned_.get(e)??!1)===!0&&t.copy_&&Yy(Zk(t.copy_,e,t.type_),n.handledSet_,n)})}function Yy(t,e,r){return!r.immer_.autoFreeze_&&r.unfinalizedDrafts_<1||Js(t)||e.has(t)||!da(t)||Ax(t)||(e.add(t),_x(t,(n,i)=>{if(Js(i)){const a=i[kn];if(kx(a,r)){const s=FN(a);Gy(t,n,s,t.type_),kG(a)}}else da(i)&&Yy(i,e,r)})),t}function eEe(t,e){const r=Ex(t),n={type_:r?1:0,scope_:e?e.scope_:AG(),modified_:!1,finalized_:!1,assigned_:void 0,parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1,callbacks_:void 0};let i=n,a=Xy;r&&(i=[n],a=Cp);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,[o,n]}var Xy={get(t,e){if(e===kn)return t;let r=t.scope_.arrayMethodsPlugin_;const n=t.type_===1&&typeof e=="string";if(n&&r?.isArrayOperationMethod(e))return r.createMethodInterceptor(t,e);const i=Ns(t);if(!E9(i,e,t.type_))return tEe(t,i,e);const a=i[e];if(t.finalized_||!da(a)||n&&t.operationMethod&&r?.isMutatingArrayMethod(t.operationMethod)&&H2e(e))return a;if(a===aA(t.base_,e)){B0(t);const s=t.type_===1?+e:e,o=aI(t.scope_,a,t,s);return t.copy_[s]=o}return a},has(t,e){return e in Ns(t)},ownKeys(t){return Reflect.ownKeys(Ns(t))},set(t,e,r){const n=CG(Ns(t),e);if(n?.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=aA(Ns(t),e),a=i?.[kn];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_.set(e,!1),!0;if(W2e(r,i)&&(r!==void 0||E9(t.base_,e,t.type_)))return!0;B0(t),iI(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_.set(e,!0),Z2e(t,e,r)),!0},deleteProperty(t,e){return B0(t),aA(t.base_,e)!==void 0||e in t.base_?(t.assigned_.set(e,!1),iI(t)):t.assigned_.delete(e),t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Ns(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{[z0]:!0,[Jk]:t.type_!==1||e!=="length",[Hy]:n[Hy],[Ip]:r[e]}},defineProperty(){Zi(11)},getPrototypeOf(t){return Pd(t.base_)},setPrototypeOf(){Zi(12)}},Cp={};for(let t in Xy){let e=Xy[t];Cp[t]=function(){const r=arguments;return r[0]=r[0][0],e.apply(this,r)}}Cp.deleteProperty=function(t,e){return Cp.set.call(this,t,e,void 0)};Cp.set=function(t,e,r){return Xy.set.call(this,t[0],e,r,t[0])};function aA(t,e){const r=t[kn];return(r?Ns(r):t)[e]}function tEe(t,e,r){const n=CG(e,r);return n?Ip in n?n[Ip]:n.get?.call(t.draft_):void 0}function CG(t,e){if(!(e in t))return;let r=Pd(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Pd(r)}}function iI(t){t.modified_||(t.modified_=!0,t.parent_&&iI(t.parent_))}function B0(t){t.copy_||(t.assigned_=new Map,t.copy_=eI(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var rEe=class{constructor(e){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!1,this.produce=(r,n,i)=>{if(Gu(r)&&!Gu(n)){const s=n;n=r;const o=this;return function(d=s,...f){return o.produce(d,p=>n.call(this,p,...f))}}Gu(n)||Zi(6),i!==void 0&&!Gu(i)&&Zi(7);let a;if(da(r)){const s=k9(this),o=aI(s,r,void 0);let c=!0;try{a=n(o),c=!1}finally{c?rI(s):nI(s)}return A9(s,i),I9(a,s)}else if(!r||!LN(r)){if(a=n(r),a===void 0&&(a=r),a===EG&&(a=void 0),this.autoFreeze_&&$N(a,!0),i){const s=[],o=[];Lc(tI).generateReplacementPatches_(r,a,{patches_:s,inversePatches_:o}),i(s,o)}return a}else Zi(1,r)},this.produceWithPatches=(r,n)=>{if(Gu(r))return(o,...c)=>this.produceWithPatches(o,d=>r(d,...c));let i,a;return[this.produce(r,n,(o,c)=>{i=o,a=c}),i,a]},iA(e?.autoFreeze)&&this.setAutoFreeze(e.autoFreeze),iA(e?.useStrictShallowCopy)&&this.setUseStrictShallowCopy(e.useStrictShallowCopy),iA(e?.useStrictIteration)&&this.setUseStrictIteration(e.useStrictIteration)}createDraft(e){da(e)||Zi(8),Js(e)&&(e=sa(e));const r=k9(this),n=aI(r,e,void 0);return n[kn].isManual_=!0,nI(r),n}finishDraft(e,r){const n=e&&e[kn];(!n||!n.isManual_)&&Zi(9);const{scope_:i}=n;return A9(i,r),I9(void 0,i)}setAutoFreeze(e){this.autoFreeze_=e}setUseStrictShallowCopy(e){this.useStrictShallowCopy_=e}setUseStrictIteration(e){this.useStrictIteration_=e}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(e,r){let n;for(n=r.length-1;n>=0;n--){const a=r[n];if(a.path.length===0&&a.op==="replace"){e=a.value;break}}n>-1&&(r=r.slice(n+1));const i=Lc(tI).applyPatches_;return Js(e)?i(e,r):this.produce(e,a=>i(a,r))}};function aI(t,e,r,n){const[i,a]=Sx(e)?Lc(Ky).proxyMap_(e,r):Tx(e)?Lc(Ky).proxySet_(e,r):eEe(e,r);return(r?.scope_??AG()).drafts_.push(i),a.callbacks_=r?.callbacks_??[],a.key_=n,r&&n!==void 0?J2e(r,a,n):a.callbacks_.push(function(c){c.mapSetPlugin_?.fixSetContents(a);const{patchPlugin_:d}=c;a.modified_&&d&&d.generatePatches_(a,[],c)}),i}function sa(t){return Js(t)||Zi(10,t),NG(t)}function NG(t){if(!da(t)||Ax(t))return t;const e=t[kn];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=eI(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=eI(t,!0);return _x(r,(i,a)=>{Gy(r,i,NG(a))},n),e&&(e.finalized_=!1),r}var nEe=new rEe,RG=nEe.produce;function OG(t){return({dispatch:r,getState:n})=>i=>a=>typeof a=="function"?a(r,n,t):i(a)}var iEe=OG(),aEe=OG,sEe=typeof window<"u"&&window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__?window.__REDUX_DEVTOOLS_EXTENSION_COMPOSE__:function(){if(arguments.length!==0)return typeof arguments[0]=="object"?By:By.apply(null,arguments)};function Li(t,e){function r(...n){if(e){let i=e(...n);if(!i)throw new Error(ui(0));return{type:t,payload:i.payload,..."meta"in i&&{meta:i.meta},..."error"in i&&{error:i.error}}}return{type:t,payload:n[0]}}return r.toString=()=>`${t}`,r.type=t,r.match=n=>_G(n)&&n.type===t,r}var jG=class Dh extends Array{constructor(...e){super(...e),Object.setPrototypeOf(this,Dh.prototype)}static get[Symbol.species](){return Dh}concat(...e){return super.concat.apply(this,e)}prepend(...e){return e.length===1&&Array.isArray(e[0])?new Dh(...e[0].concat(this)):new Dh(...e.concat(this))}};function C9(t){return da(t)?RG(t,()=>{}):t}function h0(t,e,r){return t.has(e)?t.get(e):t.set(e,r(e)).get(e)}function oEe(t){return typeof t=="boolean"}var lEe=()=>function(e){const{thunk:r=!0,immutableCheck:n=!0,serializableCheck:i=!0,actionCreatorCheck:a=!0}=e??{};let s=new jG;return r&&(oEe(r)?s.push(iEe):s.push(aEe(r.extraArgument))),s},DG="RTK_autoBatch",Vt=()=>t=>({payload:t,meta:{[DG]:!0}}),N9=t=>e=>{setTimeout(e,t)},MG=(t={type:"raf"})=>e=>(...r)=>{const n=e(...r);let i=!0,a=!1,s=!1;const o=new Set,c=t.type==="tick"?queueMicrotask:t.type==="raf"?typeof window<"u"&&window.requestAnimationFrame?window.requestAnimationFrame:N9(10):t.type==="callback"?t.queueNotification:N9(t.timeout),d=()=>{s=!1,a&&(a=!1,o.forEach(f=>f()))};return Object.assign({},n,{subscribe(f){const p=()=>i&&f(),g=n.subscribe(p);return o.add(f),()=>{g(),o.delete(f)}},dispatch(f){try{return i=!f?.meta?.[DG],a=!i,a&&(s||(s=!0,c(d))),n.dispatch(f)}finally{i=!0}}})},cEe=t=>function(r){const{autoBatch:n=!0}=r??{};let i=new jG(t);return n&&i.push(MG(typeof n=="object"?n:void 0)),i};function uEe(t){const e=lEe(),{reducer:r=void 0,middleware:n,devTools:i=!0,preloadedState:a=void 0,enhancers:s=void 0}=t||{};let o;if(typeof r=="function")o=r;else if(MN(r))o=wG(r);else throw new Error(ui(1));let c;typeof n=="function"?c=n(e):c=e();let d=By;i&&(d=sEe({trace:!1,...typeof i=="object"&&i}));const f=z2e(...c),p=cEe(f);let g=typeof s=="function"?s(p):p();const b=d(...g);return xG(o,a,b)}function LG(t){const e={},r=[];let n;const i={addCase(a,s){const o=typeof a=="string"?a:a.type;if(!o)throw new Error(ui(28));if(o in e)throw new Error(ui(29));return e[o]=s,i},addAsyncThunk(a,s){return s.pending&&(e[a.pending.type]=s.pending),s.rejected&&(e[a.rejected.type]=s.rejected),s.fulfilled&&(e[a.fulfilled.type]=s.fulfilled),s.settled&&r.push({matcher:a.settled,reducer:s.settled}),i},addMatcher(a,s){return r.push({matcher:a,reducer:s}),i},addDefaultCase(a){return n=a,i}};return t(i),[e,r,n]}function dEe(t){return typeof t=="function"}function fEe(t,e){let[r,n,i]=LG(e),a;if(dEe(t))a=()=>C9(t());else{const o=C9(t);a=()=>o}function s(o=a(),c){let d=[r[c.type],...n.filter(({matcher:f})=>f(c)).map(({reducer:f})=>f)];return d.filter(f=>!!f).length===0&&(d=[i]),d.reduce((f,p)=>{if(p)if(Js(f)){const b=p(f,c);return b===void 0?f:b}else{if(da(f))return RG(f,g=>p(g,c));{const g=p(f,c);if(g===void 0){if(f===null)return f;throw Error("A case reducer on a non-draftable value must not return undefined")}return g}}return f},o)}return s.getInitialState=a,s}var hEe="ModuleSymbhasOwnPr-0123456789ABCDEFGHNRVfgctiUvz_KqYTJkLxpZXIjQW",pEe=(t=21)=>{let e="",r=t;for(;r--;)e+=hEe[Math.random()*64|0];return e},mEe=Symbol.for("rtk-slice-createasyncthunk");function gEe(t,e){return`${t}/${e}`}function yEe({creators:t}={}){const e=t?.asyncThunk?.[mEe];return function(n){const{name:i,reducerPath:a=i}=n;if(!i)throw new Error(ui(11));const s=(typeof n.reducers=="function"?n.reducers(bEe()):n.reducers)||{},o=Object.keys(s),c={sliceCaseReducersByName:{},sliceCaseReducersByType:{},actionCreators:{},sliceMatchers:[]},d={addCase(P,j){const O=typeof P=="string"?P:P.type;if(!O)throw new Error(ui(12));if(O in c.sliceCaseReducersByType)throw new Error(ui(13));return c.sliceCaseReducersByType[O]=j,d},addMatcher(P,j){return c.sliceMatchers.push({matcher:P,reducer:j}),d},exposeAction(P,j){return c.actionCreators[P]=j,d},exposeCaseReducer(P,j){return c.sliceCaseReducersByName[P]=j,d}};o.forEach(P=>{const j=s[P],O={reducerName:P,type:gEe(i,P),createNotation:typeof n.reducers=="function"};wEe(j)?EEe(O,j,d,e):xEe(O,j,d)});function f(){const[P={},j=[],O=void 0]=typeof n.extraReducers=="function"?LG(n.extraReducers):[n.extraReducers],V={...P,...c.sliceCaseReducersByType};return fEe(n.initialState,C=>{for(let N in V)C.addCase(N,V[N]);for(let N of c.sliceMatchers)C.addMatcher(N.matcher,N.reducer);for(let N of j)C.addMatcher(N.matcher,N.reducer);O&&C.addDefaultCase(O)})}const p=P=>P,g=new Map,b=new WeakMap;let w;function _(P,j){return w||(w=f()),w(P,j)}function x(){return w||(w=f()),w.getInitialState()}function T(P,j=!1){function O(C){let N=C[P];return typeof N>"u"&&j&&(N=h0(b,O,x)),N}function V(C=p){const N=h0(g,j,()=>new WeakMap);return h0(N,C,()=>{const M={};for(const[F,D]of Object.entries(n.selectors??{}))M[F]=vEe(D,C,()=>h0(b,C,x),j);return M})}return{reducerPath:P,getSelectors:V,get selectors(){return V(O)},selectSlice:O}}const I={name:i,reducer:_,actions:c.actionCreators,caseReducers:c.sliceCaseReducersByName,getInitialState:x,...T(a),injectInto(P,{reducerPath:j,...O}={}){const V=j??a;return P.inject({reducerPath:V,reducer:_},O),{...I,...T(V,!0)}}};return I}}function vEe(t,e,r,n){function i(a,...s){let o=e(a);return typeof o>"u"&&n&&(o=r()),t(o,...s)}return i.unwrapped=t,i}var Bn=yEe();function bEe(){function t(e,r){return{_reducerDefinitionType:"asyncThunk",payloadCreator:e,...r}}return t.withTypes=()=>t,{reducer(e){return Object.assign({[e.name](...r){return e(...r)}}[e.name],{_reducerDefinitionType:"reducer"})},preparedReducer(e,r){return{_reducerDefinitionType:"reducerWithPrepare",prepare:e,reducer:r}},asyncThunk:t}}function xEe({type:t,reducerName:e,createNotation:r},n,i){let a,s;if("reducer"in n){if(r&&!_Ee(n))throw new Error(ui(17));a=n.reducer,s=n.prepare}else a=n;i.addCase(t,a).exposeCaseReducer(e,a).exposeAction(e,s?Li(t,s):Li(t))}function wEe(t){return t._reducerDefinitionType==="asyncThunk"}function _Ee(t){return t._reducerDefinitionType==="reducerWithPrepare"}function EEe({type:t,reducerName:e},r,n,i){if(!i)throw new Error(ui(18));const{payloadCreator:a,fulfilled:s,pending:o,rejected:c,settled:d,options:f}=r,p=i(t,a,f);n.exposeAction(e,p),s&&n.addCase(p.fulfilled,s),o&&n.addCase(p.pending,o),c&&n.addCase(p.rejected,c),d&&n.addMatcher(p.settled,d),n.exposeCaseReducer(e,{fulfilled:s||p0,pending:o||p0,rejected:c||p0,settled:d||p0})}function p0(){}var SEe="task",FG="listener",$G="completed",VN="cancelled",TEe=`task-${VN}`,AEe=`task-${$G}`,sI=`${FG}-${VN}`,kEe=`${FG}-${$G}`,Ix=class{constructor(t){this.code=t,this.message=`${SEe} ${VN} (reason: ${t})`}name="TaskAbortError";message},UN=(t,e)=>{if(typeof t!="function")throw new TypeError(ui(32))},Qy=()=>{},VG=(t,e=Qy)=>(t.catch(e),t),UG=(t,e)=>(t.addEventListener("abort",e,{once:!0}),()=>t.removeEventListener("abort",e)),vc=t=>{if(t.aborted)throw new Ix(t.reason)};function qG(t,e){let r=Qy;return new Promise((n,i)=>{const a=()=>i(new Ix(t.reason));if(t.aborted){a();return}r=UG(t,a),e.finally(()=>r()).then(n,i)}).finally(()=>{r=Qy})}var IEe=async(t,e)=>{try{return await Promise.resolve(),{status:"ok",value:await t()}}catch(r){return{status:r instanceof Ix?"cancelled":"rejected",error:r}}finally{e?.()}},Jy=t=>e=>VG(qG(t,e).then(r=>(vc(t),r))),zG=t=>{const e=Jy(t);return r=>e(new Promise(n=>setTimeout(n,r)))},{assign:cd}=Object,R9={},Px="listenerMiddleware",PEe=(t,e)=>{const r=n=>UG(t,()=>n.abort(t.reason));return(n,i)=>{UN(n);const a=new AbortController;r(a);const s=IEe(async()=>{vc(t),vc(a.signal);const o=await n({pause:Jy(a.signal),delay:zG(a.signal),signal:a.signal});return vc(a.signal),o},()=>a.abort(AEe));return i?.autoJoin&&e.push(s.catch(Qy)),{result:Jy(t)(s),cancel(){a.abort(TEe)}}}},CEe=(t,e)=>{const r=async(n,i)=>{vc(e);let a=()=>{};const o=[new Promise((c,d)=>{let f=t({predicate:n,effect:(p,g)=>{g.unsubscribe(),c([p,g.getState(),g.getOriginalState()])}});a=()=>{f(),d()}})];i!=null&&o.push(new Promise(c=>setTimeout(c,i,null)));try{const c=await qG(e,Promise.race(o));return vc(e),c}finally{a()}};return(n,i)=>VG(r(n,i))},BG=t=>{let{type:e,actionCreator:r,matcher:n,predicate:i,effect:a}=t;if(e)i=Li(e).match;else if(r)e=r.type,i=r.match;else if(n)i=n;else if(!i)throw new Error(ui(21));return UN(a),{predicate:i,type:e,effect:a}},WG=cd(t=>{const{type:e,predicate:r,effect:n}=BG(t);return{id:pEe(),effect:n,type:e,predicate:r,pending:new Set,unsubscribe:()=>{throw new Error(ui(22))}}},{withTypes:()=>WG}),O9=(t,e)=>{const{type:r,effect:n,predicate:i}=BG(e);return Array.from(t.values()).find(a=>(typeof r=="string"?a.type===r:a.predicate===i)&&a.effect===n)},oI=t=>{t.pending.forEach(e=>{e.abort(sI)})},NEe=(t,e)=>()=>{for(const r of e.keys())oI(r);t.clear()},j9=(t,e,r)=>{try{t(e,r)}catch(n){setTimeout(()=>{throw n},0)}},HG=cd(Li(`${Px}/add`),{withTypes:()=>HG}),REe=Li(`${Px}/removeAll`),GG=cd(Li(`${Px}/remove`),{withTypes:()=>GG}),OEe=(...t)=>{console.error(`${Px}/error`,...t)},mm=(t={})=>{const e=new Map,r=new Map,n=b=>{const w=r.get(b)??0;r.set(b,w+1)},i=b=>{const w=r.get(b)??1;w===1?r.delete(b):r.set(b,w-1)},{extra:a,onError:s=OEe}=t;UN(s);const o=b=>(b.unsubscribe=()=>e.delete(b.id),e.set(b.id,b),w=>{b.unsubscribe(),w?.cancelActive&&oI(b)}),c=b=>{const w=O9(e,b)??WG(b);return o(w)};cd(c,{withTypes:()=>c});const d=b=>{const w=O9(e,b);return w&&(w.unsubscribe(),b.cancelActive&&oI(w)),!!w};cd(d,{withTypes:()=>d});const f=async(b,w,_,x)=>{const T=new AbortController,I=CEe(c,T.signal),P=[];try{b.pending.add(T),n(b),await Promise.resolve(b.effect(w,cd({},_,{getOriginalState:x,condition:(j,O)=>I(j,O).then(Boolean),take:I,delay:zG(T.signal),pause:Jy(T.signal),extra:a,signal:T.signal,fork:PEe(T.signal,P),unsubscribe:b.unsubscribe,subscribe:()=>{e.set(b.id,b)},cancelActiveListeners:()=>{b.pending.forEach((j,O,V)=>{j!==T&&(j.abort(sI),V.delete(j))})},cancel:()=>{T.abort(sI),b.pending.delete(T)},throwIfCancelled:()=>{vc(T.signal)}})))}catch(j){j instanceof Ix||j9(s,j,{raisedBy:"effect"})}finally{await Promise.all(P),T.abort(kEe),i(b),b.pending.delete(T)}},p=NEe(e,r);return{middleware:b=>w=>_=>{if(!_G(_))return w(_);if(HG.match(_))return c(_.payload);if(REe.match(_)){p();return}if(GG.match(_))return d(_.payload);let x=b.getState();const T=()=>{if(x===R9)throw new Error(ui(23));return x};let I;try{if(I=w(_),e.size>0){const P=b.getState(),j=Array.from(e.values());for(const O of j){let V=!1;try{V=O.predicate(_,P,x)}catch(C){V=!1,j9(s,C,{raisedBy:"predicate"})}V&&f(O,_,b,T)}}}finally{x=R9}return I},startListening:c,stopListening:d,clearListeners:p}};function ui(t){return`Minified Redux Toolkit error #${t}; visit https://redux-toolkit.js.org/Errors?code=${t} for the full message or use the non-minified dev environment for full errors. `}var jEe={layoutType:"horizontal",width:0,height:0,margin:{top:5,right:5,bottom:5,left:5},scale:1},KG=Bn({name:"chartLayout",initialState:jEe,reducers:{setLayout(t,e){t.layoutType=e.payload},setChartSize(t,e){t.width=e.payload.width,t.height=e.payload.height},setMargin(t,e){var r,n,i,a;t.margin.top=(r=e.payload.top)!==null&&r!==void 0?r:0,t.margin.right=(n=e.payload.right)!==null&&n!==void 0?n:0,t.margin.bottom=(i=e.payload.bottom)!==null&&i!==void 0?i:0,t.margin.left=(a=e.payload.left)!==null&&a!==void 0?a:0},setScale(t,e){t.scale=e.payload}}}),{setMargin:DEe,setLayout:MEe,setChartSize:LEe,setScale:FEe}=KG.actions,$Ee=KG.reducer;function YG(t,e,r){return Array.isArray(t)&&t&&e+r!==0?t.slice(e,r+1):t}function lt(t){return Number.isFinite(t)}function ls(t){return typeof t=="number"&&t>0&&Number.isFinite(t)}function D9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Yu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?D9(Object(r),!0).forEach(function(n){VEe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):D9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function VEe(t,e,r){return(e=UEe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function UEe(t){var e=qEe(t,"string");return typeof e=="symbol"?e:e+""}function qEe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Jr(t,e,r){return gn(t)||gn(e)?r:os(e)?bx(t,e,r):typeof e=="function"?e(t):r}var zEe=(t,e,r)=>{if(e&&r){var{width:n,height:i}=r,{align:a,verticalAlign:s,layout:o}=e;if((o==="vertical"||o==="horizontal"&&s==="middle")&&a!=="center"&&Ne(t[a]))return Yu(Yu({},t),{},{[a]:t[a]+(n||0)});if((o==="horizontal"||o==="vertical"&&a==="center")&&s!=="middle"&&Ne(t[s]))return Yu(Yu({},t),{},{[s]:t[s]+(i||0)})}return t},hs=(t,e)=>t==="horizontal"&&e==="xAxis"||t==="vertical"&&e==="yAxis"||t==="centric"&&e==="angleAxis"||t==="radial"&&e==="radiusAxis",XG=(t,e,r,n)=>{if(n)return t.map(o=>o.coordinate);var i,a,s=t.map(o=>(o.coordinate===e&&(i=!0),o.coordinate===r&&(a=!0),o.coordinate));return i||s.push(e),a||s.push(r),s},QG=(t,e,r)=>{if(!t)return null;var{duplicateDomain:n,type:i,range:a,scale:s,realScaleType:o,isCategorical:c,categoricalDomain:d,tickCount:f,ticks:p,niceTicks:g,axisType:b}=t;if(!s)return null;var w=o==="scaleBand"&&s.bandwidth?s.bandwidth()/2:2,_=i==="category"&&s.bandwidth?s.bandwidth()/w:0;if(_=b==="angleAxis"&&a&&a.length>=2?Oi(a[0]-a[1])*2*_:_,p||g){var x=(p||g||[]).map((T,I)=>{var P=n?n.indexOf(T):T,j=s.map(P);return lt(j)?{coordinate:j+_,value:T,offset:_,index:I}:null}).filter(Vn);return x}return c&&d?d.map((T,I)=>{var P=s.map(T);return lt(P)?{coordinate:P+_,value:T,index:I,offset:_}:null}).filter(Vn):s.ticks&&f!=null?s.ticks(f).map((T,I)=>{var P=s.map(T);return lt(P)?{coordinate:P+_,value:T,index:I,offset:_}:null}).filter(Vn):s.domain().map((T,I)=>{var P=s.map(T);return lt(P)?{coordinate:P+_,value:n?n[T]:T,index:I,offset:_}:null}).filter(Vn)},BEe=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0,o=0;o<r;++o){var c=t[o],d=c?.[i];if(d!=null){var f=d[1],p=d[0],g=ss(f)?p:f;g>=0?(d[0]=a,a+=g,d[1]=a):(d[0]=s,s+=g,d[1]=s)}}}},WEe=t=>{var e,r=t.length;if(!(r<=0)){var n=(e=t[0])===null||e===void 0?void 0:e.length;if(!(n==null||n<=0))for(var i=0;i<n;++i)for(var a=0,s=0;s<r;++s){var o=t[s],c=o?.[i];if(c!=null){var d=ss(c[1])?c[0]:c[1];d>=0?(c[0]=a,a+=d,c[1]=a):(c[0]=0,c[1]=0)}}}},HEe={sign:BEe,expand:exe,none:jc,silhouette:txe,wiggle:rxe,positive:WEe},GEe=(t,e,r)=>{var n,i=(n=HEe[r])!==null&&n!==void 0?n:jc,a=Zbe().keys(e).value((o,c)=>Number(Jr(o,c,0))).order(Bk).offset(i),s=a(t);return s.forEach((o,c)=>{o.forEach((d,f)=>{var p=Jr(t[f],e[c],0);Array.isArray(p)&&p.length===2&&Ne(p[0])&&Ne(p[1])&&(d[0]=p[0],d[1]=p[1])})}),s};function KEe(t){return t==null?void 0:String(t)}function M9(t){var{axis:e,ticks:r,bandSize:n,entry:i,index:a,dataKey:s}=t;if(e.type==="category"){if(!e.allowDuplicatedCategory&&e.dataKey&&!gn(i[e.dataKey])){var o=tG(r,"value",i[e.dataKey]);if(o)return o.coordinate+n/2}return r!=null&&r[a]?r[a].coordinate+n/2:null}var c=Jr(i,gn(s)?e.dataKey:s),d=e.scale.map(c);return Ne(d)?d:null}var YEe=t=>{var e=t.flat(2).filter(Ne);return[Math.min(...e),Math.max(...e)]},XEe=t=>[t[0]===1/0?0:t[0],t[1]===-1/0?0:t[1]],QEe=(t,e,r)=>{if(t!=null)return XEe(Object.keys(t).reduce((n,i)=>{var a=t[i];if(!a)return n;var{stackedData:s}=a,o=s.reduce((c,d)=>{var f=YG(d,e,r),p=YEe(f);return!lt(p[0])||!lt(p[1])?c:[Math.min(c[0],p[0]),Math.max(c[1],p[1])]},[1/0,-1/0]);return[Math.min(o[0],n[0]),Math.max(o[1],n[1])]},[1/0,-1/0]))},L9=/^dataMin[\s]*-[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,F9=/^dataMax[\s]*\+[\s]*([0-9]+([.]{1}[0-9]+){0,1})$/,Zy=(t,e,r)=>{if(t&&t.scale&&t.scale.bandwidth){var n=t.scale.bandwidth();if(!r||n>0)return n}if(t&&e&&e.length>=2){for(var i=xx(e,f=>f.coordinate),a=1/0,s=1,o=i.length;s<o;s++){var c=i[s],d=i[s-1];a=Math.min((c?.coordinate||0)-(d?.coordinate||0),a)}return a===1/0?0:a}return r?void 0:0};function $9(t){var{tooltipEntrySettings:e,dataKey:r,payload:n,value:i,name:a}=t;return Yu(Yu({},e),{},{dataKey:r,payload:n,value:i,name:a})}function JG(t,e){if(t)return String(t);if(typeof e=="string")return e}var JEe=(t,e)=>{if(e==="horizontal")return t.chartX;if(e==="vertical")return t.chartY},ZEe=(t,e)=>e==="centric"?t.angle:t.radius,so=t=>t.layout.width,oo=t=>t.layout.height,eSe=t=>t.layout.scale,ZG=t=>t.layout.margin,Cx=le(t=>t.cartesianAxis.xAxis,t=>Object.values(t)),Nx=le(t=>t.cartesianAxis.yAxis,t=>Object.values(t)),tSe="data-recharts-item-index",rSe="data-recharts-item-id",gm=60;function V9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function m0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?V9(Object(r),!0).forEach(function(n){nSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):V9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function nSe(t,e,r){return(e=iSe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function iSe(t){var e=aSe(t,"string");return typeof e=="symbol"?e:e+""}function aSe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var sSe=t=>t.brush.height;function oSe(t){var e=Nx(t);return e.reduce((r,n)=>{if(n.orientation==="left"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:gm;return r+i}return r},0)}function lSe(t){var e=Nx(t);return e.reduce((r,n)=>{if(n.orientation==="right"&&!n.mirror&&!n.hide){var i=typeof n.width=="number"?n.width:gm;return r+i}return r},0)}function cSe(t){var e=Cx(t);return e.reduce((r,n)=>n.orientation==="top"&&!n.mirror&&!n.hide?r+n.height:r,0)}function uSe(t){var e=Cx(t);return e.reduce((r,n)=>n.orientation==="bottom"&&!n.mirror&&!n.hide?r+n.height:r,0)}var en=le([so,oo,ZG,sSe,oSe,lSe,cSe,uSe,vG,M2e],(t,e,r,n,i,a,s,o,c,d)=>{var f={left:(r.left||0)+i,right:(r.right||0)+a},p={top:(r.top||0)+s,bottom:(r.bottom||0)+o},g=m0(m0({},p),f),b=g.bottom;g.bottom+=n,g=zEe(g,c,d);var w=t-g.left-g.right,_=e-g.top-g.bottom;return m0(m0({brushBottom:b},g),{},{width:Math.max(w,0),height:Math.max(_,0)})}),dSe=le(en,t=>({x:t.left,y:t.top,width:t.width,height:t.height})),eK=le(so,oo,(t,e)=>({x:0,y:0,width:t,height:e})),fSe=E.createContext(null),Wn=()=>E.useContext(fSe)!=null,Rx=t=>t.brush,Ox=le([Rx,en,ZG],(t,e,r)=>({height:t.height,x:Ne(t.x)?t.x:e.left,y:Ne(t.y)?t.y:e.top+e.height+e.brushBottom-(r?.bottom||0),width:Ne(t.width)?t.width:e.width})),sA={},oA={},lA={},U9;function hSe(){return U9||(U9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r,n,{signal:i,edges:a}={}){let s,o=null;const c=a!=null&&a.includes("leading"),d=a==null||a.includes("trailing"),f=()=>{o!==null&&(r.apply(s,o),s=void 0,o=null)},p=()=>{d&&f(),_()};let g=null;const b=()=>{g!=null&&clearTimeout(g),g=setTimeout(()=>{g=null,p()},n)},w=()=>{g!==null&&(clearTimeout(g),g=null)},_=()=>{w(),s=void 0,o=null},x=()=>{f()},T=function(...I){if(i?.aborted)return;s=this,o=I;const P=g==null;b(),c&&P&&f()};return T.schedule=b,T.cancel=_,T.flush=x,i?.addEventListener("abort",_,{once:!0}),T}t.debounce=e})(lA)),lA}var q9;function pSe(){return q9||(q9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=hSe();function r(n,i=0,a={}){typeof a!="object"&&(a={});const{leading:s=!1,trailing:o=!0,maxWait:c}=a,d=Array(2);s&&(d[0]="leading"),o&&(d[1]="trailing");let f,p=null;const g=e.debounce(function(..._){f=n.apply(this,_),p=null},i,{edges:d}),b=function(..._){return c!=null&&(p===null&&(p=Date.now()),Date.now()-p>=c)?(f=n.apply(this,_),p=Date.now(),g.cancel(),g.schedule(),f):(g.apply(this,_),f)},w=()=>(g.flush(),f);return b.cancel=g.cancel,b.flush=w,b}t.debounce=r})(oA)),oA}var z9;function mSe(){return z9||(z9=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=pSe();function r(n,i=0,a={}){const{leading:s=!0,trailing:o=!0}=a;return e.debounce(n,i,{leading:s,maxWait:i,trailing:o})}t.throttle=r})(sA)),sA}var cA,B9;function gSe(){return B9||(B9=1,cA=mSe().throttle),cA}var ySe=gSe();const vSe=Qt(ySe);var ev=function(e,r){for(var n=arguments.length,i=new Array(n>2?n-2:0),a=2;a<n;a++)i[a-2]=arguments[a];if(typeof console<"u"&&console.warn&&(r===void 0&&console.warn("LogUtils requires an error message argument"),!e))if(r===void 0)console.warn("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var s=0;console.warn(r.replace(/%s/g,()=>i[s++]))}},Ba={width:"100%",height:"100%",debounce:0,minWidth:0,initialDimension:{width:-1,height:-1}},tK=(t,e,r)=>{var{width:n=Ba.width,height:i=Ba.height,aspect:a,maxHeight:s}=r,o=Mc(n)?t:Number(n),c=Mc(i)?e:Number(i);return a&&a>0&&(o?c=o/a:c&&(o=c*a),s&&c!=null&&c>s&&(c=s)),{calculatedWidth:o,calculatedHeight:c}},bSe={width:0,height:0,overflow:"visible"},xSe={width:0,overflowX:"visible"},wSe={height:0,overflowY:"visible"},_Se={},ESe=t=>{var{width:e,height:r}=t,n=Mc(e),i=Mc(r);return n&&i?bSe:n?xSe:i?wSe:_Se};function SSe(t){var{width:e,height:r,aspect:n}=t,i=e,a=r;return i===void 0&&a===void 0?(i=Ba.width,a=Ba.height):i===void 0?i=n&&n>0?void 0:Ba.width:a===void 0&&(a=n&&n>0?void 0:Ba.height),{width:i,height:a}}function lI(){return lI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},lI.apply(null,arguments)}function W9(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function H9(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?W9(Object(r),!0).forEach(function(n){TSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):W9(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function TSe(t,e,r){return(e=ASe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function ASe(t){var e=kSe(t,"string");return typeof e=="symbol"?e:e+""}function kSe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var rK=E.createContext(Ba.initialDimension);function ISe(t){return ls(t.width)&&ls(t.height)}function nK(t){var{children:e,width:r,height:n}=t,i=E.useMemo(()=>({width:r,height:n}),[r,n]);return ISe(i)?E.createElement(rK.Provider,{value:i},e):null}var qN=()=>E.useContext(rK),PSe=E.forwardRef((t,e)=>{var{aspect:r,initialDimension:n=Ba.initialDimension,width:i,height:a,minWidth:s=Ba.minWidth,minHeight:o,maxHeight:c,children:d,debounce:f=Ba.debounce,id:p,className:g,onResize:b,style:w={}}=t,_=E.useRef(null),x=E.useRef();x.current=b,E.useImperativeHandle(e,()=>_.current);var[T,I]=E.useState({containerWidth:n.width,containerHeight:n.height}),P=E.useCallback((N,M)=>{I(F=>{var D=Math.round(N),U=Math.round(M);return F.containerWidth===D&&F.containerHeight===U?F:{containerWidth:D,containerHeight:U}})},[]);E.useEffect(()=>{if(_.current==null||typeof ResizeObserver>"u")return nf;var N=U=>{var $,G=U[0];if(G!=null){var{width:ue,height:ce}=G.contentRect;P(ue,ce),($=x.current)===null||$===void 0||$.call(x,ue,ce)}};f>0&&(N=vSe(N,f,{trailing:!0,leading:!1}));var M=new ResizeObserver(N),{width:F,height:D}=_.current.getBoundingClientRect();return P(F,D),M.observe(_.current),()=>{M.disconnect()}},[P,f]);var{containerWidth:j,containerHeight:O}=T;ev(!r||r>0,"The aspect(%s) must be greater than zero.",r);var{calculatedWidth:V,calculatedHeight:C}=tK(j,O,{width:i,height:a,aspect:r,maxHeight:c});return ev(V!=null&&V>0||C!=null&&C>0,`The width(%s) and height(%s) of chart should be greater than 0,
       please check the style of container, or the props width(%s) and height(%s),
       or add a minWidth(%s) or minHeight(%s) or use aspect(%s) to control the
       height and width.`,V,C,i,a,s,o,r),E.createElement("div",{id:p?"".concat(p):void 0,className:kt("recharts-responsive-container",g),style:H9(H9({},w),{},{width:i,height:a,minWidth:s,minHeight:o,maxHeight:c}),ref:_},E.createElement("div",{style:ESe({width:i,height:a})},E.createElement(nK,{width:V,height:C},d)))}),jx=E.forwardRef((t,e)=>{var r=qN();if(ls(r.width)&&ls(r.height))return t.children;var{width:n,height:i}=SSe({width:t.width,height:t.height,aspect:t.aspect}),{calculatedWidth:a,calculatedHeight:s}=tK(void 0,void 0,{width:n,height:i,aspect:t.aspect,maxHeight:t.maxHeight});return Ne(a)&&Ne(s)?E.createElement(nK,{width:a,height:s},t.children):E.createElement(PSe,lI({},t,{width:n,height:i,ref:e}))});function zN(t){if(t)return{x:t.x,y:t.y,upperWidth:"upperWidth"in t?t.upperWidth:t.width,lowerWidth:"lowerWidth"in t?t.lowerWidth:t.width,width:t.width,height:t.height}}var Dx=()=>{var t,e=Wn(),r=$e(dSe),n=$e(Ox),i=(t=$e(Rx))===null||t===void 0?void 0:t.padding;return!e||!n||!i?r:{width:n.width-i.left-i.right,height:n.height-i.top-i.bottom,x:i.left,y:i.top}},CSe={top:0,bottom:0,left:0,right:0,width:0,height:0,brushBottom:0},iK=()=>{var t;return(t=$e(en))!==null&&t!==void 0?t:CSe},BN=()=>$e(so),WN=()=>$e(oo),NSe=()=>$e(t=>t.layout.margin),Bt=t=>t.layout.layoutType,af=()=>$e(Bt),HN=()=>{var t=af();if(t==="horizontal"||t==="vertical")return t},aK=t=>{var e=t.layout.layoutType;if(e==="centric"||e==="radial")return e},RSe=()=>{var t=af();return t!==void 0},ym=t=>{var e=br(),r=Wn(),{width:n,height:i}=t,a=qN(),s=n,o=i;return a&&(s=a.width>0?a.width:n,o=a.height>0?a.height:i),E.useEffect(()=>{!r&&ls(s)&&ls(o)&&e(LEe({width:s,height:o}))},[e,r,s,o]),null},sK=Symbol.for("immer-nothing"),G9=Symbol.for("immer-draftable"),hi=Symbol.for("immer-state");function ea(t,...e){throw new Error(`[Immer] minified error nr: ${t}. Full error at: https://bit.ly/3cXEKWf`)}var Np=Object.getPrototypeOf;function Cd(t){return!!t&&!!t[hi]}function Fc(t){return t?oK(t)||Array.isArray(t)||!!t[G9]||!!t.constructor?.[G9]||vm(t)||Lx(t):!1}var OSe=Object.prototype.constructor.toString(),K9=new WeakMap;function oK(t){if(!t||typeof t!="object")return!1;const e=Object.getPrototypeOf(t);if(e===null||e===Object.prototype)return!0;const r=Object.hasOwnProperty.call(e,"constructor")&&e.constructor;if(r===Object)return!0;if(typeof r!="function")return!1;let n=K9.get(r);return n===void 0&&(n=Function.toString.call(r),K9.set(r,n)),n===OSe}function tv(t,e,r=!0){Mx(t)===0?(r?Reflect.ownKeys(t):Object.keys(t)).forEach(i=>{e(i,t[i],t)}):t.forEach((n,i)=>e(i,n,t))}function Mx(t){const e=t[hi];return e?e.type_:Array.isArray(t)?1:vm(t)?2:Lx(t)?3:0}function cI(t,e){return Mx(t)===2?t.has(e):Object.prototype.hasOwnProperty.call(t,e)}function lK(t,e,r){const n=Mx(t);n===2?t.set(e,r):n===3?t.add(r):t[e]=r}function jSe(t,e){return t===e?t!==0||1/t===1/e:t!==t&&e!==e}function vm(t){return t instanceof Map}function Lx(t){return t instanceof Set}function Zl(t){return t.copy_||t.base_}function uI(t,e){if(vm(t))return new Map(t);if(Lx(t))return new Set(t);if(Array.isArray(t))return Array.prototype.slice.call(t);const r=oK(t);if(e===!0||e==="class_only"&&!r){const n=Object.getOwnPropertyDescriptors(t);delete n[hi];let i=Reflect.ownKeys(n);for(let a=0;a<i.length;a++){const s=i[a],o=n[s];o.writable===!1&&(o.writable=!0,o.configurable=!0),(o.get||o.set)&&(n[s]={configurable:!0,writable:!0,enumerable:o.enumerable,value:t[s]})}return Object.create(Np(t),n)}else{const n=Np(t);if(n!==null&&r)return{...t};const i=Object.create(n);return Object.assign(i,t)}}function GN(t,e=!1){return Fx(t)||Cd(t)||!Fc(t)||(Mx(t)>1&&Object.defineProperties(t,{set:g0,add:g0,clear:g0,delete:g0}),Object.freeze(t),e&&Object.values(t).forEach(r=>GN(r,!0))),t}function DSe(){ea(2)}var g0={value:DSe};function Fx(t){return t===null||typeof t!="object"?!0:Object.isFrozen(t)}var MSe={};function $c(t){const e=MSe[t];return e||ea(0,t),e}var Rp;function cK(){return Rp}function LSe(t,e){return{drafts_:[],parent_:t,immer_:e,canAutoFreeze_:!0,unfinalizedDrafts_:0}}function Y9(t,e){e&&($c("Patches"),t.patches_=[],t.inversePatches_=[],t.patchListener_=e)}function dI(t){fI(t),t.drafts_.forEach(FSe),t.drafts_=null}function fI(t){t===Rp&&(Rp=t.parent_)}function X9(t){return Rp=LSe(Rp,t)}function FSe(t){const e=t[hi];e.type_===0||e.type_===1?e.revoke_():e.revoked_=!0}function Q9(t,e){e.unfinalizedDrafts_=e.drafts_.length;const r=e.drafts_[0];return t!==void 0&&t!==r?(r[hi].modified_&&(dI(e),ea(4)),Fc(t)&&(t=rv(e,t),e.parent_||nv(e,t)),e.patches_&&$c("Patches").generateReplacementPatches_(r[hi].base_,t,e.patches_,e.inversePatches_)):t=rv(e,r,[]),dI(e),e.patches_&&e.patchListener_(e.patches_,e.inversePatches_),t!==sK?t:void 0}function rv(t,e,r){if(Fx(e))return e;const n=t.immer_.shouldUseStrictIteration(),i=e[hi];if(!i)return tv(e,(a,s)=>J9(t,i,e,a,s,r),n),e;if(i.scope_!==t)return e;if(!i.modified_)return nv(t,i.base_,!0),i.base_;if(!i.finalized_){i.finalized_=!0,i.scope_.unfinalizedDrafts_--;const a=i.copy_;let s=a,o=!1;i.type_===3&&(s=new Set(a),a.clear(),o=!0),tv(s,(c,d)=>J9(t,i,a,c,d,r,o),n),nv(t,a,!1),r&&t.patches_&&$c("Patches").generatePatches_(i,r,t.patches_,t.inversePatches_)}return i.copy_}function J9(t,e,r,n,i,a,s){if(i==null||typeof i!="object"&&!s)return;const o=Fx(i);if(!(o&&!s)){if(Cd(i)){const c=a&&e&&e.type_!==3&&!cI(e.assigned_,n)?a.concat(n):void 0,d=rv(t,i,c);if(lK(r,n,d),Cd(d))t.canAutoFreeze_=!1;else return}else s&&r.add(i);if(Fc(i)&&!o){if(!t.immer_.autoFreeze_&&t.unfinalizedDrafts_<1||e&&e.base_&&e.base_[n]===i&&o)return;rv(t,i),(!e||!e.scope_.parent_)&&typeof n!="symbol"&&(vm(r)?r.has(n):Object.prototype.propertyIsEnumerable.call(r,n))&&nv(t,i)}}}function nv(t,e,r=!1){!t.parent_&&t.immer_.autoFreeze_&&t.canAutoFreeze_&&GN(e,r)}function $Se(t,e){const r=Array.isArray(t),n={type_:r?1:0,scope_:e?e.scope_:cK(),modified_:!1,finalized_:!1,assigned_:{},parent_:e,base_:t,draft_:null,copy_:null,revoke_:null,isManual_:!1};let i=n,a=KN;r&&(i=[n],a=Op);const{revoke:s,proxy:o}=Proxy.revocable(i,a);return n.draft_=o,n.revoke_=s,o}var KN={get(t,e){if(e===hi)return t;const r=Zl(t);if(!cI(r,e))return VSe(t,r,e);const n=r[e];return t.finalized_||!Fc(n)?n:n===uA(t.base_,e)?(dA(t),t.copy_[e]=pI(n,t)):n},has(t,e){return e in Zl(t)},ownKeys(t){return Reflect.ownKeys(Zl(t))},set(t,e,r){const n=uK(Zl(t),e);if(n?.set)return n.set.call(t.draft_,r),!0;if(!t.modified_){const i=uA(Zl(t),e),a=i?.[hi];if(a&&a.base_===r)return t.copy_[e]=r,t.assigned_[e]=!1,!0;if(jSe(r,i)&&(r!==void 0||cI(t.base_,e)))return!0;dA(t),hI(t)}return t.copy_[e]===r&&(r!==void 0||e in t.copy_)||Number.isNaN(r)&&Number.isNaN(t.copy_[e])||(t.copy_[e]=r,t.assigned_[e]=!0),!0},deleteProperty(t,e){return uA(t.base_,e)!==void 0||e in t.base_?(t.assigned_[e]=!1,dA(t),hI(t)):delete t.assigned_[e],t.copy_&&delete t.copy_[e],!0},getOwnPropertyDescriptor(t,e){const r=Zl(t),n=Reflect.getOwnPropertyDescriptor(r,e);return n&&{writable:!0,configurable:t.type_!==1||e!=="length",enumerable:n.enumerable,value:r[e]}},defineProperty(){ea(11)},getPrototypeOf(t){return Np(t.base_)},setPrototypeOf(){ea(12)}},Op={};tv(KN,(t,e)=>{Op[t]=function(){return arguments[0]=arguments[0][0],e.apply(this,arguments)}});Op.deleteProperty=function(t,e){return Op.set.call(this,t,e,void 0)};Op.set=function(t,e,r){return KN.set.call(this,t[0],e,r,t[0])};function uA(t,e){const r=t[hi];return(r?Zl(r):t)[e]}function VSe(t,e,r){const n=uK(e,r);return n?"value"in n?n.value:n.get?.call(t.draft_):void 0}function uK(t,e){if(!(e in t))return;let r=Np(t);for(;r;){const n=Object.getOwnPropertyDescriptor(r,e);if(n)return n;r=Np(r)}}function hI(t){t.modified_||(t.modified_=!0,t.parent_&&hI(t.parent_))}function dA(t){t.copy_||(t.copy_=uI(t.base_,t.scope_.immer_.useStrictShallowCopy_))}var USe=class{constructor(t){this.autoFreeze_=!0,this.useStrictShallowCopy_=!1,this.useStrictIteration_=!0,this.produce=(e,r,n)=>{if(typeof e=="function"&&typeof r!="function"){const a=r;r=e;const s=this;return function(c=a,...d){return s.produce(c,f=>r.call(this,f,...d))}}typeof r!="function"&&ea(6),n!==void 0&&typeof n!="function"&&ea(7);let i;if(Fc(e)){const a=X9(this),s=pI(e,void 0);let o=!0;try{i=r(s),o=!1}finally{o?dI(a):fI(a)}return Y9(a,n),Q9(i,a)}else if(!e||typeof e!="object"){if(i=r(e),i===void 0&&(i=e),i===sK&&(i=void 0),this.autoFreeze_&&GN(i,!0),n){const a=[],s=[];$c("Patches").generateReplacementPatches_(e,i,a,s),n(a,s)}return i}else ea(1,e)},this.produceWithPatches=(e,r)=>{if(typeof e=="function")return(s,...o)=>this.produceWithPatches(s,c=>e(c,...o));let n,i;return[this.produce(e,r,(s,o)=>{n=s,i=o}),n,i]},typeof t?.autoFreeze=="boolean"&&this.setAutoFreeze(t.autoFreeze),typeof t?.useStrictShallowCopy=="boolean"&&this.setUseStrictShallowCopy(t.useStrictShallowCopy),typeof t?.useStrictIteration=="boolean"&&this.setUseStrictIteration(t.useStrictIteration)}createDraft(t){Fc(t)||ea(8),Cd(t)&&(t=qSe(t));const e=X9(this),r=pI(t,void 0);return r[hi].isManual_=!0,fI(e),r}finishDraft(t,e){const r=t&&t[hi];(!r||!r.isManual_)&&ea(9);const{scope_:n}=r;return Y9(n,e),Q9(void 0,n)}setAutoFreeze(t){this.autoFreeze_=t}setUseStrictShallowCopy(t){this.useStrictShallowCopy_=t}setUseStrictIteration(t){this.useStrictIteration_=t}shouldUseStrictIteration(){return this.useStrictIteration_}applyPatches(t,e){let r;for(r=e.length-1;r>=0;r--){const i=e[r];if(i.path.length===0&&i.op==="replace"){t=i.value;break}}r>-1&&(e=e.slice(r+1));const n=$c("Patches").applyPatches_;return Cd(t)?n(t,e):this.produce(t,i=>n(i,e))}};function pI(t,e){const r=vm(t)?$c("MapSet").proxyMap_(t,e):Lx(t)?$c("MapSet").proxySet_(t,e):$Se(t,e);return(e?e.scope_:cK()).drafts_.push(r),r}function qSe(t){return Cd(t)||ea(10,t),dK(t)}function dK(t){if(!Fc(t)||Fx(t))return t;const e=t[hi];let r,n=!0;if(e){if(!e.modified_)return e.base_;e.finalized_=!0,r=uI(t,e.scope_.immer_.useStrictShallowCopy_),n=e.scope_.immer_.shouldUseStrictIteration()}else r=uI(t,!0);return tv(r,(i,a)=>{lK(r,i,dK(a))},n),e&&(e.finalized_=!1),r}var zSe=new USe;zSe.produce;var BSe={settings:{layout:"horizontal",align:"center",verticalAlign:"middle",itemSorter:"value"},size:{width:0,height:0},payload:[]},fK=Bn({name:"legend",initialState:BSe,reducers:{setLegendSize(t,e){t.size.width=e.payload.width,t.size.height=e.payload.height},setLegendSettings(t,e){t.settings.align=e.payload.align,t.settings.layout=e.payload.layout,t.settings.verticalAlign=e.payload.verticalAlign,t.settings.itemSorter=e.payload.itemSorter},addLegendPayload:{reducer(t,e){t.payload.push(e.payload)},prepare:Vt()},replaceLegendPayload:{reducer(t,e){var{prev:r,next:n}=e.payload,i=sa(t).payload.indexOf(r);i>-1&&(t.payload[i]=n)},prepare:Vt()},removeLegendPayload:{reducer(t,e){var r=sa(t).payload.indexOf(e.payload);r>-1&&t.payload.splice(r,1)},prepare:Vt()}}}),{setLegendSize:Z9,setLegendSettings:WSe,addLegendPayload:HSe,replaceLegendPayload:GSe,removeLegendPayload:KSe}=fK.actions,YSe=fK.reducer,XSe=["contextPayload"];function mI(){return mI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mI.apply(null,arguments)}function e7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Nd(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e7(Object(r),!0).forEach(function(n){QSe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QSe(t,e,r){return(e=JSe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JSe(t){var e=ZSe(t,"string");return typeof e=="symbol"?e:e+""}function ZSe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function eTe(t,e){if(t==null)return{};var r,n,i=tTe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function tTe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function rTe(t){return t.value}function nTe(t){var{contextPayload:e}=t,r=eTe(t,XSe),n=pG(e,t.payloadUniqBy,rTe),i=Nd(Nd({},r),{},{payload:n});return E.isValidElement(t.content)?E.cloneElement(t.content,i):typeof t.content=="function"?E.createElement(t.content,i):E.createElement(B_e,i)}function iTe(t,e,r,n,i,a){var{layout:s,align:o,verticalAlign:c}=e,d,f;return(!t||(t.left===void 0||t.left===null)&&(t.right===void 0||t.right===null))&&(o==="center"&&s==="vertical"?d={left:((n||0)-a.width)/2}:d=o==="right"?{right:r&&r.right||0}:{left:r&&r.left||0}),(!t||(t.top===void 0||t.top===null)&&(t.bottom===void 0||t.bottom===null))&&(c==="middle"?f={top:((i||0)-a.height)/2}:f=c==="bottom"?{bottom:r&&r.bottom||0}:{top:r&&r.top||0}),Nd(Nd({},d),f)}function aTe(t){var e=br();return E.useEffect(()=>{e(WSe(t))},[e,t]),null}function sTe(t){var e=br();return E.useEffect(()=>(e(Z9(t)),()=>{e(Z9({width:0,height:0}))}),[e,t]),null}function oTe(t,e,r,n){return t==="vertical"&&e!=null?{height:e}:t==="horizontal"?{width:r||n}:null}var lTe={align:"center",iconSize:14,inactiveColor:"#ccc",itemSorter:"value",layout:"horizontal",verticalAlign:"bottom"};function hK(t){var e=In(t,lTe),r=$2e(),n=m_e(),i=NSe(),{width:a,height:s,wrapperStyle:o,portal:c}=e,[d,f]=bG([r]),p=BN(),g=WN();if(p==null||g==null)return null;var b=p-(i?.left||0)-(i?.right||0),w=oTe(e.layout,s,a,b),_=c?o:Nd(Nd({position:"absolute",width:w?.width||a||"auto",height:w?.height||s||"auto"},iTe(o,e,i,p,g,d)),o),x=c??n;if(x==null||r==null)return null;var T=E.createElement("div",{className:"recharts-legend-wrapper",style:_,ref:f},E.createElement(aTe,{layout:e.layout,align:e.align,verticalAlign:e.verticalAlign,itemSorter:e.itemSorter}),!c&&E.createElement(sTe,{width:d.width,height:d.height}),E.createElement(nTe,mI({},e,w,{margin:i,chartWidth:p,chartHeight:g,contextPayload:r})));return Md.createPortal(T,x)}hK.displayName="Legend";function gI(){return gI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gI.apply(null,arguments)}function t7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function bh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?t7(Object(r),!0).forEach(function(n){cTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):t7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cTe(t,e,r){return(e=uTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uTe(t){var e=dTe(t,"string");return typeof e=="symbol"?e:e+""}function dTe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fTe(t){return Array.isArray(t)&&os(t[0])&&os(t[1])?t.join(" ~ "):t}var Fu={separator:" : ",contentStyle:{margin:0,padding:10,backgroundColor:"#fff",border:"1px solid #ccc",whiteSpace:"nowrap"},itemStyle:{display:"block",paddingTop:4,paddingBottom:4,color:"#000"},labelStyle:{},accessibilityLayer:!1},hTe=t=>{var{separator:e=Fu.separator,contentStyle:r,itemStyle:n,labelStyle:i=Fu.labelStyle,payload:a,formatter:s,itemSorter:o,wrapperClassName:c,labelClassName:d,label:f,labelFormatter:p,accessibilityLayer:g=Fu.accessibilityLayer}=t,b=()=>{if(a&&a.length){var O={padding:0,margin:0},V=(o?xx(a,o):a).map((C,N)=>{if(C.type==="none")return null;var M=C.formatter||s||fTe,{value:F,name:D}=C,U=F,$=D;if(M){var G=M(F,D,C,N,a);if(Array.isArray(G))[U,$]=G;else if(G!=null)U=G;else return null}var ue=bh(bh({},Fu.itemStyle),{},{color:C.color||Fu.itemStyle.color},n);return E.createElement("li",{className:"recharts-tooltip-item",key:"tooltip-item-".concat(N),style:ue},os($)?E.createElement("span",{className:"recharts-tooltip-item-name"},$):null,os($)?E.createElement("span",{className:"recharts-tooltip-item-separator"},e):null,E.createElement("span",{className:"recharts-tooltip-item-value"},U),E.createElement("span",{className:"recharts-tooltip-item-unit"},C.unit||""))});return E.createElement("ul",{className:"recharts-tooltip-item-list",style:O},V)}return null},w=bh(bh({},Fu.contentStyle),r),_=bh({margin:0},i),x=!gn(f),T=x?f:"",I=kt("recharts-default-tooltip",c),P=kt("recharts-tooltip-label",d);x&&p&&a!==void 0&&a!==null&&(T=p(f,a));var j=g?{role:"status","aria-live":"assertive"}:{};return E.createElement("div",gI({className:I,style:w},j),E.createElement("p",{className:P,style:_},E.isValidElement(T)?T:"".concat(T)),b())},xh="recharts-tooltip-wrapper",pTe={visibility:"hidden"};function mTe(t){var{coordinate:e,translateX:r,translateY:n}=t;return kt(xh,{["".concat(xh,"-right")]:Ne(r)&&e&&Ne(e.x)&&r>=e.x,["".concat(xh,"-left")]:Ne(r)&&e&&Ne(e.x)&&r<e.x,["".concat(xh,"-bottom")]:Ne(n)&&e&&Ne(e.y)&&n>=e.y,["".concat(xh,"-top")]:Ne(n)&&e&&Ne(e.y)&&n<e.y})}function r7(t){var{allowEscapeViewBox:e,coordinate:r,key:n,offset:i,position:a,reverseDirection:s,tooltipDimension:o,viewBox:c,viewBoxDimension:d}=t;if(a&&Ne(a[n]))return a[n];var f=r[n]-o-(i>0?i:0),p=r[n]+i;if(e[n])return s[n]?f:p;var g=c[n];if(g==null)return 0;if(s[n]){var b=f,w=g;return b<w?Math.max(p,g):Math.max(f,g)}if(d==null)return 0;var _=p+o,x=g+d;return _>x?Math.max(f,g):Math.max(p,g)}function gTe(t){var{translateX:e,translateY:r,useTranslate3d:n}=t;return{transform:n?"translate3d(".concat(e,"px, ").concat(r,"px, 0)"):"translate(".concat(e,"px, ").concat(r,"px)")}}function yTe(t){var{allowEscapeViewBox:e,coordinate:r,offsetTop:n,offsetLeft:i,position:a,reverseDirection:s,tooltipBox:o,useTranslate3d:c,viewBox:d}=t,f,p,g;return o.height>0&&o.width>0&&r?(p=r7({allowEscapeViewBox:e,coordinate:r,key:"x",offset:i,position:a,reverseDirection:s,tooltipDimension:o.width,viewBox:d,viewBoxDimension:d.width}),g=r7({allowEscapeViewBox:e,coordinate:r,key:"y",offset:n,position:a,reverseDirection:s,tooltipDimension:o.height,viewBox:d,viewBoxDimension:d.height}),f=gTe({translateX:p,translateY:g,useTranslate3d:c})):f=pTe,{cssProperties:f,cssClasses:mTe({translateX:p,translateY:g,coordinate:r})}}function n7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function y0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?n7(Object(r),!0).forEach(function(n){yI(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):n7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yI(t,e,r){return(e=vTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vTe(t){var e=bTe(t,"string");return typeof e=="symbol"?e:e+""}function bTe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class xTe extends E.PureComponent{constructor(){super(...arguments),yI(this,"state",{dismissed:!1,dismissedAtCoordinate:{x:0,y:0}}),yI(this,"handleKeyDown",e=>{if(e.key==="Escape"){var r,n,i,a;this.setState({dismissed:!0,dismissedAtCoordinate:{x:(r=(n=this.props.coordinate)===null||n===void 0?void 0:n.x)!==null&&r!==void 0?r:0,y:(i=(a=this.props.coordinate)===null||a===void 0?void 0:a.y)!==null&&i!==void 0?i:0}})}})}componentDidMount(){document.addEventListener("keydown",this.handleKeyDown)}componentWillUnmount(){document.removeEventListener("keydown",this.handleKeyDown)}componentDidUpdate(){var e,r;this.state.dismissed&&(((e=this.props.coordinate)===null||e===void 0?void 0:e.x)!==this.state.dismissedAtCoordinate.x||((r=this.props.coordinate)===null||r===void 0?void 0:r.y)!==this.state.dismissedAtCoordinate.y)&&(this.state.dismissed=!1)}render(){var{active:e,allowEscapeViewBox:r,animationDuration:n,animationEasing:i,children:a,coordinate:s,hasPayload:o,isAnimationActive:c,offset:d,position:f,reverseDirection:p,useTranslate3d:g,viewBox:b,wrapperStyle:w,lastBoundingBox:_,innerRef:x,hasPortalFromProps:T}=this.props,I=typeof d=="number"?d:d.x,P=typeof d=="number"?d:d.y,{cssClasses:j,cssProperties:O}=yTe({allowEscapeViewBox:r,coordinate:s,offsetLeft:I,offsetTop:P,position:f,reverseDirection:p,tooltipBox:{height:_.height,width:_.width},useTranslate3d:g,viewBox:b}),V=T?{}:y0(y0({transition:c&&e?"transform ".concat(n,"ms ").concat(i):void 0},O),{},{pointerEvents:"none",visibility:!this.state.dismissed&&e&&o?"visible":"hidden",position:"absolute",top:0,left:0}),C=y0(y0({},V),{},{visibility:!this.state.dismissed&&e&&o?"visible":"hidden"},w);return E.createElement("div",{xmlns:"http://www.w3.org/1999/xhtml",tabIndex:-1,className:j,style:C,ref:x},a)}}var pK=()=>{var t;return(t=$e(e=>e.rootProps.accessibilityLayer))!==null&&t!==void 0?t:!0};function vI(){return vI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vI.apply(null,arguments)}function i7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function a7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?i7(Object(r),!0).forEach(function(n){wTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):i7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function wTe(t,e,r){return(e=_Te(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Te(t){var e=ETe(t,"string");return typeof e=="symbol"?e:e+""}function ETe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var s7={curveBasisClosed:JW,curveBasisOpen:eH,curveBasis:XW,curveBumpX:Cbe,curveBumpY:Nbe,curveLinearClosed:sH,curveLinear:fm,curveMonotoneX:cH,curveMonotoneY:uH,curveNatural:fH,curveStep:hH,curveStepAfter:mH,curveStepBefore:pH},iv=t=>lt(t.x)&&lt(t.y),o7=t=>t.base!=null&&iv(t.base)&&iv(t),wh=t=>t.x,_h=t=>t.y,STe=(t,e)=>{if(typeof t=="function")return t;var r="curve".concat(hm(t));if((r==="curveMonotone"||r==="curveBump")&&e){var n=s7["".concat(r).concat(e==="vertical"?"Y":"X")];if(n)return n}return s7[r]||fm},l7={connectNulls:!1,type:"linear"},TTe=t=>{var{type:e=l7.type,points:r=[],baseLine:n,layout:i,connectNulls:a=l7.connectNulls}=t,s=STe(e,i),o=a?r.filter(iv):r;if(Array.isArray(n)){var c,d=r.map((w,_)=>a7(a7({},w),{},{base:n[_]}));i==="vertical"?c=l0().y(_h).x1(wh).x0(w=>w.base.x):c=l0().x(wh).y1(_h).y0(w=>w.base.y);var f=c.defined(o7).curve(s),p=a?d.filter(o7):d;return f(p)}var g;i==="vertical"&&Ne(n)?g=l0().y(_h).x1(wh).x0(n):Ne(n)?g=l0().x(wh).y1(_h).y0(n):g=HW().x(wh).y(_h);var b=g.defined(iv).curve(s);return b(o)},W0=t=>{var{className:e,points:r,path:n,pathRef:i}=t,a=af();if((!r||!r.length)&&!n)return null;var s={type:t.type,points:t.points,baseLine:t.baseLine,layout:t.layout||a,connectNulls:t.connectNulls},o=r&&r.length?TTe(s):n;return E.createElement("path",vI({},ua(t),RN(t),{className:kt("recharts-curve",e),d:o===null?void 0:o,ref:i}))},ATe=["x","y","top","left","width","height","className"];function bI(){return bI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bI.apply(null,arguments)}function c7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kTe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?c7(Object(r),!0).forEach(function(n){ITe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):c7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ITe(t,e,r){return(e=PTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PTe(t){var e=CTe(t,"string");return typeof e=="symbol"?e:e+""}function CTe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NTe(t,e){if(t==null)return{};var r,n,i=RTe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function RTe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var OTe=(t,e,r,n,i,a)=>"M".concat(t,",").concat(i,"v").concat(n,"M").concat(a,",").concat(e,"h").concat(r),jTe=t=>{var{x:e=0,y:r=0,top:n=0,left:i=0,width:a=0,height:s=0,className:o}=t,c=NTe(t,ATe),d=kTe({x:e,y:r,top:n,left:i,width:a,height:s},c);return!Ne(e)||!Ne(r)||!Ne(a)||!Ne(s)||!Ne(n)||!Ne(i)?null:E.createElement("path",bI({},fi(d),{className:kt("recharts-cross",o),d:OTe(e,r,a,s,n,i)}))};function DTe(t,e,r,n){var i=n/2;return{stroke:"none",fill:"#ccc",x:t==="horizontal"?e.x-i:r.left+.5,y:t==="horizontal"?r.top+.5:e.y-i,width:t==="horizontal"?n:r.width-1,height:t==="horizontal"?r.height-1:n}}function u7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function d7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?u7(Object(r),!0).forEach(function(n){MTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):u7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function MTe(t,e,r){return(e=LTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function LTe(t){var e=FTe(t,"string");return typeof e=="symbol"?e:e+""}function FTe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var $Te=t=>t.replace(/([A-Z])/g,e=>"-".concat(e.toLowerCase())),VTe=(t,e,r)=>t.map(n=>"".concat($Te(n)," ").concat(e,"ms ").concat(r)).join(","),UTe=(t,e)=>[Object.keys(t),Object.keys(e)].reduce((r,n)=>r.filter(i=>n.includes(i))),jp=(t,e)=>Object.keys(e).reduce((r,n)=>d7(d7({},r),{},{[n]:t(n,e[n])}),{});function f7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function _r(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?f7(Object(r),!0).forEach(function(n){qTe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):f7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qTe(t,e,r){return(e=zTe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zTe(t){var e=BTe(t,"string");return typeof e=="symbol"?e:e+""}function BTe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var av=(t,e,r)=>t+(e-t)*r,xI=t=>{var{from:e,to:r}=t;return e!==r},mK=(t,e,r)=>{var n=jp((i,a)=>{if(xI(a)){var[s,o]=t(a.from,a.to,a.velocity);return _r(_r({},a),{},{from:s,velocity:o})}return a},e);return r<1?jp((i,a)=>xI(a)&&n[i]!=null?_r(_r({},a),{},{velocity:av(a.velocity,n[i].velocity,r),from:av(a.from,n[i].from,r)}):a,e):mK(t,n,r-1)};function WTe(t,e,r,n,i,a){var s,o=n.reduce((g,b)=>_r(_r({},g),{},{[b]:{from:t[b],velocity:0,to:e[b]}}),{}),c=()=>jp((g,b)=>b.from,o),d=()=>!Object.values(o).filter(xI).length,f=null,p=g=>{s||(s=g);var b=g-s,w=b/r.dt;o=mK(r,o,w),i(_r(_r(_r({},t),e),c())),s=g,d()||(f=a.setTimeout(p))};return()=>(f=a.setTimeout(p),()=>{var g;(g=f)===null||g===void 0||g()})}function HTe(t,e,r,n,i,a,s){var o=null,c=i.reduce((p,g)=>{var b=t[g],w=e[g];return b==null||w==null?p:_r(_r({},p),{},{[g]:[b,w]})},{}),d,f=p=>{d||(d=p);var g=(p-d)/n,b=jp((_,x)=>av(...x,r(g)),c);if(a(_r(_r(_r({},t),e),b)),g<1)o=s.setTimeout(f);else{var w=jp((_,x)=>av(...x,r(1)),c);a(_r(_r(_r({},t),e),w))}};return()=>(o=s.setTimeout(f),()=>{var p;(p=o)===null||p===void 0||p()})}const GTe=(t,e,r,n,i,a)=>{var s=UTe(t,e);return r==null?()=>(i(_r(_r({},t),e)),()=>{}):r.isStepper===!0?WTe(t,e,r,s,i,a):HTe(t,e,r,n,s,i,a)};var sv=1e-4,gK=(t,e)=>[0,3*t,3*e-6*t,3*t-3*e+1],yK=(t,e)=>t.map((r,n)=>r*e**n).reduce((r,n)=>r+n),h7=(t,e)=>r=>{var n=gK(t,e);return yK(n,r)},KTe=(t,e)=>r=>{var n=gK(t,e),i=[...n.map((a,s)=>a*s).slice(1),0];return yK(i,r)},YTe=t=>{var e,r=t.split("(");if(r.length!==2||r[0]!=="cubic-bezier")return null;var n=(e=r[1])===null||e===void 0||(e=e.split(")")[0])===null||e===void 0?void 0:e.split(",");if(n==null||n.length!==4)return null;var i=n.map(a=>parseFloat(a));return[i[0],i[1],i[2],i[3]]},XTe=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];if(r.length===1)switch(r[0]){case"linear":return[0,0,1,1];case"ease":return[.25,.1,.25,1];case"ease-in":return[.42,0,1,1];case"ease-out":return[.42,0,.58,1];case"ease-in-out":return[0,0,.58,1];default:{var i=YTe(r[0]);if(i)return i}}return r.length===4?r:[0,0,1,1]},QTe=(t,e,r,n)=>{var i=h7(t,r),a=h7(e,n),s=KTe(t,r),o=d=>d>1?1:d<0?0:d,c=d=>{for(var f=d>1?1:d,p=f,g=0;g<8;++g){var b=i(p)-f,w=s(p);if(Math.abs(b-f)<sv||w<sv)return a(p);p=o(p-b/w)}return a(p)};return c.isStepper=!1,c},p7=function(){return QTe(...XTe(...arguments))},JTe=function(){var e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},{stiff:r=100,damping:n=8,dt:i=17}=e,a=(s,o,c)=>{var d=-(s-o)*r,f=c*n,p=c+(d-f)*i/1e3,g=c*i/1e3+s;return Math.abs(g-o)<sv&&Math.abs(p)<sv?[o,0]:[g,p]};return a.isStepper=!0,a.dt=i,a},ZTe=t=>{if(typeof t=="string")switch(t){case"ease":case"ease-in-out":case"ease-out":case"ease-in":case"linear":return p7(t);case"spring":return JTe();default:if(t.split("(")[0]==="cubic-bezier")return p7(t)}return typeof t=="function"?t:null};function eAe(t){var e,r=()=>null,n=!1,i=null,a=s=>{if(!n){if(Array.isArray(s)){if(!s.length)return;var o=s,[c,...d]=o;if(typeof c=="number"){i=t.setTimeout(a.bind(null,d),c);return}a(c),i=t.setTimeout(a.bind(null,d));return}typeof s=="string"&&(e=s,r(e)),typeof s=="object"&&(e=s,r(e)),typeof s=="function"&&s()}};return{stop:()=>{n=!0},start:s=>{n=!1,i&&(i(),i=null),a(s)},subscribe:s=>(r=s,()=>{r=()=>null}),getTimeoutController:()=>t}}class tAe{setTimeout(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,n=performance.now(),i=null,a=s=>{s-n>=r?e(s):typeof requestAnimationFrame=="function"&&(i=requestAnimationFrame(a))};return i=requestAnimationFrame(a),()=>{i!=null&&cancelAnimationFrame(i)}}}function rAe(){return eAe(new tAe)}var nAe=E.createContext(rAe);function iAe(t,e){var r=E.useContext(nAe);return E.useMemo(()=>e??r(t),[t,e,r])}var aAe=()=>!(typeof window<"u"&&window.document&&window.document.createElement&&window.setTimeout),bm={isSsr:aAe()},sAe={begin:0,duration:1e3,easing:"ease",isActive:!0,canBegin:!0,onAnimationEnd:()=>{},onAnimationStart:()=>{}},m7={t:0},fA={t:1};function vK(t){var e=In(t,sAe),{isActive:r,canBegin:n,duration:i,easing:a,begin:s,onAnimationEnd:o,onAnimationStart:c,children:d}=e,f=r==="auto"?!bm.isSsr:r,p=iAe(e.animationId,e.animationManager),[g,b]=E.useState(f?m7:fA),w=E.useRef(null);return E.useEffect(()=>{f||b(fA)},[f]),E.useEffect(()=>{if(!f||!n)return nf;var _=GTe(m7,fA,ZTe(a),i,b,p.getTimeoutController()),x=()=>{w.current=_()};return p.start([c,s,x,i,o]),()=>{p.stop(),w.current&&w.current(),o()}},[f,n,i,a,s,c,o,p]),d(g.t)}function bK(t){var e=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"animation-",r=E.useRef(kp(e)),n=E.useRef(t);return n.current!==t&&(r.current=kp(e),n.current=t),r.current}var oAe=["radius"],lAe=["radius"],g7,y7,v7,b7,x7,w7,_7,E7,S7,T7;function A7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function k7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?A7(Object(r),!0).forEach(function(n){cAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):A7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cAe(t,e,r){return(e=uAe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uAe(t){var e=dAe(t,"string");return typeof e=="symbol"?e:e+""}function dAe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function ov(){return ov=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ov.apply(null,arguments)}function I7(t,e){if(t==null)return{};var r,n,i=fAe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function fAe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Ma(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var P7=(t,e,r,n,i)=>{var a=Ko(r),s=Ko(n),o=Math.min(Math.abs(a)/2,Math.abs(s)/2),c=s>=0?1:-1,d=a>=0?1:-1,f=s>=0&&a>=0||s<0&&a<0?1:0,p;if(o>0&&Array.isArray(i)){for(var g=[0,0,0,0],b=0,w=4;b<w;b++){var _,x=(_=i[b])!==null&&_!==void 0?_:0;g[b]=x>o?o:x}p=Gr(g7||(g7=Ma(["M",",",""])),t,e+c*g[0]),g[0]>0&&(p+=Gr(y7||(y7=Ma(["A ",",",",0,0,",",",",",""])),g[0],g[0],f,t+d*g[0],e)),p+=Gr(v7||(v7=Ma(["L ",",",""])),t+r-d*g[1],e),g[1]>0&&(p+=Gr(b7||(b7=Ma(["A ",",",",0,0,",`,
        `,",",""])),g[1],g[1],f,t+r,e+c*g[1])),p+=Gr(x7||(x7=Ma(["L ",",",""])),t+r,e+n-c*g[2]),g[2]>0&&(p+=Gr(w7||(w7=Ma(["A ",",",",0,0,",`,
        `,",",""])),g[2],g[2],f,t+r-d*g[2],e+n)),p+=Gr(_7||(_7=Ma(["L ",",",""])),t+d*g[3],e+n),g[3]>0&&(p+=Gr(E7||(E7=Ma(["A ",",",",0,0,",`,
        `,",",""])),g[3],g[3],f,t,e+n-c*g[3])),p+="Z"}else if(o>0&&i===+i&&i>0){var T=Math.min(o,i);p=Gr(S7||(S7=Ma(["M ",",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",",",`
            L `,",",`
            A `,",",",0,0,",",",","," Z"])),t,e+c*T,T,T,f,t+d*T,e,t+r-d*T,e,T,T,f,t+r,e+c*T,t+r,e+n-c*T,T,T,f,t+r-d*T,e+n,t+d*T,e+n,T,T,f,t,e+n-c*T)}else p=Gr(T7||(T7=Ma(["M ",","," h "," v "," h "," Z"])),t,e,r,n,-r);return p},C7={x:0,y:0,width:0,height:0,radius:0,isAnimationActive:!1,isUpdateAnimationActive:!1,animationBegin:0,animationDuration:1500,animationEasing:"ease"},hAe=t=>{var e=In(t,C7),r=E.useRef(null),[n,i]=E.useState(-1);E.useEffect(()=>{if(r.current&&r.current.getTotalLength)try{var se=r.current.getTotalLength();se&&i(se)}catch{}},[]);var{x:a,y:s,width:o,height:c,radius:d,className:f}=e,{animationEasing:p,animationDuration:g,animationBegin:b,isAnimationActive:w,isUpdateAnimationActive:_}=e,x=E.useRef(o),T=E.useRef(c),I=E.useRef(a),P=E.useRef(s),j=E.useMemo(()=>({x:a,y:s,width:o,height:c,radius:d}),[a,s,o,c,d]),O=bK(j,"rectangle-");if(a!==+a||s!==+s||o!==+o||c!==+c||o===0||c===0)return null;var V=kt("recharts-rectangle",f);if(!_){var C=fi(e),{radius:N}=C,M=I7(C,oAe);return E.createElement("path",ov({},M,{x:Ko(a),y:Ko(s),width:Ko(o),height:Ko(c),radius:typeof d=="number"?d:void 0,className:V,d:P7(a,s,o,c,d)}))}var F=x.current,D=T.current,U=I.current,$=P.current,G="0px ".concat(n===-1?1:n,"px"),ue="".concat(n,"px 0px"),ce=VTe(["strokeDasharray"],g,typeof p=="string"?p:C7.animationEasing);return E.createElement(vK,{animationId:O,key:O,canBegin:n>0,duration:g,easing:p,isActive:_,begin:b},se=>{var Q=Ua(F,o,se),X=Ua(D,c,se),ie=Ua(U,a,se),B=Ua($,s,se);r.current&&(x.current=Q,T.current=X,I.current=ie,P.current=B);var Z;w?se>0?Z={transition:ce,strokeDasharray:ue}:Z={strokeDasharray:G}:Z={strokeDasharray:ue};var _e=fi(e),{radius:oe}=_e,xe=I7(_e,lAe);return E.createElement("path",ov({},xe,{radius:typeof d=="number"?d:void 0,className:V,d:P7(ie,B,Q,X,d),ref:r,style:k7(k7({},Z),e.style)}))})};function N7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function R7(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?N7(Object(r),!0).forEach(function(n){pAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):N7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function pAe(t,e,r){return(e=mAe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function mAe(t){var e=gAe(t,"string");return typeof e=="symbol"?e:e+""}function gAe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var lv=Math.PI/180,yAe=t=>t*180/Math.PI,Qr=(t,e,r,n)=>({x:t+Math.cos(-lv*n)*r,y:e+Math.sin(-lv*n)*r}),vAe=function(e,r){var n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{top:0,right:0,bottom:0,left:0};return Math.min(Math.abs(e-(n.left||0)-(n.right||0)),Math.abs(r-(n.top||0)-(n.bottom||0)))/2},bAe=(t,e)=>{var{x:r,y:n}=t,{x:i,y:a}=e;return Math.sqrt((r-i)**2+(n-a)**2)},xAe=(t,e)=>{var{x:r,y:n}=t,{cx:i,cy:a}=e,s=bAe({x:r,y:n},{x:i,y:a});if(s<=0)return{radius:s,angle:0};var o=(r-i)/s,c=Math.acos(o);return n>a&&(c=2*Math.PI-c),{radius:s,angle:yAe(c),angleInRadian:c}},wAe=t=>{var{startAngle:e,endAngle:r}=t,n=Math.floor(e/360),i=Math.floor(r/360),a=Math.min(n,i);return{startAngle:e-a*360,endAngle:r-a*360}},_Ae=(t,e)=>{var{startAngle:r,endAngle:n}=e,i=Math.floor(r/360),a=Math.floor(n/360),s=Math.min(i,a);return t+s*360},EAe=(t,e)=>{var{chartX:r,chartY:n}=t,{radius:i,angle:a}=xAe({x:r,y:n},e),{innerRadius:s,outerRadius:o}=e;if(i<s||i>o||i===0)return null;var{startAngle:c,endAngle:d}=wAe(e),f=a,p;if(c<=d){for(;f>d;)f-=360;for(;f<c;)f+=360;p=f>=c&&f<=d}else{for(;f>c;)f-=360;for(;f<d;)f+=360;p=f>=d&&f<=c}return p?R7(R7({},e),{},{radius:i,angle:_Ae(f,e)}):null};function xK(t){var{cx:e,cy:r,radius:n,startAngle:i,endAngle:a}=t,s=Qr(e,r,n,i),o=Qr(e,r,n,a);return{points:[s,o],cx:e,cy:r,radius:n,startAngle:i,endAngle:a}}var O7,j7,D7,M7,L7,F7,$7;function wI(){return wI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},wI.apply(null,arguments)}function uc(t,e){return e||(e=t.slice(0)),Object.freeze(Object.defineProperties(t,{raw:{value:Object.freeze(e)}}))}var SAe=(t,e)=>{var r=Oi(e-t),n=Math.min(Math.abs(e-t),359.999);return r*n},v0=t=>{var{cx:e,cy:r,radius:n,angle:i,sign:a,isExternal:s,cornerRadius:o,cornerIsExternal:c}=t,d=o*(s?1:-1)+n,f=Math.asin(o/d)/lv,p=c?i:i+a*f,g=Qr(e,r,d,p),b=Qr(e,r,n,p),w=c?i-a*f:i,_=Qr(e,r,d*Math.cos(f*lv),w);return{center:g,circleTangency:b,lineTangency:_,theta:f}},wK=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:a,endAngle:s}=t,o=SAe(a,s),c=a+o,d=Qr(e,r,i,a),f=Qr(e,r,i,c),p=Gr(O7||(O7=uc(["M ",",",`
    A `,",",`,0,
    `,",",`,
    `,",",`
  `])),d.x,d.y,i,i,+(Math.abs(o)>180),+(a>c),f.x,f.y);if(n>0){var g=Qr(e,r,n,a),b=Qr(e,r,n,c);p+=Gr(j7||(j7=uc(["L ",",",`
            A `,",",`,0,
            `,",",`,
            `,","," Z"])),b.x,b.y,n,n,+(Math.abs(o)>180),+(a<=c),g.x,g.y)}else p+=Gr(D7||(D7=uc(["L ",","," Z"])),e,r);return p},TAe=t=>{var{cx:e,cy:r,innerRadius:n,outerRadius:i,cornerRadius:a,forceCornerRadius:s,cornerIsExternal:o,startAngle:c,endAngle:d}=t,f=Oi(d-c),{circleTangency:p,lineTangency:g,theta:b}=v0({cx:e,cy:r,radius:i,angle:c,sign:f,cornerRadius:a,cornerIsExternal:o}),{circleTangency:w,lineTangency:_,theta:x}=v0({cx:e,cy:r,radius:i,angle:d,sign:-f,cornerRadius:a,cornerIsExternal:o}),T=o?Math.abs(c-d):Math.abs(c-d)-b-x;if(T<0)return s?Gr(M7||(M7=uc(["M ",",",`
        a`,",",",0,0,1,",`,0
        a`,",",",0,0,1,",`,0
      `])),g.x,g.y,a,a,a*2,a,a,-a*2):wK({cx:e,cy:r,innerRadius:n,outerRadius:i,startAngle:c,endAngle:d});var I=Gr(L7||(L7=uc(["M ",",",`
    A`,",",",0,0,",",",",",`
    A`,",",",0,",",",",",",",`
    A`,",",",0,0,",",",",",`
  `])),g.x,g.y,a,a,+(f<0),p.x,p.y,i,i,+(T>180),+(f<0),w.x,w.y,a,a,+(f<0),_.x,_.y);if(n>0){var{circleTangency:P,lineTangency:j,theta:O}=v0({cx:e,cy:r,radius:n,angle:c,sign:f,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),{circleTangency:V,lineTangency:C,theta:N}=v0({cx:e,cy:r,radius:n,angle:d,sign:-f,isExternal:!0,cornerRadius:a,cornerIsExternal:o}),M=o?Math.abs(c-d):Math.abs(c-d)-O-N;if(M<0&&a===0)return"".concat(I,"L").concat(e,",").concat(r,"Z");I+=Gr(F7||(F7=uc(["L",",",`
      A`,",",",0,0,",",",",",`
      A`,",",",0,",",",",",",",`
      A`,",",",0,0,",",",",","Z"])),C.x,C.y,a,a,+(f<0),V.x,V.y,n,n,+(M>180),+(f>0),P.x,P.y,a,a,+(f<0),j.x,j.y)}else I+=Gr($7||($7=uc(["L",",","Z"])),e,r);return I},AAe={cx:0,cy:0,innerRadius:0,outerRadius:0,startAngle:0,endAngle:0,cornerRadius:0,forceCornerRadius:!1,cornerIsExternal:!1},kAe=t=>{var e=In(t,AAe),{cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:s,forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:f,className:p}=e;if(a<i||d===f)return null;var g=kt("recharts-sector",p),b=a-i,w=fl(s,b,0,!0),_;return w>0&&Math.abs(d-f)<360?_=TAe({cx:r,cy:n,innerRadius:i,outerRadius:a,cornerRadius:Math.min(w,b/2),forceCornerRadius:o,cornerIsExternal:c,startAngle:d,endAngle:f}):_=wK({cx:r,cy:n,innerRadius:i,outerRadius:a,startAngle:d,endAngle:f}),E.createElement("path",wI({},fi(e),{className:g,d:_}))};function IAe(t,e,r){if(t==="horizontal")return[{x:e.x,y:r.top},{x:e.x,y:r.top+r.height}];if(t==="vertical")return[{x:r.left,y:e.y},{x:r.left+r.width,y:e.y}];if(iG(e)){if(t==="centric"){var{cx:n,cy:i,innerRadius:a,outerRadius:s,angle:o}=e,c=Qr(n,i,a,o),d=Qr(n,i,s,o);return[{x:c.x,y:c.y},{x:d.x,y:d.y}]}return xK(e)}}var hA={},pA={},mA={},V7;function PAe(){return V7||(V7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=gG();function r(n){return e.isSymbol(n)?NaN:Number(n)}t.toNumber=r})(mA)),mA}var U7;function CAe(){return U7||(U7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=PAe();function r(n){return n?(n=e.toNumber(n),n===1/0||n===-1/0?(n<0?-1:1)*Number.MAX_VALUE:n===n?n:0):n===0?n:0}t.toFinite=r})(pA)),pA}var q7;function NAe(){return q7||(q7=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=yG(),r=CAe();function n(i,a,s){s&&typeof s!="number"&&e.isIterateeCall(i,a,s)&&(a=s=void 0),i=r.toFinite(i),a===void 0?(a=i,i=0):a=r.toFinite(a),s=s===void 0?i<a?1:-1:r.toFinite(s);const o=Math.max(Math.ceil((a-i)/(s||1)),0),c=new Array(o);for(let d=0;d<o;d++)c[d]=i,i+=s;return c}t.range=n})(hA)),hA}var gA,z7;function RAe(){return z7||(z7=1,gA=NAe().range),gA}var OAe=RAe();const _K=Qt(OAe),Mh=Object.freeze(Object.defineProperty({__proto__:null,scaleBand:VC,scaleDiverging:OW,scaleDivergingLog:jW,scaleDivergingPow:uN,scaleDivergingSqrt:bve,scaleDivergingSymlog:DW,scaleIdentity:uW,scaleImplicit:$k,scaleLinear:cW,scaleLog:fW,scaleOrdinal:Go,scalePoint:g0e,scalePow:HC,scaleQuantile:mW,scaleQuantize:gW,scaleRadial:pW,scaleSequential:PW,scaleSequentialLog:CW,scaleSequentialPow:cN,scaleSequentialQuantile:RW,scaleSequentialSqrt:vve,scaleSequentialSymlog:NW,scaleSqrt:$0e,scaleSymlog:hW,scaleThreshold:yW,scaleTime:gve,scaleUtc:yve,tickFormat:lW},Symbol.toStringTag,{value:"Module"}));var lo=t=>t.chartData,EK=le([lo],t=>{var e=t.chartData!=null?t.chartData.length-1:0;return{chartData:t.chartData,computedData:t.computedData,dataEndIndex:e,dataStartIndex:0}}),SK=(t,e,r,n)=>n?EK(t):lo(t),jAe=(t,e,r)=>r?EK(t):lo(t);function Zs(t){if(Array.isArray(t)&&t.length===2){var[e,r]=t;if(lt(e)&&lt(r))return!0}return!1}function B7(t,e,r){return r?t:[Math.min(t[0],e[0]),Math.max(t[1],e[1])]}function TK(t,e){if(e&&typeof t!="function"&&Array.isArray(t)&&t.length===2){var[r,n]=t,i,a;if(lt(r))i=r;else if(typeof r=="function")return;if(lt(n))a=n;else if(typeof n=="function")return;var s=[i,a];if(Zs(s))return s}}function DAe(t,e,r){if(!(!r&&e==null)){if(typeof t=="function"&&e!=null)try{var n=t(e,r);if(Zs(n))return B7(n,e,r)}catch{}if(Array.isArray(t)&&t.length===2){var[i,a]=t,s,o;if(i==="auto")e!=null&&(s=Math.min(...e));else if(Ne(i))s=i;else if(typeof i=="function")try{e!=null&&(s=i(e?.[0]))}catch{}else if(typeof i=="string"&&L9.test(i)){var c=L9.exec(i);if(c==null||c[1]==null||e==null)s=void 0;else{var d=+c[1];s=e[0]-d}}else s=e?.[0];if(a==="auto")e!=null&&(o=Math.max(...e));else if(Ne(a))o=a;else if(typeof a=="function")try{e!=null&&(o=a(e?.[1]))}catch{}else if(typeof a=="string"&&F9.test(a)){var f=F9.exec(a);if(f==null||f[1]==null||e==null)o=void 0;else{var p=+f[1];o=e[1]+p}}else o=e?.[1];var g=[s,o];if(Zs(g))return e==null?g:B7(g,e,r)}}}var sf=1e9,MAe={precision:20,rounding:4,toExpNeg:-7,toExpPos:21,LN10:"2.302585092994045684017991454684364207601101488628772976033327900967572609677352480235997205089598298341967784042286"},XN,Ut=!0,Fi="[DecimalError] ",bc=Fi+"Invalid argument: ",YN=Fi+"Exponent out of range: ",of=Math.floor,ec=Math.pow,LAe=/^(\d+(\.\d*)?|\.\d+)(e[+-]?\d+)?$/i,ii,jr=1e7,jt=7,AK=9007199254740991,cv=of(AK/jt),Pe={};Pe.absoluteValue=Pe.abs=function(){var t=new this.constructor(this);return t.s&&(t.s=1),t};Pe.comparedTo=Pe.cmp=function(t){var e,r,n,i,a=this;if(t=new a.constructor(t),a.s!==t.s)return a.s||-t.s;if(a.e!==t.e)return a.e>t.e^a.s<0?1:-1;for(n=a.d.length,i=t.d.length,e=0,r=n<i?n:i;e<r;++e)if(a.d[e]!==t.d[e])return a.d[e]>t.d[e]^a.s<0?1:-1;return n===i?0:n>i^a.s<0?1:-1};Pe.decimalPlaces=Pe.dp=function(){var t=this,e=t.d.length-1,r=(e-t.e)*jt;if(e=t.d[e],e)for(;e%10==0;e/=10)r--;return r<0?0:r};Pe.dividedBy=Pe.div=function(t){return qs(this,new this.constructor(t))};Pe.dividedToIntegerBy=Pe.idiv=function(t){var e=this,r=e.constructor;return At(qs(e,new r(t),0,1),r.precision)};Pe.equals=Pe.eq=function(t){return!this.cmp(t)};Pe.exponent=function(){return vr(this)};Pe.greaterThan=Pe.gt=function(t){return this.cmp(t)>0};Pe.greaterThanOrEqualTo=Pe.gte=function(t){return this.cmp(t)>=0};Pe.isInteger=Pe.isint=function(){return this.e>this.d.length-2};Pe.isNegative=Pe.isneg=function(){return this.s<0};Pe.isPositive=Pe.ispos=function(){return this.s>0};Pe.isZero=function(){return this.s===0};Pe.lessThan=Pe.lt=function(t){return this.cmp(t)<0};Pe.lessThanOrEqualTo=Pe.lte=function(t){return this.cmp(t)<1};Pe.logarithm=Pe.log=function(t){var e,r=this,n=r.constructor,i=n.precision,a=i+5;if(t===void 0)t=new n(10);else if(t=new n(t),t.s<1||t.eq(ii))throw Error(Fi+"NaN");if(r.s<1)throw Error(Fi+(r.s?"NaN":"-Infinity"));return r.eq(ii)?new n(0):(Ut=!1,e=qs(Dp(r,a),Dp(t,a),a),Ut=!0,At(e,i))};Pe.minus=Pe.sub=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?PK(e,t):kK(e,(t.s=-t.s,t))};Pe.modulo=Pe.mod=function(t){var e,r=this,n=r.constructor,i=n.precision;if(t=new n(t),!t.s)throw Error(Fi+"NaN");return r.s?(Ut=!1,e=qs(r,t,0,1).times(t),Ut=!0,r.minus(e)):At(new n(r),i)};Pe.naturalExponential=Pe.exp=function(){return IK(this)};Pe.naturalLogarithm=Pe.ln=function(){return Dp(this)};Pe.negated=Pe.neg=function(){var t=new this.constructor(this);return t.s=-t.s||0,t};Pe.plus=Pe.add=function(t){var e=this;return t=new e.constructor(t),e.s==t.s?kK(e,t):PK(e,(t.s=-t.s,t))};Pe.precision=Pe.sd=function(t){var e,r,n,i=this;if(t!==void 0&&t!==!!t&&t!==1&&t!==0)throw Error(bc+t);if(e=vr(i)+1,n=i.d.length-1,r=n*jt+1,n=i.d[n],n){for(;n%10==0;n/=10)r--;for(n=i.d[0];n>=10;n/=10)r++}return t&&e>r?e:r};Pe.squareRoot=Pe.sqrt=function(){var t,e,r,n,i,a,s,o=this,c=o.constructor;if(o.s<1){if(!o.s)return new c(0);throw Error(Fi+"NaN")}for(t=vr(o),Ut=!1,i=Math.sqrt(+o),i==0||i==1/0?(e=Wa(o.d),(e.length+t)%2==0&&(e+="0"),i=Math.sqrt(e),t=of((t+1)/2)-(t<0||t%2),i==1/0?e="5e"+t:(e=i.toExponential(),e=e.slice(0,e.indexOf("e")+1)+t),n=new c(e)):n=new c(i.toString()),r=c.precision,i=s=r+3;;)if(a=n,n=a.plus(qs(o,a,s+2)).times(.5),Wa(a.d).slice(0,s)===(e=Wa(n.d)).slice(0,s)){if(e=e.slice(s-3,s+1),i==s&&e=="4999"){if(At(a,r+1,0),a.times(a).eq(o)){n=a;break}}else if(e!="9999")break;s+=4}return Ut=!0,At(n,r)};Pe.times=Pe.mul=function(t){var e,r,n,i,a,s,o,c,d,f=this,p=f.constructor,g=f.d,b=(t=new p(t)).d;if(!f.s||!t.s)return new p(0);for(t.s*=f.s,r=f.e+t.e,c=g.length,d=b.length,c<d&&(a=g,g=b,b=a,s=c,c=d,d=s),a=[],s=c+d,n=s;n--;)a.push(0);for(n=d;--n>=0;){for(e=0,i=c+n;i>n;)o=a[i]+b[n]*g[i-n-1]+e,a[i--]=o%jr|0,e=o/jr|0;a[i]=(a[i]+e)%jr|0}for(;!a[--s];)a.pop();return e?++r:a.shift(),t.d=a,t.e=r,Ut?At(t,p.precision):t};Pe.toDecimalPlaces=Pe.todp=function(t,e){var r=this,n=r.constructor;return r=new n(r),t===void 0?r:(cs(t,0,sf),e===void 0?e=n.rounding:cs(e,0,8),At(r,t+vr(r)+1,e))};Pe.toExponential=function(t,e){var r,n=this,i=n.constructor;return t===void 0?r=Vc(n,!0):(cs(t,0,sf),e===void 0?e=i.rounding:cs(e,0,8),n=At(new i(n),t+1,e),r=Vc(n,!0,t+1)),r};Pe.toFixed=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?Vc(i):(cs(t,0,sf),e===void 0?e=a.rounding:cs(e,0,8),n=At(new a(i),t+vr(i)+1,e),r=Vc(n.abs(),!1,t+vr(n)+1),i.isneg()&&!i.isZero()?"-"+r:r)};Pe.toInteger=Pe.toint=function(){var t=this,e=t.constructor;return At(new e(t),vr(t)+1,e.rounding)};Pe.toNumber=function(){return+this};Pe.toPower=Pe.pow=function(t){var e,r,n,i,a,s,o=this,c=o.constructor,d=12,f=+(t=new c(t));if(!t.s)return new c(ii);if(o=new c(o),!o.s){if(t.s<1)throw Error(Fi+"Infinity");return o}if(o.eq(ii))return o;if(n=c.precision,t.eq(ii))return At(o,n);if(e=t.e,r=t.d.length-1,s=e>=r,a=o.s,s){if((r=f<0?-f:f)<=AK){for(i=new c(ii),e=Math.ceil(n/jt+4),Ut=!1;r%2&&(i=i.times(o),H7(i.d,e)),r=of(r/2),r!==0;)o=o.times(o),H7(o.d,e);return Ut=!0,t.s<0?new c(ii).div(i):At(i,n)}}else if(a<0)throw Error(Fi+"NaN");return a=a<0&&t.d[Math.max(e,r)]&1?-1:1,o.s=1,Ut=!1,i=t.times(Dp(o,n+d)),Ut=!0,i=IK(i),i.s=a,i};Pe.toPrecision=function(t,e){var r,n,i=this,a=i.constructor;return t===void 0?(r=vr(i),n=Vc(i,r<=a.toExpNeg||r>=a.toExpPos)):(cs(t,1,sf),e===void 0?e=a.rounding:cs(e,0,8),i=At(new a(i),t,e),r=vr(i),n=Vc(i,t<=r||r<=a.toExpNeg,t)),n};Pe.toSignificantDigits=Pe.tosd=function(t,e){var r=this,n=r.constructor;return t===void 0?(t=n.precision,e=n.rounding):(cs(t,1,sf),e===void 0?e=n.rounding:cs(e,0,8)),At(new n(r),t,e)};Pe.toString=Pe.valueOf=Pe.val=Pe.toJSON=Pe[Symbol.for("nodejs.util.inspect.custom")]=function(){var t=this,e=vr(t),r=t.constructor;return Vc(t,e<=r.toExpNeg||e>=r.toExpPos)};function kK(t,e){var r,n,i,a,s,o,c,d,f=t.constructor,p=f.precision;if(!t.s||!e.s)return e.s||(e=new f(t)),Ut?At(e,p):e;if(c=t.d,d=e.d,s=t.e,i=e.e,c=c.slice(),a=s-i,a){for(a<0?(n=c,a=-a,o=d.length):(n=d,i=s,o=c.length),s=Math.ceil(p/jt),o=s>o?s+1:o+1,a>o&&(a=o,n.length=1),n.reverse();a--;)n.push(0);n.reverse()}for(o=c.length,a=d.length,o-a<0&&(a=o,n=d,d=c,c=n),r=0;a;)r=(c[--a]=c[a]+d[a]+r)/jr|0,c[a]%=jr;for(r&&(c.unshift(r),++i),o=c.length;c[--o]==0;)c.pop();return e.d=c,e.e=i,Ut?At(e,p):e}function cs(t,e,r){if(t!==~~t||t<e||t>r)throw Error(bc+t)}function Wa(t){var e,r,n,i=t.length-1,a="",s=t[0];if(i>0){for(a+=s,e=1;e<i;e++)n=t[e]+"",r=jt-n.length,r&&(a+=Uo(r)),a+=n;s=t[e],n=s+"",r=jt-n.length,r&&(a+=Uo(r))}else if(s===0)return"0";for(;s%10===0;)s/=10;return a+s}var qs=(function(){function t(n,i){var a,s=0,o=n.length;for(n=n.slice();o--;)a=n[o]*i+s,n[o]=a%jr|0,s=a/jr|0;return s&&n.unshift(s),n}function e(n,i,a,s){var o,c;if(a!=s)c=a>s?1:-1;else for(o=c=0;o<a;o++)if(n[o]!=i[o]){c=n[o]>i[o]?1:-1;break}return c}function r(n,i,a){for(var s=0;a--;)n[a]-=s,s=n[a]<i[a]?1:0,n[a]=s*jr+n[a]-i[a];for(;!n[0]&&n.length>1;)n.shift()}return function(n,i,a,s){var o,c,d,f,p,g,b,w,_,x,T,I,P,j,O,V,C,N,M=n.constructor,F=n.s==i.s?1:-1,D=n.d,U=i.d;if(!n.s)return new M(n);if(!i.s)throw Error(Fi+"Division by zero");for(c=n.e-i.e,C=U.length,O=D.length,b=new M(F),w=b.d=[],d=0;U[d]==(D[d]||0);)++d;if(U[d]>(D[d]||0)&&--c,a==null?I=a=M.precision:s?I=a+(vr(n)-vr(i))+1:I=a,I<0)return new M(0);if(I=I/jt+2|0,d=0,C==1)for(f=0,U=U[0],I++;(d<O||f)&&I--;d++)P=f*jr+(D[d]||0),w[d]=P/U|0,f=P%U|0;else{for(f=jr/(U[0]+1)|0,f>1&&(U=t(U,f),D=t(D,f),C=U.length,O=D.length),j=C,_=D.slice(0,C),x=_.length;x<C;)_[x++]=0;N=U.slice(),N.unshift(0),V=U[0],U[1]>=jr/2&&++V;do f=0,o=e(U,_,C,x),o<0?(T=_[0],C!=x&&(T=T*jr+(_[1]||0)),f=T/V|0,f>1?(f>=jr&&(f=jr-1),p=t(U,f),g=p.length,x=_.length,o=e(p,_,g,x),o==1&&(f--,r(p,C<g?N:U,g))):(f==0&&(o=f=1),p=U.slice()),g=p.length,g<x&&p.unshift(0),r(_,p,x),o==-1&&(x=_.length,o=e(U,_,C,x),o<1&&(f++,r(_,C<x?N:U,x))),x=_.length):o===0&&(f++,_=[0]),w[d++]=f,o&&_[0]?_[x++]=D[j]||0:(_=[D[j]],x=1);while((j++<O||_[0]!==void 0)&&I--)}return w[0]||w.shift(),b.e=c,At(b,s?a+vr(b)+1:a)}})();function IK(t,e){var r,n,i,a,s,o,c=0,d=0,f=t.constructor,p=f.precision;if(vr(t)>16)throw Error(YN+vr(t));if(!t.s)return new f(ii);for(Ut=!1,o=p,s=new f(.03125);t.abs().gte(.1);)t=t.times(s),d+=5;for(n=Math.log(ec(2,d))/Math.LN10*2+5|0,o+=n,r=i=a=new f(ii),f.precision=o;;){if(i=At(i.times(t),o),r=r.times(++c),s=a.plus(qs(i,r,o)),Wa(s.d).slice(0,o)===Wa(a.d).slice(0,o)){for(;d--;)a=At(a.times(a),o);return f.precision=p,e==null?(Ut=!0,At(a,p)):a}a=s}}function vr(t){for(var e=t.e*jt,r=t.d[0];r>=10;r/=10)e++;return e}function yA(t,e,r){if(e>t.LN10.sd())throw Ut=!0,r&&(t.precision=r),Error(Fi+"LN10 precision limit exceeded");return At(new t(t.LN10),e)}function Uo(t){for(var e="";t--;)e+="0";return e}function Dp(t,e){var r,n,i,a,s,o,c,d,f,p=1,g=10,b=t,w=b.d,_=b.constructor,x=_.precision;if(b.s<1)throw Error(Fi+(b.s?"NaN":"-Infinity"));if(b.eq(ii))return new _(0);if(e==null?(Ut=!1,d=x):d=e,b.eq(10))return e==null&&(Ut=!0),yA(_,d);if(d+=g,_.precision=d,r=Wa(w),n=r.charAt(0),a=vr(b),Math.abs(a)<15e14){for(;n<7&&n!=1||n==1&&r.charAt(1)>3;)b=b.times(t),r=Wa(b.d),n=r.charAt(0),p++;a=vr(b),n>1?(b=new _("0."+r),a++):b=new _(n+"."+r.slice(1))}else return c=yA(_,d+2,x).times(a+""),b=Dp(new _(n+"."+r.slice(1)),d-g).plus(c),_.precision=x,e==null?(Ut=!0,At(b,x)):b;for(o=s=b=qs(b.minus(ii),b.plus(ii),d),f=At(b.times(b),d),i=3;;){if(s=At(s.times(f),d),c=o.plus(qs(s,new _(i),d)),Wa(c.d).slice(0,d)===Wa(o.d).slice(0,d))return o=o.times(2),a!==0&&(o=o.plus(yA(_,d+2,x).times(a+""))),o=qs(o,new _(p),d),_.precision=x,e==null?(Ut=!0,At(o,x)):o;o=c,i+=2}}function W7(t,e){var r,n,i;for((r=e.indexOf("."))>-1&&(e=e.replace(".","")),(n=e.search(/e/i))>0?(r<0&&(r=n),r+=+e.slice(n+1),e=e.substring(0,n)):r<0&&(r=e.length),n=0;e.charCodeAt(n)===48;)++n;for(i=e.length;e.charCodeAt(i-1)===48;)--i;if(e=e.slice(n,i),e){if(i-=n,r=r-n-1,t.e=of(r/jt),t.d=[],n=(r+1)%jt,r<0&&(n+=jt),n<i){for(n&&t.d.push(+e.slice(0,n)),i-=jt;n<i;)t.d.push(+e.slice(n,n+=jt));e=e.slice(n),n=jt-e.length}else n-=i;for(;n--;)e+="0";if(t.d.push(+e),Ut&&(t.e>cv||t.e<-cv))throw Error(YN+r)}else t.s=0,t.e=0,t.d=[0];return t}function At(t,e,r){var n,i,a,s,o,c,d,f,p=t.d;for(s=1,a=p[0];a>=10;a/=10)s++;if(n=e-s,n<0)n+=jt,i=e,d=p[f=0];else{if(f=Math.ceil((n+1)/jt),a=p.length,f>=a)return t;for(d=a=p[f],s=1;a>=10;a/=10)s++;n%=jt,i=n-jt+s}if(r!==void 0&&(a=ec(10,s-i-1),o=d/a%10|0,c=e<0||p[f+1]!==void 0||d%a,c=r<4?(o||c)&&(r==0||r==(t.s<0?3:2)):o>5||o==5&&(r==4||c||r==6&&(n>0?i>0?d/ec(10,s-i):0:p[f-1])%10&1||r==(t.s<0?8:7))),e<1||!p[0])return c?(a=vr(t),p.length=1,e=e-a-1,p[0]=ec(10,(jt-e%jt)%jt),t.e=of(-e/jt)||0):(p.length=1,p[0]=t.e=t.s=0),t;if(n==0?(p.length=f,a=1,f--):(p.length=f+1,a=ec(10,jt-n),p[f]=i>0?(d/ec(10,s-i)%ec(10,i)|0)*a:0),c)for(;;)if(f==0){(p[0]+=a)==jr&&(p[0]=1,++t.e);break}else{if(p[f]+=a,p[f]!=jr)break;p[f--]=0,a=1}for(n=p.length;p[--n]===0;)p.pop();if(Ut&&(t.e>cv||t.e<-cv))throw Error(YN+vr(t));return t}function PK(t,e){var r,n,i,a,s,o,c,d,f,p,g=t.constructor,b=g.precision;if(!t.s||!e.s)return e.s?e.s=-e.s:e=new g(t),Ut?At(e,b):e;if(c=t.d,p=e.d,n=e.e,d=t.e,c=c.slice(),s=d-n,s){for(f=s<0,f?(r=c,s=-s,o=p.length):(r=p,n=d,o=c.length),i=Math.max(Math.ceil(b/jt),o)+2,s>i&&(s=i,r.length=1),r.reverse(),i=s;i--;)r.push(0);r.reverse()}else{for(i=c.length,o=p.length,f=i<o,f&&(o=i),i=0;i<o;i++)if(c[i]!=p[i]){f=c[i]<p[i];break}s=0}for(f&&(r=c,c=p,p=r,e.s=-e.s),o=c.length,i=p.length-o;i>0;--i)c[o++]=0;for(i=p.length;i>s;){if(c[--i]<p[i]){for(a=i;a&&c[--a]===0;)c[a]=jr-1;--c[a],c[i]+=jr}c[i]-=p[i]}for(;c[--o]===0;)c.pop();for(;c[0]===0;c.shift())--n;return c[0]?(e.d=c,e.e=n,Ut?At(e,b):e):new g(0)}function Vc(t,e,r){var n,i=vr(t),a=Wa(t.d),s=a.length;return e?(r&&(n=r-s)>0?a=a.charAt(0)+"."+a.slice(1)+Uo(n):s>1&&(a=a.charAt(0)+"."+a.slice(1)),a=a+(i<0?"e":"e+")+i):i<0?(a="0."+Uo(-i-1)+a,r&&(n=r-s)>0&&(a+=Uo(n))):i>=s?(a+=Uo(i+1-s),r&&(n=r-i-1)>0&&(a=a+"."+Uo(n))):((n=i+1)<s&&(a=a.slice(0,n)+"."+a.slice(n)),r&&(n=r-s)>0&&(i+1===s&&(a+="."),a+=Uo(n))),t.s<0?"-"+a:a}function H7(t,e){if(t.length>e)return t.length=e,!0}function CK(t){var e,r,n;function i(a){var s=this;if(!(s instanceof i))return new i(a);if(s.constructor=i,a instanceof i){s.s=a.s,s.e=a.e,s.d=(a=a.d)?a.slice():a;return}if(typeof a=="number"){if(a*0!==0)throw Error(bc+a);if(a>0)s.s=1;else if(a<0)a=-a,s.s=-1;else{s.s=0,s.e=0,s.d=[0];return}if(a===~~a&&a<1e7){s.e=0,s.d=[a];return}return W7(s,a.toString())}else if(typeof a!="string")throw Error(bc+a);if(a.charCodeAt(0)===45?(a=a.slice(1),s.s=-1):s.s=1,LAe.test(a))W7(s,a);else throw Error(bc+a)}if(i.prototype=Pe,i.ROUND_UP=0,i.ROUND_DOWN=1,i.ROUND_CEIL=2,i.ROUND_FLOOR=3,i.ROUND_HALF_UP=4,i.ROUND_HALF_DOWN=5,i.ROUND_HALF_EVEN=6,i.ROUND_HALF_CEIL=7,i.ROUND_HALF_FLOOR=8,i.clone=CK,i.config=i.set=FAe,t===void 0&&(t={}),t)for(n=["precision","rounding","toExpNeg","toExpPos","LN10"],e=0;e<n.length;)t.hasOwnProperty(r=n[e++])||(t[r]=this[r]);return i.config(t),i}function FAe(t){if(!t||typeof t!="object")throw Error(Fi+"Object expected");var e,r,n,i=["precision",1,sf,"rounding",0,8,"toExpNeg",-1/0,0,"toExpPos",0,1/0];for(e=0;e<i.length;e+=3)if((n=t[r=i[e]])!==void 0)if(of(n)===n&&n>=i[e+1]&&n<=i[e+2])this[r]=n;else throw Error(bc+r+": "+n);if((n=t[r="LN10"])!==void 0)if(n==Math.LN10)this[r]=new this(n);else throw Error(bc+r+": "+n);return this}var XN=CK(MAe);ii=new XN(1);const St=XN;function NK(t){var e;return t===0?e=1:e=Math.floor(new St(t).abs().log(10).toNumber())+1,e}function RK(t,e,r){for(var n=new St(t),i=0,a=[];n.lt(e)&&i<1e5;)a.push(n.toNumber()),n=n.add(r),i++;return a}var OK=t=>{var[e,r]=t,[n,i]=[e,r];return e>r&&([n,i]=[r,e]),[n,i]},jK=(t,e,r)=>{if(t.lte(0))return new St(0);var n=NK(t.toNumber()),i=new St(10).pow(n),a=t.div(i),s=n!==1?.05:.1,o=new St(Math.ceil(a.div(s).toNumber())).add(r).mul(s),c=o.mul(i);return e?new St(c.toNumber()):new St(Math.ceil(c.toNumber()))},$Ae=(t,e,r)=>{var n=new St(1),i=new St(t);if(!i.isint()&&r){var a=Math.abs(t);a<1?(n=new St(10).pow(NK(t)-1),i=new St(Math.floor(i.div(n).toNumber())).mul(n)):a>1&&(i=new St(Math.floor(t)))}else t===0?i=new St(Math.floor((e-1)/2)):r||(i=new St(Math.floor(t)));for(var s=Math.floor((e-1)/2),o=[],c=0;c<e;c++)o.push(i.add(new St(c-s).mul(n)).toNumber());return o},DK=function(e,r,n,i){var a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0;if(!Number.isFinite((r-e)/(n-1)))return{step:new St(0),tickMin:new St(0),tickMax:new St(0)};var s=jK(new St(r).sub(e).div(n-1),i,a),o;e<=0&&r>=0?o=new St(0):(o=new St(e).add(r).div(2),o=o.sub(new St(o).mod(s)));var c=Math.ceil(o.sub(e).div(s).toNumber()),d=Math.ceil(new St(r).sub(o).div(s).toNumber()),f=c+d+1;return f>n?DK(e,r,n,i,a+1):(f<n&&(d=r>0?d+(n-f):d,c=r>0?c:c+(n-f)),{step:s,tickMin:o.sub(new St(c).mul(s)),tickMax:o.add(new St(d).mul(s))})},VAe=function(e){var[r,n]=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:6,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,s=Math.max(i,2),[o,c]=OK([r,n]);if(o===-1/0||c===1/0){var d=c===1/0?[o,...Array(i-1).fill(1/0)]:[...Array(i-1).fill(-1/0),c];return r>n?d.reverse():d}if(o===c)return $Ae(o,i,a);var{step:f,tickMin:p,tickMax:g}=DK(o,c,s,a,0),b=RK(p,g.add(new St(.1).mul(f)),f);return r>n?b.reverse():b},UAe=function(e,r){var[n,i]=e,a=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0,[s,o]=OK([n,i]);if(s===-1/0||o===1/0)return[n,i];if(s===o)return[s];var c=Math.max(r,2),d=jK(new St(o).sub(s).div(c-1),a,0),f=[...RK(new St(s),new St(o),d),o];return a===!1&&(f=f.map(p=>Math.round(p))),n>i?f.reverse():f},qAe=t=>t.rootProps.barCategoryGap,$x=t=>t.rootProps.stackOffset,MK=t=>t.rootProps.reverseStackOrder,QN=t=>t.options.chartName,JN=t=>t.rootProps.syncId,LK=t=>t.rootProps.syncMethod,ZN=t=>t.options.eventEmitter,zAe=t=>t.rootProps.baseValue,En={grid:-100,barBackground:-50,area:100,cursorRectangle:200,bar:300,line:400,axis:500,scatter:600,activeBar:1e3,cursorLine:1100,activeDot:1200,label:2e3},Yl={allowDecimals:!1,allowDataOverflow:!1,angleAxisId:0,reversed:!1,scale:"auto",tick:!0,type:"auto"},La={allowDataOverflow:!1,allowDecimals:!1,allowDuplicatedCategory:!0,includeHidden:!1,radiusAxisId:0,reversed:!1,scale:"auto",tick:!0,tickCount:5,type:"auto"},Vx=(t,e)=>{if(!(!t||!e))return t!=null&&t.reversed?[e[1],e[0]]:e};function Ux(t,e,r){if(r!=="auto")return r;if(t!=null)return hs(t,e)?"category":"number"}function G7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function uv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?G7(Object(r),!0).forEach(function(n){BAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):G7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function BAe(t,e,r){return(e=WAe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function WAe(t){var e=HAe(t,"string");return typeof e=="symbol"?e:e+""}function HAe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var K7={allowDataOverflow:Yl.allowDataOverflow,allowDecimals:Yl.allowDecimals,allowDuplicatedCategory:!1,dataKey:void 0,domain:void 0,id:Yl.angleAxisId,includeHidden:!1,name:void 0,reversed:Yl.reversed,scale:Yl.scale,tick:Yl.tick,tickCount:void 0,ticks:void 0,type:Yl.type,unit:void 0},Y7={allowDataOverflow:La.allowDataOverflow,allowDecimals:La.allowDecimals,allowDuplicatedCategory:La.allowDuplicatedCategory,dataKey:void 0,domain:void 0,id:La.radiusAxisId,includeHidden:La.includeHidden,name:void 0,reversed:La.reversed,scale:La.scale,tick:La.tick,tickCount:La.tickCount,ticks:void 0,type:La.type,unit:void 0},GAe=(t,e)=>{if(e!=null)return t.polarAxis.angleAxis[e]},eR=le([GAe,aK],(t,e)=>{var r;if(t!=null)return t;var n=(r=Ux(e,"angleAxis",K7.type))!==null&&r!==void 0?r:"category";return uv(uv({},K7),{},{type:n})}),KAe=(t,e)=>t.polarAxis.radiusAxis[e],tR=le([KAe,aK],(t,e)=>{var r;if(t!=null)return t;var n=(r=Ux(e,"radiusAxis",Y7.type))!==null&&r!==void 0?r:"category";return uv(uv({},Y7),{},{type:n})}),qx=t=>t.polarOptions,rR=le([so,oo,en],vAe),FK=le([qx,rR],(t,e)=>{if(t!=null)return fl(t.innerRadius,e,0)}),$K=le([qx,rR],(t,e)=>{if(t!=null)return fl(t.outerRadius,e,e*.8)}),YAe=t=>{if(t==null)return[0,0];var{startAngle:e,endAngle:r}=t;return[e,r]},VK=le([qx],YAe);le([eR,VK],Vx);var UK=le([rR,FK,$K],(t,e,r)=>{if(!(t==null||e==null||r==null))return[e,r]});le([tR,UK],Vx);var qK=le([Bt,qx,FK,$K,so,oo],(t,e,r,n,i,a)=>{if(!(t!=="centric"&&t!=="radial"||e==null||r==null||n==null)){var{cx:s,cy:o,startAngle:c,endAngle:d}=e;return{cx:fl(s,i,i/2),cy:fl(o,a,a/2),innerRadius:r,outerRadius:n,startAngle:c,endAngle:d,clockWise:!1}}}),Lr=(t,e)=>e,zx=(t,e,r)=>r;function nR(t){return t?.id}function zK(t,e,r){var{chartData:n=[]}=e,{allowDuplicatedCategory:i,dataKey:a}=r,s=new Map;return t.forEach(o=>{var c,d=(c=o.data)!==null&&c!==void 0?c:n;if(!(d==null||d.length===0)){var f=nR(o);d.forEach((p,g)=>{var b=a==null||i?g:String(Jr(p,a,null)),w=Jr(p,o.dataKey,0),_;s.has(b)?_=s.get(b):_={},Object.assign(_,{[f]:w}),s.set(b,_)})}}),Array.from(s.values())}function iR(t){return"stackId"in t&&t.stackId!=null&&t.dataKey!=null}var Bx=(t,e)=>t===e?!0:t==null||e==null?!1:t[0]===e[0]&&t[1]===e[1];function Wx(t,e){return Array.isArray(t)&&Array.isArray(e)&&t.length===0&&e.length===0?!0:t===e}function XAe(t,e){if(t.length===e.length){for(var r=0;r<t.length;r++)if(t[r]!==e[r])return!1;return!0}return!1}var Fr=t=>{var e=Bt(t);return e==="horizontal"?"xAxis":e==="vertical"?"yAxis":e==="centric"?"angleAxis":"radiusAxis"},lf=t=>t.tooltip.settings.axisId;function QAe(t){if(t in Mh)return Mh[t]();var e="scale".concat(hm(t));if(e in Mh)return Mh[e]()}function X7(t){var e=t.ticks,r=t.bandwidth,n=t.range(),i=[Math.min(...n),Math.max(...n)];return{domain:()=>t.domain(),range:(function(a){function s(){return a.apply(this,arguments)}return s.toString=function(){return a.toString()},s})(()=>i),rangeMin:()=>i[0],rangeMax:()=>i[1],isInRange(a){var s=i[0],o=i[1];return s<=o?a>=s&&a<=o:a>=o&&a<=s},bandwidth:r?()=>r.call(t):void 0,ticks:e?a=>e.call(t,a):void 0,map:(a,s)=>{var o=t(a);if(o!=null){if(t.bandwidth&&s!==null&&s!==void 0&&s.position){var c=t.bandwidth();switch(s.position){case"middle":o+=c/2;break;case"end":o+=c;break}}return o}}}}function Q7(t,e,r){if(typeof t=="function")return X7(t.copy().domain(e).range(r));if(t!=null){var n=QAe(t);if(n!=null)return n.domain(e).range(r),X7(n)}}var JAe=(t,e)=>{if(e!=null)switch(t){case"linear":{if(!Zs(e)){for(var r,n,i=0;i<e.length;i++){var a=e[i];lt(a)&&((r===void 0||a<r)&&(r=a),(n===void 0||a>n)&&(n=a))}return r!==void 0&&n!==void 0?[r,n]:void 0}return e}default:return e}};function J7(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function dv(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?J7(Object(r),!0).forEach(function(n){ZAe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):J7(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function ZAe(t,e,r){return(e=eke(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function eke(t){var e=tke(t,"string");return typeof e=="symbol"?e:e+""}function tke(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var _I=[0,"auto"],Nr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:void 0,height:30,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"bottom",padding:{left:0,right:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"category",unit:void 0},BK=(t,e)=>t.cartesianAxis.xAxis[e],co=(t,e)=>{var r=BK(t,e);return r??Nr},Rr={allowDataOverflow:!1,allowDecimals:!0,allowDuplicatedCategory:!0,angle:0,dataKey:void 0,domain:_I,hide:!0,id:0,includeHidden:!1,interval:"preserveEnd",minTickGap:5,mirror:!1,name:void 0,orientation:"left",padding:{top:0,bottom:0},reversed:!1,scale:"auto",tick:!0,tickCount:5,tickFormatter:void 0,ticks:void 0,type:"number",unit:void 0,width:gm},WK=(t,e)=>t.cartesianAxis.yAxis[e],uo=(t,e)=>{var r=WK(t,e);return r??Rr},rke={domain:[0,"auto"],includeHidden:!1,reversed:!1,allowDataOverflow:!1,allowDuplicatedCategory:!1,dataKey:void 0,id:0,name:"",range:[64,64],scale:"auto",type:"number",unit:""},aR=(t,e)=>{var r=t.cartesianAxis.zAxis[e];return r??rke},Pn=(t,e,r)=>{switch(e){case"xAxis":return co(t,r);case"yAxis":return uo(t,r);case"zAxis":return aR(t,r);case"angleAxis":return eR(t,r);case"radiusAxis":return tR(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},nke=(t,e,r)=>{switch(e){case"xAxis":return co(t,r);case"yAxis":return uo(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},xm=(t,e,r)=>{switch(e){case"xAxis":return co(t,r);case"yAxis":return uo(t,r);case"angleAxis":return eR(t,r);case"radiusAxis":return tR(t,r);default:throw new Error("Unexpected axis type: ".concat(e))}},HK=t=>t.graphicalItems.cartesianItems.some(e=>e.type==="bar")||t.graphicalItems.polarItems.some(e=>e.type==="radialBar");function GK(t,e){return r=>{switch(t){case"xAxis":return"xAxisId"in r&&r.xAxisId===e;case"yAxis":return"yAxisId"in r&&r.yAxisId===e;case"zAxis":return"zAxisId"in r&&r.zAxisId===e;case"angleAxis":return"angleAxisId"in r&&r.angleAxisId===e;case"radiusAxis":return"radiusAxisId"in r&&r.radiusAxisId===e;default:return!1}}}var KK=t=>t.graphicalItems.cartesianItems,ike=le([Lr,zx],GK),YK=(t,e,r)=>t.filter(r).filter(n=>e?.includeHidden===!0?!0:!n.hide),wm=le([KK,Pn,ike],YK,{memoizeOptions:{resultEqualityCheck:Wx}}),XK=le([wm],t=>t.filter(e=>e.type==="area"||e.type==="bar").filter(iR)),QK=t=>t.filter(e=>!("stackId"in e)||e.stackId===void 0),ake=le([wm],QK),JK=t=>t.map(e=>e.data).filter(Boolean).flat(1),ske=le([wm],JK,{memoizeOptions:{resultEqualityCheck:Wx}}),ZK=(t,e)=>{var{chartData:r=[],dataStartIndex:n,dataEndIndex:i}=e;return t.length>0?t:r.slice(n,i+1)},sR=le([ske,SK],ZK),eY=(t,e,r)=>e?.dataKey!=null?t.map(n=>({value:Jr(n,e.dataKey)})):r.length>0?r.map(n=>n.dataKey).flatMap(n=>t.map(i=>({value:Jr(i,n)}))):t.map(n=>({value:n})),Hx=le([sR,Pn,wm],eY);function tY(t,e){switch(t){case"xAxis":return e.direction==="x";case"yAxis":return e.direction==="y";default:return!1}}function H0(t){if(os(t)||t instanceof Date){var e=Number(t);if(lt(e))return e}}function Z7(t){if(Array.isArray(t)){var e=[H0(t[0]),H0(t[1])];return Zs(e)?e:void 0}var r=H0(t);if(r!=null)return[r,r]}function eo(t){return t.map(H0).filter(Vn)}function oke(t,e,r){return!r||typeof e!="number"||ss(e)?[]:r.length?eo(r.flatMap(n=>{var i=Jr(t,n.dataKey),a,s;if(Array.isArray(i)?[a,s]=i:a=s=i,!(!lt(a)||!lt(s)))return[e-a,e+s]})):[]}var Ar=t=>{var e=Fr(t),r=lf(t);return xm(t,e,r)},_m=le([Ar],t=>t?.dataKey),lke=le([XK,SK,Ar],zK),rY=(t,e,r,n)=>{var i={},a=e.reduce((s,o)=>{if(o.stackId==null)return s;var c=s[o.stackId];return c==null&&(c=[]),c.push(o),s[o.stackId]=c,s},i);return Object.fromEntries(Object.entries(a).map(s=>{var[o,c]=s,d=n?[...c].reverse():c,f=d.map(nR);return[o,{stackedData:GEe(t,f,r),graphicalItems:d}]}))},nY=le([lke,XK,$x,MK],rY),iY=(t,e,r,n)=>{var{dataStartIndex:i,dataEndIndex:a}=e;if(n==null&&r!=="zAxis"){var s=QEe(t,i,a);if(!(s!=null&&s[0]===0&&s[1]===0))return s}},cke=le([Pn],t=>t.allowDataOverflow),oR=t=>{var e;if(t==null||!("domain"in t))return _I;if(t.domain!=null)return t.domain;if("ticks"in t&&t.ticks!=null){if(t.type==="number"){var r=eo(t.ticks);return[Math.min(...r),Math.max(...r)]}if(t.type==="category")return t.ticks.map(String)}return(e=t?.domain)!==null&&e!==void 0?e:_I},aY=le([Pn],oR),sY=le([aY,cke],TK),uke=le([nY,lo,Lr,sY],iY,{memoizeOptions:{resultEqualityCheck:Bx}}),lR=t=>t.errorBars,dke=(t,e,r)=>t.flatMap(n=>e[n.id]).filter(Boolean).filter(n=>tY(r,n)),fv=function(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];var i=r.filter(Boolean);if(i.length!==0){var a=i.flat(),s=Math.min(...a),o=Math.max(...a);return[s,o]}},oY=(t,e,r,n,i)=>{var a,s;if(r.length>0&&t.forEach(o=>{r.forEach(c=>{var d,f,p=(d=n[c.id])===null||d===void 0?void 0:d.filter(T=>tY(i,T)),g=Jr(o,(f=e.dataKey)!==null&&f!==void 0?f:c.dataKey),b=oke(o,g,p);if(b.length>=2){var w=Math.min(...b),_=Math.max(...b);(a==null||w<a)&&(a=w),(s==null||_>s)&&(s=_)}var x=Z7(g);x!=null&&(a=a==null?x[0]:Math.min(a,x[0]),s=s==null?x[1]:Math.max(s,x[1]))})}),e?.dataKey!=null&&t.forEach(o=>{var c=Z7(Jr(o,e.dataKey));c!=null&&(a=a==null?c[0]:Math.min(a,c[0]),s=s==null?c[1]:Math.max(s,c[1]))}),lt(a)&&lt(s))return[a,s]},fke=le([sR,Pn,ake,lR,Lr],oY,{memoizeOptions:{resultEqualityCheck:Bx}});function hke(t){var{value:e}=t;if(os(e)||e instanceof Date)return e}var pke=(t,e,r)=>{var n=t.map(hke).filter(i=>i!=null);return r&&(e.dataKey==null||e.allowDuplicatedCategory&&eG(n))?_K(0,t.length):e.allowDuplicatedCategory?n:Array.from(new Set(n))},lY=t=>t.referenceElements.dots,cf=(t,e,r)=>t.filter(n=>n.ifOverflow==="extendDomain").filter(n=>e==="xAxis"?n.xAxisId===r:n.yAxisId===r),mke=le([lY,Lr,zx],cf),cY=t=>t.referenceElements.areas,gke=le([cY,Lr,zx],cf),uY=t=>t.referenceElements.lines,yke=le([uY,Lr,zx],cf),dY=(t,e)=>{if(t!=null){var r=eo(t.map(n=>e==="xAxis"?n.x:n.y));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},vke=le(mke,Lr,dY),fY=(t,e)=>{if(t!=null){var r=eo(t.flatMap(n=>[e==="xAxis"?n.x1:n.y1,e==="xAxis"?n.x2:n.y2]));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},bke=le([gke,Lr],fY);function xke(t){var e;if(t.x!=null)return eo([t.x]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.x);return r==null||r.length===0?[]:eo(r)}function wke(t){var e;if(t.y!=null)return eo([t.y]);var r=(e=t.segment)===null||e===void 0?void 0:e.map(n=>n.y);return r==null||r.length===0?[]:eo(r)}var hY=(t,e)=>{if(t!=null){var r=t.flatMap(n=>e==="xAxis"?xke(n):wke(n));if(r.length!==0)return[Math.min(...r),Math.max(...r)]}},_ke=le([yke,Lr],hY),Eke=le(vke,_ke,bke,(t,e,r)=>fv(t,r,e)),pY=(t,e,r,n,i,a,s,o)=>{if(r!=null)return r;var c=s==="vertical"&&o==="xAxis"||s==="horizontal"&&o==="yAxis",d=c?fv(n,a,i):fv(a,i);return DAe(e,d,t.allowDataOverflow)},Ske=le([Pn,aY,sY,uke,fke,Eke,Bt,Lr],pY,{memoizeOptions:{resultEqualityCheck:Bx}}),Tke=[0,1],mY=(t,e,r,n,i,a,s)=>{if(!((t==null||r==null||r.length===0)&&s===void 0)){var{dataKey:o,type:c}=t,d=hs(e,a);if(d&&o==null){var f;return _K(0,(f=r?.length)!==null&&f!==void 0?f:0)}return c==="category"?pke(n,t,d):i==="expand"?Tke:s}},cR=le([Pn,Bt,sR,Hx,$x,Lr,Ske],mY);function Ake(t){return t in Mh}var gY=(t,e,r)=>{if(t!=null){var{scale:n,type:i}=t;if(n==="auto")return i==="category"&&r&&(r.indexOf("LineChart")>=0||r.indexOf("AreaChart")>=0||r.indexOf("ComposedChart")>=0&&!e)?"point":i==="category"?"band":"linear";if(typeof n=="string"){var a="scale".concat(hm(n));return Ake(a)?a:"point"}}},uf=le([Pn,HK,QN],gY);function uR(t,e,r,n){if(!(r==null||n==null))return typeof t.scale=="function"?Q7(t.scale,r,n):Q7(e,r,n)}var yY=(t,e,r)=>{var n=oR(e);if(!(r!=="auto"&&r!=="linear")){if(e!=null&&e.tickCount&&Array.isArray(n)&&(n[0]==="auto"||n[1]==="auto")&&Zs(t))return VAe(t,e.tickCount,e.allowDecimals);if(e!=null&&e.tickCount&&e.type==="number"&&Zs(t))return UAe(t,e.tickCount,e.allowDecimals)}},dR=le([cR,xm,uf],yY),vY=(t,e,r,n)=>{if(n!=="angleAxis"&&t?.type==="number"&&Zs(e)&&Array.isArray(r)&&r.length>0){var i,a,s=e[0],o=(i=r[0])!==null&&i!==void 0?i:0,c=e[1],d=(a=r[r.length-1])!==null&&a!==void 0?a:0;return[Math.min(s,o),Math.max(c,d)]}return e},kke=le([Pn,cR,dR,Lr],vY),Ike=le(Hx,Pn,(t,e)=>{if(!(!e||e.type!=="number")){var r=1/0,n=Array.from(eo(t.map(p=>p.value))).sort((p,g)=>p-g),i=n[0],a=n[n.length-1];if(i==null||a==null)return 1/0;var s=a-i;if(s===0)return 1/0;for(var o=0;o<n.length-1;o++){var c=n[o],d=n[o+1];if(!(c==null||d==null)){var f=d-c;r=Math.min(r,f)}}return r/s}}),bY=le(Ike,Bt,qAe,en,(t,e,r,n,i)=>i,(t,e,r,n,i)=>{if(!lt(t))return 0;var a=e==="vertical"?n.height:n.width;if(i==="gap")return t*a/2;if(i==="no-gap"){var s=fl(r,t*a),o=t*a/2;return o-s-(o-s)/a*s}return 0}),Pke=(t,e,r)=>{var n=co(t,e);return n==null||typeof n.padding!="string"?0:bY(t,"xAxis",e,r,n.padding)},Cke=(t,e,r)=>{var n=uo(t,e);return n==null||typeof n.padding!="string"?0:bY(t,"yAxis",e,r,n.padding)},Nke=le(co,Pke,(t,e)=>{var r,n;if(t==null)return{left:0,right:0};var{padding:i}=t;return typeof i=="string"?{left:e,right:e}:{left:((r=i.left)!==null&&r!==void 0?r:0)+e,right:((n=i.right)!==null&&n!==void 0?n:0)+e}}),Rke=le(uo,Cke,(t,e)=>{var r,n;if(t==null)return{top:0,bottom:0};var{padding:i}=t;return typeof i=="string"?{top:e,bottom:e}:{top:((r=i.top)!==null&&r!==void 0?r:0)+e,bottom:((n=i.bottom)!==null&&n!==void 0?n:0)+e}}),Oke=le([en,Nke,Ox,Rx,(t,e,r)=>r],(t,e,r,n,i)=>{var{padding:a}=n;return i?[a.left,r.width-a.right]:[t.left+e.left,t.left+t.width-e.right]}),jke=le([en,Bt,Rke,Ox,Rx,(t,e,r)=>r],(t,e,r,n,i,a)=>{var{padding:s}=i;return a?[n.height-s.bottom,s.top]:e==="horizontal"?[t.top+t.height-r.bottom,t.top+r.top]:[t.top+r.top,t.top+t.height-r.bottom]}),Em=(t,e,r,n)=>{var i;switch(e){case"xAxis":return Oke(t,r,n);case"yAxis":return jke(t,r,n);case"zAxis":return(i=aR(t,r))===null||i===void 0?void 0:i.range;case"angleAxis":return VK(t);case"radiusAxis":return UK(t,r);default:return}},xY=le([Pn,Em],Vx),Dke=le([uf,kke],JAe),Gx=le([Pn,uf,Dke,xY],uR);le([wm,lR,Lr],dke);function wY(t,e){return t.id<e.id?-1:t.id>e.id?1:0}var Kx=(t,e)=>e,Yx=(t,e,r)=>r,Mke=le(Cx,Kx,Yx,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(wY)),Lke=le(Nx,Kx,Yx,(t,e,r)=>t.filter(n=>n.orientation===e).filter(n=>n.mirror===r).sort(wY)),_Y=(t,e)=>({width:t.width,height:e.height}),Fke=(t,e)=>{var r=typeof e.width=="number"?e.width:gm;return{width:r,height:t.height}},$ke=le(en,co,_Y),Vke=(t,e,r)=>{switch(e){case"top":return t.top;case"bottom":return r-t.bottom;default:return 0}},Uke=(t,e,r)=>{switch(e){case"left":return t.left;case"right":return r-t.right;default:return 0}},qke=le(oo,en,Mke,Kx,Yx,(t,e,r,n,i)=>{var a={},s;return r.forEach(o=>{var c=_Y(e,o);s==null&&(s=Vke(e,n,t));var d=n==="top"&&!i||n==="bottom"&&i;a[o.id]=s-Number(d)*c.height,s+=(d?-1:1)*c.height}),a}),zke=le(so,en,Lke,Kx,Yx,(t,e,r,n,i)=>{var a={},s;return r.forEach(o=>{var c=Fke(e,o);s==null&&(s=Uke(e,n,t));var d=n==="left"&&!i||n==="right"&&i;a[o.id]=s-Number(d)*c.width,s+=(d?-1:1)*c.width}),a}),Bke=(t,e)=>{var r=co(t,e);if(r!=null)return qke(t,r.orientation,r.mirror)},Wke=le([en,co,Bke,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:t.left,y:0}:{x:t.left,y:i}}}),Hke=(t,e)=>{var r=uo(t,e);if(r!=null)return zke(t,r.orientation,r.mirror)},Gke=le([en,uo,Hke,(t,e)=>e],(t,e,r,n)=>{if(e!=null){var i=r?.[n];return i==null?{x:0,y:t.top}:{x:i,y:t.top}}}),Kke=le(en,uo,(t,e)=>{var r=typeof e.width=="number"?e.width:gm;return{width:r,height:t.height}}),EY=(t,e,r,n)=>{if(r!=null){var{allowDuplicatedCategory:i,type:a,dataKey:s}=r,o=hs(t,n),c=e.map(d=>d.value);if(s&&o&&a==="category"&&i&&eG(c))return c}},fR=le([Bt,Hx,Pn,Lr],EY),SY=(t,e,r,n)=>{if(!(r==null||r.dataKey==null)){var{type:i,scale:a}=r,s=hs(t,n);if(s&&(i==="number"||a!=="auto"))return e.map(o=>o.value)}},hR=le([Bt,Hx,xm,Lr],SY),eF=le([Bt,nke,uf,Gx,fR,hR,Em,dR,Lr],(t,e,r,n,i,a,s,o,c)=>{if(e!=null){var d=hs(t,c);return{angle:e.angle,interval:e.interval,minTickGap:e.minTickGap,orientation:e.orientation,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit,axisType:c,categoricalDomain:a,duplicateDomain:i,isCategorical:d,niceTicks:o,range:s,realScaleType:r,scale:n}}}),Yke=(t,e,r,n,i,a,s,o,c)=>{if(!(e==null||n==null)){var d=hs(t,c),{type:f,ticks:p,tickCount:g}=e,b=r==="scaleBand"&&typeof n.bandwidth=="function"?n.bandwidth()/2:2,w=f==="category"&&n.bandwidth?n.bandwidth()/b:0;w=c==="angleAxis"&&a!=null&&a.length>=2?Oi(a[0]-a[1])*2*w:w;var _=p||i;return _?_.map((x,T)=>{var I=s?s.indexOf(x):x,P=n.map(I);return lt(P)?{index:T,coordinate:P+w,value:x,offset:w}:null}).filter(Vn):d&&o?o.map((x,T)=>{var I=n.map(x);return lt(I)?{coordinate:I+w,value:x,index:T,offset:w}:null}).filter(Vn):n.ticks?n.ticks(g).map((x,T)=>{var I=n.map(x);return lt(I)?{coordinate:I+w,value:x,index:T,offset:w}:null}).filter(Vn):n.domain().map((x,T)=>{var I=n.map(x);return lt(I)?{coordinate:I+w,value:s?s[x]:x,index:T,offset:w}:null}).filter(Vn)}},TY=le([Bt,xm,uf,Gx,dR,Em,fR,hR,Lr],Yke),Xke=(t,e,r,n,i,a,s)=>{if(!(e==null||r==null||n==null||n[0]===n[1])){var o=hs(t,s),{tickCount:c}=e,d=0;return d=s==="angleAxis"&&n?.length>=2?Oi(n[0]-n[1])*2*d:d,o&&a?a.map((f,p)=>{var g=r.map(f);return lt(g)?{coordinate:g+d,value:f,index:p,offset:d}:null}).filter(Vn):r.ticks?r.ticks(c).map((f,p)=>{var g=r.map(f);return lt(g)?{coordinate:g+d,value:f,index:p,offset:d}:null}).filter(Vn):r.domain().map((f,p)=>{var g=r.map(f);return lt(g)?{coordinate:g+d,value:i?i[f]:f,index:p,offset:d}:null}).filter(Vn)}},AY=le([Bt,xm,Gx,Em,fR,hR,Lr],Xke),kY=le(Pn,Gx,(t,e)=>{if(!(t==null||e==null))return dv(dv({},t),{},{scale:e})}),Qke=le([Pn,uf,cR,xY],uR);le((t,e,r)=>aR(t,r),Qke,(t,e)=>{if(!(t==null||e==null))return dv(dv({},t),{},{scale:e})});var Jke=le([Bt,Cx,Nx],(t,e,r)=>{switch(t){case"horizontal":return e.some(n=>n.reversed)?"right-to-left":"left-to-right";case"vertical":return r.some(n=>n.reversed)?"bottom-to-top":"top-to-bottom";case"centric":case"radial":return"left-to-right";default:return}}),IY=t=>t.options.defaultTooltipEventType,PY=t=>t.options.validateTooltipEventTypes;function CY(t,e,r){if(t==null)return e;var n=t?"axis":"item";return r==null?e:r.includes(n)?n:e}function pR(t,e){var r=IY(t),n=PY(t);return CY(e,r,n)}function Zke(t){return $e(e=>pR(e,t))}var NY=(t,e)=>{var r,n=Number(e);if(!(ss(n)||e==null))return n>=0?t==null||(r=t[n])===null||r===void 0?void 0:r.value:void 0},eIe=t=>t.tooltip.settings,zo={active:!1,index:null,dataKey:void 0,graphicalItemId:void 0,coordinate:void 0},tIe={itemInteraction:{click:zo,hover:zo},axisInteraction:{click:zo,hover:zo},keyboardInteraction:zo,syncInteraction:{active:!1,index:null,dataKey:void 0,label:void 0,coordinate:void 0,sourceViewBox:void 0,graphicalItemId:void 0},tooltipItemPayloads:[],settings:{shared:void 0,trigger:"hover",axisId:0,active:!1,defaultIndex:void 0}},RY=Bn({name:"tooltip",initialState:tIe,reducers:{addTooltipEntrySettings:{reducer(t,e){t.tooltipItemPayloads.push(e.payload)},prepare:Vt()},replaceTooltipEntrySettings:{reducer(t,e){var{prev:r,next:n}=e.payload,i=sa(t).tooltipItemPayloads.indexOf(r);i>-1&&(t.tooltipItemPayloads[i]=n)},prepare:Vt()},removeTooltipEntrySettings:{reducer(t,e){var r=sa(t).tooltipItemPayloads.indexOf(e.payload);r>-1&&t.tooltipItemPayloads.splice(r,1)},prepare:Vt()},setTooltipSettingsState(t,e){t.settings=e.payload},setActiveMouseOverItemIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.itemInteraction.hover.active=!0,t.itemInteraction.hover.index=e.payload.activeIndex,t.itemInteraction.hover.dataKey=e.payload.activeDataKey,t.itemInteraction.hover.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.hover.coordinate=e.payload.activeCoordinate},mouseLeaveChart(t){t.itemInteraction.hover.active=!1,t.axisInteraction.hover.active=!1},mouseLeaveItem(t){t.itemInteraction.hover.active=!1},setActiveClickItemIndex(t,e){t.syncInteraction.active=!1,t.itemInteraction.click.active=!0,t.keyboardInteraction.active=!1,t.itemInteraction.click.index=e.payload.activeIndex,t.itemInteraction.click.dataKey=e.payload.activeDataKey,t.itemInteraction.click.graphicalItemId=e.payload.activeGraphicalItemId,t.itemInteraction.click.coordinate=e.payload.activeCoordinate},setMouseOverAxisIndex(t,e){t.syncInteraction.active=!1,t.axisInteraction.hover.active=!0,t.keyboardInteraction.active=!1,t.axisInteraction.hover.index=e.payload.activeIndex,t.axisInteraction.hover.dataKey=e.payload.activeDataKey,t.axisInteraction.hover.coordinate=e.payload.activeCoordinate},setMouseClickAxisIndex(t,e){t.syncInteraction.active=!1,t.keyboardInteraction.active=!1,t.axisInteraction.click.active=!0,t.axisInteraction.click.index=e.payload.activeIndex,t.axisInteraction.click.dataKey=e.payload.activeDataKey,t.axisInteraction.click.coordinate=e.payload.activeCoordinate},setSyncInteraction(t,e){t.syncInteraction=e.payload},setKeyboardInteraction(t,e){t.keyboardInteraction.active=e.payload.active,t.keyboardInteraction.index=e.payload.activeIndex,t.keyboardInteraction.coordinate=e.payload.activeCoordinate}}}),{addTooltipEntrySettings:rIe,replaceTooltipEntrySettings:nIe,removeTooltipEntrySettings:iIe,setTooltipSettingsState:aIe,setActiveMouseOverItemIndex:sIe,mouseLeaveItem:q5e,mouseLeaveChart:OY,setActiveClickItemIndex:z5e,setMouseOverAxisIndex:jY,setMouseClickAxisIndex:oIe,setSyncInteraction:EI,setKeyboardInteraction:SI}=RY.actions,lIe=RY.reducer;function tF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function b0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?tF(Object(r),!0).forEach(function(n){cIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):tF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function cIe(t,e,r){return(e=uIe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function uIe(t){var e=dIe(t,"string");return typeof e=="symbol"?e:e+""}function dIe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function fIe(t,e,r){return e==="axis"?r==="click"?t.axisInteraction.click:t.axisInteraction.hover:r==="click"?t.itemInteraction.click:t.itemInteraction.hover}function hIe(t){return t.index!=null}var DY=(t,e,r,n)=>{if(e==null)return zo;var i=fIe(t,e,r);if(i==null)return zo;if(i.active)return i;if(t.keyboardInteraction.active)return t.keyboardInteraction;if(t.syncInteraction.active&&t.syncInteraction.index!=null)return t.syncInteraction;var a=t.settings.active===!0;if(hIe(i)){if(a)return b0(b0({},i),{},{active:!0})}else if(n!=null)return{active:!0,coordinate:void 0,dataKey:void 0,index:n,graphicalItemId:void 0};return b0(b0({},zo),{},{coordinate:i.coordinate})};function pIe(t){if(typeof t=="number")return Number.isFinite(t)?t:void 0;if(t instanceof Date){var e=t.valueOf();return Number.isFinite(e)?e:void 0}var r=Number(t);return Number.isFinite(r)?r:void 0}function mIe(t,e){var r=pIe(t),n=e[0],i=e[1];if(r===void 0)return!1;var a=Math.min(n,i),s=Math.max(n,i);return r>=a&&r<=s}function gIe(t,e,r){if(r==null||e==null)return!0;var n=Jr(t,e);return n==null||!Zs(r)?!0:mIe(n,r)}var mR=(t,e,r,n)=>{var i=t?.index;if(i==null)return null;var a=Number(i);if(!lt(a))return i;var s=0,o=1/0;e.length>0&&(o=e.length-1);var c=Math.max(s,Math.min(a,o)),d=e[c];return d==null||gIe(d,r,n)?String(c):null},MY=(t,e,r,n,i,a,s)=>{if(a!=null){var o=s[0],c=o?.getPosition(a);if(c!=null)return c;var d=i?.[Number(a)];if(d)return r==="horizontal"?{x:d.coordinate,y:(n.top+e)/2}:{x:(n.left+t)/2,y:d.coordinate}}},LY=(t,e,r,n)=>{if(e==="axis")return t.tooltipItemPayloads;if(t.tooltipItemPayloads.length===0)return[];var i;if(r==="hover"?i=t.itemInteraction.hover.graphicalItemId:i=t.itemInteraction.click.graphicalItemId,i==null&&n!=null){var a=t.tooltipItemPayloads[0];return a!=null?[a]:[]}return t.tooltipItemPayloads.filter(s=>{var o;return((o=s.settings)===null||o===void 0?void 0:o.graphicalItemId)===i})},FY=t=>t.options.tooltipPayloadSearcher,df=t=>t.tooltip;function rF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function nF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?rF(Object(r),!0).forEach(function(n){yIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):rF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function yIe(t,e,r){return(e=vIe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function vIe(t){var e=bIe(t,"string");return typeof e=="symbol"?e:e+""}function bIe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function xIe(t,e){return t??e}var $Y=(t,e,r,n,i,a,s)=>{if(!(e==null||a==null)){var{chartData:o,computedData:c,dataStartIndex:d,dataEndIndex:f}=r,p=[];return t.reduce((g,b)=>{var w,{dataDefinedOnItem:_,settings:x}=b,T=xIe(_,o),I=Array.isArray(T)?YG(T,d,f):T,P=(w=x?.dataKey)!==null&&w!==void 0?w:n,j=x?.nameKey,O;if(n&&Array.isArray(I)&&!Array.isArray(I[0])&&s==="axis"?O=tG(I,n,i):O=a(I,e,c,j),Array.isArray(O))O.forEach(C=>{var N=nF(nF({},x),{},{name:C.name,unit:C.unit,color:void 0,fill:void 0});g.push($9({tooltipEntrySettings:N,dataKey:C.dataKey,payload:C.payload,value:Jr(C.payload,C.dataKey),name:C.name}))});else{var V;g.push($9({tooltipEntrySettings:x,dataKey:P,payload:O,value:Jr(O,P),name:(V=Jr(O,j))!==null&&V!==void 0?V:x?.name}))}return g},p)}},gR=le([Ar,HK,QN],gY),wIe=le([t=>t.graphicalItems.cartesianItems,t=>t.graphicalItems.polarItems],(t,e)=>[...t,...e]),_Ie=le([Fr,lf],GK),ff=le([wIe,Ar,_Ie],YK,{memoizeOptions:{resultEqualityCheck:Wx}}),EIe=le([ff],t=>t.filter(iR)),SIe=le([ff],JK,{memoizeOptions:{resultEqualityCheck:Wx}}),hf=le([SIe,lo],ZK),TIe=le([EIe,lo,Ar],zK),yR=le([hf,Ar,ff],eY),VY=le([Ar],oR),AIe=le([Ar],t=>t.allowDataOverflow),UY=le([VY,AIe],TK),kIe=le([ff],t=>t.filter(iR)),IIe=le([TIe,kIe,$x,MK],rY),PIe=le([IIe,lo,Fr,UY],iY),CIe=le([ff],QK),NIe=le([hf,Ar,CIe,lR,Fr],oY,{memoizeOptions:{resultEqualityCheck:Bx}}),RIe=le([lY,Fr,lf],cf),OIe=le([RIe,Fr],dY),jIe=le([cY,Fr,lf],cf),DIe=le([jIe,Fr],fY),MIe=le([uY,Fr,lf],cf),LIe=le([MIe,Fr],hY),FIe=le([OIe,LIe,DIe],fv),$Ie=le([Ar,VY,UY,PIe,NIe,FIe,Bt,Fr],pY),Sm=le([Ar,Bt,hf,yR,$x,Fr,$Ie],mY),VIe=le([Sm,Ar,gR],yY),UIe=le([Ar,Sm,VIe,Fr],vY),qY=t=>{var e=Fr(t),r=lf(t),n=!1;return Em(t,e,r,n)},zY=le([Ar,qY],Vx),BY=le([Ar,gR,UIe,zY],uR),qIe=le([Bt,yR,Ar,Fr],EY),zIe=le([Bt,yR,Ar,Fr],SY),BIe=(t,e,r,n,i,a,s,o)=>{if(e){var{type:c}=e,d=hs(t,o);if(n){var f=r==="scaleBand"&&n.bandwidth?n.bandwidth()/2:2,p=c==="category"&&n.bandwidth?n.bandwidth()/f:0;return p=o==="angleAxis"&&i!=null&&i?.length>=2?Oi(i[0]-i[1])*2*p:p,d&&s?s.map((g,b)=>{var w=n.map(g);return lt(w)?{coordinate:w+p,value:g,index:b,offset:p}:null}).filter(Vn):n.domain().map((g,b)=>{var w=n.map(g);return lt(w)?{coordinate:w+p,value:a?a[g]:g,index:b,offset:p}:null}).filter(Vn)}}},fo=le([Bt,Ar,gR,BY,qY,qIe,zIe,Fr],BIe),vR=le([IY,PY,eIe],(t,e,r)=>CY(r.shared,t,e)),WY=t=>t.tooltip.settings.trigger,bR=t=>t.tooltip.settings.defaultIndex,Tm=le([df,vR,WY,bR],DY),Mp=le([Tm,hf,_m,Sm],mR),HY=le([fo,Mp],NY),WIe=le([Tm],t=>{if(t)return t.dataKey});le([Tm],t=>{if(t)return t.graphicalItemId});var GY=le([df,vR,WY,bR],LY),HIe=le([so,oo,Bt,en,fo,bR,GY],MY),GIe=le([Tm,HIe],(t,e)=>t!=null&&t.coordinate?t.coordinate:e),KIe=le([Tm],t=>{var e;return(e=t?.active)!==null&&e!==void 0?e:!1}),YIe=le([GY,Mp,lo,_m,HY,FY,vR],$Y),XIe=le([YIe],t=>{if(t!=null){var e=t.map(r=>r.payload).filter(r=>r!=null);return Array.from(new Set(e))}});function iF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function aF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?iF(Object(r),!0).forEach(function(n){QIe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):iF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QIe(t,e,r){return(e=JIe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JIe(t){var e=ZIe(t,"string");return typeof e=="symbol"?e:e+""}function ZIe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var ePe=()=>$e(Ar),tPe=()=>{var t=ePe(),e=$e(fo),r=$e(BY);return Zy(!t||!r?void 0:aF(aF({},t),{},{scale:r}),e)};function sF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $u(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?sF(Object(r),!0).forEach(function(n){rPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):sF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function rPe(t,e,r){return(e=nPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function nPe(t){var e=iPe(t,"string");return typeof e=="symbol"?e:e+""}function iPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var aPe=(t,e,r,n)=>{var i=e.find(a=>a&&a.index===r);if(i){if(t==="horizontal")return{x:i.coordinate,y:n.chartY};if(t==="vertical")return{x:n.chartX,y:i.coordinate}}return{x:0,y:0}},sPe=(t,e,r,n)=>{var i=e.find(d=>d&&d.index===r);if(i){if(t==="centric"){var a=i.coordinate,{radius:s}=n;return $u($u($u({},n),Qr(n.cx,n.cy,s,a)),{},{angle:a,radius:s})}var o=i.coordinate,{angle:c}=n;return $u($u($u({},n),Qr(n.cx,n.cy,o,c)),{},{angle:c,radius:o})}return{angle:0,clockWise:!1,cx:0,cy:0,endAngle:0,innerRadius:0,outerRadius:0,radius:0,startAngle:0,x:0,y:0}};function oPe(t,e){var{chartX:r,chartY:n}=t;return r>=e.left&&r<=e.left+e.width&&n>=e.top&&n<=e.top+e.height}var KY=(t,e,r,n,i)=>{var a,s=(a=e?.length)!==null&&a!==void 0?a:0;if(s<=1||t==null)return 0;if(n==="angleAxis"&&i!=null&&Math.abs(Math.abs(i[1]-i[0])-360)<=1e-6)for(var o=0;o<s;o++){var c,d,f,p,g,b=o>0?(c=r[o-1])===null||c===void 0?void 0:c.coordinate:(d=r[s-1])===null||d===void 0?void 0:d.coordinate,w=(f=r[o])===null||f===void 0?void 0:f.coordinate,_=o>=s-1?(p=r[0])===null||p===void 0?void 0:p.coordinate:(g=r[o+1])===null||g===void 0?void 0:g.coordinate,x=void 0;if(!(b==null||w==null||_==null))if(Oi(w-b)!==Oi(_-w)){var T=[];if(Oi(_-w)===Oi(i[1]-i[0])){x=_;var I=w+i[1]-i[0];T[0]=Math.min(I,(I+b)/2),T[1]=Math.max(I,(I+b)/2)}else{x=b;var P=_+i[1]-i[0];T[0]=Math.min(w,(P+w)/2),T[1]=Math.max(w,(P+w)/2)}var j=[Math.min(w,(x+w)/2),Math.max(w,(x+w)/2)];if(t>j[0]&&t<=j[1]||t>=T[0]&&t<=T[1]){var O;return(O=r[o])===null||O===void 0?void 0:O.index}}else{var V=Math.min(b,_),C=Math.max(b,_);if(t>(V+w)/2&&t<=(C+w)/2){var N;return(N=r[o])===null||N===void 0?void 0:N.index}}}else if(e)for(var M=0;M<s;M++){var F=e[M];if(F!=null){var D=e[M+1],U=e[M-1];if(M===0&&D!=null&&t<=(F.coordinate+D.coordinate)/2||M===s-1&&U!=null&&t>(F.coordinate+U.coordinate)/2||M>0&&M<s-1&&U!=null&&D!=null&&t>(F.coordinate+U.coordinate)/2&&t<=(F.coordinate+D.coordinate)/2)return F.index}}return-1},YY=()=>$e(QN),xR=(t,e)=>e,XY=(t,e,r)=>r,wR=(t,e,r,n)=>n,lPe=le(fo,t=>xx(t,e=>e.coordinate)),_R=le([df,xR,XY,wR],DY),ER=le([_R,hf,_m,Sm],mR),cPe=(t,e,r)=>{if(e!=null){var n=df(t);return e==="axis"?r==="hover"?n.axisInteraction.hover.dataKey:n.axisInteraction.click.dataKey:r==="hover"?n.itemInteraction.hover.dataKey:n.itemInteraction.click.dataKey}},QY=le([df,xR,XY,wR],LY),hv=le([so,oo,Bt,en,fo,wR,QY],MY),uPe=le([_R,hv],(t,e)=>{var r;return(r=t.coordinate)!==null&&r!==void 0?r:e}),JY=le([fo,ER],NY),dPe=le([QY,ER,lo,_m,JY,FY,xR],$Y),fPe=le([_R,ER],(t,e)=>({isActive:t.active&&e!=null,activeIndex:e})),hPe=(t,e,r,n,i,a,s)=>{if(!(!t||!r||!n||!i)&&oPe(t,s)){var o=JEe(t,e),c=KY(o,a,i,r,n),d=aPe(e,i,c,t);return{activeIndex:String(c),activeCoordinate:d}}},pPe=(t,e,r,n,i,a,s)=>{if(!(!t||!n||!i||!a||!r)){var o=EAe(t,r);if(o){var c=ZEe(o,e),d=KY(c,s,a,n,i),f=sPe(e,a,d,o);return{activeIndex:String(d),activeCoordinate:f}}}},mPe=(t,e,r,n,i,a,s,o)=>{if(!(!t||!e||!n||!i||!a))return e==="horizontal"||e==="vertical"?hPe(t,e,n,i,a,s,o):pPe(t,e,r,n,i,a,s)},gPe=le(t=>t.zIndex.zIndexMap,(t,e)=>e,(t,e,r)=>r,(t,e,r)=>{if(e!=null){var n=t[e];if(n!=null)return r?n.panoramaElement:n.element}}),yPe=le(t=>t.zIndex.zIndexMap,t=>{var e=Object.keys(t).map(n=>parseInt(n,10)).concat(Object.values(En)),r=Array.from(new Set(e));return r.sort((n,i)=>n-i)},{memoizeOptions:{resultEqualityCheck:XAe}});function oF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function lF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oF(Object(r),!0).forEach(function(n){vPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function vPe(t,e,r){return(e=bPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function bPe(t){var e=xPe(t,"string");return typeof e=="symbol"?e:e+""}function xPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wPe={},_Pe={zIndexMap:Object.values(En).reduce((t,e)=>lF(lF({},t),{},{[e]:{element:void 0,panoramaElement:void 0,consumers:0}}),wPe)},EPe=new Set(Object.values(En));function SPe(t){return EPe.has(t)}var ZY=Bn({name:"zIndex",initialState:_Pe,reducers:{registerZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]?t.zIndexMap[r].consumers+=1:t.zIndexMap[r]={consumers:1,element:void 0,panoramaElement:void 0}},prepare:Vt()},unregisterZIndexPortal:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(t.zIndexMap[r].consumers-=1,t.zIndexMap[r].consumers<=0&&!SPe(r)&&delete t.zIndexMap[r])},prepare:Vt()},registerZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r,element:n,isPanorama:i}=e.payload;t.zIndexMap[r]?i?t.zIndexMap[r].panoramaElement=n:t.zIndexMap[r].element=n:t.zIndexMap[r]={consumers:0,element:i?void 0:n,panoramaElement:i?n:void 0}},prepare:Vt()},unregisterZIndexPortalElement:{reducer:(t,e)=>{var{zIndex:r}=e.payload;t.zIndexMap[r]&&(e.payload.isPanorama?t.zIndexMap[r].panoramaElement=void 0:t.zIndexMap[r].element=void 0)},prepare:Vt()}}}),{registerZIndexPortal:TPe,unregisterZIndexPortal:APe,registerZIndexPortalElement:kPe,unregisterZIndexPortalElement:IPe}=ZY.actions,PPe=ZY.reducer;function ho(t){var{zIndex:e,children:r}=t,n=RSe(),i=n&&e!==void 0&&e!==0,a=Wn(),s=br();E.useLayoutEffect(()=>i?(s(TPe({zIndex:e})),()=>{s(APe({zIndex:e}))}):nf,[s,e,i]);var o=$e(c=>gPe(c,e,a));return i?o?Md.createPortal(r,o):null:r}function TI(){return TI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},TI.apply(null,arguments)}function cF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function x0(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?cF(Object(r),!0).forEach(function(n){CPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):cF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function CPe(t,e,r){return(e=NPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function NPe(t){var e=RPe(t,"string");return typeof e=="symbol"?e:e+""}function RPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function OPe(t){var{cursor:e,cursorComp:r,cursorProps:n}=t;return E.isValidElement(e)?E.cloneElement(e,n):E.createElement(r,n)}function jPe(t){var e,{coordinate:r,payload:n,index:i,offset:a,tooltipAxisBandSize:s,layout:o,cursor:c,tooltipEventType:d,chartName:f}=t,p=r,g=n,b=i;if(!c||!p||f!=="ScatterChart"&&d!=="axis")return null;var w,_,x;if(f==="ScatterChart")w=p,_=jTe,x=En.cursorLine;else if(f==="BarChart")w=DTe(o,p,a,s),_=hAe,x=En.cursorRectangle;else if(o==="radial"&&iG(p)){var{cx:T,cy:I,radius:P,startAngle:j,endAngle:O}=xK(p);w={cx:T,cy:I,startAngle:j,endAngle:O,innerRadius:P,outerRadius:P},_=kAe,x=En.cursorLine}else w={points:IAe(o,p,a)},_=W0,x=En.cursorLine;var V=typeof c=="object"&&"className"in c?c.className:void 0,C=x0(x0(x0(x0({stroke:"#ccc",pointerEvents:"none"},a),w),vx(c)),{},{payload:g,payloadIndex:b,className:kt("recharts-tooltip-cursor",V)});return E.createElement(ho,{zIndex:(e=t.zIndex)!==null&&e!==void 0?e:x},E.createElement(OPe,{cursor:c,cursorComp:_,cursorProps:C}))}function DPe(t){var e=tPe(),r=iK(),n=af(),i=YY();return e==null||r==null||n==null||i==null?null:E.createElement(jPe,TI({},t,{offset:r,layout:n,tooltipAxisBandSize:e,chartName:i}))}var eX=E.createContext(null),MPe=()=>E.useContext(eX),vA={exports:{}},uF;function LPe(){return uF||(uF=1,(function(t){var e=Object.prototype.hasOwnProperty,r="~";function n(){}Object.create&&(n.prototype=Object.create(null),new n().__proto__||(r=!1));function i(c,d,f){this.fn=c,this.context=d,this.once=f||!1}function a(c,d,f,p,g){if(typeof f!="function")throw new TypeError("The listener must be a function");var b=new i(f,p||c,g),w=r?r+d:d;return c._events[w]?c._events[w].fn?c._events[w]=[c._events[w],b]:c._events[w].push(b):(c._events[w]=b,c._eventsCount++),c}function s(c,d){--c._eventsCount===0?c._events=new n:delete c._events[d]}function o(){this._events=new n,this._eventsCount=0}o.prototype.eventNames=function(){var d=[],f,p;if(this._eventsCount===0)return d;for(p in f=this._events)e.call(f,p)&&d.push(r?p.slice(1):p);return Object.getOwnPropertySymbols?d.concat(Object.getOwnPropertySymbols(f)):d},o.prototype.listeners=function(d){var f=r?r+d:d,p=this._events[f];if(!p)return[];if(p.fn)return[p.fn];for(var g=0,b=p.length,w=new Array(b);g<b;g++)w[g]=p[g].fn;return w},o.prototype.listenerCount=function(d){var f=r?r+d:d,p=this._events[f];return p?p.fn?1:p.length:0},o.prototype.emit=function(d,f,p,g,b,w){var _=r?r+d:d;if(!this._events[_])return!1;var x=this._events[_],T=arguments.length,I,P;if(x.fn){switch(x.once&&this.removeListener(d,x.fn,void 0,!0),T){case 1:return x.fn.call(x.context),!0;case 2:return x.fn.call(x.context,f),!0;case 3:return x.fn.call(x.context,f,p),!0;case 4:return x.fn.call(x.context,f,p,g),!0;case 5:return x.fn.call(x.context,f,p,g,b),!0;case 6:return x.fn.call(x.context,f,p,g,b,w),!0}for(P=1,I=new Array(T-1);P<T;P++)I[P-1]=arguments[P];x.fn.apply(x.context,I)}else{var j=x.length,O;for(P=0;P<j;P++)switch(x[P].once&&this.removeListener(d,x[P].fn,void 0,!0),T){case 1:x[P].fn.call(x[P].context);break;case 2:x[P].fn.call(x[P].context,f);break;case 3:x[P].fn.call(x[P].context,f,p);break;case 4:x[P].fn.call(x[P].context,f,p,g);break;default:if(!I)for(O=1,I=new Array(T-1);O<T;O++)I[O-1]=arguments[O];x[P].fn.apply(x[P].context,I)}}return!0},o.prototype.on=function(d,f,p){return a(this,d,f,p,!1)},o.prototype.once=function(d,f,p){return a(this,d,f,p,!0)},o.prototype.removeListener=function(d,f,p,g){var b=r?r+d:d;if(!this._events[b])return this;if(!f)return s(this,b),this;var w=this._events[b];if(w.fn)w.fn===f&&(!g||w.once)&&(!p||w.context===p)&&s(this,b);else{for(var _=0,x=[],T=w.length;_<T;_++)(w[_].fn!==f||g&&!w[_].once||p&&w[_].context!==p)&&x.push(w[_]);x.length?this._events[b]=x.length===1?x[0]:x:s(this,b)}return this},o.prototype.removeAllListeners=function(d){var f;return d?(f=r?r+d:d,this._events[f]&&s(this,f)):(this._events=new n,this._eventsCount=0),this},o.prototype.off=o.prototype.removeListener,o.prototype.addListener=o.prototype.on,o.prefixed=r,o.EventEmitter=o,t.exports=o})(vA)),vA.exports}var FPe=LPe();const $Pe=Qt(FPe);var Lp=new $Pe,AI="recharts.syncEvent.tooltip",dF="recharts.syncEvent.brush",VPe=(t,e)=>{if(e&&Array.isArray(t)){var r=Number.parseInt(e,10);if(!ss(r))return t[r]}},UPe={chartName:"",tooltipPayloadSearcher:()=>{},eventEmitter:void 0,defaultTooltipEventType:"axis"},tX=Bn({name:"options",initialState:UPe,reducers:{createEventEmitter:t=>{t.eventEmitter==null&&(t.eventEmitter=Symbol("rechartsEventEmitter"))}}}),qPe=tX.reducer,{createEventEmitter:zPe}=tX.actions;function BPe(t){return t.tooltip.syncInteraction}var WPe={chartData:void 0,computedData:void 0,dataStartIndex:0,dataEndIndex:0},rX=Bn({name:"chartData",initialState:WPe,reducers:{setChartData(t,e){if(t.chartData=e.payload,e.payload==null){t.dataStartIndex=0,t.dataEndIndex=0;return}e.payload.length>0&&t.dataEndIndex!==e.payload.length-1&&(t.dataEndIndex=e.payload.length-1)},setComputedData(t,e){t.computedData=e.payload},setDataStartEndIndexes(t,e){var{startIndex:r,endIndex:n}=e.payload;r!=null&&(t.dataStartIndex=r),n!=null&&(t.dataEndIndex=n)}}}),{setChartData:fF,setDataStartEndIndexes:HPe,setComputedData:B5e}=rX.actions,GPe=rX.reducer,KPe=["x","y"];function hF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Vu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?hF(Object(r),!0).forEach(function(n){YPe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):hF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function YPe(t,e,r){return(e=XPe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function XPe(t){var e=QPe(t,"string");return typeof e=="symbol"?e:e+""}function QPe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function JPe(t,e){if(t==null)return{};var r,n,i=ZPe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function ZPe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function eCe(){var t=$e(JN),e=$e(ZN),r=br(),n=$e(LK),i=$e(fo),a=af(),s=Dx(),o=$e(c=>c.rootProps.className);E.useEffect(()=>{if(t==null)return nf;var c=(d,f,p)=>{if(e!==p&&t===d){if(n==="index"){var g;if(s&&f!==null&&f!==void 0&&(g=f.payload)!==null&&g!==void 0&&g.coordinate&&f.payload.sourceViewBox){var b=f.payload.coordinate,{x:w,y:_}=b,x=JPe(b,KPe),{x:T,y:I,width:P,height:j}=f.payload.sourceViewBox,O=Vu(Vu({},x),{},{x:s.x+(P?(w-T)/P:0)*s.width,y:s.y+(j?(_-I)/j:0)*s.height});r(Vu(Vu({},f),{},{payload:Vu(Vu({},f.payload),{},{coordinate:O})}))}else r(f);return}if(i!=null){var V;if(typeof n=="function"){var C={activeTooltipIndex:f.payload.index==null?void 0:Number(f.payload.index),isTooltipActive:f.payload.active,activeIndex:f.payload.index==null?void 0:Number(f.payload.index),activeLabel:f.payload.label,activeDataKey:f.payload.dataKey,activeCoordinate:f.payload.coordinate},N=n(i,C);V=i[N]}else n==="value"&&(V=i.find(ce=>String(ce.value)===f.payload.label));var{coordinate:M}=f.payload;if(V==null||f.payload.active===!1||M==null||s==null){r(EI({active:!1,coordinate:void 0,dataKey:void 0,index:null,label:void 0,sourceViewBox:void 0,graphicalItemId:void 0}));return}var{x:F,y:D}=M,U=Math.min(F,s.x+s.width),$=Math.min(D,s.y+s.height),G={x:a==="horizontal"?V.coordinate:U,y:a==="horizontal"?$:V.coordinate},ue=EI({active:f.payload.active,coordinate:G,dataKey:f.payload.dataKey,index:String(V.index),label:f.payload.label,sourceViewBox:f.payload.sourceViewBox,graphicalItemId:f.payload.graphicalItemId});r(ue)}}};return Lp.on(AI,c),()=>{Lp.off(AI,c)}},[o,r,e,t,n,i,a,s])}function tCe(){var t=$e(JN),e=$e(ZN),r=br();E.useEffect(()=>{if(t==null)return nf;var n=(i,a,s)=>{e!==s&&t===i&&r(HPe(a))};return Lp.on(dF,n),()=>{Lp.off(dF,n)}},[r,e,t])}function rCe(){var t=br();E.useEffect(()=>{t(zPe())},[t]),eCe(),tCe()}function nCe(t,e,r,n,i,a){var s=$e(b=>cPe(b,t,e)),o=$e(ZN),c=$e(JN),d=$e(LK),f=$e(BPe),p=f?.active,g=Dx();E.useEffect(()=>{if(!p&&c!=null&&o!=null){var b=EI({active:a,coordinate:r,dataKey:s,index:i,label:typeof n=="number"?String(n):n,sourceViewBox:g,graphicalItemId:void 0});Lp.emit(AI,c,b,o)}},[p,r,s,i,n,o,c,d,a,g])}function pF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function mF(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?pF(Object(r),!0).forEach(function(n){iCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):pF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function iCe(t,e,r){return(e=aCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function aCe(t){var e=sCe(t,"string");return typeof e=="symbol"?e:e+""}function sCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function oCe(t){return t.dataKey}function lCe(t,e){return E.isValidElement(t)?E.cloneElement(t,e):typeof t=="function"?E.createElement(t,e):E.createElement(hTe,e)}var gF=[],cCe={allowEscapeViewBox:{x:!1,y:!1},animationDuration:400,animationEasing:"ease",axisId:0,contentStyle:{},cursor:!0,filterNull:!0,includeHidden:!1,isAnimationActive:"auto",itemSorter:"name",itemStyle:{},labelStyle:{},offset:10,reverseDirection:{x:!1,y:!1},separator:" : ",trigger:"hover",useTranslate3d:!1,wrapperStyle:{}};function Xx(t){var e,r,n=In(t,cCe),{active:i,allowEscapeViewBox:a,animationDuration:s,animationEasing:o,content:c,filterNull:d,isAnimationActive:f,offset:p,payloadUniqBy:g,position:b,reverseDirection:w,useTranslate3d:_,wrapperStyle:x,cursor:T,shared:I,trigger:P,defaultIndex:j,portal:O,axisId:V}=n,C=br(),N=typeof j=="number"?String(j):j;E.useEffect(()=>{C(aIe({shared:I,trigger:P,axisId:V,active:i,defaultIndex:N}))},[C,I,P,V,i,N]);var M=Dx(),F=pK(),D=Zke(I),{activeIndex:U,isActive:$}=(e=$e(Se=>fPe(Se,D,P,N)))!==null&&e!==void 0?e:{},G=$e(Se=>dPe(Se,D,P,N)),ue=$e(Se=>JY(Se,D,P,N)),ce=$e(Se=>uPe(Se,D,P,N)),se=G,Q=MPe(),X=(r=i??$)!==null&&r!==void 0?r:!1,[ie,B]=bG([se,X]),Z=D==="axis"?ue:void 0;nCe(D,P,ce,Z,U,X);var _e=O??Q;if(_e==null||M==null||D==null)return null;var oe=se??gF;X||(oe=gF),d&&oe.length&&(oe=pG(oe.filter(Se=>Se.value!=null&&(Se.hide!==!0||n.includeHidden)),g,oCe));var xe=oe.length>0,Ee=E.createElement(xTe,{allowEscapeViewBox:a,animationDuration:s,animationEasing:o,isAnimationActive:f,active:X,coordinate:ce,hasPayload:xe,offset:p,position:b,reverseDirection:w,useTranslate3d:_,viewBox:M,wrapperStyle:x,lastBoundingBox:ie,innerRef:B,hasPortalFromProps:!!O},lCe(c,mF(mF({},n),{},{payload:oe,label:Z,active:X,activeIndex:U,coordinate:ce,accessibilityLayer:F})));return E.createElement(E.Fragment,null,Md.createPortal(Ee,_e),X&&E.createElement(DPe,{cursor:T,tooltipEventType:D,coordinate:ce,payload:oe,index:U}))}function uCe(t,e,r){return(e=dCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function dCe(t){var e=fCe(t,"string");return typeof e=="symbol"?e:e+""}function fCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}class hCe{constructor(e){uCe(this,"cache",new Map),this.maxSize=e}get(e){var r=this.cache.get(e);return r!==void 0&&(this.cache.delete(e),this.cache.set(e,r)),r}set(e,r){if(this.cache.has(e))this.cache.delete(e);else if(this.cache.size>=this.maxSize){var n=this.cache.keys().next().value;n!=null&&this.cache.delete(n)}this.cache.set(e,r)}clear(){this.cache.clear()}size(){return this.cache.size}}function yF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function pCe(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?yF(Object(r),!0).forEach(function(n){mCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):yF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function mCe(t,e,r){return(e=gCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function gCe(t){var e=yCe(t,"string");return typeof e=="symbol"?e:e+""}function yCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var vCe={cacheSize:2e3,enableCache:!0},nX=pCe({},vCe),vF=new hCe(nX.cacheSize),bCe={position:"absolute",top:"-20000px",left:0,padding:0,margin:0,border:"none",whiteSpace:"pre"},bF="recharts_measurement_span";function xCe(t,e){var r=e.fontSize||"",n=e.fontFamily||"",i=e.fontWeight||"",a=e.fontStyle||"",s=e.letterSpacing||"",o=e.textTransform||"";return"".concat(t,"|").concat(r,"|").concat(n,"|").concat(i,"|").concat(a,"|").concat(s,"|").concat(o)}var xF=(t,e)=>{try{var r=document.getElementById(bF);r||(r=document.createElement("span"),r.setAttribute("id",bF),r.setAttribute("aria-hidden","true"),document.body.appendChild(r)),Object.assign(r.style,bCe,e),r.textContent="".concat(t);var n=r.getBoundingClientRect();return{width:n.width,height:n.height}}catch{return{width:0,height:0}}},Jh=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(e==null||bm.isSsr)return{width:0,height:0};if(!nX.enableCache)return xF(e,r);var n=xCe(e,r),i=vF.get(n);if(i)return i;var a=xF(e,r);return vF.set(n,a),a},iX;function wCe(t,e,r){return(e=_Ce(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function _Ce(t){var e=ECe(t,"string");return typeof e=="symbol"?e:e+""}function ECe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var wF=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([*/])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,_F=/(-?\d+(?:\.\d+)?[a-zA-Z%]*)([+-])(-?\d+(?:\.\d+)?[a-zA-Z%]*)/,SCe=/^px|cm|vh|vw|em|rem|%|mm|in|pt|pc|ex|ch|vmin|vmax|Q$/,TCe=/(-?\d+(?:\.\d+)?)([a-zA-Z%]+)?/,ACe={cm:96/2.54,mm:96/25.4,pt:96/72,pc:96/6,in:96,Q:96/(2.54*40),px:1},kCe=["cm","mm","pt","pc","in","Q","px"];function ICe(t){return kCe.includes(t)}var Xu="NaN";function PCe(t,e){return t*ACe[e]}class Kr{static parse(e){var r,[,n,i]=(r=TCe.exec(e))!==null&&r!==void 0?r:[];return n==null?Kr.NaN:new Kr(parseFloat(n),i??"")}constructor(e,r){this.num=e,this.unit=r,this.num=e,this.unit=r,ss(e)&&(this.unit=""),r!==""&&!SCe.test(r)&&(this.num=NaN,this.unit=""),ICe(r)&&(this.num=PCe(e,r),this.unit="px")}add(e){return this.unit!==e.unit?new Kr(NaN,""):new Kr(this.num+e.num,this.unit)}subtract(e){return this.unit!==e.unit?new Kr(NaN,""):new Kr(this.num-e.num,this.unit)}multiply(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Kr(NaN,""):new Kr(this.num*e.num,this.unit||e.unit)}divide(e){return this.unit!==""&&e.unit!==""&&this.unit!==e.unit?new Kr(NaN,""):new Kr(this.num/e.num,this.unit||e.unit)}toString(){return"".concat(this.num).concat(this.unit)}isNaN(){return ss(this.num)}}iX=Kr;wCe(Kr,"NaN",new iX(NaN,""));function aX(t){if(t==null||t.includes(Xu))return Xu;for(var e=t;e.includes("*")||e.includes("/");){var r,[,n,i,a]=(r=wF.exec(e))!==null&&r!==void 0?r:[],s=Kr.parse(n??""),o=Kr.parse(a??""),c=i==="*"?s.multiply(o):s.divide(o);if(c.isNaN())return Xu;e=e.replace(wF,c.toString())}for(;e.includes("+")||/.-\d+(?:\.\d+)?/.test(e);){var d,[,f,p,g]=(d=_F.exec(e))!==null&&d!==void 0?d:[],b=Kr.parse(f??""),w=Kr.parse(g??""),_=p==="+"?b.add(w):b.subtract(w);if(_.isNaN())return Xu;e=e.replace(_F,_.toString())}return e}var EF=/\(([^()]*)\)/;function CCe(t){for(var e=t,r;(r=EF.exec(e))!=null;){var[,n]=r;e=e.replace(EF,aX(n))}return e}function NCe(t){var e=t.replace(/\s+/g,"");return e=CCe(e),e=aX(e),e}function RCe(t){try{return NCe(t)}catch{return Xu}}function bA(t){var e=RCe(t.slice(5,-1));return e===Xu?"":e}var OCe=["x","y","lineHeight","capHeight","fill","scaleToFit","textAnchor","verticalAnchor"],jCe=["dx","dy","angle","className","breakAll"];function kI(){return kI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},kI.apply(null,arguments)}function SF(t,e){if(t==null)return{};var r,n,i=DCe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function DCe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var sX=/[ \f\n\r\t\v\u2028\u2029]+/,oX=t=>{var{children:e,breakAll:r,style:n}=t;try{var i=[];gn(e)||(r?i=e.toString().split(""):i=e.toString().split(sX));var a=i.map(o=>({word:o,width:Jh(o,n).width})),s=r?0:Jh("",n).width;return{wordsWithComputedWidth:a,spaceWidth:s}}catch{return null}};function MCe(t){return t==="start"||t==="middle"||t==="end"||t==="inherit"}var lX=(t,e,r,n)=>t.reduce((i,a)=>{var{word:s,width:o}=a,c=i[i.length-1];if(c&&o!=null&&(e==null||n||c.width+o+r<Number(e)))c.words.push(s),c.width+=o+r;else{var d={words:[s],width:o};i.push(d)}return i},[]),cX=t=>t.reduce((e,r)=>e.width>r.width?e:r),LCe="",TF=(t,e,r,n,i,a,s,o)=>{var c=t.slice(0,e),d=oX({breakAll:r,style:n,children:c+LCe});if(!d)return[!1,[]];var f=lX(d.wordsWithComputedWidth,a,s,o),p=f.length>i||cX(f).width>Number(a);return[p,f]},FCe=(t,e,r,n,i)=>{var{maxLines:a,children:s,style:o,breakAll:c}=t,d=Ne(a),f=String(s),p=lX(e,n,r,i);if(!d||i)return p;var g=p.length>a||cX(p).width>Number(n);if(!g)return p;for(var b=0,w=f.length-1,_=0,x;b<=w&&_<=f.length-1;){var T=Math.floor((b+w)/2),I=T-1,[P,j]=TF(f,I,c,o,a,n,r,i),[O]=TF(f,T,c,o,a,n,r,i);if(!P&&!O&&(b=T+1),P&&O&&(w=T-1),!P&&O){x=j;break}_++}return x||p},AF=t=>{var e=gn(t)?[]:t.toString().split(sX);return[{words:e,width:void 0}]},$Ce=t=>{var{width:e,scaleToFit:r,children:n,style:i,breakAll:a,maxLines:s}=t;if((e||r)&&!bm.isSsr){var o,c,d=oX({breakAll:a,children:n,style:i});if(d){var{wordsWithComputedWidth:f,spaceWidth:p}=d;o=f,c=p}else return AF(n);return FCe({breakAll:a,children:n,maxLines:s,style:i},o,c,e,!!r)}return AF(n)},uX="#808080",VCe={angle:0,breakAll:!1,capHeight:"0.71em",fill:uX,lineHeight:"1em",scaleToFit:!1,textAnchor:"start",verticalAnchor:"end",x:0,y:0},SR=E.forwardRef((t,e)=>{var r=In(t,VCe),{x:n,y:i,lineHeight:a,capHeight:s,fill:o,scaleToFit:c,textAnchor:d,verticalAnchor:f}=r,p=SF(r,OCe),g=E.useMemo(()=>$Ce({breakAll:p.breakAll,children:p.children,maxLines:p.maxLines,scaleToFit:c,style:p.style,width:p.width}),[p.breakAll,p.children,p.maxLines,c,p.style,p.width]),{dx:b,dy:w,angle:_,className:x,breakAll:T}=p,I=SF(p,jCe);if(!os(n)||!os(i)||g.length===0)return null;var P=Number(n)+(Ne(b)?b:0),j=Number(i)+(Ne(w)?w:0);if(!lt(P)||!lt(j))return null;var O;switch(f){case"start":O=bA("calc(".concat(s,")"));break;case"middle":O=bA("calc(".concat((g.length-1)/2," * -").concat(a," + (").concat(s," / 2))"));break;default:O=bA("calc(".concat(g.length-1," * -").concat(a,")"));break}var V=[],C=g[0];if(c&&C!=null){var N=C.width,{width:M}=p;V.push("scale(".concat(Ne(M)&&Ne(N)?M/N:1,")"))}return _&&V.push("rotate(".concat(_,", ").concat(P,", ").concat(j,")")),V.length&&(I.transform=V.join(" ")),E.createElement("text",kI({},fi(I),{ref:e,x:P,y:j,className:kt("recharts-text",x),textAnchor:d,fill:o.includes("url")?uX:o}),g.map((F,D)=>{var U=F.words.join(T?"":" ");return E.createElement("tspan",{x:P,dy:D===0?O:a,key:"".concat(U,"-").concat(D)},U)}))});SR.displayName="Text";function kF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Fa(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?kF(Object(r),!0).forEach(function(n){UCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):kF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function UCe(t,e,r){return(e=qCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function qCe(t){var e=zCe(t,"string");return typeof e=="symbol"?e:e+""}function zCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var BCe=t=>{var{viewBox:e,position:r,offset:n=0,parentViewBox:i}=t,{x:a,y:s,height:o,upperWidth:c,lowerWidth:d}=zN(e),f=a,p=a+(c-d)/2,g=(f+p)/2,b=(c+d)/2,w=f+c/2,_=o>=0?1:-1,x=_*n,T=_>0?"end":"start",I=_>0?"start":"end",P=c>=0?1:-1,j=P*n,O=P>0?"end":"start",V=P>0?"start":"end",C=i;if(r==="top"){var N={x:f+c/2,y:s-x,horizontalAnchor:"middle",verticalAnchor:T};return C&&(N.height=Math.max(s-C.y,0),N.width=c),N}if(r==="bottom"){var M={x:p+d/2,y:s+o+x,horizontalAnchor:"middle",verticalAnchor:I};return C&&(M.height=Math.max(C.y+C.height-(s+o),0),M.width=d),M}if(r==="left"){var F={x:g-j,y:s+o/2,horizontalAnchor:O,verticalAnchor:"middle"};return C&&(F.width=Math.max(F.x-C.x,0),F.height=o),F}if(r==="right"){var D={x:g+b+j,y:s+o/2,horizontalAnchor:V,verticalAnchor:"middle"};return C&&(D.width=Math.max(C.x+C.width-D.x,0),D.height=o),D}var U=C?{width:b,height:o}:{};return r==="insideLeft"?Fa({x:g+j,y:s+o/2,horizontalAnchor:V,verticalAnchor:"middle"},U):r==="insideRight"?Fa({x:g+b-j,y:s+o/2,horizontalAnchor:O,verticalAnchor:"middle"},U):r==="insideTop"?Fa({x:f+c/2,y:s+x,horizontalAnchor:"middle",verticalAnchor:I},U):r==="insideBottom"?Fa({x:p+d/2,y:s+o-x,horizontalAnchor:"middle",verticalAnchor:T},U):r==="insideTopLeft"?Fa({x:f+j,y:s+x,horizontalAnchor:V,verticalAnchor:I},U):r==="insideTopRight"?Fa({x:f+c-j,y:s+x,horizontalAnchor:O,verticalAnchor:I},U):r==="insideBottomLeft"?Fa({x:p+j,y:s+o-x,horizontalAnchor:V,verticalAnchor:T},U):r==="insideBottomRight"?Fa({x:p+d-j,y:s+o-x,horizontalAnchor:O,verticalAnchor:T},U):r&&typeof r=="object"&&(Ne(r.x)||Mc(r.x))&&(Ne(r.y)||Mc(r.y))?Fa({x:a+fl(r.x,b),y:s+fl(r.y,o),horizontalAnchor:"end",verticalAnchor:"end"},U):Fa({x:w,y:s+o/2,horizontalAnchor:"middle",verticalAnchor:"middle"},U)},WCe=["labelRef"],HCe=["content"];function IF(t,e){if(t==null)return{};var r,n,i=GCe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function GCe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function PF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Lh(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?PF(Object(r),!0).forEach(function(n){KCe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):PF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function KCe(t,e,r){return(e=YCe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function YCe(t){var e=XCe(t,"string");return typeof e=="symbol"?e:e+""}function XCe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Ds(){return Ds=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Ds.apply(null,arguments)}var dX=E.createContext(null),QCe=t=>{var{x:e,y:r,upperWidth:n,lowerWidth:i,width:a,height:s,children:o}=t,c=E.useMemo(()=>({x:e,y:r,upperWidth:n,lowerWidth:i,width:a,height:s}),[e,r,n,i,a,s]);return E.createElement(dX.Provider,{value:c},o)},fX=()=>{var t=E.useContext(dX),e=Dx();return t||(e?zN(e):void 0)},JCe=E.createContext(null),ZCe=()=>{var t=E.useContext(JCe),e=$e(qK);return t||e},eNe=t=>{var{value:e,formatter:r}=t,n=gn(t.children)?e:t.children;return typeof r=="function"?r(n):n},TR=t=>t!=null&&typeof t=="function",tNe=(t,e)=>{var r=Oi(e-t),n=Math.min(Math.abs(e-t),360);return r*n},rNe=(t,e,r,n,i)=>{var{offset:a,className:s}=t,{cx:o,cy:c,innerRadius:d,outerRadius:f,startAngle:p,endAngle:g,clockWise:b}=i,w=(d+f)/2,_=tNe(p,g),x=_>=0?1:-1,T,I;switch(e){case"insideStart":T=p+x*a,I=b;break;case"insideEnd":T=g-x*a,I=!b;break;case"end":T=g+x*a,I=b;break;default:throw new Error("Unsupported position ".concat(e))}I=_<=0?I:!I;var P=Qr(o,c,w,T),j=Qr(o,c,w,T+(I?1:-1)*359),O="M".concat(P.x,",").concat(P.y,`
    A`).concat(w,",").concat(w,",0,1,").concat(I?0:1,`,
    `).concat(j.x,",").concat(j.y),V=gn(t.id)?kp("recharts-radial-line-"):t.id;return E.createElement("text",Ds({},n,{dominantBaseline:"central",className:kt("recharts-radial-bar-label",s)}),E.createElement("defs",null,E.createElement("path",{id:V,d:O})),E.createElement("textPath",{xlinkHref:"#".concat(V)},r))},nNe=(t,e,r)=>{var{cx:n,cy:i,innerRadius:a,outerRadius:s,startAngle:o,endAngle:c}=t,d=(o+c)/2;if(r==="outside"){var{x:f,y:p}=Qr(n,i,s+e,d);return{x:f,y:p,textAnchor:f>=n?"start":"end",verticalAnchor:"middle"}}if(r==="center")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"middle"};if(r==="centerTop")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"start"};if(r==="centerBottom")return{x:n,y:i,textAnchor:"middle",verticalAnchor:"end"};var g=(a+s)/2,{x:b,y:w}=Qr(n,i,g,d);return{x:b,y:w,textAnchor:"middle",verticalAnchor:"middle"}},G0=t=>t!=null&&"cx"in t&&Ne(t.cx),iNe={angle:0,offset:5,zIndex:En.label,position:"middle",textBreakAll:!1};function aNe(t){if(!G0(t))return t;var{cx:e,cy:r,outerRadius:n}=t,i=n*2;return{x:e-n,y:r-n,width:i,upperWidth:i,lowerWidth:i,height:i}}function qo(t){var e=In(t,iNe),{viewBox:r,parentViewBox:n,position:i,value:a,children:s,content:o,className:c="",textBreakAll:d,labelRef:f}=e,p=ZCe(),g=fX(),b=i==="center"?g:p??g,w,_,x;r==null?w=b:G0(r)?w=r:w=zN(r);var T=aNe(w);if(!w||gn(a)&&gn(s)&&!E.isValidElement(o)&&typeof o!="function")return null;var I=Lh(Lh({},e),{},{viewBox:w});if(E.isValidElement(o)){var{labelRef:P}=I,j=IF(I,WCe);return E.cloneElement(o,j)}if(typeof o=="function"){var{content:O}=I,V=IF(I,HCe);if(_=E.createElement(o,V),E.isValidElement(_))return _}else _=eNe(e);var C=fi(e);if(G0(w)){if(i==="insideStart"||i==="insideEnd"||i==="end")return rNe(e,i,_,C,w);x=nNe(w,e.offset,e.position)}else{if(!T)return null;var N=BCe({viewBox:T,position:i,offset:e.offset,parentViewBox:G0(n)?void 0:n});x=Lh(Lh({x:N.x,y:N.y,textAnchor:N.horizontalAnchor,verticalAnchor:N.verticalAnchor},N.width!==void 0?{width:N.width}:{}),N.height!==void 0?{height:N.height}:{})}return E.createElement(ho,{zIndex:e.zIndex},E.createElement(SR,Ds({ref:f,className:kt("recharts-label",c)},C,x,{textAnchor:MCe(C.textAnchor)?C.textAnchor:x.textAnchor,breakAll:d}),_))}qo.displayName="Label";var sNe=(t,e,r)=>{if(!t)return null;var n={viewBox:e,labelRef:r};return t===!0?E.createElement(qo,Ds({key:"label-implicit"},n)):os(t)?E.createElement(qo,Ds({key:"label-implicit",value:t},n)):E.isValidElement(t)?t.type===qo?E.cloneElement(t,Lh({key:"label-implicit"},n)):E.createElement(qo,Ds({key:"label-implicit",content:t},n)):TR(t)?E.createElement(qo,Ds({key:"label-implicit",content:t},n)):t&&typeof t=="object"?E.createElement(qo,Ds({},t,{key:"label-implicit"},n)):null};function oNe(t){var{label:e,labelRef:r}=t,n=fX();return sNe(e,n,r)||null}var xA={},wA={},CF;function lNe(){return CF||(CF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return r[r.length-1]}t.last=e})(wA)),wA}var _A={},NF;function cNe(){return NF||(NF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});function e(r){return Array.isArray(r)?r:Array.from(r)}t.toArray=e})(_A)),_A}var RF;function uNe(){return RF||(RF=1,(function(t){Object.defineProperty(t,Symbol.toStringTag,{value:"Module"});const e=lNe(),r=cNe(),n=ON();function i(a){if(n.isArrayLike(a))return e.last(r.toArray(a))}t.last=i})(xA)),xA}var EA,OF;function dNe(){return OF||(OF=1,EA=uNe().last),EA}var fNe=dNe();const hNe=Qt(fNe);var pNe=["valueAccessor"],mNe=["dataKey","clockWise","id","textBreakAll","zIndex"];function pv(){return pv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pv.apply(null,arguments)}function jF(t,e){if(t==null)return{};var r,n,i=gNe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function gNe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var yNe=t=>Array.isArray(t.value)?hNe(t.value):t.value,hX=E.createContext(void 0),vNe=hX.Provider,pX=E.createContext(void 0);pX.Provider;function bNe(){return E.useContext(hX)}function xNe(){return E.useContext(pX)}function K0(t){var{valueAccessor:e=yNe}=t,r=jF(t,pNe),{dataKey:n,clockWise:i,id:a,textBreakAll:s,zIndex:o}=r,c=jF(r,mNe),d=bNe(),f=xNe(),p=d||f;return!p||!p.length?null:E.createElement(ho,{zIndex:o??En.label},E.createElement(as,{className:"recharts-label-list"},p.map((g,b)=>{var w,_=gn(n)?e(g,b):Jr(g.payload,n),x=gn(a)?{}:{id:"".concat(a,"-").concat(b)};return E.createElement(qo,pv({key:"label-".concat(b)},fi(g),c,x,{fill:(w=r.fill)!==null&&w!==void 0?w:g.fill,parentViewBox:g.parentViewBox,value:_,textBreakAll:s,viewBox:g.viewBox,index:b,zIndex:0}))})))}K0.displayName="LabelList";function wNe(t){var{label:e}=t;return e?e===!0?E.createElement(K0,{key:"labelList-implicit"}):E.isValidElement(e)||TR(e)?E.createElement(K0,{key:"labelList-implicit",content:e}):typeof e=="object"?E.createElement(K0,pv({key:"labelList-implicit"},e,{type:String(e.type)})):null:null}function II(){return II=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},II.apply(null,arguments)}var mX=t=>{var{cx:e,cy:r,r:n,className:i}=t,a=kt("recharts-dot",i);return Ne(e)&&Ne(r)&&Ne(n)?E.createElement("circle",II({},ua(t),RN(t),{className:a,cx:e,cy:r,r:n})):null},_Ne={radiusAxis:{},angleAxis:{}},gX=Bn({name:"polarAxis",initialState:_Ne,reducers:{addRadiusAxis(t,e){t.radiusAxis[e.payload.id]=e.payload},removeRadiusAxis(t,e){delete t.radiusAxis[e.payload.id]},addAngleAxis(t,e){t.angleAxis[e.payload.id]=e.payload},removeAngleAxis(t,e){delete t.angleAxis[e.payload.id]}}}),{addRadiusAxis:W5e,removeRadiusAxis:H5e,addAngleAxis:G5e,removeAngleAxis:K5e}=gX.actions,ENe=gX.reducer;function SNe(t){return t&&typeof t=="object"&&"className"in t&&typeof t.className=="string"?t.className:""}var SA={exports:{}},xt={};var DF;function TNe(){if(DF)return xt;DF=1;var t=typeof Symbol=="function"&&Symbol.for,e=t?Symbol.for("react.element"):60103,r=t?Symbol.for("react.portal"):60106,n=t?Symbol.for("react.fragment"):60107,i=t?Symbol.for("react.strict_mode"):60108,a=t?Symbol.for("react.profiler"):60114,s=t?Symbol.for("react.provider"):60109,o=t?Symbol.for("react.context"):60110,c=t?Symbol.for("react.async_mode"):60111,d=t?Symbol.for("react.concurrent_mode"):60111,f=t?Symbol.for("react.forward_ref"):60112,p=t?Symbol.for("react.suspense"):60113,g=t?Symbol.for("react.suspense_list"):60120,b=t?Symbol.for("react.memo"):60115,w=t?Symbol.for("react.lazy"):60116,_=t?Symbol.for("react.block"):60121,x=t?Symbol.for("react.fundamental"):60117,T=t?Symbol.for("react.responder"):60118,I=t?Symbol.for("react.scope"):60119;function P(O){if(typeof O=="object"&&O!==null){var V=O.$$typeof;switch(V){case e:switch(O=O.type,O){case c:case d:case n:case a:case i:case p:return O;default:switch(O=O&&O.$$typeof,O){case o:case f:case w:case b:case s:return O;default:return V}}case r:return V}}}function j(O){return P(O)===d}return xt.AsyncMode=c,xt.ConcurrentMode=d,xt.ContextConsumer=o,xt.ContextProvider=s,xt.Element=e,xt.ForwardRef=f,xt.Fragment=n,xt.Lazy=w,xt.Memo=b,xt.Portal=r,xt.Profiler=a,xt.StrictMode=i,xt.Suspense=p,xt.isAsyncMode=function(O){return j(O)||P(O)===c},xt.isConcurrentMode=j,xt.isContextConsumer=function(O){return P(O)===o},xt.isContextProvider=function(O){return P(O)===s},xt.isElement=function(O){return typeof O=="object"&&O!==null&&O.$$typeof===e},xt.isForwardRef=function(O){return P(O)===f},xt.isFragment=function(O){return P(O)===n},xt.isLazy=function(O){return P(O)===w},xt.isMemo=function(O){return P(O)===b},xt.isPortal=function(O){return P(O)===r},xt.isProfiler=function(O){return P(O)===a},xt.isStrictMode=function(O){return P(O)===i},xt.isSuspense=function(O){return P(O)===p},xt.isValidElementType=function(O){return typeof O=="string"||typeof O=="function"||O===n||O===d||O===a||O===i||O===p||O===g||typeof O=="object"&&O!==null&&(O.$$typeof===w||O.$$typeof===b||O.$$typeof===s||O.$$typeof===o||O.$$typeof===f||O.$$typeof===x||O.$$typeof===T||O.$$typeof===I||O.$$typeof===_)},xt.typeOf=P,xt}var MF;function ANe(){return MF||(MF=1,SA.exports=TNe()),SA.exports}ANe();var yX=t=>t&&typeof t=="object"&&"clipDot"in t?!!t.clipDot:!0;function kNe(t){var{tooltipEntrySettings:e}=t,r=br(),n=Wn(),i=E.useRef(null);return E.useLayoutEffect(()=>{n||(i.current===null?r(rIe(e)):i.current!==e&&r(nIe({prev:i.current,next:e})),i.current=e)},[e,r,n]),E.useLayoutEffect(()=>()=>{i.current&&(r(iIe(i.current)),i.current=null)},[r]),null}function INe(t){var{legendPayload:e}=t,r=br(),n=Wn(),i=E.useRef(null);return E.useLayoutEffect(()=>{n||(i.current===null?r(HSe(e)):i.current!==e&&r(GSe({prev:i.current,next:e})),i.current=e)},[r,n,e]),E.useLayoutEffect(()=>()=>{i.current&&(r(KSe(i.current)),i.current=null)},[r]),null}var TA,PNe=()=>{var[t]=E.useState(()=>kp("uid-"));return t},CNe=(TA=iJ.useId)!==null&&TA!==void 0?TA:PNe;function NNe(t,e){var r=CNe();return e||(t?"".concat(t,"-").concat(r):r)}var RNe=E.createContext(void 0),ONe=t=>{var{id:e,type:r,children:n}=t,i=NNe("recharts-".concat(r),e);return E.createElement(RNe.Provider,{value:i},n(i))},jNe={cartesianItems:[],polarItems:[]},vX=Bn({name:"graphicalItems",initialState:jNe,reducers:{addCartesianGraphicalItem:{reducer(t,e){t.cartesianItems.push(e.payload)},prepare:Vt()},replaceCartesianGraphicalItem:{reducer(t,e){var{prev:r,next:n}=e.payload,i=sa(t).cartesianItems.indexOf(r);i>-1&&(t.cartesianItems[i]=n)},prepare:Vt()},removeCartesianGraphicalItem:{reducer(t,e){var r=sa(t).cartesianItems.indexOf(e.payload);r>-1&&t.cartesianItems.splice(r,1)},prepare:Vt()},addPolarGraphicalItem:{reducer(t,e){t.polarItems.push(e.payload)},prepare:Vt()},removePolarGraphicalItem:{reducer(t,e){var r=sa(t).polarItems.indexOf(e.payload);r>-1&&t.polarItems.splice(r,1)},prepare:Vt()}}}),{addCartesianGraphicalItem:DNe,replaceCartesianGraphicalItem:MNe,removeCartesianGraphicalItem:LNe,addPolarGraphicalItem:Y5e,removePolarGraphicalItem:X5e}=vX.actions,FNe=vX.reducer,$Ne=t=>{var e=br(),r=E.useRef(null);return E.useLayoutEffect(()=>{r.current===null?e(DNe(t)):r.current!==t&&e(MNe({prev:r.current,next:t})),r.current=t},[e,t]),E.useLayoutEffect(()=>()=>{r.current&&(e(LNe(r.current)),r.current=null)},[e]),null},VNe=E.memo($Ne),UNe=["points"];function LF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function AA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?LF(Object(r),!0).forEach(function(n){qNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):LF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qNe(t,e,r){return(e=zNe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zNe(t){var e=BNe(t,"string");return typeof e=="symbol"?e:e+""}function BNe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mv(){return mv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mv.apply(null,arguments)}function WNe(t,e){if(t==null)return{};var r,n,i=HNe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function HNe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function GNe(t){var{option:e,dotProps:r,className:n}=t;if(E.isValidElement(e))return E.cloneElement(e,r);if(typeof e=="function")return e(r);var i=kt(n,typeof e!="boolean"?e.className:""),a=r??{},{points:s}=a,o=WNe(a,UNe);return E.createElement(mX,mv({},o,{className:i}))}function KNe(t,e){return t==null?!1:e?!0:t.length===1}function YNe(t){var{points:e,dot:r,className:n,dotClassName:i,dataKey:a,baseProps:s,needClip:o,clipPathId:c,zIndex:d=En.scatter}=t;if(!KNe(e,r))return null;var f=yX(r),p=l_e(r),g=e.map((w,_)=>{var x,T,I=AA(AA(AA({r:3},s),p),{},{index:_,cx:(x=w.x)!==null&&x!==void 0?x:void 0,cy:(T=w.y)!==null&&T!==void 0?T:void 0,dataKey:a,value:w.value,payload:w.payload,points:e});return E.createElement(GNe,{key:"dot-".concat(_),option:r,dotProps:I,className:i})}),b={};return o&&c!=null&&(b.clipPath="url(#clipPath-".concat(f?"":"dots-").concat(c,")")),E.createElement(ho,{zIndex:d},E.createElement(as,mv({className:n},b),g))}function FF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function $F(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?FF(Object(r),!0).forEach(function(n){XNe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):FF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function XNe(t,e,r){return(e=QNe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function QNe(t){var e=JNe(t,"string");return typeof e=="symbol"?e:e+""}function JNe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var bX=0,ZNe={xAxis:{},yAxis:{},zAxis:{}},xX=Bn({name:"cartesianAxis",initialState:ZNe,reducers:{addXAxis:{reducer(t,e){t.xAxis[e.payload.id]=e.payload},prepare:Vt()},replaceXAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.xAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.xAxis[r.id],t.xAxis[n.id]=n)},prepare:Vt()},removeXAxis:{reducer(t,e){delete t.xAxis[e.payload.id]},prepare:Vt()},addYAxis:{reducer(t,e){t.yAxis[e.payload.id]=e.payload},prepare:Vt()},replaceYAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.yAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.yAxis[r.id],t.yAxis[n.id]=n)},prepare:Vt()},removeYAxis:{reducer(t,e){delete t.yAxis[e.payload.id]},prepare:Vt()},addZAxis:{reducer(t,e){t.zAxis[e.payload.id]=e.payload},prepare:Vt()},replaceZAxis:{reducer(t,e){var{prev:r,next:n}=e.payload;t.zAxis[r.id]!==void 0&&(r.id!==n.id&&delete t.zAxis[r.id],t.zAxis[n.id]=n)},prepare:Vt()},removeZAxis:{reducer(t,e){delete t.zAxis[e.payload.id]},prepare:Vt()},updateYAxisWidth(t,e){var{id:r,width:n}=e.payload,i=t.yAxis[r];if(i){var a,s=i.widthHistory||[];if(s.length===3&&s[0]===s[2]&&n===s[1]&&n!==i.width&&Math.abs(n-((a=s[0])!==null&&a!==void 0?a:0))<=1)return;var o=[...s,n].slice(-3);t.yAxis[r]=$F($F({},i),{},{width:n,widthHistory:o})}}}}),{addXAxis:eRe,replaceXAxis:tRe,removeXAxis:rRe,addYAxis:nRe,replaceYAxis:iRe,removeYAxis:aRe,addZAxis:Q5e,replaceZAxis:J5e,removeZAxis:Z5e,updateYAxisWidth:sRe}=xX.actions,oRe=xX.reducer,lRe=le([en],t=>({top:t.top,bottom:t.bottom,left:t.left,right:t.right})),cRe=le([lRe,so,oo],(t,e,r)=>{if(!(!t||e==null||r==null))return{x:t.left,y:t.top,width:Math.max(0,e-t.left-t.right),height:Math.max(0,r-t.top-t.bottom)}}),AR=()=>$e(cRe),uRe=()=>$e(XIe);function VF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function kA(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?VF(Object(r),!0).forEach(function(n){dRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):VF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dRe(t,e,r){return(e=fRe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fRe(t){var e=hRe(t,"string");return typeof e=="symbol"?e:e+""}function hRe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var pRe=t=>{var{point:e,childIndex:r,mainColor:n,activeDot:i,dataKey:a,clipPath:s}=t;if(i===!1||e.x==null||e.y==null)return null;var o={index:r,dataKey:a,cx:e.x,cy:e.y,r:4,fill:n??"none",strokeWidth:2,stroke:"#fff",payload:e.payload,value:e.value},c=kA(kA(kA({},o),vx(i)),RN(i)),d;return E.isValidElement(i)?d=E.cloneElement(i,c):typeof i=="function"?d=i(c):d=E.createElement(mX,c),E.createElement(as,{className:"recharts-active-dot",clipPath:s},d)};function UF(t){var{points:e,mainColor:r,activeDot:n,itemDataKey:i,clipPath:a,zIndex:s=En.activeDot}=t,o=$e(Mp),c=uRe();if(e==null||c==null)return null;var d=e.find(f=>c.includes(f.payload));return gn(d)?null:E.createElement(ho,{zIndex:s},E.createElement(pRe,{point:d,childIndex:Number(o),mainColor:r,dataKey:i,activeDot:n,clipPath:a}))}var mRe=t=>{var{chartData:e}=t,r=br(),n=Wn();return E.useEffect(()=>n?()=>{}:(r(fF(e)),()=>{r(fF(void 0))}),[e,r,n]),null},qF={x:0,y:0,width:0,height:0,padding:{top:0,right:0,bottom:0,left:0}},wX=Bn({name:"brush",initialState:qF,reducers:{setBrushSettings(t,e){return e.payload==null?qF:e.payload}}}),{setBrushSettings:e3e}=wX.actions,gRe=wX.reducer;function yRe(t){return(t%180+180)%180}var vRe=function(e){var{width:r,height:n}=e,i=arguments.length>1&&arguments[1]!==void 0?arguments[1]:0,a=yRe(i),s=a*Math.PI/180,o=Math.atan(n/r),c=s>o&&s<Math.PI-o?n/Math.sin(s):r/Math.cos(s);return Math.abs(c)},bRe={dots:[],areas:[],lines:[]},_X=Bn({name:"referenceElements",initialState:bRe,reducers:{addDot:(t,e)=>{t.dots.push(e.payload)},removeDot:(t,e)=>{var r=sa(t).dots.findIndex(n=>n===e.payload);r!==-1&&t.dots.splice(r,1)},addArea:(t,e)=>{t.areas.push(e.payload)},removeArea:(t,e)=>{var r=sa(t).areas.findIndex(n=>n===e.payload);r!==-1&&t.areas.splice(r,1)},addLine:(t,e)=>{t.lines.push(e.payload)},removeLine:(t,e)=>{var r=sa(t).lines.findIndex(n=>n===e.payload);r!==-1&&t.lines.splice(r,1)}}}),{addDot:t3e,removeDot:r3e,addArea:n3e,removeArea:i3e,addLine:a3e,removeLine:s3e}=_X.actions,xRe=_X.reducer,wRe=E.createContext(void 0),_Re=t=>{var{children:e}=t,[r]=E.useState("".concat(kp("recharts"),"-clip")),n=AR();if(n==null)return null;var{x:i,y:a,width:s,height:o}=n;return E.createElement(wRe.Provider,{value:r},E.createElement("defs",null,E.createElement("clipPath",{id:r},E.createElement("rect",{x:i,y:a,height:o,width:s}))),e)};function EX(t,e){if(e<1)return[];if(e===1)return t;for(var r=[],n=0;n<t.length;n+=e){var i=t[n];i!==void 0&&r.push(i)}return r}function ERe(t,e,r){var n={width:t.width+e.width,height:t.height+e.height};return vRe(n,r)}function SRe(t,e,r){var n=r==="width",{x:i,y:a,width:s,height:o}=t;return e===1?{start:n?i:a,end:n?i+s:a+o}:{start:n?i+s:a+o,end:n?i:a}}function Fp(t,e,r,n,i){if(t*e<t*n||t*e>t*i)return!1;var a=r();return t*(e-t*a/2-n)>=0&&t*(e+t*a/2-i)<=0}function TRe(t,e){return EX(t,e+1)}function ARe(t,e,r,n,i){for(var a=(n||[]).slice(),{start:s,end:o}=e,c=0,d=1,f=s,p=function(){var w=n?.[c];if(w===void 0)return{v:EX(n,d)};var _=c,x,T=()=>(x===void 0&&(x=r(w,_)),x),I=w.coordinate,P=c===0||Fp(t,I,T,f,o);P||(c=0,f=s,d+=1),P&&(f=I+t*(T()/2+i),c+=d)},g;d<=a.length;)if(g=p(),g)return g.v;return[]}function kRe(t,e,r,n,i){var a=(n||[]).slice(),s=a.length;if(s===0)return[];for(var{start:o,end:c}=e,d=1;d<=s;d++){for(var f=(s-1)%d,p=o,g=!0,b=function(){var j=n[_];if(j==null)return 0;var O=_,V,C=()=>(V===void 0&&(V=r(j,O)),V),N=j.coordinate,M=_===f||Fp(t,N,C,p,c);if(!M)return g=!1,1;M&&(p=N+t*(C()/2+i))},w,_=f;_<s&&(w=b(),!(w!==0&&w===1));_+=d);if(g){for(var x=[],T=f;T<s;T+=d){var I=n[T];I!=null&&x.push(I)}return x}}return[]}function zF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function cn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?zF(Object(r),!0).forEach(function(n){IRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):zF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function IRe(t,e,r){return(e=PRe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function PRe(t){var e=CRe(t,"string");return typeof e=="symbol"?e:e+""}function CRe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function NRe(t,e,r,n,i){for(var a=(n||[]).slice(),s=a.length,{start:o}=e,{end:c}=e,d=function(g){var b=a[g];if(b==null)return 1;var w=b,_,x=()=>(_===void 0&&(_=r(b,g)),_);if(g===s-1){var T=t*(w.coordinate+t*x()/2-c);a[g]=w=cn(cn({},w),{},{tickCoord:T>0?w.coordinate-T*t:w.coordinate})}else a[g]=w=cn(cn({},w),{},{tickCoord:w.coordinate});if(w.tickCoord!=null){var I=Fp(t,w.tickCoord,x,o,c);I&&(c=w.tickCoord-t*(x()/2+i),a[g]=cn(cn({},w),{},{isShow:!0}))}},f=s-1;f>=0;f--)d(f);return a}function RRe(t,e,r,n,i,a){var s=(n||[]).slice(),o=s.length,{start:c,end:d}=e;if(a){var f=n[o-1];if(f!=null){var p=r(f,o-1),g=t*(f.coordinate+t*p/2-d);if(s[o-1]=f=cn(cn({},f),{},{tickCoord:g>0?f.coordinate-g*t:f.coordinate}),f.tickCoord!=null){var b=Fp(t,f.tickCoord,()=>p,c,d);b&&(d=f.tickCoord-t*(p/2+i),s[o-1]=cn(cn({},f),{},{isShow:!0}))}}}for(var w=a?o-1:o,_=function(I){var P=s[I];if(P==null)return 1;var j=P,O,V=()=>(O===void 0&&(O=r(P,I)),O);if(I===0){var C=t*(j.coordinate-t*V()/2-c);s[I]=j=cn(cn({},j),{},{tickCoord:C<0?j.coordinate-C*t:j.coordinate})}else s[I]=j=cn(cn({},j),{},{tickCoord:j.coordinate});if(j.tickCoord!=null){var N=Fp(t,j.tickCoord,V,c,d);N&&(c=j.tickCoord+t*(V()/2+i),s[I]=cn(cn({},j),{},{isShow:!0}))}},x=0;x<w;x++)_(x);return s}function kR(t,e,r){var{tick:n,ticks:i,viewBox:a,minTickGap:s,orientation:o,interval:c,tickFormatter:d,unit:f,angle:p}=t;if(!i||!i.length||!n)return[];if(Ne(c)||bm.isSsr){var g;return(g=TRe(i,Ne(c)?c:0))!==null&&g!==void 0?g:[]}var b=[],w=o==="top"||o==="bottom"?"width":"height",_=f&&w==="width"?Jh(f,{fontSize:e,letterSpacing:r}):{width:0,height:0},x=(O,V)=>{var C=typeof d=="function"?d(O.value,V):O.value;return w==="width"?ERe(Jh(C,{fontSize:e,letterSpacing:r}),_,p):Jh(C,{fontSize:e,letterSpacing:r})[w]},T=i[0],I=i[1],P=i.length>=2&&T!=null&&I!=null?Oi(I.coordinate-T.coordinate):1,j=SRe(a,P,w);return c==="equidistantPreserveStart"?ARe(P,j,x,i,s):c==="equidistantPreserveEnd"?kRe(P,j,x,i,s):(c==="preserveStart"||c==="preserveStartEnd"?b=RRe(P,j,x,i,s,c==="preserveStartEnd"):b=NRe(P,j,x,i,s),b.filter(O=>O.isShow))}var ORe=t=>{var{ticks:e,label:r,labelGapWithTick:n=5,tickSize:i=0,tickMargin:a=0}=t,s=0;if(e){Array.from(e).forEach(f=>{if(f){var p=f.getBoundingClientRect();p.width>s&&(s=p.width)}});var o=r?r.getBoundingClientRect().width:0,c=i+a,d=s+c+o+(r?n:0);return Math.round(d)}return 0},jRe=["axisLine","width","height","className","hide","ticks","axisType"];function DRe(t,e){if(t==null)return{};var r,n,i=MRe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function MRe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Uc(){return Uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uc.apply(null,arguments)}function BF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function er(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?BF(Object(r),!0).forEach(function(n){LRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):BF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function LRe(t,e,r){return(e=FRe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function FRe(t){var e=$Re(t,"string");return typeof e=="symbol"?e:e+""}function $Re(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}var zs={x:0,y:0,width:0,height:0,viewBox:{x:0,y:0,width:0,height:0},orientation:"bottom",ticks:[],stroke:"#666",tickLine:!0,axisLine:!0,tick:!0,mirror:!1,minTickGap:5,tickSize:6,tickMargin:2,interval:"preserveEnd",zIndex:En.axis};function VRe(t){var{x:e,y:r,width:n,height:i,orientation:a,mirror:s,axisLine:o,otherSvgProps:c}=t;if(!o)return null;var d=er(er(er({},c),ua(o)),{},{fill:"none"});if(a==="top"||a==="bottom"){var f=+(a==="top"&&!s||a==="bottom"&&s);d=er(er({},d),{},{x1:e,y1:r+f*i,x2:e+n,y2:r+f*i})}else{var p=+(a==="left"&&!s||a==="right"&&s);d=er(er({},d),{},{x1:e+p*n,y1:r,x2:e+p*n,y2:r+i})}return E.createElement("line",Uc({},d,{className:kt("recharts-cartesian-axis-line",bx(o,"className"))}))}function URe(t,e,r,n,i,a,s,o,c){var d,f,p,g,b,w,_=o?-1:1,x=t.tickSize||s,T=Ne(t.tickCoord)?t.tickCoord:t.coordinate;switch(a){case"top":d=f=t.coordinate,g=r+ +!o*i,p=g-_*x,w=p-_*c,b=T;break;case"left":p=g=t.coordinate,f=e+ +!o*n,d=f-_*x,b=d-_*c,w=T;break;case"right":p=g=t.coordinate,f=e+ +o*n,d=f+_*x,b=d+_*c,w=T;break;default:d=f=t.coordinate,g=r+ +o*i,p=g+_*x,w=p+_*c,b=T;break}return{line:{x1:d,y1:p,x2:f,y2:g},tick:{x:b,y:w}}}function qRe(t,e){switch(t){case"left":return e?"start":"end";case"right":return e?"end":"start";default:return"middle"}}function zRe(t,e){switch(t){case"left":case"right":return"middle";case"top":return e?"start":"end";default:return e?"end":"start"}}function BRe(t){var{option:e,tickProps:r,value:n}=t,i,a=kt(r.className,"recharts-cartesian-axis-tick-value");if(E.isValidElement(e))i=E.cloneElement(e,er(er({},r),{},{className:a}));else if(typeof e=="function")i=e(er(er({},r),{},{className:a}));else{var s="recharts-cartesian-axis-tick-value";typeof e!="boolean"&&(s=kt(s,SNe(e))),i=E.createElement(SR,Uc({},r,{className:s}),n)}return i}var WRe=E.forwardRef((t,e)=>{var{ticks:r=[],tick:n,tickLine:i,stroke:a,tickFormatter:s,unit:o,padding:c,tickTextProps:d,orientation:f,mirror:p,x:g,y:b,width:w,height:_,tickSize:x,tickMargin:T,fontSize:I,letterSpacing:P,getTicksConfig:j,events:O,axisType:V}=t,C=kR(er(er({},j),{},{ticks:r}),I,P),N=qRe(f,p),M=zRe(f,p),F=ua(j),D=vx(n),U={};typeof i=="object"&&(U=i);var $=er(er({},F),{},{fill:"none"},U),G=C.map(se=>er({entry:se},URe(se,g,b,w,_,f,x,p,T))),ue=G.map(se=>{var{entry:Q,line:X}=se;return E.createElement(as,{className:"recharts-cartesian-axis-tick",key:"tick-".concat(Q.value,"-").concat(Q.coordinate,"-").concat(Q.tickCoord)},i&&E.createElement("line",Uc({},$,X,{className:kt("recharts-cartesian-axis-tick-line",bx(i,"className"))})))}),ce=G.map((se,Q)=>{var X,ie,{entry:B,tick:Z}=se,_e=er(er(er(er({verticalAnchor:M},F),{},{textAnchor:N,stroke:"none",fill:a},Z),{},{index:Q,payload:B,visibleTicksCount:C.length,tickFormatter:s,padding:c},d),{},{angle:(X=(ie=d?.angle)!==null&&ie!==void 0?ie:F.angle)!==null&&X!==void 0?X:0}),oe=er(er({},_e),D);return E.createElement(as,Uc({className:"recharts-cartesian-axis-tick-label",key:"tick-label-".concat(B.value,"-").concat(B.coordinate,"-").concat(B.tickCoord)},aG(O,B,Q)),n&&E.createElement(BRe,{option:n,tickProps:oe,value:"".concat(typeof s=="function"?s(B.value,Q):B.value).concat(o||"")}))});return E.createElement("g",{className:"recharts-cartesian-axis-ticks recharts-".concat(V,"-ticks")},ce.length>0&&E.createElement(ho,{zIndex:En.label},E.createElement("g",{className:"recharts-cartesian-axis-tick-labels recharts-".concat(V,"-tick-labels"),ref:e},ce)),ue.length>0&&E.createElement("g",{className:"recharts-cartesian-axis-tick-lines recharts-".concat(V,"-tick-lines")},ue))}),HRe=E.forwardRef((t,e)=>{var{axisLine:r,width:n,height:i,className:a,hide:s,ticks:o,axisType:c}=t,d=DRe(t,jRe),[f,p]=E.useState(""),[g,b]=E.useState(""),w=E.useRef(null);E.useImperativeHandle(e,()=>({getCalculatedWidth:()=>{var x;return ORe({ticks:w.current,label:(x=t.labelRef)===null||x===void 0?void 0:x.current,labelGapWithTick:5,tickSize:t.tickSize,tickMargin:t.tickMargin})}}));var _=E.useCallback(x=>{if(x){var T=x.getElementsByClassName("recharts-cartesian-axis-tick-value");w.current=T;var I=T[0];if(I){var P=window.getComputedStyle(I),j=P.fontSize,O=P.letterSpacing;(j!==f||O!==g)&&(p(j),b(O))}}},[f,g]);return s||n!=null&&n<=0||i!=null&&i<=0?null:E.createElement(ho,{zIndex:t.zIndex},E.createElement(as,{className:kt("recharts-cartesian-axis",a)},E.createElement(VRe,{x:t.x,y:t.y,width:n,height:i,orientation:t.orientation,mirror:t.mirror,axisLine:r,otherSvgProps:ua(t)}),E.createElement(WRe,{ref:_,axisType:c,events:d,fontSize:f,getTicksConfig:t,height:t.height,letterSpacing:g,mirror:t.mirror,orientation:t.orientation,padding:t.padding,stroke:t.stroke,tick:t.tick,tickFormatter:t.tickFormatter,tickLine:t.tickLine,tickMargin:t.tickMargin,tickSize:t.tickSize,tickTextProps:t.tickTextProps,ticks:o,unit:t.unit,width:t.width,x:t.x,y:t.y}),E.createElement(QCe,{x:t.x,y:t.y,width:t.width,height:t.height,lowerWidth:t.width,upperWidth:t.width},E.createElement(oNe,{label:t.label,labelRef:t.labelRef}),t.children)))}),IR=E.forwardRef((t,e)=>{var r=In(t,zs);return E.createElement(HRe,Uc({},r,{ref:e}))});IR.displayName="CartesianAxis";var GRe=["x1","y1","x2","y2","key"],KRe=["offset"],YRe=["xAxisId","yAxisId"],XRe=["xAxisId","yAxisId"];function WF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function fn(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?WF(Object(r),!0).forEach(function(n){QRe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):WF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function QRe(t,e,r){return(e=JRe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function JRe(t){var e=ZRe(t,"string");return typeof e=="symbol"?e:e+""}function ZRe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dc(){return dc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},dc.apply(null,arguments)}function gv(t,e){if(t==null)return{};var r,n,i=eOe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function eOe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var tOe=t=>{var{fill:e}=t;if(!e||e==="none")return null;var{fillOpacity:r,x:n,y:i,width:a,height:s,ry:o}=t;return E.createElement("rect",{x:n,y:i,ry:o,width:a,height:s,stroke:"none",fill:e,fillOpacity:r,className:"recharts-cartesian-grid-bg"})};function SX(t){var{option:e,lineItemProps:r}=t,n;if(E.isValidElement(e))n=E.cloneElement(e,r);else if(typeof e=="function")n=e(r);else{var i,{x1:a,y1:s,x2:o,y2:c,key:d}=r,f=gv(r,GRe),p=(i=ua(f))!==null&&i!==void 0?i:{},{offset:g}=p,b=gv(p,KRe);n=E.createElement("line",dc({},b,{x1:a,y1:s,x2:o,y2:c,fill:"none",key:d}))}return n}function rOe(t){var{x:e,width:r,horizontal:n=!0,horizontalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=gv(t,YRe),c=i.map((d,f)=>{var p=fn(fn({},o),{},{x1:e,y1:d,x2:e+r,y2:d,key:"line-".concat(f),index:f});return E.createElement(SX,{key:"line-".concat(f),option:n,lineItemProps:p})});return E.createElement("g",{className:"recharts-cartesian-grid-horizontal"},c)}function nOe(t){var{y:e,height:r,vertical:n=!0,verticalPoints:i}=t;if(!n||!i||!i.length)return null;var{xAxisId:a,yAxisId:s}=t,o=gv(t,XRe),c=i.map((d,f)=>{var p=fn(fn({},o),{},{x1:d,y1:e,x2:d,y2:e+r,key:"line-".concat(f),index:f});return E.createElement(SX,{option:n,lineItemProps:p,key:"line-".concat(f)})});return E.createElement("g",{className:"recharts-cartesian-grid-vertical"},c)}function iOe(t){var{horizontalFill:e,fillOpacity:r,x:n,y:i,width:a,height:s,horizontalPoints:o,horizontal:c=!0}=t;if(!c||!e||!e.length||o==null)return null;var d=o.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==d[0]&&d.unshift(0);var f=d.map((p,g)=>{var b=d[g+1],w=b==null,_=w?i+s-p:b-p;if(_<=0)return null;var x=g%e.length;return E.createElement("rect",{key:"react-".concat(g),y:p,x:n,height:_,width:a,stroke:"none",fill:e[x],fillOpacity:r,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-horizontal"},f)}function aOe(t){var{vertical:e=!0,verticalFill:r,fillOpacity:n,x:i,y:a,width:s,height:o,verticalPoints:c}=t;if(!e||!r||!r.length)return null;var d=c.map(p=>Math.round(p+i-i)).sort((p,g)=>p-g);i!==d[0]&&d.unshift(0);var f=d.map((p,g)=>{var b=d[g+1],w=b==null,_=w?i+s-p:b-p;if(_<=0)return null;var x=g%r.length;return E.createElement("rect",{key:"react-".concat(g),x:p,y:a,width:_,height:o,stroke:"none",fill:r[x],fillOpacity:n,className:"recharts-cartesian-grid-bg"})});return E.createElement("g",{className:"recharts-cartesian-gridstripes-vertical"},f)}var sOe=(t,e)=>{var{xAxis:r,width:n,height:i,offset:a}=t;return XG(kR(fn(fn(fn({},zs),r),{},{ticks:QG(r),viewBox:{x:0,y:0,width:n,height:i}})),a.left,a.left+a.width,e)},oOe=(t,e)=>{var{yAxis:r,width:n,height:i,offset:a}=t;return XG(kR(fn(fn(fn({},zs),r),{},{ticks:QG(r),viewBox:{x:0,y:0,width:n,height:i}})),a.top,a.top+a.height,e)},lOe={horizontal:!0,vertical:!0,horizontalPoints:[],verticalPoints:[],stroke:"#ccc",fill:"none",verticalFill:[],horizontalFill:[],xAxisId:0,yAxisId:0,syncWithTicks:!1,zIndex:En.grid};function Am(t){var e=BN(),r=WN(),n=iK(),i=fn(fn({},In(t,lOe)),{},{x:Ne(t.x)?t.x:n.left,y:Ne(t.y)?t.y:n.top,width:Ne(t.width)?t.width:n.width,height:Ne(t.height)?t.height:n.height}),{xAxisId:a,yAxisId:s,x:o,y:c,width:d,height:f,syncWithTicks:p,horizontalValues:g,verticalValues:b}=i,w=Wn(),_=$e(M=>eF(M,"xAxis",a,w)),x=$e(M=>eF(M,"yAxis",s,w));if(!ls(d)||!ls(f)||!Ne(o)||!Ne(c))return null;var T=i.verticalCoordinatesGenerator||sOe,I=i.horizontalCoordinatesGenerator||oOe,{horizontalPoints:P,verticalPoints:j}=i;if((!P||!P.length)&&typeof I=="function"){var O=g&&g.length,V=I({yAxis:x?fn(fn({},x),{},{ticks:O?g:x.ticks}):void 0,width:e??d,height:r??f,offset:n},O?!0:p);ev(Array.isArray(V),"horizontalCoordinatesGenerator should return Array but instead it returned [".concat(typeof V,"]")),Array.isArray(V)&&(P=V)}if((!j||!j.length)&&typeof T=="function"){var C=b&&b.length,N=T({xAxis:_?fn(fn({},_),{},{ticks:C?b:_.ticks}):void 0,width:e??d,height:r??f,offset:n},C?!0:p);ev(Array.isArray(N),"verticalCoordinatesGenerator should return Array but instead it returned [".concat(typeof N,"]")),Array.isArray(N)&&(j=N)}return E.createElement(ho,{zIndex:i.zIndex},E.createElement("g",{className:"recharts-cartesian-grid"},E.createElement(tOe,{fill:i.fill,fillOpacity:i.fillOpacity,x:i.x,y:i.y,width:i.width,height:i.height,ry:i.ry}),E.createElement(iOe,dc({},i,{horizontalPoints:P})),E.createElement(aOe,dc({},i,{verticalPoints:j})),E.createElement(rOe,dc({},i,{offset:n,horizontalPoints:P,xAxis:_,yAxis:x})),E.createElement(nOe,dc({},i,{offset:n,verticalPoints:j,xAxis:_,yAxis:x}))))}Am.displayName="CartesianGrid";var cOe={},TX=Bn({name:"errorBars",initialState:cOe,reducers:{addErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]||(t[r]=[]),t[r].push(n)},replaceErrorBar:(t,e)=>{var{itemId:r,prev:n,next:i}=e.payload;t[r]&&(t[r]=t[r].map(a=>a.dataKey===n.dataKey&&a.direction===n.direction?i:a))},removeErrorBar:(t,e)=>{var{itemId:r,errorBar:n}=e.payload;t[r]&&(t[r]=t[r].filter(i=>i.dataKey!==n.dataKey||i.direction!==n.direction))}}}),{addErrorBar:o3e,replaceErrorBar:l3e,removeErrorBar:c3e}=TX.actions,uOe=TX.reducer;function AX(t,e){var r,n,i=$e(d=>co(d,t)),a=$e(d=>uo(d,e)),s=(r=i?.allowDataOverflow)!==null&&r!==void 0?r:Nr.allowDataOverflow,o=(n=a?.allowDataOverflow)!==null&&n!==void 0?n:Rr.allowDataOverflow,c=s||o;return{needClip:c,needClipX:s,needClipY:o}}function dOe(t){var{xAxisId:e,yAxisId:r,clipPathId:n}=t,i=AR(),{needClipX:a,needClipY:s,needClip:o}=AX(e,r);if(!o||!i)return null;var{x:c,y:d,width:f,height:p}=i;return E.createElement("clipPath",{id:"clipPath-".concat(n)},E.createElement("rect",{x:a?c:c-f/2,y:s?d:d-p/2,width:a?f:f*2,height:s?p:p*2}))}function fOe(t){var e=vx(t),r=3,n=2;if(e!=null){var{r:i,strokeWidth:a}=e,s=Number(i),o=Number(a);return(Number.isNaN(s)||s<0)&&(s=r),(Number.isNaN(o)||o<0)&&(o=n),{r:s,strokeWidth:o}}return{r,strokeWidth:n}}var IA={exports:{}},PA={};var HF;function hOe(){if(HF)return PA;HF=1;var t=Rd();function e(c,d){return c===d&&(c!==0||1/c===1/d)||c!==c&&d!==d}var r=typeof Object.is=="function"?Object.is:e,n=t.useSyncExternalStore,i=t.useRef,a=t.useEffect,s=t.useMemo,o=t.useDebugValue;return PA.useSyncExternalStoreWithSelector=function(c,d,f,p,g){var b=i(null);if(b.current===null){var w={hasValue:!1,value:null};b.current=w}else w=b.current;b=s(function(){function x(O){if(!T){if(T=!0,I=O,O=p(O),g!==void 0&&w.hasValue){var V=w.value;if(g(V,O))return P=V}return P=O}if(V=P,r(I,O))return V;var C=p(O);return g!==void 0&&g(V,C)?(I=O,V):(I=O,P=C)}var T=!1,I,P,j=f===void 0?null:f;return[function(){return x(d())},j===null?void 0:function(){return x(j())}]},[d,f,p,g]);var _=n(c,b[0],b[1]);return a(function(){w.hasValue=!0,w.value=_},[_]),o(_),_},PA}var GF;function pOe(){return GF||(GF=1,IA.exports=hOe()),IA.exports}pOe();function mOe(t){t()}function gOe(){let t=null,e=null;return{clear(){t=null,e=null},notify(){mOe(()=>{let r=t;for(;r;)r.callback(),r=r.next})},get(){const r=[];let n=t;for(;n;)r.push(n),n=n.next;return r},subscribe(r){let n=!0;const i=e={callback:r,next:null,prev:e};return i.prev?i.prev.next=i:t=i,function(){!n||t===null||(n=!1,i.next?i.next.prev=i.prev:e=i.prev,i.prev?i.prev.next=i.next:t=i.next)}}}}var KF={notify(){},get:()=>[]};function yOe(t,e){let r,n=KF,i=0,a=!1;function s(_){f();const x=n.subscribe(_);let T=!1;return()=>{T||(T=!0,x(),p())}}function o(){n.notify()}function c(){w.onStateChange&&w.onStateChange()}function d(){return a}function f(){i++,r||(r=t.subscribe(c),n=gOe())}function p(){i--,r&&i===0&&(r(),r=void 0,n.clear(),n=KF)}function g(){a||(a=!0,f())}function b(){a&&(a=!1,p())}const w={addNestedSub:s,notifyNestedSubs:o,handleChangeWrapper:c,isSubscribed:d,trySubscribe:g,tryUnsubscribe:b,getListeners:()=>n};return w}var vOe=()=>typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bOe=vOe(),xOe=()=>typeof navigator<"u"&&navigator.product==="ReactNative",wOe=xOe(),_Oe=()=>bOe||wOe?E.useLayoutEffect:E.useEffect,EOe=_Oe();function YF(t,e){return t===e?t!==0||e!==0||1/t===1/e:t!==t&&e!==e}function SOe(t,e){if(YF(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;const r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(let i=0;i<r.length;i++)if(!Object.prototype.hasOwnProperty.call(e,r[i])||!YF(t[r[i]],e[r[i]]))return!1;return!0}var TOe=Symbol.for("react-redux-context"),AOe=typeof globalThis<"u"?globalThis:{};function kOe(){if(!E.createContext)return{};const t=AOe[TOe]??=new Map;let e=t.get(E.createContext);return e||(e=E.createContext(null),t.set(E.createContext,e)),e}var IOe=kOe();function POe(t){const{children:e,context:r,serverState:n,store:i}=t,a=E.useMemo(()=>{const c=yOe(i);return{store:i,subscription:c,getServerState:n?()=>n:void 0}},[i,n]),s=E.useMemo(()=>i.getState(),[i]);EOe(()=>{const{subscription:c}=a;return c.onStateChange=c.notifyNestedSubs,c.trySubscribe(),s!==i.getState()&&c.notifyNestedSubs(),()=>{c.tryUnsubscribe(),c.onStateChange=void 0}},[a,s]);const o=r||IOe;return E.createElement(o.Provider,{value:a},e)}var COe=POe,NOe=new Set(["axisLine","tickLine","activeBar","activeDot","activeLabel","activeShape","allowEscapeViewBox","background","cursor","dot","label","line","margin","padding","position","shape","style","tick","wrapperStyle","radius"]);function ROe(t,e){return t==null&&e==null?!0:typeof t=="number"&&typeof e=="number"?t===e||t!==t&&e!==e:t===e}function PR(t,e){var r=new Set([...Object.keys(t),...Object.keys(e)]);for(var n of r)if(NOe.has(n)){if(t[n]==null&&e[n]==null)continue;if(!SOe(t[n],e[n]))return!1}else if(!ROe(t[n],e[n]))return!1;return!0}function CR(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||n===void 0?void 0:n.xAxisId)!==null&&r!==void 0?r:bX}function NR(t,e){var r,n;return(r=(n=t.graphicalItems.cartesianItems.find(i=>i.id===e))===null||n===void 0?void 0:n.yAxisId)!==null&&r!==void 0?r:bX}var kX=(t,e,r)=>kY(t,"xAxis",CR(t,e),r),IX=(t,e,r)=>AY(t,"xAxis",CR(t,e),r),PX=(t,e,r)=>kY(t,"yAxis",NR(t,e),r),CX=(t,e,r)=>AY(t,"yAxis",NR(t,e),r),OOe=le([Bt,kX,PX,IX,CX],(t,e,r,n,i)=>hs(t,"xAxis")?Zy(e,n,!1):Zy(r,i,!1)),jOe=(t,e)=>e,NX=le([KK,jOe],(t,e)=>t.filter(r=>r.type==="area").find(r=>r.id===e)),RX=t=>{var e=Bt(t),r=hs(e,"xAxis");return r?"yAxis":"xAxis"},DOe=(t,e)=>{var r=RX(t);return r==="yAxis"?NR(t,e):CR(t,e)},MOe=(t,e,r)=>nY(t,RX(t),DOe(t,e),r),LOe=le([NX,MOe],(t,e)=>{var r;if(!(t==null||e==null)){var{stackId:n}=t,i=nR(t);if(!(n==null||i==null)){var a=(r=e[n])===null||r===void 0?void 0:r.stackedData,s=a?.find(o=>o.key===i);if(s!=null)return s.map(o=>[o[0],o[1]])}}}),FOe=le([Bt,kX,PX,IX,CX,LOe,jAe,OOe,NX,zAe],(t,e,r,n,i,a,s,o,c,d)=>{var{chartData:f,dataStartIndex:p,dataEndIndex:g}=s;if(!(c==null||t!=="horizontal"&&t!=="vertical"||e==null||r==null||n==null||i==null||n.length===0||i.length===0||o==null)){var{data:b}=c,w;if(b&&b.length>0?w=b:w=f?.slice(p,g+1),w!=null)return nje({layout:t,xAxis:e,yAxis:r,xAxisTicks:n,yAxisTicks:i,dataStartIndex:p,areaSettings:c,stackedData:a,displayedData:w,chartBaseValue:d,bandSize:o})}}),$Oe=["id"],VOe=["activeDot","animationBegin","animationDuration","animationEasing","connectNulls","dot","fill","fillOpacity","hide","isAnimationActive","legendType","stroke","xAxisId","yAxisId"];function xc(){return xc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xc.apply(null,arguments)}function OX(t,e){if(t==null)return{};var r,n,i=UOe(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function UOe(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function XF(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Qu(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?XF(Object(r),!0).forEach(function(n){qOe(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):XF(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function qOe(t,e,r){return(e=zOe(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function zOe(t){var e=BOe(t,"string");return typeof e=="symbol"?e:e+""}function BOe(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function yv(t,e){return t&&t!=="none"?t:e}var WOe=t=>{var{dataKey:e,name:r,stroke:n,fill:i,legendType:a,hide:s}=t;return[{inactive:s,dataKey:e,type:a,color:yv(n,i),value:JG(r,e),payload:t}]},HOe=E.memo(t=>{var{dataKey:e,data:r,stroke:n,strokeWidth:i,fill:a,name:s,hide:o,unit:c,tooltipType:d,id:f}=t,p={dataDefinedOnItem:r,getPosition:nf,settings:{stroke:n,strokeWidth:i,fill:a,dataKey:e,nameKey:void 0,name:JG(s,e),hide:o,type:d,color:yv(n,a),unit:c,graphicalItemId:f}};return E.createElement(kNe,{tooltipEntrySettings:p})});function GOe(t){var{clipPathId:e,points:r,props:n}=t,{needClip:i,dot:a,dataKey:s}=n,o=ua(n);return E.createElement(YNe,{points:r,dot:a,className:"recharts-area-dots",dotClassName:"recharts-area-dot",dataKey:s,baseProps:o,needClip:i,clipPathId:e})}function KOe(t){var{showLabels:e,children:r,points:n}=t,i=n.map(a=>{var s,o,c={x:(s=a.x)!==null&&s!==void 0?s:0,y:(o=a.y)!==null&&o!==void 0?o:0,width:0,lowerWidth:0,upperWidth:0,height:0};return Qu(Qu({},c),{},{value:a.value,payload:a.payload,parentViewBox:void 0,viewBox:c,fill:void 0})});return E.createElement(vNe,{value:e?i:void 0},r)}function QF(t){var{points:e,baseLine:r,needClip:n,clipPathId:i,props:a}=t,{layout:s,type:o,stroke:c,connectNulls:d,isRange:f}=a,{id:p}=a,g=OX(a,$Oe),b=ua(g),w=fi(g);return E.createElement(E.Fragment,null,e?.length>1&&E.createElement(as,{clipPath:n?"url(#clipPath-".concat(i,")"):void 0},E.createElement(W0,xc({},w,{id:p,points:e,connectNulls:d,type:o,baseLine:r,layout:s,stroke:"none",className:"recharts-area-area"})),c!=="none"&&E.createElement(W0,xc({},b,{className:"recharts-area-curve",layout:s,type:o,connectNulls:d,fill:"none",points:e})),c!=="none"&&f&&E.createElement(W0,xc({},b,{className:"recharts-area-curve",layout:s,type:o,connectNulls:d,fill:"none",points:r}))),E.createElement(GOe,{points:e,props:g,clipPathId:i}))}function YOe(t){var e,r,{alpha:n,baseLine:i,points:a,strokeWidth:s}=t,o=(e=a[0])===null||e===void 0?void 0:e.y,c=(r=a[a.length-1])===null||r===void 0?void 0:r.y;if(!lt(o)||!lt(c))return null;var d=n*Math.abs(o-c),f=Math.max(...a.map(p=>p.x||0));return Ne(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(p=>p.x||0),f)),Ne(f)?E.createElement("rect",{x:0,y:o<c?o:o-d,width:f+(s?parseInt("".concat(s),10):1),height:Math.floor(d)}):null}function XOe(t){var e,r,{alpha:n,baseLine:i,points:a,strokeWidth:s}=t,o=(e=a[0])===null||e===void 0?void 0:e.x,c=(r=a[a.length-1])===null||r===void 0?void 0:r.x;if(!lt(o)||!lt(c))return null;var d=n*Math.abs(o-c),f=Math.max(...a.map(p=>p.y||0));return Ne(i)?f=Math.max(i,f):i&&Array.isArray(i)&&i.length&&(f=Math.max(...i.map(p=>p.y||0),f)),Ne(f)?E.createElement("rect",{x:o<c?o:o-d,y:0,width:d,height:Math.floor(f+(s?parseInt("".concat(s),10):1))}):null}function QOe(t){var{alpha:e,layout:r,points:n,baseLine:i,strokeWidth:a}=t;return r==="vertical"?E.createElement(YOe,{alpha:e,points:n,baseLine:i,strokeWidth:a}):E.createElement(XOe,{alpha:e,points:n,baseLine:i,strokeWidth:a})}function JOe(t){var{needClip:e,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a}=t,{points:s,baseLine:o,isAnimationActive:c,animationBegin:d,animationDuration:f,animationEasing:p,onAnimationStart:g,onAnimationEnd:b}=n,w=E.useMemo(()=>({points:s,baseLine:o}),[s,o]),_=bK(w,"recharts-area-"),x=HN(),[T,I]=E.useState(!1),P=!T,j=E.useCallback(()=>{typeof b=="function"&&b(),I(!1)},[b]),O=E.useCallback(()=>{typeof g=="function"&&g(),I(!0)},[g]);if(x==null)return null;var V=i.current,C=a.current;return E.createElement(KOe,{showLabels:P,points:s},n.children,E.createElement(vK,{animationId:_,begin:d,duration:f,isActive:c,easing:p,onAnimationEnd:j,onAnimationStart:O,key:_},N=>{if(V){var M=V.length/s.length,F=N===1?s:s.map((U,$)=>{var G=Math.floor($*M);if(V[G]){var ue=V[G];return Qu(Qu({},U),{},{x:Ua(ue.x,U.x,N),y:Ua(ue.y,U.y,N)})}return U}),D;return Ne(o)?D=Ua(C,o,N):gn(o)||ss(o)?D=Ua(C,0,N):D=o.map((U,$)=>{var G=Math.floor($*M);if(Array.isArray(C)&&C[G]){var ue=C[G];return Qu(Qu({},U),{},{x:Ua(ue.x,U.x,N),y:Ua(ue.y,U.y,N)})}return U}),N>0&&(i.current=F,a.current=D),E.createElement(QF,{points:F,baseLine:D,needClip:e,clipPathId:r,props:n})}return N>0&&(i.current=s,a.current=o),E.createElement(as,null,c&&E.createElement("defs",null,E.createElement("clipPath",{id:"animationClipPath-".concat(r)},E.createElement(QOe,{alpha:N,points:s,baseLine:o,layout:x,strokeWidth:n.strokeWidth}))),E.createElement(as,{clipPath:"url(#animationClipPath-".concat(r,")")},E.createElement(QF,{points:s,baseLine:o,needClip:e,clipPathId:r,props:n})))}),E.createElement(wNe,{label:n.label}))}function ZOe(t){var{needClip:e,clipPathId:r,props:n}=t,i=E.useRef(null),a=E.useRef();return E.createElement(JOe,{needClip:e,clipPathId:r,props:n,previousPointsRef:i,previousBaselineRef:a})}class eje extends E.PureComponent{render(){var{hide:e,dot:r,points:n,className:i,top:a,left:s,needClip:o,xAxisId:c,yAxisId:d,width:f,height:p,id:g,baseLine:b,zIndex:w}=this.props;if(e)return null;var _=kt("recharts-area",i),x=g,{r:T,strokeWidth:I}=fOe(r),P=yX(r),j=T*2+I,O=o?"url(#clipPath-".concat(P?"":"dots-").concat(x,")"):void 0;return E.createElement(ho,{zIndex:w},E.createElement(as,{className:_},o&&E.createElement("defs",null,E.createElement(dOe,{clipPathId:x,xAxisId:c,yAxisId:d}),!P&&E.createElement("clipPath",{id:"clipPath-dots-".concat(x)},E.createElement("rect",{x:s-j/2,y:a-j/2,width:f+j,height:p+j}))),E.createElement(ZOe,{needClip:o,clipPathId:x,props:this.props})),E.createElement(UF,{points:n,mainColor:yv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:O}),this.props.isRange&&Array.isArray(b)&&E.createElement(UF,{points:b,mainColor:yv(this.props.stroke,this.props.fill),itemDataKey:this.props.dataKey,activeDot:this.props.activeDot,clipPath:O}))}}var jX={activeDot:!0,animationBegin:0,animationDuration:1500,animationEasing:"ease",connectNulls:!1,dot:!1,fill:"#3182bd",fillOpacity:.6,hide:!1,isAnimationActive:"auto",legendType:"line",stroke:"#3182bd",strokeWidth:1,type:"linear",label:!1,xAxisId:0,yAxisId:0,zIndex:En.area};function tje(t){var e,r=In(t,jX),{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,connectNulls:o,dot:c,fill:d,fillOpacity:f,hide:p,isAnimationActive:g,legendType:b,stroke:w,xAxisId:_,yAxisId:x}=r,T=OX(r,VOe),I=af(),P=YY(),{needClip:j}=AX(_,x),O=Wn(),{points:V,isRange:C,baseLine:N}=(e=$e(G=>FOe(G,t.id,O)))!==null&&e!==void 0?e:{},M=AR();if(I!=="horizontal"&&I!=="vertical"||M==null||P!=="AreaChart"&&P!=="ComposedChart")return null;var{height:F,width:D,x:U,y:$}=M;return!V||!V.length?null:E.createElement(eje,xc({},T,{activeDot:n,animationBegin:i,animationDuration:a,animationEasing:s,baseLine:N,connectNulls:o,dot:c,fill:d,fillOpacity:f,height:F,hide:p,layout:I,isAnimationActive:g==="auto"?!bm.isSsr:g,isRange:C,legendType:b,needClip:j,points:V,stroke:w,width:D,left:U,top:$,xAxisId:_,yAxisId:x}))}var rje=(t,e,r,n,i)=>{var a=r??e;if(Ne(a))return a;var s=t==="horizontal"?i:n,o=s.scale.domain();if(s.type==="number"){var c=Math.max(o[0],o[1]),d=Math.min(o[0],o[1]);return a==="dataMin"?d:a==="dataMax"||c<0?c:Math.max(Math.min(o[0],o[1]),0)}return a==="dataMin"?o[0]:a==="dataMax"?o[1]:o[0]};function nje(t){var{areaSettings:{connectNulls:e,baseValue:r,dataKey:n},stackedData:i,layout:a,chartBaseValue:s,xAxis:o,yAxis:c,displayedData:d,dataStartIndex:f,xAxisTicks:p,yAxisTicks:g,bandSize:b}=t,w=i&&i.length,_=rje(a,s,r,o,c),x=a==="horizontal",T=!1,I=d.map((j,O)=>{var V,C,N,M;if(w)M=i[f+O];else{var F=Jr(j,n);Array.isArray(F)?(M=F,T=!0):M=[_,F]}var D=(V=(C=M)===null||C===void 0?void 0:C[1])!==null&&V!==void 0?V:null,U=D==null||w&&!e&&Jr(j,n)==null;if(x){var $;return{x:M9({axis:o,ticks:p,bandSize:b,entry:j,index:O}),y:U?null:($=c.scale.map(D))!==null&&$!==void 0?$:null,value:M,payload:j}}return{x:U?null:(N=o.scale.map(D))!==null&&N!==void 0?N:null,y:M9({axis:c,ticks:g,bandSize:b,entry:j,index:O}),value:M,payload:j}}),P;return w||T?P=I.map(j=>{var O,V=Array.isArray(j.value)?j.value[0]:null;if(x){var C;return{x:j.x,y:V!=null&&j.y!=null&&(C=c.scale.map(V))!==null&&C!==void 0?C:null,payload:j.payload}}return{x:V!=null&&(O=o.scale.map(V))!==null&&O!==void 0?O:null,y:j.y,payload:j.payload}}):P=x?c.scale.map(_):o.scale.map(_),{points:I,baseLine:P??0,isRange:T}}function ije(t){var e=In(t,jX),r=Wn();return E.createElement(ONe,{id:e.id,type:"area"},n=>E.createElement(E.Fragment,null,E.createElement(INe,{legendPayload:WOe(e)}),E.createElement(HOe,{dataKey:e.dataKey,data:e.data,stroke:e.stroke,strokeWidth:e.strokeWidth,fill:e.fill,name:e.name,hide:e.hide,unit:e.unit,tooltipType:e.tooltipType,id:n}),E.createElement(VNe,{type:"area",id:n,data:e.data,dataKey:e.dataKey,xAxisId:e.xAxisId,yAxisId:e.yAxisId,zAxisId:0,stackId:KEe(e.stackId),hide:e.hide,barSize:void 0,baseValue:e.baseValue,isPanorama:r,connectNulls:e.connectNulls}),E.createElement(tje,xc({},e,{id:n}))))}var qc=E.memo(ije,PR);qc.displayName="Area";var aje=["domain","range"],sje=["domain","range"];function JF(t,e){if(t==null)return{};var r,n,i=oje(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function oje(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function ZF(t,e){return t===e?!0:Array.isArray(t)&&t.length===2&&Array.isArray(e)&&e.length===2?t[0]===e[0]&&t[1]===e[1]:!1}function DX(t,e){if(t===e)return!0;var{domain:r,range:n}=t,i=JF(t,aje),{domain:a,range:s}=e,o=JF(e,sje);return!ZF(r,a)||!ZF(n,s)?!1:PR(i,o)}var lje=["type"],cje=["dangerouslySetInnerHTML","ticks","scale"],uje=["id","scale"];function PI(){return PI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},PI.apply(null,arguments)}function e$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function t$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?e$(Object(r),!0).forEach(function(n){dje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):e$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function dje(t,e,r){return(e=fje(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function fje(t){var e=hje(t,"string");return typeof e=="symbol"?e:e+""}function hje(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function CI(t,e){if(t==null)return{};var r,n,i=pje(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function pje(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function mje(t){var e=br(),r=E.useRef(null),n=HN(),{type:i}=t,a=CI(t,lje),s=Ux(n,"xAxis",i),o=E.useMemo(()=>{if(s!=null)return t$(t$({},a),{},{type:s})},[a,s]);return E.useLayoutEffect(()=>{o!=null&&(r.current===null?e(eRe(o)):r.current!==o&&e(tRe({prev:r.current,next:o})),r.current=o)},[o,e]),E.useLayoutEffect(()=>()=>{r.current&&(e(rRe(r.current)),r.current=null)},[e]),null}var gje=t=>{var{xAxisId:e,className:r}=t,n=$e(eK),i=Wn(),a="xAxis",s=$e(T=>TY(T,a,e,i)),o=$e(T=>$ke(T,e)),c=$e(T=>Wke(T,e)),d=$e(T=>BK(T,e));if(o==null||c==null||d==null)return null;var{dangerouslySetInnerHTML:f,ticks:p,scale:g}=t,b=CI(t,cje),{id:w,scale:_}=d,x=CI(d,uje);return E.createElement(IR,PI({},b,x,{x:c.x,y:c.y,width:o.width,height:o.height,className:kt("recharts-".concat(a," ").concat(a),r),viewBox:n,ticks:s,axisType:a}))},yje={allowDataOverflow:Nr.allowDataOverflow,allowDecimals:Nr.allowDecimals,allowDuplicatedCategory:Nr.allowDuplicatedCategory,angle:Nr.angle,axisLine:zs.axisLine,height:Nr.height,hide:!1,includeHidden:Nr.includeHidden,interval:Nr.interval,label:!1,minTickGap:Nr.minTickGap,mirror:Nr.mirror,orientation:Nr.orientation,padding:Nr.padding,reversed:Nr.reversed,scale:Nr.scale,tick:Nr.tick,tickCount:Nr.tickCount,tickLine:zs.tickLine,tickSize:zs.tickSize,type:Nr.type,xAxisId:0},vje=t=>{var e=In(t,yje);return E.createElement(E.Fragment,null,E.createElement(mje,{allowDataOverflow:e.allowDataOverflow,allowDecimals:e.allowDecimals,allowDuplicatedCategory:e.allowDuplicatedCategory,angle:e.angle,dataKey:e.dataKey,domain:e.domain,height:e.height,hide:e.hide,id:e.xAxisId,includeHidden:e.includeHidden,interval:e.interval,minTickGap:e.minTickGap,mirror:e.mirror,name:e.name,orientation:e.orientation,padding:e.padding,reversed:e.reversed,scale:e.scale,tick:e.tick,tickCount:e.tickCount,tickFormatter:e.tickFormatter,ticks:e.ticks,type:e.type,unit:e.unit}),E.createElement(gje,e))},km=E.memo(vje,DX);km.displayName="XAxis";var bje=["type"],xje=["dangerouslySetInnerHTML","ticks","scale"],wje=["id","scale"];function NI(){return NI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},NI.apply(null,arguments)}function r$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function n$(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?r$(Object(r),!0).forEach(function(n){_je(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):r$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function _je(t,e,r){return(e=Eje(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Eje(t){var e=Sje(t,"string");return typeof e=="symbol"?e:e+""}function Sje(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function RI(t,e){if(t==null)return{};var r,n,i=Tje(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Tje(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function Aje(t){var e=br(),r=E.useRef(null),n=HN(),{type:i}=t,a=RI(t,bje),s=Ux(n,"yAxis",i),o=E.useMemo(()=>{if(s!=null)return n$(n$({},a),{},{type:s})},[s,a]);return E.useLayoutEffect(()=>{o!=null&&(r.current===null?e(nRe(o)):r.current!==o&&e(iRe({prev:r.current,next:o})),r.current=o)},[o,e]),E.useLayoutEffect(()=>()=>{r.current&&(e(aRe(r.current)),r.current=null)},[e]),null}function kje(t){var{yAxisId:e,className:r,width:n,label:i}=t,a=E.useRef(null),s=E.useRef(null),o=$e(eK),c=Wn(),d=br(),f="yAxis",p=$e(V=>Kke(V,e)),g=$e(V=>Gke(V,e)),b=$e(V=>TY(V,f,e,c)),w=$e(V=>WK(V,e));if(E.useLayoutEffect(()=>{if(!(n!=="auto"||!p||TR(i)||E.isValidElement(i)||w==null)){var V=a.current;if(V){var C=V.getCalculatedWidth();Math.round(p.width)!==Math.round(C)&&d(sRe({id:e,width:C}))}}},[b,p,d,i,e,n,w]),p==null||g==null||w==null)return null;var{dangerouslySetInnerHTML:_,ticks:x,scale:T}=t,I=RI(t,xje),{id:P,scale:j}=w,O=RI(w,wje);return E.createElement(IR,NI({},I,O,{ref:a,labelRef:s,x:g.x,y:g.y,tickTextProps:n==="auto"?{width:void 0}:{width:n},width:p.width,height:p.height,className:kt("recharts-".concat(f," ").concat(f),r),viewBox:o,ticks:b,axisType:f}))}var Ije={allowDataOverflow:Rr.allowDataOverflow,allowDecimals:Rr.allowDecimals,allowDuplicatedCategory:Rr.allowDuplicatedCategory,angle:Rr.angle,axisLine:zs.axisLine,hide:!1,includeHidden:Rr.includeHidden,interval:Rr.interval,label:!1,minTickGap:Rr.minTickGap,mirror:Rr.mirror,orientation:Rr.orientation,padding:Rr.padding,reversed:Rr.reversed,scale:Rr.scale,tick:Rr.tick,tickCount:Rr.tickCount,tickLine:zs.tickLine,tickSize:zs.tickSize,type:Rr.type,width:Rr.width,yAxisId:0},Pje=t=>{var e=In(t,Ije);return E.createElement(E.Fragment,null,E.createElement(Aje,{interval:e.interval,id:e.yAxisId,scale:e.scale,type:e.type,domain:e.domain,allowDataOverflow:e.allowDataOverflow,dataKey:e.dataKey,allowDuplicatedCategory:e.allowDuplicatedCategory,allowDecimals:e.allowDecimals,tickCount:e.tickCount,padding:e.padding,includeHidden:e.includeHidden,reversed:e.reversed,ticks:e.ticks,width:e.width,orientation:e.orientation,mirror:e.mirror,hide:e.hide,unit:e.unit,name:e.name,angle:e.angle,minTickGap:e.minTickGap,tick:e.tick,tickFormatter:e.tickFormatter}),E.createElement(kje,e))},Im=E.memo(Pje,DX);Im.displayName="YAxis";var Cje=(t,e)=>e,RR=le([Cje,Bt,qK,Fr,zY,fo,lPe,en],mPe),OR=t=>{var e=t.currentTarget.getBoundingClientRect(),r=e.width/t.currentTarget.offsetWidth,n=e.height/t.currentTarget.offsetHeight;return{chartX:Math.round((t.clientX-e.left)/r),chartY:Math.round((t.clientY-e.top)/n)}},MX=Li("mouseClick"),LX=mm();LX.startListening({actionCreator:MX,effect:(t,e)=>{var r=t.payload,n=RR(e.getState(),OR(r));n?.activeIndex!=null&&e.dispatch(oIe({activeIndex:n.activeIndex,activeDataKey:void 0,activeCoordinate:n.activeCoordinate}))}});var OI=Li("mouseMove"),FX=mm(),w0=null;FX.startListening({actionCreator:OI,effect:(t,e)=>{var r=t.payload;w0!==null&&cancelAnimationFrame(w0);var n=OR(r);w0=requestAnimationFrame(()=>{var i=e.getState(),a=pR(i,i.tooltip.settings.shared);if(a==="axis"){var s=RR(i,n);s?.activeIndex!=null?e.dispatch(jY({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate})):e.dispatch(OY())}w0=null})}});function Nje(t,e){return e instanceof HTMLElement?"HTMLElement <".concat(e.tagName,' class="').concat(e.className,'">'):e===window?"global.window":t==="children"&&typeof e=="object"&&e!==null?"<<CHILDREN>>":e}var i$={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,barSize:void 0,className:void 0,maxBarSize:void 0,stackOffset:"none",syncId:void 0,syncMethod:"index",baseValue:void 0,reverseStackOrder:!1},$X=Bn({name:"rootProps",initialState:i$,reducers:{updateOptions:(t,e)=>{var r;t.accessibilityLayer=e.payload.accessibilityLayer,t.barCategoryGap=e.payload.barCategoryGap,t.barGap=(r=e.payload.barGap)!==null&&r!==void 0?r:i$.barGap,t.barSize=e.payload.barSize,t.maxBarSize=e.payload.maxBarSize,t.stackOffset=e.payload.stackOffset,t.syncId=e.payload.syncId,t.syncMethod=e.payload.syncMethod,t.className=e.payload.className,t.baseValue=e.payload.baseValue,t.reverseStackOrder=e.payload.reverseStackOrder}}}),Rje=$X.reducer,{updateOptions:Oje}=$X.actions,jje=null,Dje={updatePolarOptions:(t,e)=>e.payload},VX=Bn({name:"polarOptions",initialState:jje,reducers:Dje}),{updatePolarOptions:u3e}=VX.actions,Mje=VX.reducer,UX=Li("keyDown"),qX=Li("focus"),jR=mm();jR.startListening({actionCreator:UX,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip,a=t.payload;if(!(a!=="ArrowRight"&&a!=="ArrowLeft"&&a!=="Enter")){var s=mR(i,hf(r),_m(r),Sm(r)),o=s==null?-1:Number(s);if(!(!Number.isFinite(o)||o<0)){var c=fo(r);if(a==="Enter"){var d=hv(r,"axis","hover",String(i.index));e.dispatch(SI({active:!i.active,activeIndex:i.index,activeCoordinate:d}));return}var f=Jke(r),p=f==="left-to-right"?1:-1,g=a==="ArrowRight"?1:-1,b=o+g*p;if(!(c==null||b>=c.length||b<0)){var w=hv(r,"axis","hover",String(b));e.dispatch(SI({active:!0,activeIndex:b.toString(),activeCoordinate:w}))}}}}}});jR.startListening({actionCreator:qX,effect:(t,e)=>{var r=e.getState(),n=r.rootProps.accessibilityLayer!==!1;if(n){var{keyboardInteraction:i}=r.tooltip;if(!i.active&&i.index==null){var a="0",s=hv(r,"axis","hover",String(a));e.dispatch(SI({active:!0,activeIndex:a,activeCoordinate:s}))}}}});var ki=Li("externalEvent"),zX=mm(),CA=new Map;zX.startListening({actionCreator:ki,effect:(t,e)=>{var{handler:r,reactEvent:n}=t.payload;if(r!=null){n.persist();var i=n.type,a=CA.get(i);a!==void 0&&cancelAnimationFrame(a);var s=requestAnimationFrame(()=>{try{var o=e.getState(),c={activeCoordinate:GIe(o),activeDataKey:WIe(o),activeIndex:Mp(o),activeLabel:HY(o),activeTooltipIndex:Mp(o),isTooltipActive:KIe(o)};r(c,n)}finally{CA.delete(i)}});CA.set(i,s)}}});var Lje=le([df],t=>t.tooltipItemPayloads),Fje=le([Lje,(t,e)=>e,(t,e,r)=>r],(t,e,r)=>{if(e!=null){var n=t.find(a=>a.settings.graphicalItemId===r);if(n!=null){var{getPosition:i}=n;if(i!=null)return i(e)}}}),BX=Li("touchMove"),WX=mm();WX.startListening({actionCreator:BX,effect:(t,e)=>{var r=t.payload;if(!(r.touches==null||r.touches.length===0)){var n=e.getState(),i=pR(n,n.tooltip.settings.shared);if(i==="axis"){var a=r.touches[0];if(a==null)return;var s=RR(n,OR({clientX:a.clientX,clientY:a.clientY,currentTarget:r.currentTarget}));s?.activeIndex!=null&&e.dispatch(jY({activeIndex:s.activeIndex,activeDataKey:void 0,activeCoordinate:s.activeCoordinate}))}else if(i==="item"){var o,c=r.touches[0];if(document.elementFromPoint==null||c==null)return;var d=document.elementFromPoint(c.clientX,c.clientY);if(!d||!d.getAttribute)return;var f=d.getAttribute(tSe),p=(o=d.getAttribute(rSe))!==null&&o!==void 0?o:void 0,g=ff(n).find(_=>_.id===p);if(f==null||g==null||p==null)return;var{dataKey:b}=g,w=Fje(n,f,p);e.dispatch(sIe({activeDataKey:b,activeIndex:f,activeCoordinate:w,activeGraphicalItemId:p}))}}}});var $je=wG({brush:gRe,cartesianAxis:oRe,chartData:GPe,errorBars:uOe,graphicalItems:FNe,layout:$Ee,legend:YSe,options:qPe,polarAxis:ENe,polarOptions:Mje,referenceElements:xRe,rootProps:Rje,tooltip:lIe,zIndex:PPe}),Vje=function(e){var r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"Chart";return uEe({reducer:$je,preloadedState:e,middleware:n=>{var i;return n({serializableCheck:!1,immutableCheck:!["commonjs","es6","production"].includes((i="es6")!==null&&i!==void 0?i:"")}).concat([LX.middleware,FX.middleware,jR.middleware,zX.middleware,WX.middleware])},enhancers:n=>{var i=n;return typeof n=="function"&&(i=n()),i.concat(MG({type:"raf"}))},devTools:{serialize:{replacer:Nje},name:"recharts-".concat(r)}})};function Uje(t){var{preloadedState:e,children:r,reduxStoreName:n}=t,i=Wn(),a=E.useRef(null);if(i)return r;a.current==null&&(a.current=Vje(e,n));var s=DN;return E.createElement(COe,{context:s,store:a.current},r)}function qje(t){var{layout:e,margin:r}=t,n=br(),i=Wn();return E.useEffect(()=>{i||(n(MEe(e)),n(DEe(r)))},[n,i,e,r]),null}var zje=E.memo(qje,PR);function Bje(t){var e=br();return E.useEffect(()=>{e(Oje(t))},[e,t]),null}function a$(t){var{zIndex:e,isPanorama:r}=t,n=E.useRef(null),i=br();return E.useLayoutEffect(()=>(n.current&&i(kPe({zIndex:e,element:n.current,isPanorama:r})),()=>{i(IPe({zIndex:e,isPanorama:r}))}),[i,e,r]),E.createElement("g",{tabIndex:-1,ref:n})}function s$(t){var{children:e,isPanorama:r}=t,n=$e(yPe);if(!n||n.length===0)return e;var i=n.filter(s=>s<0),a=n.filter(s=>s>0);return E.createElement(E.Fragment,null,i.map(s=>E.createElement(a$,{key:s,zIndex:s,isPanorama:r})),e,a.map(s=>E.createElement(a$,{key:s,zIndex:s,isPanorama:r})))}var Wje=["children"];function Hje(t,e){if(t==null)return{};var r,n,i=Gje(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function Gje(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}function vv(){return vv=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},vv.apply(null,arguments)}var Kje={width:"100%",height:"100%",display:"block"},Yje=E.forwardRef((t,e)=>{var r=BN(),n=WN(),i=pK();if(!ls(r)||!ls(n))return null;var{children:a,otherAttributes:s,title:o,desc:c}=t,d,f;return s!=null&&(typeof s.tabIndex=="number"?d=s.tabIndex:d=i?0:void 0,typeof s.role=="string"?f=s.role:f=i?"application":void 0),E.createElement(IN,vv({},s,{title:o,desc:c,role:f,tabIndex:d,width:r,height:n,style:Kje,ref:e}),a)}),Xje=t=>{var{children:e}=t,r=$e(Ox);if(!r)return null;var{width:n,height:i,y:a,x:s}=r;return E.createElement(IN,{width:n,height:i,x:s,y:a},e)},o$=E.forwardRef((t,e)=>{var{children:r}=t,n=Hje(t,Wje),i=Wn();return i?E.createElement(Xje,null,E.createElement(s$,{isPanorama:!0},r)):E.createElement(Yje,vv({ref:e},n),E.createElement(s$,{isPanorama:!1},r))});function Qje(){var t=br(),[e,r]=E.useState(null),n=$e(eSe);return E.useEffect(()=>{if(e!=null){var i=e.getBoundingClientRect(),a=i.width/e.offsetWidth;lt(a)&&a!==n&&t(FEe(a))}},[e,t,n]),r}function l$(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function Jje(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?l$(Object(r),!0).forEach(function(n){Zje(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):l$(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Zje(t,e,r){return(e=e4e(e))in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function e4e(t){var e=t4e(t,"string");return typeof e=="symbol"?e:e+""}function t4e(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function il(){return il=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},il.apply(null,arguments)}var r4e=()=>(rCe(),null);function bv(t){if(typeof t=="number")return t;if(typeof t=="string"){var e=parseFloat(t);if(!Number.isNaN(e))return e}return 0}var n4e=E.forwardRef((t,e)=>{var r,n,i=E.useRef(null),[a,s]=E.useState({containerWidth:bv((r=t.style)===null||r===void 0?void 0:r.width),containerHeight:bv((n=t.style)===null||n===void 0?void 0:n.height)}),o=E.useCallback((d,f)=>{s(p=>{var g=Math.round(d),b=Math.round(f);return p.containerWidth===g&&p.containerHeight===b?p:{containerWidth:g,containerHeight:b}})},[]),c=E.useCallback(d=>{if(typeof e=="function"&&e(d),d!=null&&typeof ResizeObserver<"u"){var{width:f,height:p}=d.getBoundingClientRect();o(f,p);var g=w=>{var _=w[0];if(_!=null){var{width:x,height:T}=_.contentRect;o(x,T)}},b=new ResizeObserver(g);b.observe(d),i.current=b}},[e,o]);return E.useEffect(()=>()=>{var d=i.current;d?.disconnect()},[o]),E.createElement(E.Fragment,null,E.createElement(ym,{width:a.containerWidth,height:a.containerHeight}),E.createElement("div",il({ref:c},t)))}),i4e=E.forwardRef((t,e)=>{var{width:r,height:n}=t,[i,a]=E.useState({containerWidth:bv(r),containerHeight:bv(n)}),s=E.useCallback((c,d)=>{a(f=>{var p=Math.round(c),g=Math.round(d);return f.containerWidth===p&&f.containerHeight===g?f:{containerWidth:p,containerHeight:g}})},[]),o=E.useCallback(c=>{if(typeof e=="function"&&e(c),c!=null){var{width:d,height:f}=c.getBoundingClientRect();s(d,f)}},[e,s]);return E.createElement(E.Fragment,null,E.createElement(ym,{width:i.containerWidth,height:i.containerHeight}),E.createElement("div",il({ref:o},t)))}),a4e=E.forwardRef((t,e)=>{var{width:r,height:n}=t;return E.createElement(E.Fragment,null,E.createElement(ym,{width:r,height:n}),E.createElement("div",il({ref:e},t)))}),s4e=E.forwardRef((t,e)=>{var{width:r,height:n}=t;return typeof r=="string"||typeof n=="string"?E.createElement(i4e,il({},t,{ref:e})):typeof r=="number"&&typeof n=="number"?E.createElement(a4e,il({},t,{width:r,height:n,ref:e})):E.createElement(E.Fragment,null,E.createElement(ym,{width:r,height:n}),E.createElement("div",il({ref:e},t)))});function o4e(t){return t?n4e:s4e}var l4e=E.forwardRef((t,e)=>{var{children:r,className:n,height:i,onClick:a,onContextMenu:s,onDoubleClick:o,onMouseDown:c,onMouseEnter:d,onMouseLeave:f,onMouseMove:p,onMouseUp:g,onTouchEnd:b,onTouchMove:w,onTouchStart:_,style:x,width:T,responsive:I,dispatchTouchEvents:P=!0}=t,j=E.useRef(null),O=br(),[V,C]=E.useState(null),[N,M]=E.useState(null),F=Qje(),D=qN(),U=D?.width>0?D.width:T,$=D?.height>0?D.height:i,G=E.useCallback(re=>{F(re),typeof e=="function"&&e(re),C(re),M(re),re!=null&&(j.current=re)},[F,e,C,M]),ue=E.useCallback(re=>{O(MX(re)),O(ki({handler:a,reactEvent:re}))},[O,a]),ce=E.useCallback(re=>{O(OI(re)),O(ki({handler:d,reactEvent:re}))},[O,d]),se=E.useCallback(re=>{O(OY()),O(ki({handler:f,reactEvent:re}))},[O,f]),Q=E.useCallback(re=>{O(OI(re)),O(ki({handler:p,reactEvent:re}))},[O,p]),X=E.useCallback(()=>{O(qX())},[O]),ie=E.useCallback(re=>{O(UX(re.key))},[O]),B=E.useCallback(re=>{O(ki({handler:s,reactEvent:re}))},[O,s]),Z=E.useCallback(re=>{O(ki({handler:o,reactEvent:re}))},[O,o]),_e=E.useCallback(re=>{O(ki({handler:c,reactEvent:re}))},[O,c]),oe=E.useCallback(re=>{O(ki({handler:g,reactEvent:re}))},[O,g]),xe=E.useCallback(re=>{O(ki({handler:_,reactEvent:re}))},[O,_]),Ee=E.useCallback(re=>{P&&O(BX(re)),O(ki({handler:w,reactEvent:re}))},[O,P,w]),Se=E.useCallback(re=>{O(ki({handler:b,reactEvent:re}))},[O,b]),De=o4e(I);return E.createElement(eX.Provider,{value:V},E.createElement(JH.Provider,{value:N},E.createElement(De,{width:U??x?.width,height:$??x?.height,className:kt("recharts-wrapper",n),style:Jje({position:"relative",cursor:"default",width:U,height:$},x),onClick:ue,onContextMenu:B,onDoubleClick:Z,onFocus:X,onKeyDown:ie,onMouseDown:_e,onMouseEnter:ce,onMouseLeave:se,onMouseMove:Q,onMouseUp:oe,onTouchEnd:Se,onTouchMove:Ee,onTouchStart:xe,ref:G},E.createElement(r4e,null),r)))}),c4e=["width","height","responsive","children","className","style","compact","title","desc"];function u4e(t,e){if(t==null)return{};var r,n,i=d4e(t,e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);for(n=0;n<a.length;n++)r=a[n],e.indexOf(r)===-1&&{}.propertyIsEnumerable.call(t,r)&&(i[r]=t[r])}return i}function d4e(t,e){if(t==null)return{};var r={};for(var n in t)if({}.hasOwnProperty.call(t,n)){if(e.indexOf(n)!==-1)continue;r[n]=t[n]}return r}var f4e=E.forwardRef((t,e)=>{var{width:r,height:n,responsive:i,children:a,className:s,style:o,compact:c,title:d,desc:f}=t,p=u4e(t,c4e),g=ua(p);return c?E.createElement(E.Fragment,null,E.createElement(ym,{width:r,height:n}),E.createElement(o$,{otherAttributes:g,title:d,desc:f},a)):E.createElement(l4e,{className:s,style:o,width:r,height:n,responsive:i??!1,onClick:t.onClick,onMouseLeave:t.onMouseLeave,onMouseEnter:t.onMouseEnter,onMouseMove:t.onMouseMove,onMouseDown:t.onMouseDown,onMouseUp:t.onMouseUp,onContextMenu:t.onContextMenu,onDoubleClick:t.onDoubleClick,onTouchStart:t.onTouchStart,onTouchMove:t.onTouchMove,onTouchEnd:t.onTouchEnd},E.createElement(o$,{otherAttributes:g,title:d,desc:f,ref:e},E.createElement(_Re,null,a)))});function jI(){return jI=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)({}).hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},jI.apply(null,arguments)}var h4e={top:5,right:5,bottom:5,left:5},p4e={accessibilityLayer:!0,barCategoryGap:"10%",barGap:4,layout:"horizontal",margin:h4e,responsive:!1,reverseStackOrder:!1,stackOffset:"none",syncMethod:"index"},m4e=E.forwardRef(function(e,r){var n,i=In(e.categoricalChartProps,p4e),{chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,categoricalChartProps:d}=e,f={chartName:a,defaultTooltipEventType:s,validateTooltipEventTypes:o,tooltipPayloadSearcher:c,eventEmitter:void 0};return E.createElement(Uje,{preloadedState:{options:f},reduxStoreName:(n=d.id)!==null&&n!==void 0?n:a},E.createElement(mRe,{chartData:d.data}),E.createElement(zje,{layout:i.layout,margin:i.margin}),E.createElement(Bje,{baseValue:i.baseValue,accessibilityLayer:i.accessibilityLayer,barCategoryGap:i.barCategoryGap,maxBarSize:i.maxBarSize,stackOffset:i.stackOffset,barGap:i.barGap,barSize:i.barSize,syncId:i.syncId,syncMethod:i.syncMethod,className:i.className,reverseStackOrder:i.reverseStackOrder}),E.createElement(f4e,jI({},i,{ref:r})))}),g4e=["axis"],Qx=E.forwardRef((t,e)=>E.createElement(m4e,{chartName:"AreaChart",defaultTooltipEventType:"axis",validateTooltipEventTypes:g4e,tooltipPayloadSearcher:VPe,categoricalChartProps:t,ref:e}));const y4e=({value:t,onChange:e,label:r})=>h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm text-slate-400",children:r}),h.jsx("div",{className:"flex gap-2",children:[{value:"crypto",label:"Crypto"},{value:"stocks",label:"Stocks"},{value:"commodities",label:"Commodities"}].map(n=>h.jsx("button",{onClick:()=>e(n.value),className:`flex-1 px-3 py-2 rounded-lg font-medium text-sm transition-all ${t===n.value?"bg-blue-600 text-white shadow-lg shadow-blue-500/25":"bg-slate-800 text-slate-400 hover:text-slate-200 hover:bg-slate-700"}`,children:n.label},n.value))})]}),v4e=({value:t,onChange:e,assets:r,label:n,disabled:i})=>h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{className:"text-sm text-slate-400",children:n}),h.jsxs("select",{value:t,onChange:a=>e(a.target.value),disabled:i,className:"w-full bg-slate-800 border border-dark-border rounded-lg px-4 py-2.5 text-sm text-slate-200 font-mono focus:outline-none focus:ring-2 focus:ring-blue-500 disabled:opacity-50",children:[h.jsx("option",{value:"",children:"Select an asset"}),r.map(a=>h.jsxs("option",{value:a.symbol,children:[a.symbol," - ",a.name]},a.symbol))]})]}),c$=({marketType:t,onMarketTypeChange:e,assetSymbol:r,onAssetChange:n,assets:i,cardColor:a="blue"})=>{const s={blue:"border-blue-500/30 bg-blue-900/10",amber:"border-amber-500/30 bg-amber-900/10"},o=i.find(c=>c.symbol===r);return h.jsx("div",{className:`bg-dark-surface border border-dark-border rounded-xl p-4 ${s[a]}`,children:h.jsxs("div",{className:"space-y-4",children:[h.jsx(y4e,{value:t,onChange:e,label:"Step 1: Choose Market"}),h.jsx(v4e,{value:r,onChange:n,assets:i,label:"Step 2: Select Asset",disabled:i.length===0}),o&&h.jsxs("div",{className:"p-3 bg-slate-800/50 rounded-lg border border-slate-700",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("span",{className:"font-mono font-bold text-lg text-slate-200",children:o.symbol}),h.jsxs("span",{className:`font-mono ${o.change>=0?"text-green-400":"text-red-400"}`,children:[o.change>=0?"+":"",o.change?.toFixed(2),"%"]})]}),h.jsx("div",{className:"text-sm text-slate-500",children:o.name}),h.jsxs("div",{className:"text-xl font-mono text-slate-200 mt-2",children:["$",o.price?.toLocaleString()]})]})]})})},NA=({label:t,value1:e,value2:r,format:n="number"})=>{const i=s=>{if(s==null)return"N/A";switch(n){case"currency":return`$${s.toLocaleString()}`;case"percent":return`${s.toFixed(2)}%`;case"marketCap":return s>=1e12?`$${(s/1e12).toFixed(2)}T`:s>=1e9?`$${(s/1e9).toFixed(2)}B`:s>=1e6?`$${(s/1e6).toFixed(2)}M`:`$${s.toLocaleString()}`;default:return s.toLocaleString()}},a=()=>t.includes("Change")||t.includes("Market Cap")?e>r:!1;return h.jsxs("div",{className:"grid grid-cols-3 gap-4 py-3 border-b border-dark-border last:border-0",children:[h.jsx("div",{className:"text-slate-400 text-sm",children:t}),h.jsx("div",{className:`font-mono text-sm text-center ${e!==null&&a()?"text-green-400":"text-slate-200"}`,children:i(e)}),h.jsx("div",{className:`font-mono text-sm text-center ${r!==null&&!a()&&r!==e?"text-green-400":"text-slate-200"}`,children:i(r)})]})},b4e=({correlation:t})=>{const{strength:e,direction:r}=yx(t),n={high:r==="positive"?"bg-green-500/20 text-green-400 border-green-500/30":"bg-red-500/20 text-red-400 border-red-500/30",moderate:r==="positive"?"bg-green-500/10 text-green-300 border-green-500/20":"bg-red-500/10 text-red-300 border-red-500/20",low:"bg-slate-700/50 text-slate-400 border-slate-600"},i={high:"High",moderate:"Medium",low:"Low"};return h.jsx("span",{className:`inline-flex items-center gap-1.5 px-2 py-1 rounded text-xs font-medium uppercase tracking-wider border ${n[e]}`,children:i[e]})},x4e=({value:t})=>{const{strength:e,direction:r}=yx(t),n=()=>e==="high"?r==="positive"?"bg-green-500/20 text-green-400":"bg-red-500/20 text-red-400":e==="moderate"?r==="positive"?"bg-green-500/10 text-green-300":"bg-red-500/10 text-red-300":"bg-slate-700 text-slate-400",i={high:"High",moderate:"Moderate",low:"Low"};return h.jsxs("div",{className:`inline-flex items-center gap-2 px-3 py-1.5 rounded-lg ${n()}`,children:[h.jsx("span",{className:"text-2xl font-bold font-mono",children:typeof t=="number"?t.toFixed(4):"0.0000"}),h.jsxs("span",{className:"text-xs uppercase tracking-wider",children:[i[e]," ",r==="positive"?"Positive":"Negative"]})]})},w4e=({trend:t})=>{const e={increasing:{Icon:lr,text:"Strengthening",color:"text-green-400"},decreasing:{Icon:wc,text:"Weakening",color:"text-red-400"},stable:{Icon:JZ,text:"Stable",color:"text-slate-400"}},{Icon:r,text:n,color:i}=e[t]||e.stable;return h.jsxs("div",{className:`flex items-center gap-2 ${i}`,children:[h.jsx(r,{className:"w-4 h-4"}),h.jsx("span",{className:"text-sm font-medium",children:n})]})};function _4e(){const[t,e]=E.useState("crypto"),[r,n]=E.useState("stocks"),[i,a]=E.useState([]),[s,o]=E.useState([]),[c,d]=E.useState(""),[f,p]=E.useState(""),[g,b]=E.useState(null),[w,_]=E.useState(null),[x,T]=E.useState([]),[I,P]=E.useState("1M"),[j,O]=E.useState("90"),[V,C]=E.useState(!0),[N,M]=E.useState(null),[F,D]=E.useState(5),[U,$]=E.useState(null),[G,ue]=E.useState(!1);return E.useEffect(()=>{async function ce(){try{const se=await Sn.getMarketData(t);a(se.map(Q=>({...Q,market:t}))),se.length>0&&!c?d(se[0].symbol):c&&!se.find(Q=>Q.symbol===c)&&d(se[0]?.symbol||"")}catch(se){console.error("Failed to load asset 1 market:",se)}}ce()},[t]),E.useEffect(()=>{async function ce(){C(!0);try{const se=await Sn.getMarketData(r);o(se.map(Q=>({...Q,market:r}))),se.length>0&&!f?p(se[0].symbol):f&&!se.find(Q=>Q.symbol===f)&&p(se[0]?.symbol||"")}catch(se){console.error("Failed to load asset 2 market:",se)}finally{C(!1)}}ce()},[r]),E.useEffect(()=>{if(c){const ce=i.find(se=>se.symbol===c);b(ce||null)}else b(null)},[c,i]),E.useEffect(()=>{if(f){const ce=s.find(se=>se.symbol===f);_(ce||null)}else _(null)},[f,s]),E.useEffect(()=>{async function ce(){if(!g||!w){M(null),$(null);return}ue(!0);try{const se=parseInt(j),[Q,X]=await Promise.all([m8(g.symbol,se,g.market),m8(w.symbol,se,w.market)]),ie=new Date().toISOString().split("T")[0],B=(Ye,Me)=>(Ye.length>0?Ye[Ye.length-1].date:"")!==ie&&Me?[...Ye,{date:ie,close:Me,open:Me,high:Me,low:Me}]:Ye,Z=B(Q,g.price),_e=B(X,w.price),{aligned1:oe,aligned2:xe}=Ywe(Z,_e),Ee=Id(oe),Se=Id(xe),De=yc(Ee,Se),re=yx(De),Ae=Xwe(Ee,Se),He=Qwe(g.symbol,w.symbol,De,Ae.trend,se);M({correlation:De,classification:re,trend:Ae.trend,previousCorrelation:Ae.previous,insight:He,returns1:Ee,returns2:Se,days:se,history1:Z,history2:_e});const fe=g8(Ee,Se,F),ft=y8(g.symbol,w.symbol,F,fe);$({...fe,insight:ft})}catch(se){console.error("Analysis failed:",se)}finally{ue(!1)}}ce()},[g,w,j]),E.useEffect(()=>{if(!N||!g||!w)return;const ce=I==="1W"?7:I==="1M"?30:I==="3M"?90:365,{returns1:se,returns2:Q,history1:X}=N,ie=[];let B=0,Z=0;Math.min(se.length,Q.length,ce);const _e=Math.max(0,se.length-ce);for(let oe=_e;oe<se.length;oe++)B+=se[oe],Z+=Q[oe],ie.push({date:X[oe+1]?.date||`Day ${oe+1}`,[g.symbol]:(B*100).toFixed(2),[w.symbol]:(Z*100).toFixed(2)});T(ie)},[N,I,g,w]),E.useEffect(()=>{if(N&&N.returns1&&N.returns2){const ce=g8(N.returns1,N.returns2,F),se=y8(g?.symbol,w?.symbol,F,ce);$({...ce,insight:se})}},[F,N,g,w]),V&&i.length===0?h.jsx("div",{className:"flex items-center justify-center h-96",children:h.jsxs("div",{className:"text-center",children:[h.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-4",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h.jsx("span",{className:"text-slate-400 font-mono",children:"Loading assets..."})]})}):h.jsxs("div",{className:"p-6 space-y-6 animate-fadeIn",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Compare Assets"}),h.jsx("p",{className:"text-secondary text-sm font-mono",children:"Select market type first, then choose an asset"})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[h.jsx(c$,{marketType:t,onMarketTypeChange:ce=>{e(ce),d("")},assetSymbol:c,onAssetChange:d,assets:i,cardColor:"blue"}),h.jsx(c$,{marketType:r,onMarketTypeChange:ce=>{n(ce),p("")},assetSymbol:f,onAssetChange:p,assets:s,cardColor:"amber"})]}),g&&w&&h.jsxs("div",{className:"bg-surface border border-border rounded-xl p-4 shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"font-semibold text-primary",children:"Performance Comparison (%)"}),h.jsx("div",{className:"flex gap-2",children:["1W","1M","3M","1Y"].map(ce=>h.jsx("button",{onClick:()=>P(ce),className:`px-3 py-1 text-sm font-mono rounded transition-colors ${I===ce?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-800 text-secondary hover:text-primary hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:ce},ce))})]}),h.jsx("div",{className:"h-80",children:G?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsxs("svg",{className:"animate-spin h-6 w-6 text-blue-500",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}):h.jsx(jx,{width:"100%",height:"100%",children:h.jsxs(Qx,{data:x,children:[h.jsxs("defs",{children:[h.jsxs("linearGradient",{id:"color1",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"#3b82f6",stopOpacity:.3}),h.jsx("stop",{offset:"95%",stopColor:"#3b82f6",stopOpacity:0})]}),h.jsxs("linearGradient",{id:"color2",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"#f59e0b",stopOpacity:.3}),h.jsx("stop",{offset:"95%",stopColor:"#f59e0b",stopOpacity:0})]})]}),h.jsx(Am,{strokeDasharray:"3 3",strokeOpacity:.1}),h.jsx(km,{dataKey:"date",stroke:"var(--text-secondary)",tick:{fill:"var(--text-secondary)",fontSize:12},interval:"preserveStartEnd"}),h.jsx(Im,{stroke:"var(--text-secondary)",tick:{fill:"var(--text-secondary)",fontSize:12},tickFormatter:ce=>`${ce}%`}),h.jsx(Xx,{contentStyle:{backgroundColor:"var(--surface)",borderColor:"var(--border)",borderRadius:"8px",fontFamily:"JetBrains Mono, monospace",color:"var(--text-primary)"},itemStyle:{color:"var(--text-primary)"},labelStyle:{color:"var(--text-secondary)"}}),h.jsx(hK,{}),h.jsx(qc,{type:"monotone",dataKey:g.symbol,stroke:"#3b82f6",fillOpacity:1,fill:"url(#color1)",strokeWidth:2}),h.jsx(qc,{type:"monotone",dataKey:w.symbol,stroke:"#f59e0b",fillOpacity:1,fill:"url(#color2)",strokeWidth:2})]})})}),N&&h.jsx("div",{className:"mt-4 pt-4 border-t border-border",children:h.jsxs("div",{className:"flex flex-wrap items-center justify-between gap-4",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("span",{className:"text-secondary text-sm",children:"Correlation:"}),h.jsx("span",{className:"font-mono font-bold text-xl text-primary",children:typeof N.correlation=="number"?N.correlation.toFixed(4):"0.0000"}),h.jsxs("span",{className:"text-secondary text-sm",children:["over ",N.days," days"]})]}),h.jsx(b4e,{correlation:N.correlation})]}),h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("span",{className:"text-xs text-secondary uppercase tracking-wider",children:"Correlation Period:"}),h.jsx("div",{className:"flex gap-1",children:[{value:"30",label:"30D"},{value:"60",label:"60D"},{value:"90",label:"90D"},{value:"180",label:"6M"},{value:"365",label:"1Y"}].map(ce=>h.jsx("button",{onClick:()=>O(ce.value),className:`px-2 py-1 text-xs font-mono rounded transition-colors ${j===ce.value?"bg-purple-600 text-white":"bg-slate-100 dark:bg-slate-800 text-secondary hover:text-primary hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:ce.label},ce.value))})]})]})})]}),g&&w&&N&&h.jsxs("div",{className:"bg-surface border border-border rounded-xl overflow-hidden shadow-sm",children:[h.jsx("div",{className:"px-4 py-3 border-b border-border bg-gradient-to-r from-purple-500/10 to-blue-500/10",children:h.jsxs("h3",{className:"font-semibold text-primary flex items-center gap-2",children:[h.jsx(qI,{className:"w-4 h-4"})," Relationship Analysis"]})}),h.jsxs("div",{className:"p-6",children:[h.jsxs("div",{className:"flex flex-wrap items-center gap-6 mb-6",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-secondary uppercase tracking-wider mb-2",children:"Correlation Coefficient"}),h.jsx(x4e,{value:N.correlation})]}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-secondary uppercase tracking-wider mb-2",children:"Trend"}),h.jsx(w4e,{trend:N.trend})]}),N.trend!=="stable"&&h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-secondary uppercase tracking-wider mb-2",children:"Previous Period"}),h.jsx("span",{className:"font-mono text-secondary",children:typeof N.previousCorrelation=="number"?N.previousCorrelation.toFixed(4):"N/A"})]})]}),h.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4 border border-slate-200 dark:border-slate-700",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(vee,{className:"w-6 h-6 text-purple-500"}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-secondary uppercase tracking-wider mb-1",children:"AI Insight"}),h.jsx("p",{className:"text-primary leading-relaxed",children:N.insight})]})]})}),h.jsxs("div",{className:"mt-6",children:[h.jsx("div",{className:"text-xs text-secondary uppercase tracking-wider mb-2",children:"Correlation Scale"}),h.jsx("div",{className:"relative h-3 bg-gradient-to-r from-red-500 via-slate-300 dark:via-slate-600 to-green-500 rounded-full",children:h.jsx("div",{className:"absolute top-1/2 -translate-y-1/2 w-4 h-4 bg-white dark:bg-slate-200 rounded-full border-2 border-slate-900 shadow-lg",style:{left:`${(N.correlation+1)*50}%`,transform:"translate(-50%, -50%)"}})}),h.jsxs("div",{className:"flex justify-between text-xs text-secondary mt-1",children:[h.jsx("span",{children:"-1 (Inverse)"}),h.jsx("span",{children:"0 (No relation)"}),h.jsx("span",{children:"+1 (Same direction)"})]})]})]})]}),g&&w&&N&&h.jsxs("div",{className:"bg-surface border border-border rounded-xl overflow-hidden shadow-sm",children:[h.jsx("div",{className:"px-4 py-3 border-b border-border bg-gradient-to-r from-amber-500/10 to-orange-500/10",children:h.jsxs("h3",{className:"font-semibold text-primary flex items-center gap-2",children:[h.jsx(nte,{className:"w-4 h-4"}),' "What-If" Prediction']})}),h.jsxs("div",{className:"p-6",children:[h.jsx("div",{className:"mb-6",children:h.jsxs("div",{className:"text-primary mb-4",children:["If ",h.jsx("span",{className:"font-mono font-bold text-blue-600 dark:text-blue-400",children:g.symbol})," moves",h.jsx("div",{className:"inline-flex items-center mx-2",children:h.jsxs("select",{value:F,onChange:ce=>D(parseFloat(ce.target.value)),className:"bg-slate-100 dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded px-3 py-1 font-mono text-green-600 dark:text-green-400 focus:outline-none focus:ring-2 focus:ring-blue-500",children:[h.jsx("option",{value:-10,children:"-10%"}),h.jsx("option",{value:-5,children:"-5%"}),h.jsx("option",{value:-3,children:"-3%"}),h.jsx("option",{value:-1,children:"-1%"}),h.jsx("option",{value:1,children:"+1%"}),h.jsx("option",{value:3,children:"+3%"}),h.jsx("option",{value:5,children:"+5%"}),h.jsx("option",{value:10,children:"+10%"})]})}),", what typically happens to ",h.jsx("span",{className:"font-mono font-bold text-amber-600 dark:text-amber-400",children:w.symbol}),"?"]})}),U&&h.jsx("div",{className:"bg-slate-50 dark:bg-slate-800/50 rounded-lg p-4 border border-slate-200 dark:border-slate-700",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx("div",{className:"flex items-center justify-center w-10 h-10",children:U.avgMove>=0?h.jsx(lr,{className:"w-6 h-6 text-green-600 dark:text-green-400"}):h.jsx(wc,{className:"w-6 h-6 text-red-600 dark:text-red-400"})}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-4 mb-3",children:[h.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg px-4 py-2 border border-slate-200 dark:border-slate-800",children:[h.jsx("div",{className:"text-xs text-secondary uppercase tracking-wider",children:"Expected Move"}),h.jsxs("div",{className:`text-2xl font-mono font-bold ${U.avgMove>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[U.avgMove>=0?"+":"",typeof U.avgMove=="number"?U.avgMove.toFixed(2):"0.00","%"]})]}),!U.isEstimate&&U.count>0&&h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg px-4 py-2 border border-slate-200 dark:border-slate-800",children:[h.jsx("div",{className:"text-xs text-secondary uppercase tracking-wider",children:"Same Direction"}),h.jsxs("div",{className:"text-2xl font-mono font-bold text-primary",children:[U.probability,"%"]})]}),h.jsxs("div",{className:"bg-white dark:bg-slate-900 rounded-lg px-4 py-2 border border-slate-200 dark:border-slate-800",children:[h.jsx("div",{className:"text-xs text-secondary uppercase tracking-wider",children:"Sample Size"}),h.jsx("div",{className:"text-2xl font-mono font-bold text-primary",children:U.count})]})]})]}),h.jsx("p",{className:"text-secondary text-sm leading-relaxed",children:U.insight})]})]})}),h.jsxs("div",{className:"mt-4 text-xs text-secondary flex items-center gap-2",children:[h.jsx(ml,{className:"w-3 h-3"}),h.jsx("span",{children:"Based on historical data. Past performance does not guarantee future results."})]})]})]}),g&&w&&h.jsxs("div",{className:"bg-surface border border-border rounded-xl overflow-hidden shadow-sm",children:[h.jsx("div",{className:"px-4 py-3 border-b border-border",children:h.jsx("h3",{className:"font-semibold text-primary",children:"Key Metrics Comparison"})}),h.jsxs("div",{className:"p-4",children:[h.jsxs("div",{className:"grid grid-cols-3 gap-4 pb-3 border-b border-border mb-2",children:[h.jsx("div",{className:"text-secondary text-sm font-medium",children:"Metric"}),h.jsxs("div",{className:"text-center",children:[h.jsx("span",{className:"font-mono font-bold text-blue-600 dark:text-blue-400",children:g.symbol}),h.jsxs("span",{className:"text-xs text-secondary ml-1",children:["(",t,")"]})]}),h.jsxs("div",{className:"text-center",children:[h.jsx("span",{className:"font-mono font-bold text-amber-600 dark:text-amber-400",children:w.symbol}),h.jsxs("span",{className:"text-xs text-secondary ml-1",children:["(",r,")"]})]})]}),h.jsx(NA,{label:"Current Price",value1:g.price,value2:w.price,format:"currency"}),h.jsx(NA,{label:"24h Change",value1:g.change,value2:w.change,format:"percent"}),h.jsx(NA,{label:"Market Cap",value1:g.marketCap,value2:w.marketCap,format:"marketCap"})]})]}),(!g||!w)&&h.jsxs("div",{className:"bg-surface border border-border rounded-xl p-12 text-center shadow-sm",children:[h.jsx(BI,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Select Two Assets to Compare"}),h.jsx("p",{className:"text-secondary text-sm",children:"Choose market type, then select an asset from the dropdown to see correlation analysis"})]})]})}function E4e(){const{currentUser:t}=Vi(),[e,r]=E.useState([]),[n,i]=E.useState([]),[a,s]=E.useState(!0);E.useEffect(()=>{let d=()=>{};return(async()=>{if(t)d=nl.subscribeToWatchlist(t.uid,p=>{r(p),o(p)});else{const p=JSON.parse(localStorage.getItem("watchlist")||"[]");r(p),o(p)}})(),()=>d()},[t]);const o=async d=>{s(!0);try{const[f,p,g]=await Promise.all([Sn.getMarketData("stocks"),Sn.getMarketData("crypto"),Sn.getMarketData("commodities")]),b=[...f,...p,...g],w=d.map(_=>{const x=b.find(T=>T.symbol===_.symbol);return x?{..._,...x}:_}).filter(_=>_.price);i(w)}catch(f){console.error("Failed to load watchlist data:",f)}finally{s(!1)}},c=async d=>{if(t)try{await nl.removeFromWatchlist(t.uid,d)}catch(f){console.error("Failed to remove from watchlist:",f)}else{const f=e.filter(p=>p.symbol!==d);localStorage.setItem("watchlist",JSON.stringify(f)),r(f),i(n.filter(p=>p.symbol!==d))}};return a?h.jsx("div",{className:"flex items-center justify-center h-96",children:h.jsxs("div",{className:"text-center",children:[h.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-4",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h.jsx("span",{className:"text-slate-400 font-mono",children:"Loading watchlist..."})]})}):h.jsxs("div",{className:"p-6 space-y-6 animate-fadeIn",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Watchlist"}),h.jsxs("p",{className:"text-secondary text-sm font-mono",children:[n.length," assets tracked"]})]})}),n.length>0?h.jsx("div",{className:"bg-surface border border-border rounded-xl overflow-hidden shadow-sm",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-border bg-slate-50 dark:bg-slate-800/50",children:[h.jsx("th",{className:"text-left px-4 py-3 text-xs text-secondary uppercase tracking-wider font-medium",children:"Asset"}),h.jsx("th",{className:"text-right px-4 py-3 text-xs text-secondary uppercase tracking-wider font-medium",children:"Price"}),h.jsx("th",{className:"text-right px-4 py-3 text-xs text-secondary uppercase tracking-wider font-medium",children:"24h Change"}),h.jsx("th",{className:"text-right px-4 py-3 text-xs text-secondary uppercase tracking-wider font-medium",children:"Market Cap"}),h.jsx("th",{className:"text-center px-4 py-3 text-xs text-secondary uppercase tracking-wider font-medium",children:"Actions"})]})}),h.jsx("tbody",{children:n.map(d=>h.jsxs("tr",{className:"border-b border-border last:border-0 hover:bg-slate-50 dark:hover:bg-slate-800/30 transition-colors",children:[h.jsx("td",{className:"px-4 py-4",children:h.jsxs(or,{to:`/asset/${d.market}/${d.symbol}`,className:"flex items-center gap-3 group",children:[h.jsx(Kz,{symbol:d.symbol,market:d.market,size:32,className:"group-hover:scale-110 transition-transform shadow-sm"}),h.jsxs("div",{children:[h.jsx("div",{className:"font-mono font-bold text-primary group-hover:text-blue-500 transition-colors",children:d.symbol}),h.jsx("div",{className:"text-xs text-secondary",children:d.name})]})]})}),h.jsxs("td",{className:"px-4 py-4 text-right font-mono text-primary",children:["$",d.price?.toLocaleString()]}),h.jsxs("td",{className:`px-4 py-4 text-right font-mono ${d.change>=0?"text-green-600 dark:text-gain-bright":"text-red-600 dark:text-loss-bright"}`,children:[d.change>=0?"+":"",d.change?.toFixed(2),"%"]}),h.jsx("td",{className:"px-4 py-4 text-right font-mono text-secondary",children:d.marketCap>=1e12?`$${(d.marketCap/1e12).toFixed(2)}T`:d.marketCap>=1e9?`$${(d.marketCap/1e9).toFixed(2)}B`:`$${(d.marketCap/1e6).toFixed(2)}M`}),h.jsx("td",{className:"px-4 py-4 text-center",children:h.jsxs("div",{className:"flex items-center justify-center gap-2",children:[h.jsx(or,{to:`/asset/${d.market}/${d.symbol}`,className:"p-2 text-secondary hover:text-blue-500 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded transition-colors",title:"View Details",children:h.jsxs("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:[h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M15 12a3 3 0 11-6 0 3 3 0 016 0z"}),h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M2.458 12C3.732 7.943 7.523 5 12 5c4.478 0 8.268 2.943 9.542 7-1.274 4.057-5.064 7-9.542 7-4.477 0-8.268-2.943-9.542-7z"})]})}),h.jsx("button",{onClick:()=>c(d.symbol),className:"p-2 text-secondary hover:text-red-500 hover:bg-red-50 dark:hover:bg-red-900/20 rounded transition-colors",title:"Remove from Watchlist",children:h.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:h.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M19 7l-.867 12.142A2 2 0 0116.138 21H7.862a2 2 0 01-1.995-1.858L5 7m5 4v6m4-6v6m1-10V4a1 1 0 00-1-1h-4a1 1 0 00-1 1v3M4 7h16"})})})]})})]},d.symbol))})]})}):h.jsxs("div",{className:"bg-surface border border-border rounded-xl p-12 text-center shadow-sm",children:[h.jsx(Ev,{className:"w-12 h-12 text-slate-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-semibold text-primary mb-2",children:"Your Watchlist is Empty"}),h.jsx("p",{className:"text-secondary text-sm mb-4",children:"Add assets to your watchlist to track them here"}),h.jsxs(or,{to:"/",className:"inline-flex items-center gap-2 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-lg shadow-blue-500/20",children:[h.jsx(dd,{className:"w-4 h-4"}),h.jsx("span",{children:"Browse Assets"})]})]})]})}const Wr=[];for(let t=0;t<256;++t)Wr.push((t+256).toString(16).slice(1));function S4e(t,e=0){return(Wr[t[e+0]]+Wr[t[e+1]]+Wr[t[e+2]]+Wr[t[e+3]]+"-"+Wr[t[e+4]]+Wr[t[e+5]]+"-"+Wr[t[e+6]]+Wr[t[e+7]]+"-"+Wr[t[e+8]]+Wr[t[e+9]]+"-"+Wr[t[e+10]]+Wr[t[e+11]]+Wr[t[e+12]]+Wr[t[e+13]]+Wr[t[e+14]]+Wr[t[e+15]]).toLowerCase()}let RA;const T4e=new Uint8Array(16);function A4e(){if(!RA){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");RA=crypto.getRandomValues.bind(crypto)}return RA(T4e)}const k4e=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto),u$={randomUUID:k4e};function I4e(t,e,r){t=t||{};const n=t.random??t.rng?.()??A4e();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,S4e(n)}function P4e(t,e,r){return u$.randomUUID&&!t?u$.randomUUID():I4e(t)}const HX="portfolio";function d$(){return{holdings:[],totalValue:0,totalCost:0,totalGainLoss:0,totalGainLossPercent:0,lastUpdated:new Date().toISOString()}}async function pf(t){if(t)return await _he(t);try{const e=localStorage.getItem(HX);return e?JSON.parse(e):d$()}catch(e){return console.error("Failed to load portfolio:",e),d$()}}async function DR(t,e){if(t.lastUpdated=new Date().toISOString(),e)return await Ehe(e,t),!0;try{return localStorage.setItem(HX,JSON.stringify(t)),!0}catch(r){return console.error("Failed to save portfolio:",r),!1}}async function C4e(t,e){const r=await pf(e),n={id:P4e(),symbol:t.symbol,name:t.name,market:t.market,quantity:parseFloat(t.quantity),purchasePrice:parseFloat(t.purchasePrice),purchaseDate:t.purchaseDate||new Date().toISOString().split("T")[0],currentPrice:parseFloat(t.currentPrice||t.purchasePrice),totalValue:0,totalCost:0,gainLoss:0,gainLossPercent:0};return n.totalCost=n.quantity*n.purchasePrice,n.totalValue=n.quantity*n.currentPrice,n.gainLoss=n.totalValue-n.totalCost,n.gainLossPercent=n.gainLoss/n.totalCost*100,r.holdings.push(n),MR(r),await DR(r,e),r}async function N4e(t,e){const r=await pf(e);return r.holdings=r.holdings.filter(n=>n.id!==t),MR(r),await DR(r,e),r}async function R4e(t,e){const r=await pf(e),n=new Map(t.map(i=>[i.symbol,i.currentPrice]));return r.holdings.forEach(i=>{n.has(i.symbol)&&(i.currentPrice=n.get(i.symbol),i.totalValue=i.quantity*i.currentPrice,i.gainLoss=i.totalValue-i.totalCost,i.gainLossPercent=i.totalCost>0?i.gainLoss/i.totalCost*100:0)}),MR(r),await DR(r,e),r}function MR(t){if(!t.holdings||t.holdings.length===0){t.totalValue=0,t.totalCost=0,t.totalGainLoss=0,t.totalGainLossPercent=0;return}t.totalValue=t.holdings.reduce((e,r)=>e+r.totalValue,0),t.totalCost=t.holdings.reduce((e,r)=>e+r.totalCost,0),t.totalGainLoss=t.totalValue-t.totalCost,t.totalGainLossPercent=t.totalCost>0?t.totalGainLoss/t.totalCost*100:0}async function O4e(t,e){const r=await pf(e);if(!r.holdings||r.holdings.length===0)return r;try{const n=r.holdings.reduce((a,s)=>(a[s.market]||(a[s.market]=[]),a[s.market].push(s.symbol),a),{}),i=[];for(const[a,s]of Object.entries(n)){const o=await t.getMarketData(a);s.forEach(c=>{const d=o.find(f=>f.symbol===c);d&&i.push({symbol:d.symbol,currentPrice:d.price})})}return await R4e(i,e)}catch(n){return console.error("Failed to refresh portfolio prices:",n),r}}function j4e({onClose:t,onAdd:e}){const r=si(I=>I.marketData),[n,i]=E.useState("stocks"),[a,s]=E.useState(""),[o,c]=E.useState(""),[d,f]=E.useState(""),[p,g]=E.useState(new Date().toISOString().split("T")[0]),[b,w]=E.useState(""),_=r[n]||[],x=_.find(I=>I.symbol===a);E.useEffect(()=>{x&&!d&&f(x.price.toString())},[x]);const T=I=>{if(I.preventDefault(),w(""),!a){w("Please select an asset");return}if(!o||parseFloat(o)<=0){w("Please enter a valid quantity");return}if(!d||parseFloat(d)<=0){w("Please enter a valid purchase price");return}const P={symbol:a,name:x?.name||a,market:n,quantity:parseFloat(o),purchasePrice:parseFloat(d),purchaseDate:p,currentPrice:x?.price||parseFloat(d)};e(P)};return h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/70 backdrop-blur-sm",children:h.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl w-full max-w-lg mx-4 shadow-2xl",children:[h.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-slate-700",children:[h.jsx("h2",{className:"text-xl font-bold text-slate-200",children:"Add Holding"}),h.jsx("button",{onClick:t,className:"p-2 text-slate-400 hover:text-slate-200 hover:bg-slate-800 rounded-lg transition-colors",children:h.jsx(WI,{className:"w-5 h-5"})})]}),h.jsxs("form",{onSubmit:T,className:"p-6 space-y-5",children:[b&&h.jsx("div",{className:"bg-red-900/20 border border-red-500/50 text-red-200 px-4 py-3 rounded-lg text-sm",children:b}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm text-slate-400 mb-2 font-medium",children:"Step 1: Choose Market"}),h.jsx("div",{className:"grid grid-cols-3 gap-2",children:[{value:"stocks",label:"Stocks",icon:lr,color:"text-blue-500"},{value:"crypto",label:"Crypto",icon:qp,color:"text-purple-500"},{value:"commodities",label:"Commodities",icon:_v,color:"text-amber-500"}].map(I=>h.jsxs("button",{type:"button",onClick:()=>{i(I.value),s(""),f("")},className:`flex flex-col items-center justify-center gap-2 p-3 rounded-xl font-medium text-sm transition-all ${n===I.value?"bg-blue-600 text-white shadow-lg shadow-blue-500/25":"bg-slate-800 text-slate-400 hover:text-slate-200 hover:bg-slate-700"}`,children:[h.jsx(I.icon,{className:`w-5 h-5 ${n===I.value?"text-white":I.color}`}),h.jsx("span",{children:I.label})]},I.value))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm text-slate-400 mb-2 font-medium",children:"Step 2: Select Asset"}),h.jsxs("select",{value:a,onChange:I=>{s(I.target.value),f("")},className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-sm text-slate-200 font-mono focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0,children:[h.jsx("option",{value:"",children:"Select an asset"}),_.map(I=>h.jsxs("option",{value:I.symbol,children:[I.symbol," - ",I.name]},I.symbol))]})]}),x&&h.jsxs("div",{className:"p-4 bg-slate-800/50 rounded-lg border border-slate-700",children:[h.jsxs("div",{className:"flex items-center justify-between mb-1",children:[h.jsx("span",{className:"font-mono font-bold text-lg text-slate-200",children:x.symbol}),h.jsxs("span",{className:`font-mono ${x.change>=0?"text-emerald-400":"text-red-400"}`,children:[x.change>=0?"+":"",x.change?.toFixed(2),"%"]})]}),h.jsx("div",{className:"text-sm text-slate-500 mb-2",children:x.name}),h.jsxs("div",{className:"text-xl font-mono text-slate-200",children:["$",x.price?.toLocaleString()]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm text-slate-400 mb-2 font-medium",children:"Step 3: Enter Quantity"}),h.jsx("input",{type:"number",step:"any",min:"0",value:o,onChange:I=>c(I.target.value),placeholder:"e.g., 10",className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-sm text-slate-200 font-mono focus:outline-none focus:ring-2 focus:ring-blue-500",required:!0})]}),h.jsxs("div",{children:[h.jsxs("label",{className:"block text-sm text-slate-400 mb-2 font-medium",children:["Purchase Price (Optional)",h.jsx("span",{className:"text-slate-600 ml-2",children:"Defaults to current price"})]}),h.jsxs("div",{className:"relative",children:[h.jsx("span",{className:"absolute left-4 top-1/2 -translate-y-1/2 text-slate-500",children:"$"}),h.jsx("input",{type:"number",step:"any",min:"0",value:d,onChange:I=>f(I.target.value),placeholder:x?.price.toString()||"0.00",className:"w-full bg-slate-800 border border-slate-700 rounded-lg pl-8 pr-4 py-3 text-sm text-slate-200 font-mono focus:outline-none focus:ring-2 focus:ring-blue-500"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-sm text-slate-400 mb-2 font-medium",children:"Purchase Date (Optional)"}),h.jsx("input",{type:"date",value:p,onChange:I=>g(I.target.value),max:new Date().toISOString().split("T")[0],className:"w-full bg-slate-800 border border-slate-700 rounded-lg px-4 py-3 text-sm text-slate-200 font-mono focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),o&&d&&h.jsx("div",{className:"p-4 bg-blue-900/20 border border-blue-500/30 rounded-lg",children:h.jsxs("div",{className:"flex items-center justify-between text-sm",children:[h.jsx("span",{className:"text-blue-300",children:"Total Cost"}),h.jsxs("span",{className:"font-mono font-bold text-blue-200 text-lg",children:["$",(parseFloat(o)*parseFloat(d)).toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]})}),h.jsxs("div",{className:"flex items-center gap-3 pt-2",children:[h.jsx("button",{type:"button",onClick:t,className:"flex-1 px-4 py-3 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded-lg transition-colors border border-slate-700 font-medium",children:"Cancel"}),h.jsx("button",{type:"submit",className:"flex-1 px-4 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-lg shadow-blue-500/25 font-medium",children:"Add to Portfolio"})]})]})]})})}function D4e(){const{currentUser:t}=Vi(),e=t?.uid,[r,n]=E.useState(null),[i,a]=E.useState(!0),[s,o]=E.useState(!1),[c,d]=E.useState(!1);E.useEffect(()=>{f()},[t]);const f=async()=>{const _=await pf(e);n(_),a(!1)},p=async()=>{o(!0);try{const _=await O4e(Sn,e);n(_)}catch(_){console.error("Failed to refresh prices:",_)}finally{o(!1)}},g=async _=>{if(window.confirm("Are you sure you want to remove this holding?")){const x=await N4e(_,e);n(x)}},b=async _=>{const x=await C4e(_,e);n(x),d(!1)};if(i)return h.jsx("div",{className:"flex items-center justify-center h-96",children:h.jsxs("div",{className:"text-center",children:[h.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-4",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h.jsx("span",{className:"text-slate-400 font-mono",children:"Loading portfolio..."})]})});const w=!r.holdings||r.holdings.length===0;return h.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl font-bold text-slate-200 flex items-center gap-2",children:[h.jsx(ep,{className:"w-6 h-6 text-blue-500"}),"My Portfolio"]}),h.jsxs("p",{className:"text-slate-500 text-sm font-mono mt-1",children:[r.holdings.length," holdings  Last updated: ",new Date(r.lastUpdated).toLocaleString()]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("button",{onClick:p,disabled:s||w,className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded-lg transition-colors border border-slate-700 flex items-center gap-2 font-medium disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsx(tp,{className:`w-4 h-4 ${s?"animate-spin":""}`}),"Refresh Prices"]}),h.jsxs("button",{onClick:()=>d(!0),className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-lg shadow-blue-500/25 flex items-center gap-2 font-medium",children:[h.jsx($A,{className:"w-4 h-4"}),"Add Holding"]})]})]}),w?h.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-12 text-center",children:[h.jsx(ep,{className:"w-16 h-16 text-slate-600 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-semibold text-slate-200 mb-2",children:"Portfolio Empty"}),h.jsx("p",{className:"text-slate-400 text-sm mb-6",children:"Start tracking your investments by adding your first holding"}),h.jsxs("button",{onClick:()=>d(!0),className:"inline-flex items-center gap-2 px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-lg shadow-blue-500/20 font-medium",children:[h.jsx($A,{className:"w-5 h-5"}),"Add Your First Holding"]})]}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-5",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Total Value"}),h.jsx(Q0,{className:"w-4 h-4 text-blue-400"})]}),h.jsxs("div",{className:"text-2xl font-bold text-slate-200 font-mono",children:["$",r.totalValue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),h.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-5",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Total Cost"}),h.jsx(Q0,{className:"w-4 h-4 text-slate-400"})]}),h.jsxs("div",{className:"text-2xl font-bold text-slate-200 font-mono",children:["$",r.totalCost.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),h.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-5",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Total P/L"}),r.totalGainLoss>=0?h.jsx(lr,{className:"w-4 h-4 text-emerald-400"}):h.jsx(wc,{className:"w-4 h-4 text-red-400"})]}),h.jsxs("div",{className:`text-2xl font-bold font-mono ${r.totalGainLoss>=0?"text-emerald-400":"text-red-400"}`,children:[r.totalGainLoss>=0?"+":"","$",r.totalGainLoss.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]})]}),h.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-5",children:[h.jsxs("div",{className:"flex items-center justify-between mb-2",children:[h.jsx("span",{className:"text-xs text-slate-500 uppercase tracking-wider",children:"Return"}),r.totalGainLossPercent>=0?h.jsx(lr,{className:"w-4 h-4 text-emerald-400"}):h.jsx(wc,{className:"w-4 h-4 text-red-400"})]}),h.jsxs("div",{className:`text-2xl font-bold font-mono ${r.totalGainLossPercent>=0?"text-emerald-400":"text-red-400"}`,children:[r.totalGainLossPercent>=0?"+":"",r.totalGainLossPercent.toFixed(2),"%"]})]})]}),h.jsx("div",{className:"bg-slate-900 border border-slate-700 rounded-xl overflow-hidden",children:h.jsx("div",{className:"overflow-x-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{children:h.jsxs("tr",{className:"border-b border-slate-700 bg-slate-800/50",children:[h.jsx("th",{className:"text-left px-6 py-4 text-xs text-slate-400 uppercase tracking-wider font-medium",children:"Asset"}),h.jsx("th",{className:"text-right px-6 py-4 text-xs text-slate-400 uppercase tracking-wider font-medium",children:"Quantity"}),h.jsx("th",{className:"text-right px-6 py-4 text-xs text-slate-400 uppercase tracking-wider font-medium",children:"Avg Cost"}),h.jsx("th",{className:"text-right px-6 py-4 text-xs text-slate-400 uppercase tracking-wider font-medium",children:"Current Price"}),h.jsx("th",{className:"text-right px-6 py-4 text-xs text-slate-400 uppercase tracking-wider font-medium",children:"Total Value"}),h.jsx("th",{className:"text-right px-6 py-4 text-xs text-slate-400 uppercase tracking-wider font-medium",children:"P/L"}),h.jsx("th",{className:"text-right px-6 py-4 text-xs text-slate-400 uppercase tracking-wider font-medium",children:"Return"}),h.jsx("th",{className:"text-center px-6 py-4 text-xs text-slate-400 uppercase tracking-wider font-medium",children:"Actions"})]})}),h.jsx("tbody",{children:r.holdings.map(_=>h.jsxs("tr",{className:"border-b border-slate-700 last:border-0 hover:bg-slate-800/30 transition-colors",children:[h.jsx("td",{className:"px-6 py-4",children:h.jsxs(or,{to:`/asset/${_.market}/${_.symbol}`,className:"flex items-center gap-3 group",children:[h.jsx(Kz,{symbol:_.symbol,market:_.market,size:36,className:"group-hover:scale-110 transition-transform shadow-sm"}),h.jsxs("div",{children:[h.jsx("div",{className:"font-mono font-bold text-slate-200 group-hover:text-blue-400 transition-colors",children:_.symbol}),h.jsx("div",{className:"text-xs text-slate-500",children:_.name}),h.jsx("div",{className:"text-xs text-slate-600 capitalize",children:_.market})]})]})}),h.jsx("td",{className:"px-6 py-4 text-right font-mono text-slate-200",children:_.quantity}),h.jsxs("td",{className:"px-6 py-4 text-right font-mono text-slate-200",children:["$",_.purchasePrice.toFixed(2)]}),h.jsxs("td",{className:"px-6 py-4 text-right font-mono text-slate-200",children:["$",_.currentPrice.toFixed(2)]}),h.jsxs("td",{className:"px-6 py-4 text-right font-mono text-slate-200",children:["$",_.totalValue.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),h.jsxs("td",{className:`px-6 py-4 text-right font-mono ${_.gainLoss>=0?"text-emerald-400":"text-red-400"}`,children:[_.gainLoss>=0?"+":"","$",_.gainLoss.toLocaleString(void 0,{minimumFractionDigits:2,maximumFractionDigits:2})]}),h.jsxs("td",{className:`px-6 py-4 text-right font-mono font-bold ${_.gainLossPercent>=0?"text-emerald-400":"text-red-400"}`,children:[_.gainLossPercent>=0?"+":"",_.gainLossPercent.toFixed(2),"%"]}),h.jsx("td",{className:"px-6 py-4 text-center",children:h.jsx("div",{className:"flex items-center justify-center gap-2",children:h.jsx("button",{onClick:()=>g(_.id),className:"p-2 text-red-400 hover:text-red-300 hover:bg-red-900/20 rounded transition-colors",title:"Remove Holding",children:h.jsx(VA,{className:"w-4 h-4"})})})})]},_.id))})]})})}),h.jsx("div",{className:"bg-blue-900/10 border border-blue-500/30 rounded-xl p-6",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h3",{className:"font-semibold text-blue-200 mb-1",children:"View Detailed Analytics"}),h.jsx("p",{className:"text-sm text-blue-300/70",children:"See Sharpe Ratio, Volatility, Beta, and correlation analysis for your portfolio"})]}),h.jsx(or,{to:"/analytics",className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-lg shadow-blue-500/20 font-medium",children:"Go to Analytics "})]})})]}),c&&h.jsx(j4e,{onClose:()=>d(!1),onAdd:b})]})}function M4e(){const{market:t,symbol:e}=YJ(),{currentUser:r}=Vi(),n=r?.uid,[i,a]=E.useState(null),[s,o]=E.useState([]),[c,d]=E.useState("1M"),[f,p]=E.useState(!0),[g,b]=E.useState(!1);E.useEffect(()=>{async function T(){p(!0);try{const P=(await Sn.getMarketData(t)).find(j=>j.symbol===e);if(a(P),n){const j=await nl.getWatchlist(n);b(j.some(O=>O.symbol===e))}else{const j=JSON.parse(localStorage.getItem("watchlist")||"[]");b(j.some(O=>O.symbol===e))}w(P,c)}catch(I){console.error("Failed to load asset:",I)}finally{p(!1)}}T()},[t,e,c,r]);const w=(T,I)=>{if(!T)return;const P=I==="1D"?1:I==="1W"?7:I==="1M"?30:I==="3M"?90:365,j=[];let O=T.price;const V=I==="1D"?24:P;for(let C=V;C>=0;C--){const N=new Date;I==="1D"?N.setHours(N.getHours()-C):N.setDate(N.getDate()-C),O=O*(1+(Math.random()-.5)*.02),j.push({time:I==="1D"?N.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit"}):N.toLocaleDateString("en-US",{month:"short",day:"numeric"}),price:parseFloat(O.toFixed(2)),volume:Math.floor(Math.random()*1e6)})}o(j)},_=async()=>{if(n)try{g?await nl.removeFromWatchlist(n,e):await nl.addToWatchlist(n,{symbol:e,market:t,name:i?.name}),b(!g)}catch(T){console.error("Watchlist operation failed:",T)}else{const T=JSON.parse(localStorage.getItem("watchlist")||"[]");if(g){const I=T.filter(P=>P.symbol!==e);localStorage.setItem("watchlist",JSON.stringify(I)),b(!1)}else T.push({symbol:e,market:t,name:i?.name}),localStorage.setItem("watchlist",JSON.stringify(T)),b(!0)}},x=()=>{switch(t){case"stocks":return h.jsx(lr,{className:"w-8 h-8 text-white"});case"crypto":return h.jsx(qp,{className:"w-8 h-8 text-white"});case"commodities":return h.jsx(_v,{className:"w-8 h-8 text-white"});default:return h.jsx(V$,{className:"w-8 h-8 text-white"})}};return f?h.jsx("div",{className:"flex items-center justify-center h-96",children:h.jsxs("div",{className:"text-center",children:[h.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500 mx-auto mb-4",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h.jsxs("span",{className:"text-slate-400 font-mono",children:["Loading ",e,"..."]})]})}):i?h.jsxs("div",{className:"p-6 space-y-6 animate-fadeIn",children:[h.jsxs("div",{className:"flex items-start justify-between",children:[h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsx("div",{className:"w-14 h-14 bg-gradient-to-br from-blue-500 to-purple-600 rounded-xl flex items-center justify-center text-2xl shadow-lg shadow-blue-500/20",children:x()}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("h1",{className:"text-2xl font-bold text-primary",children:i.symbol}),h.jsx("span",{className:"text-xs uppercase px-2 py-1 bg-slate-100 dark:bg-slate-800 text-secondary rounded font-medium",children:t})]}),h.jsx("p",{className:"text-secondary",children:i.name})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsxs("button",{onClick:_,className:`px-4 py-2 rounded-lg flex items-center gap-2 transition-colors ${g?"bg-yellow-500/20 text-yellow-600 dark:text-yellow-400 border border-yellow-500/30":"bg-slate-100 dark:bg-slate-800 text-secondary hover:text-primary hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:[h.jsx(Ev,{className:`w-4 h-4 ${g?"fill-current":""}`}),h.jsx("span",{children:g?"Watchlisted":"Add to Watchlist"})]}),h.jsxs(or,{to:"/compare",className:"px-4 py-2 bg-slate-100 dark:bg-slate-800 text-secondary hover:text-primary hover:bg-slate-200 dark:hover:bg-slate-700 rounded-lg flex items-center gap-2 transition-colors",children:[h.jsx(BI,{className:"w-4 h-4"}),h.jsx("span",{children:"Compare"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"lg:col-span-1 bg-surface border border-border rounded-xl p-4 shadow-sm",children:[h.jsx("div",{className:"text-sm text-secondary mb-1",children:"Current Price"}),h.jsxs("div",{className:"text-3xl font-bold font-mono text-primary",children:["$",i.price?.toLocaleString()]}),h.jsxs("div",{className:`flex items-center gap-2 mt-2 ${i.change>=0?"text-green-600 dark:text-gain-bright":"text-red-600 dark:text-loss-bright"}`,children:[i.change>=0?h.jsx(lr,{className:"w-4 h-4"}):h.jsx(wc,{className:"w-4 h-4"}),h.jsxs("span",{className:"font-mono",children:[i.change>=0?"+":"",i.change?.toFixed(2),"%"]})]})]}),h.jsxs("div",{className:"bg-surface border border-border rounded-xl p-4 shadow-sm",children:[h.jsx("div",{className:"text-sm text-secondary mb-1",children:"Market Cap"}),h.jsx("div",{className:"text-xl font-mono text-primary",children:i.marketCap>=1e12?`$${(i.marketCap/1e12).toFixed(2)}T`:i.marketCap>=1e9?`$${(i.marketCap/1e9).toFixed(2)}B`:`$${(i.marketCap/1e6).toFixed(2)}M`})]}),h.jsxs("div",{className:"bg-surface border border-border rounded-xl p-4 shadow-sm",children:[h.jsx("div",{className:"text-sm text-secondary mb-1",children:"24h High"}),h.jsxs("div",{className:"text-xl font-mono text-green-600 dark:text-gain-bright",children:["$",(i.price*1.02).toFixed(2)]})]}),h.jsxs("div",{className:"bg-surface border border-border rounded-xl p-4 shadow-sm",children:[h.jsx("div",{className:"text-sm text-secondary mb-1",children:"24h Low"}),h.jsxs("div",{className:"text-xl font-mono text-red-600 dark:text-loss-bright",children:["$",(i.price*.98).toFixed(2)]})]})]}),h.jsxs("div",{className:"bg-surface border border-border rounded-xl p-4 shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h3",{className:"font-semibold text-primary",children:"Price Chart"}),h.jsx("div",{className:"flex gap-2",children:["1D","1W","1M","3M","1Y"].map(T=>h.jsx("button",{onClick:()=>d(T),className:`px-3 py-1 text-sm font-mono rounded transition-colors ${c===T?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-800 text-secondary hover:text-primary hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:T},T))})]}),h.jsx("div",{className:"h-80",children:h.jsx(jx,{width:"100%",height:"100%",children:h.jsxs(Qx,{data:s,children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"priceGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:i.change>=0?"#22c55e":"#ef4444",stopOpacity:.3}),h.jsx("stop",{offset:"95%",stopColor:i.change>=0?"#22c55e":"#ef4444",stopOpacity:0})]})}),h.jsx(Am,{strokeDasharray:"3 3",strokeOpacity:.1}),h.jsx(km,{dataKey:"time",stroke:"var(--text-secondary)",tick:{fill:"var(--text-secondary)",fontSize:11},interval:"preserveStartEnd"}),h.jsx(Im,{stroke:"var(--text-secondary)",tick:{fill:"var(--text-secondary)",fontSize:11},domain:["auto","auto"],tickFormatter:T=>`$${T}`}),h.jsx(Xx,{contentStyle:{backgroundColor:"var(--surface)",borderColor:"var(--border)",borderRadius:"8px",fontFamily:"JetBrains Mono, monospace",color:"var(--text-primary)"},itemStyle:{color:"var(--text-primary)"},labelStyle:{color:"var(--text-secondary)"},formatter:T=>[`$${T}`,"Price"]}),h.jsx(qc,{type:"monotone",dataKey:"price",stroke:i.change>=0?"#22c55e":"#ef4444",fillOpacity:1,fill:"url(#priceGradient)",strokeWidth:2})]})})})]}),h.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"bg-surface border border-border rounded-xl p-4 shadow-sm",children:[h.jsx("div",{className:"text-xs text-secondary uppercase tracking-wider mb-1",children:"Volume (24h)"}),h.jsx("div",{className:"text-lg font-mono text-primary",children:"$4.2B"})]}),h.jsxs("div",{className:"bg-surface border border-border rounded-xl p-4 shadow-sm",children:[h.jsx("div",{className:"text-xs text-secondary uppercase tracking-wider mb-1",children:"Open"}),h.jsxs("div",{className:"text-lg font-mono text-primary",children:["$",(i.price*.995).toFixed(2)]})]}),h.jsxs("div",{className:"bg-surface border border-border rounded-xl p-4 shadow-sm",children:[h.jsx("div",{className:"text-xs text-secondary uppercase tracking-wider mb-1",children:"Prev Close"}),h.jsxs("div",{className:"text-lg font-mono text-primary",children:["$",(i.price*.99).toFixed(2)]})]}),h.jsxs("div",{className:"bg-surface border border-border rounded-xl p-4 shadow-sm",children:[h.jsx("div",{className:"text-xs text-secondary uppercase tracking-wider mb-1",children:"52W Range"}),h.jsxs("div",{className:"text-lg font-mono text-primary",children:["$",(i.price*.7).toFixed(0)," - $",(i.price*1.3).toFixed(0)]})]})]})]}):h.jsx("div",{className:"p-6",children:h.jsxs("div",{className:"bg-dark-surface border border-dark-border rounded-xl p-12 text-center",children:[h.jsx(hee,{className:"w-12 h-12 text-slate-400 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-semibold text-slate-300 mb-2",children:"Asset Not Found"}),h.jsxs("p",{className:"text-slate-500 text-sm mb-4",children:["Could not find ",e," in ",t]}),h.jsx(or,{to:"/",className:"text-blue-400 hover:text-blue-300",children:" Back to Dashboard"})]})})}const Uu={correlationLookback:90,aiExplanations:!0,aiDetailLevel:"detailed",refreshInterval:30,showAfterHoursGrayscale:!0,alertSound:"default",alertDuration:5e3,exportFormat:"csv",exportMetadata:!0,theme:"dark",notifications:{correlationAlerts:!0,priceAlerts:!1,marketNews:!0,volumeSpikes:!1}},zc=XI(gV((t,e)=>({settings:{...Uu},_userId:null,updateSetting:(r,n)=>{t(a=>({settings:{...a.settings,[r]:n}}));const i=e()._userId;i&&a_(i,e().settings)},updateNotification:(r,n)=>{t(a=>({settings:{...a.settings,notifications:{...a.settings.notifications,[r]:n}}}));const i=e()._userId;i&&a_(i,e().settings)},resetSettings:()=>{t({settings:{...Uu}});const r=e()._userId;r&&a_(r,{...Uu})},loadFromFirestore:async r=>{if(r){t({_userId:r});try{const n=await khe(r);n&&Object.keys(n).length>0?t({settings:{...Uu,...n}}):t({settings:{...Uu}})}catch(n){console.error("Failed to load settings from Firestore:",n)}}},clearUserData:()=>{t({settings:{...Uu},_userId:null})},getRefreshInterval:()=>e().settings.refreshInterval*1e3,getCorrelationLookback:()=>e().settings.correlationLookback}),{name:"marketvue_settings",partialize:t=>({settings:t.settings})}));if(typeof window<"u")try{const t=Wd();Mv(t,e=>{e?zc.getState().loadFromFirestore(e.uid):zc.getState().clearUserData()})}catch{}const Vo=({title:t,description:e,children:r})=>h.jsxs("div",{className:"bg-surface border border-border rounded-xl overflow-hidden shadow-sm",children:[h.jsxs("div",{className:"px-4 py-3 border-b border-border",children:[h.jsx("h3",{className:"font-semibold text-primary",children:t}),e&&h.jsx("p",{className:"text-xs text-secondary mt-1",children:e})]}),h.jsx("div",{className:"p-4 space-y-4",children:r})]}),Xl=({label:t,description:e,checked:r,onChange:n})=>h.jsxs("div",{className:"flex items-center justify-between py-2",children:[h.jsxs("div",{children:[h.jsx("div",{className:"text-sm text-primary",children:t}),e&&h.jsx("div",{className:"text-xs text-secondary",children:e})]}),h.jsx("button",{onClick:()=>n(!r),className:`relative inline-flex h-6 w-11 items-center rounded-full transition-colors ${r?"bg-blue-600":"bg-slate-300 dark:bg-slate-700"}`,children:h.jsx("span",{className:`inline-block h-4 w-4 transform rounded-full bg-white transition-transform ${r?"translate-x-6":"translate-x-1"}`})})]}),_0=({label:t,options:e,value:r,onChange:n})=>h.jsxs("div",{className:"py-2",children:[h.jsx("div",{className:"text-sm text-primary mb-3",children:t}),h.jsx("div",{className:"flex flex-wrap gap-2",children:e.map(i=>h.jsx("button",{onClick:()=>n(i.value),className:`px-4 py-2 text-sm font-mono rounded-lg transition-colors ${r===i.value?"bg-blue-600 text-white":"bg-slate-100 dark:bg-slate-800 text-secondary hover:text-primary hover:bg-slate-200 dark:hover:bg-slate-700"}`,children:i.label},i.value))})]}),OA=({label:t,description:e,options:r,value:n,onChange:i})=>h.jsxs("div",{className:"py-2",children:[h.jsx("div",{className:"flex items-center justify-between mb-2",children:h.jsxs("div",{children:[h.jsx("div",{className:"text-sm text-primary",children:t}),e&&h.jsx("div",{className:"text-xs text-secondary",children:e})]})}),h.jsx("select",{value:n,onChange:a=>i(a.target.value),className:"w-full bg-slate-100 dark:bg-slate-800 border border-slate-300 dark:border-slate-700 rounded-lg px-4 py-2.5 text-sm text-primary font-mono focus:outline-none focus:ring-2 focus:ring-blue-500",children:r.map(a=>h.jsx("option",{value:a.value,children:a.label},a.value))})]});function L4e(){const{settings:t,updateSetting:e,updateNotification:r,resetSettings:n}=zc(),{theme:i,setTheme:a}=hp(),[s,o]=E.useState(!1),c=()=>{o(!0),setTimeout(()=>o(!1),2e3)},d=()=>{n()};return h.jsxs("div",{className:"p-6 space-y-6 max-w-4xl",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Settings"}),h.jsx("p",{className:"text-secondary text-sm font-mono",children:"Customize your dashboard experience"})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[s&&h.jsxs("span",{className:"text-green-500 text-sm flex items-center gap-1",children:[h.jsx(L$,{className:"w-4 h-4"})," Saved!"]}),h.jsx("button",{onClick:d,className:"px-4 py-2 text-sm text-secondary hover:text-primary transition-colors",children:"Reset to Defaults"}),h.jsx("button",{onClick:c,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-lg shadow-blue-500/30",children:"Save Settings"})]})]}),h.jsxs(Vo,{title:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(qI,{className:"w-4 h-4"})," Correlation Preferences"]}),description:"Configure how correlation analysis works",children:[h.jsx(OA,{label:"Default Lookback Period",description:"Time period for calculating correlations",value:t.correlationLookback,onChange:f=>e("correlationLookback",parseInt(f)),options:[{value:30,label:"30 Days"},{value:60,label:"60 Days"},{value:90,label:"90 Days (Recommended)"},{value:180,label:"180 Days (6 Months)"},{value:365,label:"365 Days (1 Year)"}]}),h.jsx(Xl,{label:"AI Explanations",description:"Show natural language insights for correlations",checked:t.aiExplanations,onChange:f=>e("aiExplanations",f)}),t.aiExplanations&&h.jsx(_0,{label:"Explanation Detail Level",value:t.aiDetailLevel,onChange:f=>e("aiDetailLevel",f),options:[{value:"brief",label:"Brief"},{value:"detailed",label:"Detailed"}]})]}),h.jsxs(Vo,{title:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ji,{className:"w-4 h-4"})," Price Alert Configuration"]}),description:"Customize how price alerts behave",children:[h.jsx(_0,{label:"Alert Sound",value:t.alertSound||"default",onChange:f=>e("alertSound",f),options:[{value:"default",label:"Default Beep"},{value:"subtle",label:"Subtle Chime"},{value:"none",label:"Mute"}]}),h.jsx(Xl,{label:"Volume Spikes",description:"Alert when trading volume exceeds 200% of average",checked:t.notifications.volumeSpikes,onChange:f=>r("volumeSpikes",f)}),h.jsx(OA,{label:"Alert Display Duration",description:"How long alert toasts stay visible",value:t.alertDuration||5e3,onChange:f=>e("alertDuration",parseInt(f)),options:[{value:3e3,label:"3 Seconds"},{value:5e3,label:"5 Seconds"},{value:1e4,label:"10 Seconds"},{value:0,label:"Until Dismissed"}]})]}),h.jsxs(Vo,{title:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx($$,{className:"w-4 h-4"})," Export Preferences"]}),description:"Configure default settings for data exports",children:[h.jsx(_0,{label:"Default Format",value:t.exportFormat||"csv",onChange:f=>e("exportFormat",f),options:[{value:"csv",label:"CSV"},{value:"json",label:"JSON"}]}),h.jsx(Xl,{label:"Include Metadata",description:"Add header row with timestamp and source info",checked:t.exportMetadata!==!1,onChange:f=>e("exportMetadata",f)})]}),h.jsxs(Vo,{title:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Wee,{className:"w-4 h-4"})," Display Preferences"]}),description:"Customize the visual appearance",children:[h.jsx(_0,{label:"Theme",value:i,onChange:f=>{a(f),e("theme",f)},options:[{value:"dark",label:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(q$,{className:"w-3 h-3"})," Dark"]})},{value:"light",label:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(B$,{className:"w-3 h-3"})," Light"]})},{value:"auto",label:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(qee,{className:"w-3 h-3"})," System"]})}]}),h.jsx(Xl,{label:"After-Hours Grayscale",description:"Show stock heatmap in grayscale when market is closed",checked:t.showAfterHoursGrayscale,onChange:f=>e("showAfterHoursGrayscale",f)})]}),h.jsx(Vo,{title:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(tp,{className:"w-4 h-4"})," Data Refresh"]}),description:"Configure how often data updates",children:h.jsx(OA,{label:"Auto-refresh Interval",description:"How often to fetch new market data",value:t.refreshInterval,onChange:f=>e("refreshInterval",parseInt(f)),options:[{value:15,label:"Every 15 seconds"},{value:30,label:"Every 30 seconds (Recommended)"},{value:60,label:"Every 1 minute"},{value:120,label:"Every 2 minutes"}]})}),h.jsxs(Vo,{title:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(ud,{className:"w-4 h-4"})," Notifications"]}),description:"Manage alert preferences",children:[h.jsx(Xl,{label:"Correlation Alerts",description:"Notify when significant correlation changes are detected",checked:t.notifications.correlationAlerts,onChange:f=>r("correlationAlerts",f)}),h.jsx(Xl,{label:"Price Alerts",description:"Get notified on significant price movements",checked:t.notifications.priceAlerts,onChange:f=>r("priceAlerts",f)}),h.jsx(Xl,{label:"Market News",description:"Receive breaking market news alerts",checked:t.notifications.marketNews,onChange:f=>r("marketNews",f)})]}),h.jsxs(Vo,{title:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(Iee,{className:"w-4 h-4"})," API Configuration"]}),description:"Configure external data sources",children:[h.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800/50 rounded-lg p-4 border border-slate-200 dark:border-slate-700",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:"text-sm text-secondary",children:"Alpha Vantage API"}),h.jsx("span",{className:"text-xs bg-green-500/20 text-green-600 dark:text-green-400 px-2 py-0.5 rounded",children:"Connected"})]}),h.jsx("p",{className:"text-xs text-secondary",children:"Using demo key with limited rate (5 calls/min). Add your own key for unlimited access."})]}),h.jsxs("div",{className:"bg-slate-100 dark:bg-slate-800/50 rounded-lg p-4 border border-slate-200 dark:border-slate-700",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[h.jsx("span",{className:"text-sm text-secondary",children:"Correlation API Server"}),h.jsx("span",{className:"text-xs bg-yellow-500/20 text-yellow-600 dark:text-yellow-400 px-2 py-0.5 rounded",children:"Optional"})]}),h.jsxs("p",{className:"text-xs text-secondary",children:["Run ",h.jsx("code",{className:"bg-slate-200 dark:bg-slate-900 px-1 rounded",children:"npm run api"})," to enable the correlation API server on port 3001."]})]})]}),h.jsx(Vo,{title:h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx(z$,{className:"w-4 h-4"})," Current Configuration"]}),description:"Debug view of saved settings",children:h.jsx("pre",{className:"bg-slate-100 dark:bg-slate-900 rounded-lg p-4 text-xs text-secondary font-mono overflow-x-auto border border-slate-200 dark:border-slate-800",children:JSON.stringify(t,null,2)})})]})}const F4e=({value:t,onChange:e})=>h.jsx("div",{className:"flex gap-2",children:[{value:"crypto",label:"Crypto",icon:qp,color:"text-purple-500"},{value:"stock",label:"Stocks",icon:lr,color:"text-blue-500"},{value:"commodity",label:"Commodities",icon:_v,color:"text-amber-500"}].map(r=>h.jsxs("button",{onClick:()=>e(r.value),className:`flex items-center gap-2 px-4 py-2.5 rounded-lg font-medium transition-all ${t===r.value?"bg-blue-600 text-white shadow-lg shadow-blue-500/25":"bg-slate-800 text-slate-400 hover:text-slate-200 hover:bg-slate-700"}`,children:[h.jsx(r.icon,{className:`w-4 h-4 ${t===r.value?"text-white":r.color}`}),h.jsx("span",{children:r.label})]},r.value))}),$4e=({value:t,onChange:e})=>h.jsx("div",{className:"flex gap-1",children:[{value:7,label:"1W"},{value:30,label:"1M"},{value:90,label:"3M"},{value:180,label:"6M"},{value:365,label:"1Y"}].map(r=>h.jsx("button",{onClick:()=>e(r.value),className:`px-3 py-1.5 text-sm font-mono rounded transition-colors ${t===r.value?"bg-purple-600 text-white":"bg-slate-800 text-slate-400 hover:text-slate-200"}`,children:r.label},r.value))});function V4e(){const{currentUser:t}=Vi(),e=t?.uid,[r,n]=E.useState(()=>localStorage.getItem("hms_historical_assetType")||"crypto"),[i,a]=E.useState(()=>localStorage.getItem("hms_historical_symbol")||"BTC"),[s,o]=E.useState(()=>{const P=localStorage.getItem("hms_historical_timeframe");return P?parseInt(P):90}),[c,d]=E.useState([]),[f,p]=E.useState(!1),[g,b]=E.useState(null),[w,_]=E.useState([]);E.useEffect(()=>{e&&Ku(e).then(P=>{P?.historicalAssetType&&n(P.historicalAssetType),P?.historicalSymbol&&a(P.historicalSymbol),P?.historicalTimeframe&&o(P.historicalTimeframe)})},[e]),E.useEffect(()=>{localStorage.setItem("hms_historical_assetType",r),e&&Ku(e).then(P=>{$0(e,{...P,historicalAssetType:r})})},[r]),E.useEffect(()=>{localStorage.setItem("hms_historical_symbol",i),e&&Ku(e).then(P=>{$0(e,{...P,historicalSymbol:i})})},[i]),E.useEffect(()=>{localStorage.setItem("hms_historical_timeframe",s.toString()),e&&Ku(e).then(P=>{$0(e,{...P,historicalTimeframe:s})})},[s]),E.useEffect(()=>{async function P(){try{const j={crypto:"crypto",stock:"stocks",commodity:"commodities"},O=await Sn.getMarketData(j[r]);console.log(`Loaded ${O.length} ${r} assets:`,O.slice(0,3)),_(O),O.length>0&&!O.find(V=>V.symbol===i)&&(console.log(` Symbol ${i} not found, defaulting to ${O[0].symbol}`),a(O[0].symbol))}catch(j){console.error("Failed to load assets:",j)}}P()},[r]),E.useEffect(()=>{async function P(){if(i){p(!0),b(null);try{const j=await Dc(i,s+1,r);j.error?(b(j.error),d([])):d(j)}catch{b("Failed to fetch historical data"),d([])}finally{p(!1)}}}P()},[i,s,r]);const x=ai.useMemo(()=>c.length<=s?c:c.slice(-s),[c,s]),T=ai.useMemo(()=>{if(x.length<2)return null;const P=x.map(F=>F.close),j=Math.max(...P),O=Math.min(...P),V=P[0],C=P[P.length-1],N=(C-V)/V*100,M=P.reduce((F,D)=>F+D,0)/P.length;return{high:j,low:O,first:V,last:C,change:N,avg:M}},[x]),I=w.find(P=>P.symbol===i);return h.jsxs("div",{className:"p-6 space-y-6",children:[h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold text-primary",children:"Historical Data"}),h.jsx("p",{className:"text-secondary text-sm font-mono",children:"View historical price data for any asset"})]}),h.jsxs("div",{className:"bg-surface border border-border rounded-xl p-4 space-y-4 shadow-sm",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-secondary uppercase tracking-wider mb-2 block",children:"Asset Type"}),h.jsx(F4e,{value:r,onChange:n})]}),h.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-secondary uppercase tracking-wider mb-2 block",children:"Select Asset"}),h.jsx("select",{value:i,onChange:P=>a(P.target.value),className:"w-full bg-slate-100 dark:bg-slate-800 border border-slate-300 dark:border-slate-600 rounded-lg px-4 py-2.5 text-sm text-primary font-mono focus:outline-none focus:ring-2 focus:ring-blue-500",children:w.map(P=>h.jsxs("option",{value:P.symbol,children:[P.symbol," - ",P.name]},P.symbol))})]}),h.jsxs("div",{children:[h.jsx("label",{className:"text-xs text-secondary uppercase tracking-wider mb-2 block",children:"Timeframe"}),h.jsx($4e,{value:s,onChange:o})]})]})]}),I&&h.jsx("div",{className:"bg-surface border border-border rounded-xl p-4 shadow-sm",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsx("div",{className:"flex items-center gap-4",children:h.jsxs("div",{children:[h.jsx("h2",{className:"text-xl font-bold font-mono text-primary",children:I.symbol}),h.jsx("p",{className:"text-sm text-secondary",children:I.name})]})}),h.jsxs("div",{className:"text-right",children:[h.jsxs("div",{className:"text-2xl font-mono font-bold text-primary",children:["$",I.price?.toLocaleString()]}),h.jsxs("div",{className:`font-mono ${I.change>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[I.change>=0?"+":"",I.change?.toFixed(2),"%"]})]})]})}),h.jsxs("div",{className:"bg-surface border border-border rounded-xl p-4 shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsxs("h3",{className:"font-semibold text-primary",children:["Price History (",s," days)"]}),T&&h.jsxs("div",{className:`flex items-center gap-1 text-sm font-mono ${T.change>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[T.change>=0?h.jsx(lr,{className:"w-4 h-4"}):h.jsx(wc,{className:"w-4 h-4"}),h.jsxs("span",{children:[Math.abs(T.change).toFixed(2),"%"]})]})]}),h.jsx("div",{className:"h-80",children:f?h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsxs("svg",{className:"animate-spin h-8 w-8 text-blue-500",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}):g?h.jsxs("div",{className:"flex items-center justify-center gap-2 h-full text-red-400",children:[h.jsx(ml,{className:"w-5 h-5"}),h.jsx("span",{children:g})]}):x.length>0?h.jsx(jx,{width:"100%",height:"100%",children:h.jsxs(Qx,{data:x,children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"priceGradient",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:T?.change>=0?"#22c55e":"#ef4444",stopOpacity:.3}),h.jsx("stop",{offset:"95%",stopColor:T?.change>=0?"#22c55e":"#ef4444",stopOpacity:0})]})}),h.jsx(Am,{strokeDasharray:"3 3",strokeOpacity:.1}),h.jsx(km,{dataKey:"date",stroke:"var(--text-secondary)",tick:{fill:"var(--text-secondary)",fontSize:11},interval:"preserveStartEnd"}),h.jsx(Im,{stroke:"var(--text-secondary)",tick:{fill:"var(--text-secondary)",fontSize:11},domain:["auto","auto"],tickFormatter:P=>`$${P.toLocaleString()}`}),h.jsx(Xx,{contentStyle:{backgroundColor:"var(--surface)",borderColor:"var(--border)",borderRadius:"8px",fontFamily:"JetBrains Mono, monospace",color:"var(--text-primary)"},itemStyle:{color:"var(--text-primary)"},labelStyle:{color:"var(--text-secondary)"},formatter:P=>[`$${P.toLocaleString()}`,"Price"]}),h.jsx(qc,{type:"monotone",dataKey:"close",stroke:T?.change>=0?"#22c55e":"#ef4444",fillOpacity:1,fill:"url(#priceGradient)",strokeWidth:2})]})}):h.jsx("div",{className:"flex items-center justify-center h-full text-secondary",children:"No data available"})})]}),T&&h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4",children:[h.jsxs("div",{className:"bg-surface border border-border rounded-xl p-4 shadow-sm",children:[h.jsx("div",{className:"text-xs text-secondary uppercase tracking-wider mb-1",children:"Period High"}),h.jsxs("div",{className:"text-lg font-mono font-bold text-green-600 dark:text-green-400",children:["$",T.high.toLocaleString()]})]}),h.jsxs("div",{className:"bg-surface border border-border rounded-xl p-4 shadow-sm",children:[h.jsx("div",{className:"text-xs text-secondary uppercase tracking-wider mb-1",children:"Period Low"}),h.jsxs("div",{className:"text-lg font-mono font-bold text-red-600 dark:text-red-400",children:["$",T.low.toLocaleString()]})]}),h.jsxs("div",{className:"bg-surface border border-border rounded-xl p-4 shadow-sm",children:[h.jsx("div",{className:"text-xs text-secondary uppercase tracking-wider mb-1",children:"Average"}),h.jsxs("div",{className:"text-lg font-mono font-bold text-primary",children:["$",T.avg.toLocaleString()]})]}),h.jsxs("div",{className:"bg-surface border border-border rounded-xl p-4 shadow-sm",children:[h.jsx("div",{className:"text-xs text-secondary uppercase tracking-wider mb-1",children:"Change"}),h.jsxs("div",{className:`text-lg font-mono font-bold ${T.change>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:[T.change>=0?"+":"",T.change.toFixed(2),"%"]})]})]}),c.length>0&&h.jsxs("div",{className:"bg-surface border border-border rounded-xl overflow-hidden shadow-sm",children:[h.jsx("div",{className:"px-4 py-3 border-b border-border",children:h.jsxs("h3",{className:"font-semibold text-primary",children:["Price Data (",x.length," days)"]})}),h.jsx("div",{className:"max-h-64 overflow-y-auto",children:h.jsxs("table",{className:"w-full",children:[h.jsx("thead",{className:"bg-slate-100 dark:bg-slate-800/50 sticky top-0",children:h.jsxs("tr",{children:[h.jsx("th",{className:"text-left px-4 py-2 text-xs text-secondary uppercase tracking-wider",children:"Date"}),h.jsx("th",{className:"text-right px-4 py-2 text-xs text-secondary uppercase tracking-wider",children:"Close Price"}),h.jsx("th",{className:"text-right px-4 py-2 text-xs text-secondary uppercase tracking-wider",children:"Daily Change"})]})}),h.jsx("tbody",{children:(()=>{const P=[...c].reverse(),j=new Set(x.map(O=>O.date));return P.filter(O=>j.has(O.date)).slice(0,30).map((O,V)=>{const C=P.findIndex(D=>D.date===O.date),N=P[C+1]?.close,F=N!=null?(O.close-N)/N*100:null;return h.jsxs("tr",{className:"border-t border-border hover:bg-slate-50 dark:hover:bg-slate-800/30",children:[h.jsx("td",{className:"px-4 py-2 font-mono text-sm text-primary",children:O.date}),h.jsxs("td",{className:"px-4 py-2 font-mono text-sm text-primary text-right",children:["$",O.close.toLocaleString()]}),h.jsx("td",{className:`px-4 py-2 font-mono text-sm text-right ${F===null?"text-secondary":F>=0?"text-green-600 dark:text-green-400":"text-red-600 dark:text-red-400"}`,children:F!==null?`${F>=0?"+":""}${F.toFixed(2)}%`:"N/A"})]},O.date)})})()})]})})]})]})}const U4e=({alert:t})=>{const e=t.alert_type==="HEDGE_OPPORTUNITY",r=t.alert_type==="DIVERGENCE_WARNING";return h.jsxs("div",{className:`p-4 rounded-xl border transition-all hover:scale-[1.02] ${e?"bg-gradient-to-br from-emerald-500/10 to-teal-500/5 border-emerald-500/30":r?"bg-gradient-to-br from-amber-500/10 to-orange-500/5 border-amber-500/30":"bg-slate-100 dark:bg-slate-800/50 border-slate-300 dark:border-slate-700"}`,children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsxs("div",{className:`flex items-center gap-2 text-sm font-semibold ${e?"text-emerald-500 dark:text-emerald-400":r?"text-amber-500 dark:text-amber-400":"text-blue-500 dark:text-blue-400"}`,children:[e?h.jsx(Up,{className:"w-5 h-5"}):r?h.jsx(ml,{className:"w-5 h-5"}):h.jsx(Aee,{className:"w-5 h-5"}),h.jsx("span",{className:"tracking-tight",children:e?"HEDGE OPPORTUNITY":r?"DIVERGENCE WARNING":"ALERT"})]}),h.jsx("span",{className:`text-[10px] px-2 py-0.5 rounded-full uppercase font-bold tracking-wider ${t.strength==="strong"?"bg-red-500/20 text-red-600 dark:text-red-400 border border-red-500/30":t.strength==="moderate"?"bg-amber-500/20 text-amber-600 dark:text-amber-400 border border-amber-500/30":"bg-slate-200 dark:bg-slate-700 text-secondary border border-border"}`,children:t.strength})]}),h.jsxs("div",{className:"flex items-center justify-between p-3 bg-white/50 dark:bg-slate-900/50 rounded-lg mb-3 border border-slate-200 dark:border-slate-800/50",children:[h.jsxs("div",{className:"text-center w-24",children:[h.jsx("div",{className:"font-bold text-lg text-primary",children:t.asset1}),h.jsxs("div",{className:`flex items-center justify-center gap-1 text-sm font-medium ${t.asset1_change>=0?"text-emerald-500 dark:text-emerald-400":"text-red-500 dark:text-red-400"}`,children:[t.asset1_change>=0?h.jsx(X0,{className:"w-3 h-3"}):h.jsx(FA,{className:"w-3 h-3"}),Math.abs(t.asset1_change),"%"]})]}),h.jsxs("div",{className:"flex flex-col items-center px-2",children:[h.jsx(D$,{className:"w-5 h-5 text-secondary mb-1"}),h.jsxs("span",{className:"text-xs text-secondary font-medium",children:[t.divergence.toFixed(1),"% div"]})]}),h.jsxs("div",{className:"text-center w-24",children:[h.jsx("div",{className:"font-bold text-lg text-primary",children:t.asset2}),h.jsxs("div",{className:`flex items-center justify-center gap-1 text-sm font-medium ${t.asset2_change>=0?"text-emerald-500 dark:text-emerald-400":"text-red-500 dark:text-red-400"}`,children:[t.asset2_change>=0?h.jsx(X0,{className:"w-3 h-3"}):h.jsx(FA,{className:"w-3 h-3"}),Math.abs(t.asset2_change),"%"]})]})]}),h.jsxs("div",{className:"flex items-center justify-between text-xs font-medium",children:[h.jsx("span",{className:"text-secondary",children:t.historical_correlation!=="unknown"?`Historical corr: ${t.historical_correlation}`:"Correlation: N/A"}),r&&h.jsxs("span",{className:"text-amber-500 dark:text-amber-400 flex items-center gap-1",children:[h.jsx(ji,{className:"w-3 h-3"})," Unusual"]})]})]})},jA=({title:t,icon:e,alerts:r,color:n,isLoading:i})=>h.jsxs("div",{className:"bg-surface border border-border rounded-xl overflow-hidden shadow-sm",children:[h.jsx("div",{className:`px-4 py-3 border-b border-border bg-gradient-to-r ${n}`,children:h.jsxs("h2",{className:"font-semibold text-white dark:text-slate-200 flex items-center gap-2",children:[h.jsx(e,{className:"w-5 h-5 text-white/90 dark:text-slate-100/80"}),h.jsx("span",{children:t}),h.jsxs("span",{className:"ml-auto text-xs text-white/80 dark:text-slate-200/60 font-mono bg-black/20 px-2 py-0.5 rounded",children:[r.length," alerts"]})]})}),h.jsx("div",{className:"p-4",children:i?h.jsx("div",{className:"flex items-center justify-center py-12",children:h.jsxs("svg",{className:"animate-spin h-6 w-6 text-blue-500",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4z"})]})}):r.length>0?h.jsx("div",{className:"space-y-3",children:r.map((a,s)=>h.jsx(U4e,{alert:a},s))}):h.jsxs("div",{className:"text-center py-12 text-secondary",children:[h.jsx(F$,{className:"w-12 h-12 mx-auto mb-3 text-slate-400/50"}),h.jsx("span",{className:"text-sm font-medium",children:"No alerts triggered"}),h.jsx("p",{className:"text-xs text-secondary mt-1",children:"Market moving normally"})]})})]}),q4e=({stockAlerts:t,cryptoAlerts:e,commodityAlerts:r})=>{const n=t.length+e.length+r.length,i=[...t,...e,...r].filter(o=>o.alert_type==="HEDGE_OPPORTUNITY").length,a=[...t,...e,...r].filter(o=>o.alert_type==="DIVERGENCE_WARNING").length,s=[...t,...e,...r].filter(o=>o.strength==="strong").length;return h.jsxs("div",{className:"grid grid-cols-2 md:grid-cols-4 gap-4 mb-6",children:[h.jsxs("div",{className:"bg-surface border border-border rounded-xl p-4 flex flex-col justify-between hover:border-blue-500/30 transition-colors shadow-sm",children:[h.jsx("div",{className:"text-xs text-secondary uppercase tracking-wider font-semibold mb-2",children:"Total Alerts"}),h.jsxs("div",{className:"flex items-end justify-between",children:[h.jsx("div",{className:"text-3xl font-bold text-primary",children:n}),h.jsx(lr,{className:"w-5 h-5 text-blue-500/50 mb-1"})]})]}),h.jsxs("div",{className:"bg-surface border border-emerald-500/20 rounded-xl p-4 flex flex-col justify-between hover:border-emerald-500/40 transition-colors shadow-sm",children:[h.jsx("div",{className:"text-xs text-emerald-500/80 uppercase tracking-wider font-semibold mb-2",children:"Hedge Opps"}),h.jsxs("div",{className:"flex items-end justify-between",children:[h.jsx("div",{className:"text-3xl font-bold text-emerald-500 dark:text-emerald-400",children:i}),h.jsx(Up,{className:"w-5 h-5 text-emerald-500/50 mb-1"})]})]}),h.jsxs("div",{className:"bg-surface border border-amber-500/20 rounded-xl p-4 flex flex-col justify-between hover:border-amber-500/40 transition-colors shadow-sm",children:[h.jsx("div",{className:"text-xs text-amber-500/80 uppercase tracking-wider font-semibold mb-2",children:"Divergences"}),h.jsxs("div",{className:"flex items-end justify-between",children:[h.jsx("div",{className:"text-3xl font-bold text-amber-500 dark:text-amber-400",children:a}),h.jsx(ml,{className:"w-5 h-5 text-amber-500/50 mb-1"})]})]}),h.jsxs("div",{className:"bg-surface border border-red-500/20 rounded-xl p-4 flex flex-col justify-between hover:border-red-500/40 transition-colors shadow-sm",children:[h.jsx("div",{className:"text-xs text-red-500/80 uppercase tracking-wider font-semibold mb-2",children:"Strong Signals"}),h.jsxs("div",{className:"flex items-end justify-between",children:[h.jsx("div",{className:"text-3xl font-bold text-red-500 dark:text-red-400",children:s}),h.jsx(ji,{className:"w-5 h-5 text-red-500/50 mb-1"})]})]})]})};function z4e(){const[t,e]=E.useState([]),[r,n]=E.useState([]),[i,a]=E.useState([]),[s,o]=E.useState(!0),[c,d]=E.useState(null);return E.useEffect(()=>{async function f(){o(!0);try{const g=await Hz();e(g.stocks||[]),n(g.crypto||[]),a(g.commodities||[]),d(new Date)}catch(g){console.error("Failed to fetch volatility alerts:",g)}finally{o(!1)}}f();const p=setInterval(f,6e4);return()=>clearInterval(p)},[]),h.jsxs("div",{className:"p-6 space-y-6 max-w-[1600px] mx-auto",children:[h.jsxs("div",{className:"flex flex-col md:flex-row md:items-center justify-between gap-4",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl font-bold text-primary flex items-center gap-3",children:[h.jsx(ji,{className:"w-6 h-6 text-amber-400 fill-amber-400/20"}),"Volatility Alerts"]}),h.jsx("p",{className:"text-secondary text-sm mt-1",children:"Real-time divergence detection & correlation tracking"})]}),h.jsxs("div",{className:"flex items-center gap-4",children:[c&&h.jsxs("div",{className:"flex items-center gap-2 text-xs text-secondary bg-surface px-3 py-1.5 rounded-full border border-border shadow-sm",children:[h.jsx("span",{className:"w-1.5 h-1.5 rounded-full bg-emerald-500 animate-pulse"}),"Updated: ",c.toLocaleTimeString()]}),h.jsxs(or,{to:"/compare",className:"px-4 py-2 bg-indigo-600 hover:bg-indigo-700 text-white rounded-lg transition-colors flex items-center gap-2 text-sm font-medium shadow-lg shadow-indigo-900/20",children:[h.jsx(qI,{className:"w-4 h-4"}),h.jsx("span",{children:"Deep Compare"})]})]})]}),h.jsx(q4e,{stockAlerts:t,cryptoAlerts:r,commodityAlerts:i}),h.jsxs("div",{className:"flex flex-wrap gap-6 p-4 bg-surface rounded-xl border border-border shadow-sm",children:[h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-1.5 bg-emerald-500/10 rounded-full border border-emerald-500/20",children:h.jsx(Up,{className:"w-4 h-4 text-emerald-500 dark:text-emerald-400"})}),h.jsxs("div",{children:[h.jsx("span",{className:"text-sm font-semibold text-primary block",children:"Hedge Opportunity"}),h.jsx("span",{className:"text-xs text-secondary",children:"Low correlation assets moving opposite"})]})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"p-1.5 bg-amber-500/10 rounded-full border border-amber-500/20",children:h.jsx(ml,{className:"w-4 h-4 text-amber-500 dark:text-amber-400"})}),h.jsxs("div",{children:[h.jsx("span",{className:"text-sm font-semibold text-primary block",children:"Divergence Warning"}),h.jsx("span",{className:"text-xs text-secondary",children:"High correlation assets unusually diverging"})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsx(jA,{title:"US Stocks",icon:dd,alerts:t,color:"from-blue-600/90 to-indigo-600/90",isLoading:s}),h.jsx(jA,{title:"Cryptocurrency",icon:qp,alerts:r,color:"from-orange-500/90 to-amber-500/90",isLoading:s}),h.jsx(jA,{title:"Commodities",icon:_ee,alerts:i,color:"from-emerald-500/90 to-teal-500/90",isLoading:s})]})]})}const Pm="marketvue_price_alerts",B4e=(t,e)=>{const r=[];let n=!1;if(!e||e.length===0)return{notifications:r,updatedAlerts:null};const i=[...t.stocks,...t.crypto,...t.commodities],a=e.map(s=>{const o=i.find(c=>c.symbol===s.symbol);if(o){let c=!1,d="";if(s.triggered)return s;switch(s.type){case"price_above":o.price>=s.threshold&&(c=!0,d=`${o.symbol} is above target price of $${s.threshold}`);break;case"price_below":o.price<=s.threshold&&(c=!0,d=`${o.symbol} is below target price of $${s.threshold}`);break;case"percent_change":Math.abs(o.change)>=s.threshold&&(c=!0,d=`${o.symbol} has moved by ${o.change}%`);break}if(c)return r.push({title:`Price Alert: ${o.symbol}`,message:d,type:"alert",timestamp:Date.now(),assetId:o.symbol}),n=!0,{...s,triggered:!0}}return s});return{notifications:r,updatedAlerts:n?a:null}},W4e=async(t,e)=>{const r={id:Date.now(),created_at:Date.now(),triggered:!1,...t};if(e)return await She(e,t);const n=Jx();return n.push(r),localStorage.setItem(Pm,JSON.stringify(n)),r},H4e=async t=>t?await tC(t):Jx(),Jx=()=>{const t=localStorage.getItem(Pm);return t?JSON.parse(t):[]},f$=async(t,e)=>{if(e)return await The(e,t);const n=Jx().filter(i=>i.id!==t);return localStorage.setItem(Pm,JSON.stringify(n)),n},G4e=async t=>t?await Ahe(t):(localStorage.setItem(Pm,JSON.stringify([])),[]),K4e=async(t,e)=>{e?await lb(e,t):localStorage.setItem(Pm,JSON.stringify(t))};function Y4e({isOpen:t,onClose:e,onSave:r,editingAlert:n=null,initialSymbol:i=""}){const[a,s]=E.useState(i),[o,c]=E.useState("price_above"),[d,f]=E.useState(""),[p,g]=E.useState(""),b=si(T=>T.marketData),w=[...b.stocks,...b.crypto,...b.commodities];if(E.useEffect(()=>{n?(s(n.symbol),c(n.type),f(n.threshold)):i?s(i):(s(""),c("price_above"),f("")),g("")},[t,n,i]),!t)return null;const _=T=>{if(T.preventDefault(),!a){g("Please select an asset");return}if(!d||isNaN(parseFloat(d))){g("Please enter a valid threshold value");return}r({symbol:a.toUpperCase(),type:o,threshold:parseFloat(d),triggered:!1}),e()},x=w.find(T=>T.symbol===a)?.price;return h.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black/50 backdrop-blur-sm p-4",children:h.jsxs("div",{className:"bg-dark-surface border border-dark-border rounded-xl w-full max-w-md shadow-2xl animate-in fade-in zoom-in duration-200",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-dark-border",children:[h.jsxs("h2",{className:"text-lg font-bold text-slate-200 flex items-center gap-2",children:[h.jsx(ud,{className:"w-5 h-5 text-blue-500"}),n?"Edit Alert":"Create Price Alert"]}),h.jsx("button",{onClick:e,className:"text-slate-400 hover:text-white transition-colors",children:h.jsx(WI,{className:"w-5 h-5"})})]}),h.jsxs("form",{onSubmit:_,className:"p-4 space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-mono text-slate-400 mb-1",children:"Asset Symbol"}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",value:a,onChange:T=>s(T.target.value.toUpperCase()),placeholder:"e.g. BTC, AAPL, GOLD",className:"w-full bg-slate-800 border border-dark-border rounded-lg px-3 py-2 text-slate-200 font-mono focus:outline-none focus:ring-2 focus:ring-blue-500",disabled:!!n}),x&&h.jsxs("div",{className:"absolute right-3 top-2.5 text-xs text-slate-400",children:["Current: $",x.toLocaleString()]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-mono text-slate-400 mb-1",children:"Condition"}),h.jsxs("div",{className:"grid grid-cols-3 gap-2",children:[h.jsxs("button",{type:"button",onClick:()=>c("price_above"),className:`p-2 rounded-lg border text-sm flex flex-col items-center justify-center gap-1 transition-colors ${o==="price_above"?"bg-blue-600/20 border-blue-500 text-blue-400":"bg-slate-800 border-dark-border text-slate-400 hover:bg-slate-700"}`,children:[h.jsx(Q0,{className:"w-4 h-4"}),h.jsx("span",{children:"Price Above"})]}),h.jsxs("button",{type:"button",onClick:()=>c("price_below"),className:`p-2 rounded-lg border text-sm flex flex-col items-center justify-center gap-1 transition-colors ${o==="price_below"?"bg-blue-600/20 border-blue-500 text-blue-400":"bg-slate-800 border-dark-border text-slate-400 hover:bg-slate-700"}`,children:[h.jsx(Q0,{className:"w-4 h-4 rotate-180"}),h.jsx("span",{children:"Price Below"})]}),h.jsxs("button",{type:"button",onClick:()=>c("percent_change"),className:`p-2 rounded-lg border text-sm flex flex-col items-center justify-center gap-1 transition-colors ${o==="percent_change"?"bg-blue-600/20 border-blue-500 text-blue-400":"bg-slate-800 border-dark-border text-slate-400 hover:bg-slate-700"}`,children:[h.jsx(Gee,{className:"w-4 h-4"}),h.jsx("span",{children:"% Change"})]})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"block text-xs font-mono text-slate-400 mb-1",children:o==="percent_change"?"Percentage Threshold":"Target Price ($)"}),h.jsx("input",{type:"number",step:"any",value:d,onChange:T=>f(T.target.value),placeholder:o==="percent_change"?"5.0":"50000",className:"w-full bg-slate-800 border border-dark-border rounded-lg px-3 py-2 text-slate-200 font-mono focus:outline-none focus:ring-2 focus:ring-blue-500"})]}),p&&h.jsxs("div",{className:"text-red-400 text-xs flex items-center gap-1 bg-red-500/10 p-2 rounded",children:[h.jsx(ml,{className:"w-3 h-3"}),p]}),h.jsxs("div",{className:"flex gap-3 pt-2",children:[h.jsx("button",{type:"button",onClick:e,className:"flex-1 px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-300 rounded-lg transition-colors text-sm",children:"Cancel"}),h.jsx("button",{type:"submit",className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors text-sm font-medium",children:n?"Update Alert":"Create Alert"})]})]})]})})}function X4e(){const{currentUser:t}=Vi(),e=t?.uid,[r,n]=E.useState([]),[i,a]=E.useState(!1),[s,o]=E.useState(null);E.useEffect(()=>{c()},[t]);const c=async()=>{const b=await H4e(e);n(b)},d=async b=>{await f$(b,e),c()},f=async()=>{window.confirm("Are you sure you want to remove ALL alerts?")&&(await G4e(e),c())},p=async b=>{s&&await f$(s.id,e),await W4e(b,e),c(),o(null)},g=()=>{o(null),a(!0)};return h.jsxs("div",{className:"p-6 space-y-6 max-w-5xl mx-auto",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl font-bold text-slate-200 flex items-center gap-2",children:[h.jsx(ud,{className:"w-6 h-6 text-blue-500"}),"Price Alerts"]}),h.jsx("p",{className:"text-slate-500 text-sm font-mono mt-1",children:"Manage your custom price notifications"})]}),h.jsxs("div",{className:"flex gap-3",children:[r.length>0&&h.jsxs("button",{onClick:f,className:"px-4 py-2 bg-red-500/10 hover:bg-red-500/20 text-red-400 border border-red-500/20 rounded-lg transition-colors flex items-center gap-2 font-medium",children:[h.jsx(VA,{className:"w-4 h-4"}),"Remove All"]}),h.jsxs("button",{onClick:g,className:"px-4 py-2 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors flex items-center gap-2 font-medium",children:[h.jsx($A,{className:"w-4 h-4"}),"New Alert"]})]})]}),r.length===0?h.jsxs("div",{className:"bg-dark-surface border border-dark-border rounded-xl p-12 text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-slate-800 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(ud,{className:"w-8 h-8 text-slate-600"})}),h.jsx("h3",{className:"text-lg font-medium text-slate-300 mb-2",children:"No Alerts Set"}),h.jsx("p",{className:"text-slate-500 max-w-md mx-auto mb-6",children:"Create alerts to get notified when assets reach specific prices or make significant moves."}),h.jsx("button",{onClick:g,className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded-lg transition-colors border border-dark-border",children:"Create First Alert"})]}):h.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-4",children:r.map(b=>h.jsxs("div",{className:"bg-dark-surface border border-dark-border rounded-xl p-4 group hover:border-slate-600 transition-colors relative overlay-hidden",children:[h.jsxs("div",{className:"flex justify-between items-start mb-3",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsx("div",{className:"w-10 h-10 rounded-lg bg-slate-800 flex items-center justify-center font-bold text-slate-300",children:b.symbol.substring(0,3)}),h.jsxs("div",{children:[h.jsx("div",{className:"font-bold text-slate-200",children:b.symbol}),h.jsxs("div",{className:"text-xs text-slate-500 flex items-center gap-1",children:[h.jsx(mee,{className:"w-3 h-3"}),new Date(b.created_at).toLocaleDateString()]})]})]}),h.jsx("div",{className:"flex gap-2",children:b.triggered&&h.jsx("span",{className:"bg-amber-500/20 text-amber-500 text-[10px] px-2 py-1 rounded font-bold uppercase tracking-wider",children:"Triggered"})})]}),h.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[h.jsx("div",{className:`p-2 rounded-lg ${b.type==="percent_change"?"bg-purple-500/10 text-purple-400":b.type==="price_above"?"bg-green-500/10 text-green-400":"bg-red-500/10 text-red-400"}`,children:b.type==="percent_change"?h.jsx(ml,{className:"w-5 h-5"}):b.type==="price_above"?h.jsx(X0,{className:"w-5 h-5"}):h.jsx(FA,{className:"w-5 h-5"})}),h.jsxs("div",{children:[h.jsx("div",{className:"text-xs text-slate-500 uppercase font-semibold tracking-wider",children:"Condition"}),h.jsxs("div",{className:"text-sm font-mono text-slate-300",children:[b.type==="percent_change"?"Moves by ":b.type==="price_above"?"Goes above ":"Goes below ",h.jsxs("span",{className:"font-bold text-white",children:[b.type==="percent_change"?"":"$",b.threshold,b.type==="percent_change"?"%":""]})]})]})]}),h.jsxs("button",{onClick:()=>d(b.id),className:"w-full py-2 flex items-center justify-center gap-2 text-xs text-red-400 hover:bg-red-500/10 rounded transition-colors border border-transparent hover:border-red-500/20",children:[h.jsx(VA,{className:"w-3 h-3"})," Delete Alert"]})]},b.id))}),h.jsx(Y4e,{isOpen:i,onClose:()=>a(!1),onSave:p,editingAlert:s})]})}const Q4e=(t,e=null)=>{if(!t||!t.length)return"";const r=e||Object.keys(t[0]);return[r.join(","),...t.map(i=>r.map(a=>{const s=i[a];return typeof s=="string"&&(s.includes(",")||s.includes('"'))?`"${s.replace(/"/g,'""')}"`:s}).join(","))].join(`
`)},J4e=(t,e,r)=>{const n=new Blob([t],{type:r}),i=window.URL.createObjectURL(n),a=document.createElement("a");a.href=i,a.download=e,document.body.appendChild(a),a.click(),document.body.removeChild(a),window.URL.revokeObjectURL(i)},Z4e=(t,e,r="csv",n=!0)=>{const i=new Date().toISOString(),s=`${`${e}_${i.split("T")[0]}`}.${r}`;let o="";const c=r==="json"?"application/json":"text/csv";if(r==="json"){const d=n?{metadata:{source:"MarketVue",timestamp:i,recordCount:t.length},data:t}:t;o=JSON.stringify(d,null,2)}else{let d=Q4e(t);n?o=`# Source: MarketVue, Timestamp: ${i}, Records: ${t.length}
`+d:o=d}J4e(o,s,c)};async function GX(t,e=30){if(!t||t.length===0)return[];try{const r=await Promise.all(t.map(async o=>{const c=await Dc(o.symbol,e,o.market);return{symbol:o.symbol,quantity:o.quantity,history:c}})),n=new Set;r.forEach(o=>{o.history.forEach(c=>n.add(c.date.split("T")[0]))});const a=Array.from(n).sort().map(o=>{let c=0;return r.forEach(d=>{const f=d.history.find(p=>p.date.startsWith(o));f&&(c+=f.close*d.quantity)}),{date:o,portfolioValue:c}}).filter(o=>o.portfolioValue>0),s=[];for(let o=1;o<a.length;o++){const c=a[o-1].portfolioValue,d=a[o].portfolioValue,f=(d-c)/c;s.push({date:a[o].date,portfolioValue:d,dailyReturn:f})}return s}catch(r){return console.error("Failed to calculate portfolio returns:",r),[]}}function e5e(t,e=.02){if(!t||t.length<2)return 0;const r=t.map(d=>d.dailyReturn||d),n=r.reduce((d,f)=>d+f,0)/r.length,i=r.reduce((d,f)=>d+Math.pow(f-n,2),0)/r.length,a=Math.sqrt(i);if(a===0)return 0;const s=n*252,o=a*Math.sqrt(252),c=(s-e)/o;return Math.round(c*100)/100}function t5e(t){if(!t||t.length<2)return 0;const e=t.map(s=>s.dailyReturn||s),r=e.reduce((s,o)=>s+o,0)/e.length,n=e.reduce((s,o)=>s+Math.pow(o-r,2),0)/e.length,a=Math.sqrt(n)*Math.sqrt(252);return Math.round(a*1e3)/10}async function r5e(t,e="SPY",r=90){if(!t||t.length<2)return 1;try{const i=(await Dc(e,r,"stocks")).map(_=>_.close),a=Id(i),s=t.map(_=>_.dailyReturn||_),o=Math.min(s.length,a.length),c=s.slice(-o),d=a.slice(-o),f=c.reduce((_,x)=>_+x,0)/c.length,p=d.reduce((_,x)=>_+x,0)/d.length;let g=0,b=0;for(let _=0;_<c.length;_++)g+=(c[_]-f)*(d[_]-p),b+=Math.pow(d[_]-p,2);if(g/=c.length,b/=d.length,b===0)return 1;const w=g/b;return Math.round(w*100)/100}catch(n){return console.error("Failed to calculate beta:",n),1}}async function n5e(t,e=30){if(!t||t.length===0)return[];try{const r=await GX(t,e);if(r.length===0)return[];const n=r[0].portfolioValue;return r.map((i,a)=>({day:`Day ${a+1}`,date:i.date,value:Math.round(i.portfolioValue),benchmark:Math.round(n*(1+(Math.random()-.5)*.02))}))}catch(r){return console.error("Failed to generate performance chart:",r),[]}}async function i5e(t,e=90){if(!t||t.length<2)return[];try{const r=await Promise.all(t.map(async i=>{const a=await Dc(i.symbol,e,i.market);return{symbol:i.symbol,prices:a.map(s=>s.close),returns:Id(a.map(s=>s.close))}})),n=[];for(let i=0;i<r.length;i++)for(let a=0;a<r.length;a++){const s=r[i],o=r[a],c=i===a?1:yc(s.returns,o.returns);n.push({asset1:s.symbol,asset2:o.symbol,correlation:typeof c=="number"?c:0,row:i,col:a})}return n}catch(r){return console.error("Failed to calculate correlation matrix:",r),[]}}function a5e(){const{currentUser:t}=Vi(),e=t?.uid,r=zc(P=>P.settings.correlationLookback),n=P=>P<=7?"7d":P<=30?"30d":P<=90?"90d":"YTD",[i,a]=E.useState(n(r)),[s,o]=E.useState(null),[c,d]=E.useState([]),[f,p]=E.useState({sharpeRatio:0,volatility:0,beta:1,totalReturn:0}),[g,b]=E.useState([]),[w,_]=E.useState(!0);E.useEffect(()=>{x()},[i,t]);const x=async()=>{_(!0);const P=await pf(e);if(o(P),!P.holdings||P.holdings.length===0){_(!1);return}try{const j=i==="7d"?7:i==="30d"?30:i==="90d"?90:180,O=await GX(P.holdings,j),V=await n5e(P.holdings,j);if(d(V),O.length>0){const C=e5e(O),N=t5e(O),M=await r5e(O,"SPY",j);p({sharpeRatio:C,volatility:N,beta:M,totalReturn:P.totalGainLossPercent})}if(P.holdings.length>=2){const C=await i5e(P.holdings,j);b(C)}}catch(j){console.error("Failed to load portfolio analytics:",j)}finally{_(!1)}},T=P=>{if(s&&s.holdings){const{exportMetadata:j}=zc.getState().settings;Z4e(s.holdings,"portfolio_analytics",P,j)}},I=!s||!s.holdings||s.holdings.length===0;return w?h.jsx("div",{className:"flex items-center justify-center h-96",children:h.jsxs("div",{className:"text-center",children:[h.jsxs("svg",{className:"animate-spin h-8 w-8 text-purple-500 mx-auto mb-4",viewBox:"0 0 24 24",children:[h.jsx("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4",fill:"none"}),h.jsx("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),h.jsx("span",{className:"text-slate-400 font-mono",children:"Loading analytics..."})]})}):I?h.jsxs("div",{className:"flex flex-col items-center justify-center h-96 p-6",children:[h.jsx(ep,{className:"w-16 h-16 text-slate-600 mb-4"}),h.jsx("h2",{className:"text-2xl font-bold text-slate-200 mb-2",children:"Build Your Portfolio"}),h.jsx("p",{className:"text-slate-400 text-center max-w-md mb-6",children:"Add holdings to your portfolio to see detailed analytics including Sharpe Ratio, Volatility, Beta, and correlation analysis."}),h.jsxs(or,{to:"/portfolio",className:"px-6 py-3 bg-blue-600 hover:bg-blue-700 text-white rounded-lg transition-colors shadow-lg shadow-blue-500/20 font-medium flex items-center gap-2",children:[h.jsx(ep,{className:"w-5 h-5"}),"Go to Portfolio Page"]})]}):h.jsxs("div",{className:"p-6 space-y-6 max-w-7xl mx-auto",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsxs("h1",{className:"text-2xl font-bold text-slate-200 flex items-center gap-2",children:[h.jsx(M$,{className:"w-6 h-6 text-purple-500"}),"Advanced Analytics"]}),h.jsx("p",{className:"text-slate-500 text-sm font-mono mt-1",children:"Portfolio tracking & correlation analysis"})]}),h.jsxs("div",{className:"flex items-center gap-3",children:[h.jsx("div",{className:"bg-slate-800 rounded-lg p-1 flex items-center border border-slate-700",children:["7d","30d","90d","YTD"].map(P=>h.jsx("button",{onClick:()=>a(P),className:`px-3 py-1.5 text-xs font-medium rounded-md transition-colors ${i===P?"bg-purple-600 text-white shadow-sm":"text-slate-400 hover:text-slate-200"}`,children:P},P))}),h.jsxs("div",{className:"relative group",children:[h.jsxs("button",{className:"px-4 py-2 bg-slate-800 hover:bg-slate-700 text-slate-200 rounded-lg transition-colors border border-slate-700 flex items-center gap-2 font-medium",children:[h.jsx($$,{className:"w-4 h-4"}),"Export Data"]}),h.jsx("div",{className:"absolute right-0 top-full pt-2 w-48 hidden group-hover:block z-20",children:h.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl shadow-xl overflow-hidden",children:[h.jsxs("button",{onClick:()=>T("csv"),className:"w-full text-left px-4 py-3 text-sm text-slate-200 hover:bg-slate-800 transition-colors flex items-center justify-between",children:[h.jsx("span",{children:"CSV Format"}),h.jsx("span",{className:"text-xs bg-slate-700 px-1.5 py-0.5 rounded text-slate-400",children:".csv"})]}),h.jsxs("button",{onClick:()=>T("json"),className:"w-full text-left px-4 py-3 text-sm text-slate-200 hover:bg-slate-800 transition-colors border-t border-slate-700 flex items-center justify-between",children:[h.jsx("span",{children:"JSON Format"}),h.jsx("span",{className:"text-xs bg-slate-700 px-1.5 py-0.5 rounded text-slate-400",children:".json"})]})]})})]})]})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"lg:col-span-2 bg-slate-900 border border-slate-700 rounded-xl p-6 shadow-sm",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h3",{className:"font-semibold text-slate-200",children:"Portfolio Performance"}),h.jsxs("div",{className:`flex items-center gap-2 px-3 py-1 rounded-full border ${f.totalReturn>=0?"text-emerald-400 bg-emerald-500/10 border-emerald-500/20":"text-red-400 bg-red-500/10 border-red-500/20"}`,children:[h.jsx(X0,{className:"w-4 h-4"}),h.jsxs("span",{className:"font-mono font-bold",children:[f.totalReturn>=0?"+":"",f.totalReturn.toFixed(2),"%"]})]})]}),h.jsx("div",{className:"h-80 w-full",children:c.length>0?h.jsx(jx,{width:"100%",height:"100%",children:h.jsxs(Qx,{data:c,children:[h.jsx("defs",{children:h.jsxs("linearGradient",{id:"colorValue",x1:"0",y1:"0",x2:"0",y2:"1",children:[h.jsx("stop",{offset:"5%",stopColor:"#8b5cf6",stopOpacity:.3}),h.jsx("stop",{offset:"95%",stopColor:"#8b5cf6",stopOpacity:0})]})}),h.jsx(Am,{strokeDasharray:"3 3",strokeOpacity:.1}),h.jsx(km,{dataKey:"day",stroke:"#64748b",tick:{fontSize:12,fill:"#64748b"}}),h.jsx(Im,{stroke:"#64748b",tick:{fontSize:12,fill:"#64748b"}}),h.jsx(Xx,{contentStyle:{backgroundColor:"#0f172a",borderColor:"#334155",borderRadius:"8px",color:"#e2e8f0"},itemStyle:{color:"#e2e8f0"},labelStyle:{color:"#94a3b8"}}),h.jsx(qc,{type:"monotone",dataKey:"value",stroke:"#8b5cf6",strokeWidth:3,fillOpacity:1,fill:"url(#colorValue)"}),h.jsx(qc,{type:"monotone",dataKey:"benchmark",stroke:"#64748b",strokeDasharray:"5 5",fill:"none"})]})}):h.jsx("div",{className:"flex items-center justify-center h-full text-slate-600",children:"No historical data available"})})]}),h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6 shadow-sm",children:[h.jsxs("h3",{className:"font-semibold text-slate-200 mb-4 flex items-center gap-2",children:[h.jsx(lr,{className:"w-5 h-5 text-emerald-500"}),"Risk Analysis"]}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[h.jsx("span",{className:"text-slate-400",children:"Sharpe Ratio"}),h.jsx("span",{className:"text-slate-200 font-mono",children:f.sharpeRatio.toFixed(2)})]}),h.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-emerald-500",style:{width:`${Math.min(f.sharpeRatio/3*100,100)}%`}})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[h.jsx("span",{className:"text-slate-400",children:"Volatility (30d)"}),h.jsxs("span",{className:"text-slate-200 font-mono",children:[f.volatility.toFixed(1),"%"]})]}),h.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-amber-500",style:{width:`${Math.min(f.volatility*2,100)}%`}})})]}),h.jsxs("div",{children:[h.jsxs("div",{className:"flex justify-between text-sm mb-1",children:[h.jsx("span",{className:"text-slate-400",children:"Beta"}),h.jsx("span",{className:"text-slate-200 font-mono",children:f.beta.toFixed(2)})]}),h.jsx("div",{className:"h-2 bg-slate-800 rounded-full overflow-hidden",children:h.jsx("div",{className:"h-full bg-blue-500",style:{width:`${Math.min(f.beta/2*100,100)}%`}})})]})]})]}),h.jsxs("div",{className:"bg-slate-900 border border-slate-700 rounded-xl p-6 shadow-sm",children:[h.jsx("h3",{className:"font-semibold text-slate-200 mb-4",children:"Correlation Matrix"}),g.length>0?h.jsx("div",{className:"grid grid-cols-4 gap-1",children:g.slice(0,16).map((P,j)=>{const O=Math.abs(P.correlation);return h.jsx("div",{className:"aspect-square rounded",style:{backgroundColor:`rgba(139, 92, 246, ${O})`},title:`${P.asset1}  ${P.asset2}: ${P.correlation.toFixed(2)}`},j)})}):h.jsx("div",{className:"text-sm text-slate-600 text-center",children:"Add more holdings to see correlations"}),h.jsx("p",{className:"text-xs text-slate-500 mt-3 text-center",children:"Correlation strength between portfolio assets"})]})]})]})]})}function s5e(){const[t,e]=E.useState(""),[r,n]=E.useState(""),[i,a]=E.useState(""),[s,o]=E.useState(""),[c,d]=E.useState(""),[f,p]=E.useState(!1),{login:g,googleSignIn:b}=Vi(),w=pl(),_=j=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(j),x=j=>{const O=j.target.value;e(O),O&&!_(O)?o("Please enter a valid email address"):o("")},T=j=>{const O=j.target.value;n(O),d(O?"":"Password is required")};async function I(j){j.preventDefault(),a(""),o(""),d("");let O=!1;if(t?_(t)||(o("Please enter a valid email address"),O=!0):(o("Email is required"),O=!0),r||(d("Password is required"),O=!0),!O){try{p(!0),await g(t,r),w("/dashboard")}catch{a("Invalid email or password. Please try again.")}p(!1)}}async function P(){try{a(""),p(!0),await b(),w("/dashboard")}catch(j){a("Failed to sign in with Google: "+j.message)}p(!1)}return h.jsxs("div",{className:"min-h-screen flex bg-background text-slate-200",children:[h.jsxs("div",{className:"hidden lg:flex w-1/2 bg-gradient-to-bl from-slate-900 via-slate-800 to-blue-950 relative overflow-hidden flex-col justify-between p-12",children:[h.jsxs("div",{className:"absolute top-0 left-0 w-full h-full opacity-20 pointer-events-none",children:[h.jsx("div",{className:"absolute top-20 right-20 w-72 h-72 bg-emerald-500 rounded-full blur-[100px]"}),h.jsx("div",{className:"absolute bottom-20 left-20 w-64 h-64 bg-blue-600 rounded-full blur-[120px]"})]}),h.jsxs("div",{className:"relative z-10",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-12",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-tr from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center shadow-lg shadow-emerald-500/20",children:h.jsx(lr,{className:"text-white w-7 h-7"})}),h.jsx("span",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-400",children:"MarketVue"})]}),h.jsxs("h1",{className:"text-6xl font-extrabold leading-tight mb-6 text-white",children:["Dual-Viewport ",h.jsx("br",{}),h.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-emerald-400 via-teal-400 to-blue-400",children:"Market Heatmap"})]}),h.jsx("p",{className:"text-lg text-slate-300 mb-8 leading-relaxed max-w-md",children:"Compare market performance across two timeframes simultaneously with synchronized heatmaps"}),h.jsx("p",{className:"text-sm text-slate-400 leading-relaxed max-w-md",children:"View S&P 500 stocks in two independent chartscompare daily moves against weekly trends, or track sectors alongside individual stocks"})]}),h.jsx("div",{className:"relative z-10",children:h.jsx("p",{className:"text-2xl font-semibold text-slate-300",children:"Welcome back to the market"})})]}),h.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-8 lg:p-12 bg-surface",children:h.jsxs("div",{className:"max-w-md w-full",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-8 lg:hidden justify-center",children:[h.jsx("div",{className:"w-10 h-10 bg-gradient-to-tr from-emerald-500 to-teal-600 rounded-xl flex items-center justify-center shadow-lg shadow-emerald-500/20",children:h.jsx(lr,{className:"text-white w-6 h-6"})}),h.jsx("span",{className:"text-2xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-400",children:"MarketVue"})]}),h.jsxs("div",{className:"text-center lg:text-left mb-8",children:[h.jsx("h2",{className:"text-2xl font-bold text-white mb-3",children:"Sign In"}),h.jsx("p",{className:"text-sm text-slate-400",children:"Monitor your watchlist, analyze sector heatmaps, and track portfolio performance in real-time"})]}),h.jsxs("div",{className:"w-full my-6",children:[h.jsx("div",{className:"relative rounded-xl overflow-hidden border border-slate-700/50 shadow-2xl shadow-blue-500/10 group",children:h.jsxs("div",{className:"aspect-video bg-gradient-to-br from-slate-900 via-slate-800 to-blue-950 flex items-center justify-center relative overflow-hidden",children:[h.jsxs("div",{className:"absolute inset-0 opacity-30",children:[h.jsx("div",{className:"absolute top-0 left-0 w-32 h-32 bg-emerald-500/20 rounded-full blur-3xl animate-pulse"}),h.jsx("div",{className:"absolute bottom-0 right-0 w-32 h-32 bg-blue-500/20 rounded-full blur-3xl animate-pulse delay-75"})]}),h.jsxs("div",{className:"relative z-10 flex gap-4 p-6 w-full",children:[h.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-2",children:[h.jsx("div",{className:"h-12 bg-emerald-500/30 rounded"}),h.jsx("div",{className:"h-12 bg-red-500/30 rounded"}),h.jsx("div",{className:"h-12 bg-emerald-500/40 rounded"}),h.jsx("div",{className:"h-12 bg-red-500/40 rounded"}),h.jsx("div",{className:"h-12 bg-emerald-500/20 rounded"}),h.jsx("div",{className:"h-12 bg-red-500/20 rounded"})]}),h.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-2",children:[h.jsx("div",{className:"h-12 bg-blue-500/30 rounded"}),h.jsx("div",{className:"h-12 bg-purple-500/30 rounded"}),h.jsx("div",{className:"h-12 bg-blue-500/40 rounded"}),h.jsx("div",{className:"h-12 bg-purple-500/40 rounded"}),h.jsx("div",{className:"h-12 bg-blue-500/20 rounded"}),h.jsx("div",{className:"h-12 bg-purple-500/20 rounded"})]})]}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(ji,{className:"w-12 h-12 text-blue-400"})})]})}),h.jsx("p",{className:"text-center text-xs text-slate-500 mt-3 font-medium",children:"Real-time market heatmaps with synchronized dual views"}),h.jsxs("div",{className:"mt-4 pt-4 border-t border-slate-700/30",children:[h.jsx("p",{className:"text-center text-xs text-slate-500 mb-3",children:"Real-time market data updated intraday  Tracking S&P 500 and major indices"}),h.jsxs("div",{className:"flex items-center justify-center gap-4 flex-wrap",children:[h.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-500",children:[h.jsx("div",{className:"w-1.5 h-1.5 bg-emerald-500 rounded-full"}),h.jsx("span",{children:"Live data from 5,000+ stocks"})]}),h.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-500",children:[h.jsx("div",{className:"w-1.5 h-1.5 bg-blue-500 rounded-full"}),h.jsx("span",{children:"Updated every 15 minutes"})]}),h.jsxs("div",{className:"flex items-center gap-1.5 text-xs text-slate-500",children:[h.jsx("div",{className:"w-1.5 h-1.5 bg-purple-500 rounded-full"}),h.jsx("span",{children:"All S&P 500 sectors"})]})]})]})]}),i&&h.jsx("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-3 rounded-lg text-sm flex items-center gap-2",children:i}),h.jsxs("form",{className:"mt-8 space-y-6",onSubmit:I,children:[h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-300 mb-2",children:"Email Address"}),h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(J0,{className:`h-5 w-5 transition-colors ${s?"text-red-500":"text-slate-500 group-focus-within:text-blue-500"}`})}),h.jsx("input",{id:"email",type:"email",required:!0,className:`block w-full pl-10 pr-3 py-3 bg-slate-900/50 border rounded-xl text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-2 transition-all ${s?"border-red-500 focus:ring-red-500/50 focus:border-red-500":"border-slate-700 focus:ring-blue-500/50 focus:border-blue-500"}`,placeholder:"you@example.com",value:t,onChange:x})]}),s&&h.jsxs("p",{className:"mt-1.5 text-xs text-red-400 flex items-center gap-1",children:[h.jsx("span",{className:"inline-block w-1 h-1 bg-red-400 rounded-full"}),s]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-300 mb-2",children:"Password"}),h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(T0,{className:`h-5 w-5 transition-colors ${c?"text-red-500":"text-slate-500 group-focus-within:text-blue-500"}`})}),h.jsx("input",{id:"password",type:"password",required:!0,className:`block w-full pl-10 pr-3 py-3 bg-slate-900/50 border rounded-xl text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-2 transition-all ${c?"border-red-500 focus:ring-red-500/50 focus:border-red-500":"border-slate-700 focus:ring-blue-500/50 focus:border-blue-500"}`,placeholder:"Enter your password",value:r,onChange:T})]}),c&&h.jsxs("p",{className:"mt-1.5 text-xs text-red-400 flex items-center gap-1",children:[h.jsx("span",{className:"inline-block w-1 h-1 bg-red-400 rounded-full"}),c]}),h.jsx("div",{className:"mt-2 text-right",children:h.jsx(or,{to:"/reset-password",className:"text-xs text-blue-400 hover:text-blue-300 transition-colors font-medium",children:"Forgot password?"})})]})]}),h.jsx("button",{type:"submit",disabled:f,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-bold rounded-xl text-white bg-gradient-to-r from-blue-600 to-indigo-600 hover:from-blue-700 hover:to-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all shadow-lg shadow-blue-600/20 disabled:opacity-50 disabled:cursor-not-allowed",children:f?h.jsx(zI,{className:"w-5 h-5 animate-spin"}):"Sign In"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-0 flex items-center",children:h.jsx("div",{className:"w-full border-t border-slate-700"})}),h.jsx("div",{className:"relative flex justify-center text-sm",children:h.jsx("span",{className:"px-2 bg-surface text-slate-500",children:"Or continue with"})})]}),h.jsxs("button",{type:"button",onClick:P,disabled:f,className:"w-full flex justify-center items-center gap-3 py-3 px-4 border border-slate-700 rounded-xl shadow-sm bg-slate-800/50 text-sm font-medium text-slate-300 hover:bg-slate-800 hover:text-white transition-all disabled:opacity-50",children:[h.jsxs("svg",{className:"h-5 w-5",viewBox:"0 0 24 24",children:[h.jsx("path",{d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z",fill:"#4285F4"}),h.jsx("path",{d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z",fill:"#34A853"}),h.jsx("path",{d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z",fill:"#FBBC05"}),h.jsx("path",{d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z",fill:"#EA4335"})]}),"Sign in with Google"]})]}),h.jsxs("p",{className:"text-center text-sm text-slate-400",children:["Don't have an account?"," ",h.jsx(or,{to:"/signup",className:"font-medium text-blue-400 hover:text-blue-300 transition-colors",children:"Sign up here"})]})]})})]})}function o5e(){const[t,e]=E.useState(""),[r,n]=E.useState(""),[i,a]=E.useState(""),[s,o]=E.useState(""),[c,d]=E.useState(!1),[f,p]=E.useState(""),[g,b]=E.useState(""),[w,_]=E.useState(""),[x,T]=E.useState(""),[I,P]=E.useState(""),[j,O]=E.useState(""),[V,C]=E.useState(!1),{signup:N,googleSignIn:M}=Vi(),F=pl(),D=X=>/^[^\s@]+@[^\s@]+\.[^\s@]+$/.test(X),U=X=>{if(X.length===0)return"";if(X.length<8)return"weak";const ie=/[A-Z]/.test(X),B=/[a-z]/.test(X),Z=/[0-9]/.test(X),_e=/[!@#$%^&*(),.?":{}|<>]/.test(X),oe=[ie,B,Z,_e].filter(Boolean).length;return X.length>=8&&oe>=3?"strong":X.length>=8&&oe>=2?"medium":"weak"},$=X=>{const ie=X.target.value;e(ie),ie.trim()?b(""):b("Full name is required")},G=X=>{const ie=X.target.value;n(ie),ie&&!D(ie)?_("Please enter a valid email address"):_("")},ue=X=>{const ie=X.target.value;a(ie);const B=U(ie);O(B),ie?ie.length<8?T("Password must be at least 8 characters"):T(B==="weak"?"Password is too weak":""):T("Password is required"),s&&ie!==s?P("Passwords do not match"):s&&P("")},ce=X=>{const ie=X.target.value;o(ie),P(ie&&ie!==i?"Passwords do not match":"")};async function se(X){X.preventDefault(),p(""),b(""),_(""),T(""),P("");let ie=!1;if(t.trim()||(b("Full name is required"),ie=!0),r?D(r)||(_("Please enter a valid email address"),ie=!0):(_("Email is required"),ie=!0),i?i.length<8?(T("Password must be at least 8 characters"),ie=!0):U(i)==="weak"&&(T("Password is too weak. Add uppercase letters and numbers"),ie=!0):(T("Password is required"),ie=!0),s?i!==s&&(P("Passwords do not match"),ie=!0):(P("Please confirm your password"),ie=!0),c||(p("You must agree to the Terms of Service and Privacy Policy"),ie=!0),!ie){try{C(!0),await N(r,i,t),F("/dashboard")}catch(B){console.error("Signup Component Error:",B.code,B.message),B.code==="auth/email-already-in-use"?p("Account already exists. Please log in."):p("Failed to create an account: "+B.message)}C(!1)}}async function Q(){try{p(""),C(!0),await M(),F("/dashboard")}catch(X){p("Failed to sign in with Google: "+X.message)}C(!1)}return h.jsxs("div",{className:"min-h-screen flex bg-background text-slate-200",children:[h.jsx("div",{className:"w-full lg:w-1/2 flex items-center justify-center p-6 sm:p-8 lg:p-12",children:h.jsxs("div",{className:"max-w-md w-full",children:[h.jsxs("div",{className:"flex items-center justify-center lg:justify-start gap-3 mb-8",children:[h.jsx("div",{className:"w-12 h-12 bg-gradient-to-tr from-blue-500 to-purple-600 rounded-xl flex items-center justify-center shadow-lg shadow-blue-500/20",children:h.jsx(lr,{className:"text-white w-7 h-7"})}),h.jsx("span",{className:"text-3xl font-bold bg-clip-text text-transparent bg-gradient-to-r from-white to-slate-400",children:"MarketVue"})]}),h.jsxs("div",{className:"mb-8",children:[h.jsxs("h1",{className:"text-3xl sm:text-4xl font-extrabold text-white leading-tight mb-4",children:["Start Analyzing Markets with"," ",h.jsx("span",{className:"text-transparent bg-clip-text bg-gradient-to-r from-blue-400 via-purple-400 to-pink-400",children:"Dual-Viewport Heatmaps"})]}),h.jsx("p",{className:"text-slate-400 text-sm sm:text-base",children:"Get instant access to real-time market data visualized across two synchronized charts"})]}),h.jsxs("div",{className:"flex flex-wrap items-center gap-4 mb-8",children:[h.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-slate-400",children:[h.jsx("div",{className:"w-2 h-2 bg-emerald-500 rounded-full animate-pulse"}),h.jsx("span",{className:"font-medium",children:"Join 10,000+ traders"})]}),h.jsxs("div",{className:"flex items-center gap-2 text-xs sm:text-sm text-emerald-400",children:[h.jsx(o4,{className:"w-4 h-4"}),h.jsx("span",{className:"font-medium",children:"Free  No credit card"})]})]}),h.jsxs("div",{className:"bg-slate-800/50 backdrop-blur-sm border border-slate-700/50 rounded-2xl p-6 sm:p-8 shadow-2xl",children:[f&&h.jsxs("div",{className:"bg-red-500/10 border border-red-500/20 text-red-400 px-4 py-3 rounded-lg text-sm flex items-center gap-2 mb-6",children:[h.jsx(o4,{className:"w-4 h-4 flex-shrink-0"}),h.jsx("span",{children:f})]}),h.jsxs("form",{className:"space-y-4",onSubmit:se,children:[h.jsxs("div",{children:[h.jsx("label",{htmlFor:"fullName",className:"block text-sm font-medium text-slate-300 mb-2",children:"Full Name"}),h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(W$,{className:`h-5 w-5 transition-colors ${g?"text-red-500":t?"text-emerald-500":"text-slate-500 group-focus-within:text-blue-500"}`})}),h.jsx("input",{id:"fullName",type:"text",required:!0,className:`block w-full pl-10 pr-3 py-3 bg-slate-900/50 border rounded-xl text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-2 transition-all ${g?"border-red-500 focus:ring-red-500/50 focus:border-red-500":t&&!g?"border-emerald-500 focus:ring-emerald-500/50 focus:border-emerald-500":"border-slate-700 focus:ring-blue-500/50 focus:border-blue-500"}`,placeholder:"John Smith",value:t,onChange:$})]}),g&&h.jsxs("p",{className:"mt-1.5 text-xs text-red-400 flex items-center gap-1",children:[h.jsx("span",{className:"inline-block w-1 h-1 bg-red-400 rounded-full"}),g]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-slate-300 mb-2",children:"Email Address"}),h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(J0,{className:`h-5 w-5 transition-colors ${w?"text-red-500":r&&!w?"text-emerald-500":"text-slate-500 group-focus-within:text-blue-500"}`})}),h.jsx("input",{id:"email",type:"email",required:!0,className:`block w-full pl-10 pr-3 py-3 bg-slate-900/50 border rounded-xl text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-2 transition-all ${w?"border-red-500 focus:ring-red-500/50 focus:border-red-500":r&&!w?"border-emerald-500 focus:ring-emerald-500/50 focus:border-emerald-500":"border-slate-700 focus:ring-blue-500/50 focus:border-blue-500"}`,placeholder:"you@example.com",value:r,onChange:G})]}),w&&h.jsxs("p",{className:"mt-1.5 text-xs text-red-400 flex items-center gap-1",children:[h.jsx("span",{className:"inline-block w-1 h-1 bg-red-400 rounded-full"}),w]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-slate-300 mb-2",children:"Password"}),h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(T0,{className:`h-5 w-5 transition-colors ${x?"text-red-500":j==="strong"?"text-emerald-500":"text-slate-500 group-focus-within:text-blue-500"}`})}),h.jsx("input",{id:"password",type:"password",required:!0,className:`block w-full pl-10 pr-3 py-3 bg-slate-900/50 border rounded-xl text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-2 transition-all ${x?"border-red-500 focus:ring-red-500/50 focus:border-red-500":j==="strong"?"border-emerald-500 focus:ring-emerald-500/50 focus:border-emerald-500":"border-slate-700 focus:ring-blue-500/50 focus:border-blue-500"}`,placeholder:"Create a strong password",value:i,onChange:ue})]}),i&&h.jsxs("div",{className:"mt-2",children:[h.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[h.jsx("div",{className:"flex-1 h-1.5 bg-slate-700 rounded-full overflow-hidden",children:h.jsx("div",{className:`h-full transition-all duration-300 ${j==="weak"?"w-1/3 bg-red-500":j==="medium"?"w-2/3 bg-yellow-500":j==="strong"?"w-full bg-emerald-500":"w-0"}`})}),h.jsx("span",{className:`text-xs font-medium ${j==="weak"?"text-red-400":j==="medium"?"text-yellow-400":j==="strong"?"text-emerald-400":"text-slate-500"}`,children:j==="weak"?"Weak":j==="medium"?"Medium":j==="strong"?"Strong":""})]}),h.jsx("p",{className:"text-xs text-slate-500",children:"At least 8 characters with one uppercase, one number"})]}),x&&h.jsxs("p",{className:"mt-1.5 text-xs text-red-400 flex items-center gap-1",children:[h.jsx("span",{className:"inline-block w-1 h-1 bg-red-400 rounded-full"}),x]})]}),h.jsxs("div",{children:[h.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-slate-300 mb-2",children:"Confirm Password"}),h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(T0,{className:`h-5 w-5 transition-colors ${I?"text-red-500":s&&!I?"text-emerald-500":"text-slate-500 group-focus-within:text-blue-500"}`})}),h.jsx("input",{id:"confirmPassword",type:"password",required:!0,className:`block w-full pl-10 pr-3 py-3 bg-slate-900/50 border rounded-xl text-slate-200 placeholder-slate-500 focus:outline-none focus:ring-2 transition-all ${I?"border-red-500 focus:ring-red-500/50 focus:border-red-500":s&&!I?"border-emerald-500 focus:ring-emerald-500/50 focus:border-emerald-500":"border-slate-700 focus:ring-blue-500/50 focus:border-blue-500"}`,placeholder:"Re-enter password",value:s,onChange:ce})]}),I&&h.jsxs("p",{className:"mt-1.5 text-xs text-red-400 flex items-center gap-1",children:[h.jsx("span",{className:"inline-block w-1 h-1 bg-red-400 rounded-full"}),I]})]}),h.jsxs("div",{className:"flex items-start gap-3 pt-2",children:[h.jsx("input",{id:"terms",type:"checkbox",checked:c,onChange:X=>d(X.target.checked),className:"mt-1 w-4 h-4 bg-slate-900/50 border-slate-700 rounded text-blue-600 focus:ring-2 focus:ring-blue-500/50"}),h.jsxs("label",{htmlFor:"terms",className:"text-xs sm:text-sm text-slate-400",children:["I agree to the"," ",h.jsx(or,{to:"/terms",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Terms of Service"})," ","and"," ",h.jsx(or,{to:"/privacy",className:"text-blue-400 hover:text-blue-300 transition-colors",children:"Privacy Policy"})]})]}),h.jsx("button",{type:"submit",disabled:V,className:"w-full h-12 sm:h-14 flex items-center justify-center px-6 text-base font-bold rounded-xl text-white bg-gradient-to-r from-blue-600 to-purple-600 hover:from-blue-700 hover:to-purple-700 focus:outline-none focus:ring-4 focus:ring-blue-500/50 transition-all shadow-lg shadow-blue-600/30 disabled:opacity-50 disabled:cursor-not-allowed mt-6",children:V?h.jsx(zI,{className:"w-5 h-5 animate-spin"}):"Get Started"}),h.jsxs("button",{type:"button",onClick:Q,disabled:V,className:"w-full h-11 flex items-center justify-center gap-3 px-6 text-sm font-medium rounded-xl text-slate-200 bg-transparent border-2 border-slate-600 hover:border-slate-500 hover:bg-slate-800/50 focus:outline-none focus:ring-2 focus:ring-slate-500/50 transition-all disabled:opacity-50 disabled:cursor-not-allowed",children:[h.jsxs("svg",{className:"w-5 h-5",viewBox:"0 0 24 24",children:[h.jsx("path",{fill:"#4285F4",d:"M22.56 12.25c0-.78-.07-1.53-.2-2.25H12v4.26h5.92c-.26 1.37-1.04 2.53-2.21 3.31v2.77h3.57c2.08-1.92 3.28-4.74 3.28-8.09z"}),h.jsx("path",{fill:"#34A853",d:"M12 23c2.97 0 5.46-.98 7.28-2.66l-3.57-2.77c-.98.66-2.23 1.06-3.71 1.06-2.86 0-5.29-1.93-6.16-4.53H2.18v2.84C3.99 20.53 7.7 23 12 23z"}),h.jsx("path",{fill:"#FBBC05",d:"M5.84 14.09c-.22-.66-.35-1.36-.35-2.09s.13-1.43.35-2.09V7.07H2.18C1.43 8.55 1 10.22 1 12s.43 3.45 1.18 4.93l2.85-2.22.81-.62z"}),h.jsx("path",{fill:"#EA4335",d:"M12 5.38c1.62 0 3.06.56 4.21 1.64l3.15-3.15C17.45 2.09 14.97 1 12 1 7.7 1 3.99 3.47 2.18 7.07l3.66 2.84c.87-2.6 3.3-4.53 6.16-4.53z"})]}),"Sign up with Google"]})]}),h.jsxs("p",{className:"text-center text-xs sm:text-sm text-slate-400 mt-6",children:["Already have an account?"," ",h.jsx(or,{to:"/login",className:"font-medium text-blue-400 hover:text-blue-300 transition-colors",children:"Sign in here"})]}),h.jsxs("div",{className:"flex items-center justify-center gap-2 text-xs text-slate-500 mt-4 pt-4 border-t border-slate-700/50",children:[h.jsx(T0,{className:"w-3.5 h-3.5"}),h.jsx("span",{children:"Your data is encrypted and secure"})]})]})]})}),h.jsxs("div",{className:"hidden lg:flex lg:w-1/2 bg-gradient-to-br from-blue-900 via-slate-900 to-purple-900 relative overflow-hidden p-12 flex-col justify-between",children:[h.jsxs("div",{className:"absolute inset-0 opacity-20 pointer-events-none",children:[h.jsx("div",{className:"absolute top-10 left-10 w-96 h-96 bg-blue-500 rounded-full blur-[120px]"}),h.jsx("div",{className:"absolute bottom-10 right-10 w-96 h-96 bg-purple-600 rounded-full blur-[120px]"})]}),h.jsxs("div",{className:"relative z-10 mb-10",children:[h.jsx("div",{className:"rounded-2xl overflow-hidden border border-slate-700/50 shadow-2xl shadow-purple-500/20 group",children:h.jsxs("div",{className:"aspect-video bg-gradient-to-br from-slate-900 via-blue-950 to-purple-950 flex items-center justify-center relative overflow-hidden",children:[h.jsxs("div",{className:"absolute inset-0 opacity-20",children:[h.jsx("div",{className:"absolute top-0 left-0 w-40 h-40 bg-blue-500/30 rounded-full blur-3xl animate-pulse"}),h.jsx("div",{className:"absolute bottom-0 right-0 w-40 h-40 bg-purple-500/30 rounded-full blur-3xl animate-pulse delay-75"})]}),h.jsxs("div",{className:"relative z-10 flex gap-4 p-6 w-full",children:[h.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-2",children:[h.jsx("div",{className:"h-12 bg-emerald-500/40 rounded shadow-lg"}),h.jsx("div",{className:"h-12 bg-red-500/40 rounded shadow-lg"}),h.jsx("div",{className:"h-12 bg-emerald-500/50 rounded shadow-lg"}),h.jsx("div",{className:"h-12 bg-red-500/30 rounded shadow-lg"}),h.jsx("div",{className:"h-12 bg-emerald-500/30 rounded shadow-lg"}),h.jsx("div",{className:"h-12 bg-red-500/50 rounded shadow-lg"})]}),h.jsxs("div",{className:"flex-1 grid grid-cols-3 gap-2",children:[h.jsx("div",{className:"h-12 bg-blue-500/40 rounded shadow-lg"}),h.jsx("div",{className:"h-12 bg-purple-500/40 rounded shadow-lg"}),h.jsx("div",{className:"h-12 bg-blue-500/50 rounded shadow-lg"}),h.jsx("div",{className:"h-12 bg-purple-500/30 rounded shadow-lg"}),h.jsx("div",{className:"h-12 bg-blue-500/30 rounded shadow-lg"}),h.jsx("div",{className:"h-12 bg-purple-500/50 rounded shadow-lg"})]})]}),h.jsx("div",{className:"absolute inset-0 flex items-center justify-center bg-black/20 opacity-0 group-hover:opacity-100 transition-opacity",children:h.jsx(ji,{className:"w-12 h-12 text-purple-400"})})]})}),h.jsx("p",{className:"text-center text-sm text-slate-400 mt-4 font-medium",children:"Real-time market heatmaps with synchronized dual views"})]}),h.jsxs("div",{className:"relative z-10 space-y-6 mb-10",children:[h.jsx("h3",{className:"text-2xl font-bold text-white mb-6",children:"Why MarketVue?"}),h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"w-12 h-12 bg-blue-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:h.jsx(dd,{className:"w-6 h-6 text-blue-400"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-white mb-1",children:"Compare Timeframes"}),h.jsx("p",{className:"text-sm text-slate-400",children:"Analyze market performance across multiple timeframes simultaneously"})]})]}),h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"w-12 h-12 bg-purple-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:h.jsx(lr,{className:"w-6 h-6 text-purple-400"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-white mb-1",children:"Track 5,000+ Stocks"}),h.jsx("p",{className:"text-sm text-slate-400",children:"Live sector rotation analysis across all markets"})]})]}),h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:"w-12 h-12 bg-emerald-500/20 rounded-full flex items-center justify-center flex-shrink-0",children:h.jsx(ji,{className:"w-6 h-6 text-emerald-400"})}),h.jsxs("div",{children:[h.jsx("h4",{className:"font-semibold text-white mb-1",children:"Real-Time Updates"}),h.jsx("p",{className:"text-sm text-slate-400",children:"Monitor portfolio performance with live data feeds"})]})]})]}),h.jsxs("div",{className:"relative z-10 space-y-4",children:[h.jsxs("div",{className:"bg-white/5 backdrop-blur-md p-4 rounded-xl border border-white/10",children:[h.jsx("p",{className:"text-sm text-slate-300 italic mb-2",children:'"Best visualization tool for tracking sector rotation. The dual-viewport feature is a game changer."'}),h.jsx("p",{className:"text-xs text-slate-500",children:" Sarah M., Day Trader"})]}),h.jsxs("div",{className:"bg-white/5 backdrop-blur-md p-4 rounded-xl border border-white/10",children:[h.jsx("p",{className:"text-sm text-slate-300 italic mb-2",children:'"Real-time data across all S&P 500 sectors. Finally, a dashboard that keeps up with the market."'}),h.jsx("p",{className:"text-xs text-slate-500",children:" Michael R., Portfolio Manager"})]})]})]})]})}function l5e(){const{currentUser:t,resendVerificationEmail:e,logout:r}=Vi(),[n,i]=E.useState(!1),[a,s]=E.useState(""),[o,c]=E.useState(""),d=pl();E.useEffect(()=>{t?.emailVerified&&d("/dashboard");const g=setInterval(async()=>{t&&(await t.reload(),Hu.currentUser.emailVerified&&d("/dashboard"))},3e3);return()=>clearInterval(g)},[t,d]);async function f(){try{s(""),c(""),i(!0),await e(t),s("Verification email sent! Please check your inbox.")}catch{c("Failed to send verification email. Wait a moment and try again.")}i(!1)}async function p(){try{await r(),d("/login")}catch(g){console.error("Failed to log out",g)}}return h.jsx("div",{className:"min-h-screen flex items-center justify-center bg-background px-4",children:h.jsxs("div",{className:"max-w-md w-full bg-surface border border-border p-8 rounded-2xl shadow-xl text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-blue-500/10 rounded-full flex items-center justify-center mx-auto mb-6",children:h.jsx(J0,{className:"w-8 h-8 text-blue-500"})}),h.jsx("h2",{className:"text-2xl font-bold text-primary mb-2",children:"Verify your email"}),h.jsxs("p",{className:"text-secondary mb-6",children:["We've sent a verification email to ",h.jsx("br",{}),h.jsx("span",{className:"font-medium text-primary",children:t?.email})]}),a&&h.jsxs("div",{className:"mb-4 p-3 bg-emerald-500/10 border border-emerald-500/20 rounded-lg flex items-center justify-center gap-2 text-sm text-emerald-400",children:[h.jsx(F$,{className:"w-4 h-4"})," ",a]}),o&&h.jsxs("div",{className:"mb-4 p-3 bg-red-500/10 border border-red-500/20 rounded-lg flex items-center justify-center gap-2 text-sm text-red-400",children:[h.jsx(Up,{className:"w-4 h-4"})," ",o]}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("button",{onClick:f,disabled:n,className:"w-full py-3 px-4 bg-blue-600 hover:bg-blue-700 text-white rounded-xl font-medium transition-colors flex items-center justify-center gap-2",children:[n?h.jsx(tp,{className:"w-4 h-4 animate-spin"}):h.jsx(J0,{className:"w-4 h-4"}),"Resend Verification Email"]}),h.jsxs("button",{onClick:()=>window.location.reload(),className:"w-full py-3 px-4 bg-surface border border-border hover:bg-slate-800 text-primary rounded-xl font-medium transition-colors flex items-center justify-center gap-2",children:[h.jsx(tp,{className:"w-4 h-4"}),"I've Verified, Reload Page"]}),h.jsxs("button",{onClick:p,className:"w-full py-2 text-sm text-slate-500 hover:text-slate-400 transition-colors flex items-center justify-center gap-2",children:[h.jsx(U$,{className:"w-3 h-3"})," Sign Out"]})]})]})})}const c5e=({notification:t,onClose:e})=>(E.useEffect(()=>{const r=setTimeout(()=>{e(t.id)},5e3);return()=>clearTimeout(r)},[t.id,e]),h.jsxs("div",{className:"bg-dark-surface border border-dark-border rounded-lg shadow-xl p-4 w-80 animate-in slide-in-from-right fade-in duration-300 flex items-start gap-3 relative overflow-hidden group",children:[h.jsx("div",{className:"absolute left-0 top-0 bottom-0 w-1 bg-blue-500"}),h.jsx("div",{className:"mt-1",children:t.type==="alert"?h.jsx(ud,{className:"w-5 h-5 text-blue-500"}):h.jsx(Up,{className:"w-5 h-5 text-amber-500"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("h4",{className:"text-sm font-bold text-slate-200",children:t.title}),h.jsx("p",{className:"text-xs text-slate-400 mt-1",children:t.message}),t.assetId&&h.jsx(or,{to:`/asset/stocks/${t.assetId}`,className:"inline-block mt-2 text-xs text-blue-400 hover:text-blue-300",onClick:()=>e(t.id),children:"View Asset "})]}),h.jsx("button",{onClick:()=>e(t.id),className:"text-slate-500 hover:text-slate-300 transition-colors",children:h.jsx(WI,{className:"w-4 h-4"})})]})),u5e=t=>{try{const e=window.AudioContext||window.webkitAudioContext;if(!e)return;const r=new e,n=r.createOscillator(),i=r.createGain();n.connect(i),i.connect(r.destination),t==="subtle"?(n.type="sine",n.frequency.setValueAtTime(800,r.currentTime),n.frequency.exponentialRampToValueAtTime(400,r.currentTime+.5),i.gain.setValueAtTime(.1,r.currentTime),i.gain.exponentialRampToValueAtTime(.01,r.currentTime+.5)):(n.type="square",n.frequency.setValueAtTime(440,r.currentTime),n.frequency.exponentialRampToValueAtTime(880,r.currentTime+.1),i.gain.setValueAtTime(.05,r.currentTime),i.gain.exponentialRampToValueAtTime(.01,r.currentTime+.1)),n.start(),n.stop(r.currentTime+.5)}catch(e){console.error("Audio playback failed",e)}};function d5e(){const t=si(i=>i.notifications),e=si(i=>i.removeNotification),r=zc(i=>i.settings.alertSound),n=ai.useRef(t.length);return E.useEffect(()=>{t.length>n.current&&r!=="none"&&u5e(r),n.current=t.length},[t,r]),t.length===0?null:h.jsx("div",{className:"fixed bottom-6 right-6 z-50 flex flex-col gap-2 pointer-events-none",children:h.jsx("div",{className:"pointer-events-auto flex flex-col gap-2",children:t.slice(0,3).map(i=>h.jsx(c5e,{notification:i,onClose:e},i.id))})})}const f5e="ws://localhost:8080",h5e=3e3,p5e=3e4,m5e=()=>{const t=E.useRef(null),e=E.useRef(null),r=E.useRef(0),n=si(c=>c.setConnectionStatus),i=si(c=>c.updateMarketData),a=si(c=>c.addNotification),s=E.useRef([]);E.useEffect(()=>{s.current=Jx()},[]);const o=E.useCallback(()=>{try{if(t.current&&(t.current.readyState===WebSocket.OPEN||t.current.readyState===WebSocket.CONNECTING))return;t.current=new WebSocket(f5e),t.current.onopen=()=>{n(!0),r.current=0,e.current&&(clearTimeout(e.current),e.current=null)},t.current.onmessage=c=>{try{const d=JSON.parse(c.data);if(d.type==="initial"||d.type==="update"){i(d.data);const{notifications:f,updatedAlerts:p}=B4e(d.data,s.current),{notifications:g}=zc.getState().settings;if(f.forEach(b=>{b.type==="alert"&&!g.priceAlerts||a(b)}),p){s.current=p;const w=Wd().currentUser?.uid;K4e(p,w)}}}catch(d){console.warn("Error parsing WebSocket message:",d)}},t.current.onclose=()=>{n(!1);const c=Math.min(h5e*Math.pow(1.5,r.current),p5e);r.current+=1,e.current&&clearTimeout(e.current),e.current=setTimeout(()=>{o()},c)},t.current.onerror=c=>{t.current&&t.current.readyState===WebSocket.OPEN&&t.current.close()}}catch(c){console.error("Connection failed:",c)}},[n,i,a]);return E.useEffect(()=>(o(),()=>{t.current&&t.current.close(),e.current&&clearTimeout(e.current)}),[o]),t.current};class g5e extends ai.Component{constructor(e){super(e),this.state={hasError:!1,error:null,errorInfo:null}}static getDerivedStateFromError(e){return{hasError:!0,error:e}}componentDidCatch(e,r){console.error("Uncaught error:",e,r),this.setState({error:e,errorInfo:r})}handleReset=()=>{this.setState({hasError:!1,error:null,errorInfo:null}),window.location.href="/dashboard"};render(){return this.state.hasError?h.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center p-4",children:h.jsx("div",{className:"bg-slate-800 border border-slate-700 rounded-xl p-8 max-w-lg w-full shadow-2xl",children:h.jsxs("div",{className:"flex flex-col items-center text-center",children:[h.jsx("div",{className:"w-16 h-16 bg-red-500/10 rounded-full flex items-center justify-center mb-6",children:h.jsx(ml,{className:"w-8 h-8 text-red-500"})}),h.jsx("h1",{className:"text-2xl font-bold text-slate-100 mb-2",children:"Something went wrong"}),h.jsx("p",{className:"text-slate-400 mb-6",children:"The application encountered an unexpected error."}),h.jsxs("div",{className:"bg-slate-950 rounded-lg p-4 w-full text-left mb-6 overflow-auto max-h-48 border border-slate-700",children:[h.jsx("p",{className:"text-red-400 font-mono text-sm break-all",children:this.state.error&&this.state.error.toString()}),this.state.errorInfo&&h.jsx("pre",{className:"text-slate-500 text-xs mt-2 overflow-auto",children:this.state.errorInfo.componentStack})]}),h.jsxs("div",{className:"flex gap-4 w-full",children:[h.jsxs("button",{onClick:()=>window.location.reload(),className:"flex-1 px-4 py-2 bg-slate-700 hover:bg-slate-600 text-slate-200 rounded-lg flex items-center justify-center gap-2 transition-colors",children:[h.jsx(tp,{className:"w-4 h-4"}),"Reload Page"]}),h.jsxs("button",{onClick:this.handleReset,className:"flex-1 px-4 py-2 bg-blue-600 hover:bg-blue-500 text-white rounded-lg flex items-center justify-center gap-2 transition-colors",children:[h.jsx(See,{className:"w-4 h-4"}),"Go to Dashboard"]})]})]})})}):this.props.children}}const y5e=()=>{const{currentUser:t,loading:e}=Vi();return e?h.jsx("div",{className:"min-h-screen bg-slate-900 flex items-center justify-center",children:h.jsx(zI,{className:"w-10 h-10 text-blue-500 animate-spin"})}):t?t.emailVerified?h.jsx(k$,{}):h.jsx(MA,{to:"/verify-email"}):h.jsx(MA,{to:"/login"})},v5e=()=>h.jsxs("div",{className:"min-h-screen bg-background text-primary flex transition-colors duration-300",children:[h.jsx(mte,{}),h.jsxs("div",{className:"flex-1 flex flex-col min-h-screen overflow-hidden",children:[h.jsx(jhe,{}),h.jsx("main",{className:"flex-1 overflow-y-auto",children:h.jsx(k$,{})}),h.jsx(d5e,{})]})]});function b5e(){const t=hp(e=>e.initTheme);return m5e(),ai.useEffect(()=>{t()},[t]),h.jsx(g5e,{children:h.jsx(Ohe,{children:h.jsx(jZ,{children:h.jsxs(uZ,{children:[h.jsx(Cr,{path:"/login",element:h.jsx(s5e,{})}),h.jsx(Cr,{path:"/signup",element:h.jsx(o5e,{})}),h.jsx(Cr,{path:"/verify-email",element:h.jsx(l5e,{})}),h.jsx(Cr,{element:h.jsx(y5e,{}),children:h.jsxs(Cr,{element:h.jsx(v5e,{}),children:[h.jsx(Cr,{path:"/",element:h.jsx(MA,{to:"/dashboard",replace:!0})}),h.jsx(Cr,{path:"/dashboard",element:h.jsx($he,{})}),h.jsx(Cr,{path:"/heatmap",element:h.jsx(i_e,{})}),h.jsx(Cr,{path:"/volatility",element:h.jsx(z4e,{})}),h.jsx(Cr,{path:"/compare",element:h.jsx(_4e,{})}),h.jsx(Cr,{path:"/historical",element:h.jsx(V4e,{})}),h.jsx(Cr,{path:"/watchlist",element:h.jsx(E4e,{})}),h.jsx(Cr,{path:"/portfolio",element:h.jsx(D4e,{})}),h.jsx(Cr,{path:"/asset/:market/:symbol",element:h.jsx(M4e,{})}),h.jsx(Cr,{path:"/alerts",element:h.jsx(X4e,{})}),h.jsx(Cr,{path:"/analytics",element:h.jsx(a5e,{})}),h.jsx(Cr,{path:"/settings",element:h.jsx(L4e,{})})]})})]})})})})}uJ.createRoot(document.getElementById("root")).render(h.jsx(ai.StrictMode,{children:h.jsx(b5e,{})}));
